!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=27)}([function(e,t,n){"use strict";var r=n(17),o=n(66),i=Object.prototype.toString;function a(e){return"[object Array]"===i.call(e)}function u(e){return null!==e&&"object"==typeof e}function s(e){return"[object Function]"===i.call(e)}function c(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),a(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}e.exports={isArray:a,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:o,isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:u,isUndefined:function(e){return void 0===e},isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:s,isStream:function(e){return u(e)&&s(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:c,merge:function e(){var t={};function n(n,r){"object"==typeof t[r]&&"object"==typeof n?t[r]=e(t[r],n):t[r]=n}for(var r=0,o=arguments.length;r<o;r++)c(arguments[r],n);return t},deepMerge:function e(){var t={};function n(n,r){"object"==typeof t[r]&&"object"==typeof n?t[r]=e(t[r],n):t[r]="object"==typeof n?e({},n):n}for(var r=0,o=arguments.length;r<o;r++)c(arguments[r],n);return t},extend:function(e,t,n){return c(t,(function(t,o){e[o]=n&&"function"==typeof t?r(t,n):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){o(e,t,n[t])}))}return e}function u(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function s(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n.r(t),n.d(t,"MultiDrag",(function(){return yt})),n.d(t,"Sortable",(function(){return He})),n.d(t,"Swap",(function(){return st}));function c(e){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(e)}var l=c(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),f=c(/Edge/i),d=c(/firefox/i),p=c(/safari/i)&&!c(/chrome/i)&&!c(/android/i),m=c(/iP(ad|od|hone)/i),h=c(/chrome/i)&&c(/android/i),g={capture:!1,passive:!1};function v(e,t,n){e.addEventListener(t,n,!l&&g)}function b(e,t,n){e.removeEventListener(t,n,!l&&g)}function y(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(e){return!1}return!1}}function w(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function x(e,t,n,r){if(e){n=n||document;do{if(null!=t&&(">"===t[0]?e.parentNode===n&&y(e,t):y(e,t))||r&&e===n)return e;if(e===n)break}while(e=w(e))}return null}var C,k=/\s+/g;function S(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var r=(" "+e.className+" ").replace(k," ").replace(" "+t+" "," ");e.className=(r+(n?" "+t:"")).replace(k," ")}}function T(e,t,n){var r=e&&e.style;if(r){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];t in r||-1!==t.indexOf("webkit")||(t="-webkit-"+t),r[t]=n+("string"==typeof n?"":"px")}}function E(e,t){var n="";if("string"==typeof e)n=e;else do{var r=T(e,"transform");r&&"none"!==r&&(n=r+" "+n)}while(!t&&(e=e.parentNode));var o=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return o&&new o(n)}function O(e,t,n){if(e){var r=e.getElementsByTagName(t),o=0,i=r.length;if(n)for(;o<i;o++)n(r[o],o);return r}return[]}function _(){var e=document.scrollingElement;return e||document.documentElement}function A(e,t,n,r,o){if(e.getBoundingClientRect||e===window){var i,a,u,s,c,f,d;if(e!==window&&e!==_()?(a=(i=e.getBoundingClientRect()).top,u=i.left,s=i.bottom,c=i.right,f=i.height,d=i.width):(a=0,u=0,s=window.innerHeight,c=window.innerWidth,f=window.innerHeight,d=window.innerWidth),(t||n)&&e!==window&&(o=o||e.parentNode,!l))do{if(o&&o.getBoundingClientRect&&("none"!==T(o,"transform")||n&&"static"!==T(o,"position"))){var p=o.getBoundingClientRect();a-=p.top+parseInt(T(o,"border-top-width")),u-=p.left+parseInt(T(o,"border-left-width")),s=a+i.height,c=u+i.width;break}}while(o=o.parentNode);if(r&&e!==window){var m=E(o||e),h=m&&m.a,g=m&&m.d;m&&(s=(a/=g)+(f/=g),c=(u/=h)+(d/=h))}return{top:a,left:u,bottom:s,right:c,width:d,height:f}}}function D(e,t,n){for(var r=I(e,!0),o=A(e)[t];r;){var i=A(r)[n];if(!("top"===n||"left"===n?o>=i:o<=i))return r;if(r===_())break;r=I(r,!1)}return!1}function N(e,t,n){for(var r=0,o=0,i=e.children;o<i.length;){if("none"!==i[o].style.display&&i[o]!==He.ghost&&i[o]!==He.dragged&&x(i[o],n.draggable,e,!1)){if(r===t)return i[o];r++}o++}return null}function M(e,t){for(var n=e.lastElementChild;n&&(n===He.ghost||"none"===T(n,"display")||t&&!y(n,t));)n=n.previousElementSibling;return n||null}function R(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)"TEMPLATE"===e.nodeName.toUpperCase()||e===He.clone||t&&!y(e,t)||n++;return n}function z(e){var t=0,n=0,r=_();if(e)do{var o=E(e),i=o.a,a=o.d;t+=e.scrollLeft*i,n+=e.scrollTop*a}while(e!==r&&(e=e.parentNode));return[t,n]}function I(e,t){if(!e||!e.getBoundingClientRect)return _();var n=e,r=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var o=T(n);if(n.clientWidth<n.scrollWidth&&("auto"==o.overflowX||"scroll"==o.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==o.overflowY||"scroll"==o.overflowY)){if(!n.getBoundingClientRect||n===document.body)return _();if(r||t)return n;r=!0}}}while(n=n.parentNode);return _()}function B(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function P(e,t){return function(){if(!C){var n=arguments,r=this;1===n.length?e.call(r,n[0]):e.apply(r,n),C=setTimeout((function(){C=void 0}),t)}}}function L(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function F(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}function H(e,t){T(e,"position","absolute"),T(e,"top",t.top),T(e,"left",t.left),T(e,"width",t.width),T(e,"height",t.height)}function j(e){T(e,"position",""),T(e,"top",""),T(e,"left",""),T(e,"width",""),T(e,"height","")}var V="Sortable"+(new Date).getTime();function U(){var e,t=[];return{captureAnimationState:function(){(t=[],this.options.animation)&&[].slice.call(this.el.children).forEach((function(e){if("none"!==T(e,"display")&&e!==He.ghost){t.push({target:e,rect:A(e)});var n=a({},t[t.length-1].rect);if(e.thisAnimationDuration){var r=E(e,!0);r&&(n.top-=r.f,n.left-=r.e)}e.fromRect=n}}))},addAnimationState:function(e){t.push(e)},removeAnimationState:function(e){t.splice(function(e,t){for(var n in e)if(e.hasOwnProperty(n))for(var r in t)if(t.hasOwnProperty(r)&&t[r]===e[n][r])return Number(n);return-1}(t,{target:e}),1)},animateAll:function(n){var r=this;if(!this.options.animation)return clearTimeout(e),void("function"==typeof n&&n());var o=!1,i=0;t.forEach((function(e){var t=0,n=e.target,a=n.fromRect,u=A(n),s=n.prevFromRect,c=n.prevToRect,l=e.rect,f=E(n,!0);f&&(u.top-=f.f,u.left-=f.e),n.toRect=u,n.thisAnimationDuration&&B(s,u)&&!B(a,u)&&(l.top-u.top)/(l.left-u.left)==(a.top-u.top)/(a.left-u.left)&&(t=function(e,t,n,r){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*r.animation}(l,s,c,r.options)),B(u,a)||(n.prevFromRect=a,n.prevToRect=u,t||(t=r.options.animation),r.animate(n,l,u,t)),t&&(o=!0,i=Math.max(i,t),clearTimeout(n.animationResetTimer),n.animationResetTimer=setTimeout((function(){n.animationTime=0,n.prevFromRect=null,n.fromRect=null,n.prevToRect=null,n.thisAnimationDuration=null}),t),n.thisAnimationDuration=t)})),clearTimeout(e),o?e=setTimeout((function(){"function"==typeof n&&n()}),i):"function"==typeof n&&n(),t=[]},animate:function(e,t,n,r){if(r){T(e,"transition",""),T(e,"transform","");var o=E(this.el),i=o&&o.a,a=o&&o.d,u=(t.left-n.left)/(i||1),s=(t.top-n.top)/(a||1);e.animatingX=!!u,e.animatingY=!!s,T(e,"transform","translate3d("+u+"px,"+s+"px,0)"),function(e){e.offsetWidth}(e),T(e,"transition","transform "+r+"ms"+(this.options.easing?" "+this.options.easing:"")),T(e,"transform","translate3d(0,0,0)"),"number"==typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout((function(){T(e,"transition",""),T(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1}),r)}}}}var $=[],q={initializeByDefault:!0},W={mount:function(e){for(var t in q)!q.hasOwnProperty(t)||t in e||(e[t]=q[t]);$.push(e)},pluginEvent:function(e,t,n){var r=this;this.eventCanceled=!1,n.cancel=function(){r.eventCanceled=!0};var o=e+"Global";$.forEach((function(r){t[r.pluginName]&&(t[r.pluginName][o]&&t[r.pluginName][o](a({sortable:t},n)),t.options[r.pluginName]&&t[r.pluginName][e]&&t[r.pluginName][e](a({sortable:t},n)))}))},initializePlugins:function(e,t,n,r){for(var o in $.forEach((function(r){var o=r.pluginName;if(e.options[o]||r.initializeByDefault){var a=new r(e,t,e.options);a.sortable=e,a.options=e.options,e[o]=a,i(n,a.defaults)}})),e.options)if(e.options.hasOwnProperty(o)){var a=this.modifyOption(e,o,e.options[o]);void 0!==a&&(e.options[o]=a)}},getEventProperties:function(e,t){var n={};return $.forEach((function(r){"function"==typeof r.eventProperties&&i(n,r.eventProperties.call(t[r.pluginName],e))})),n},modifyOption:function(e,t,n){var r;return $.forEach((function(o){e[o.pluginName]&&o.optionListeners&&"function"==typeof o.optionListeners[t]&&(r=o.optionListeners[t].call(e[o.pluginName],n))})),r}};function Y(e){var t=e.sortable,n=e.rootEl,r=e.name,o=e.targetEl,i=e.cloneEl,u=e.toEl,s=e.fromEl,c=e.oldIndex,d=e.newIndex,p=e.oldDraggableIndex,m=e.newDraggableIndex,h=e.originalEvent,g=e.putSortable,v=e.extraEventProperties;if(t=t||n&&n[V]){var b,y=t.options,w="on"+r.charAt(0).toUpperCase()+r.substr(1);!window.CustomEvent||l||f?(b=document.createEvent("Event")).initEvent(r,!0,!0):b=new CustomEvent(r,{bubbles:!0,cancelable:!0}),b.to=u||n,b.from=s||n,b.item=o||n,b.clone=i,b.oldIndex=c,b.newIndex=d,b.oldDraggableIndex=p,b.newDraggableIndex=m,b.originalEvent=h,b.pullMode=g?g.lastPutMode:void 0;var x=a({},v,W.getEventProperties(r,t));for(var C in x)b[C]=x[C];n&&n.dispatchEvent(b),y[w]&&y[w].call(t,b)}}var X=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.evt,o=u(n,["evt"]);W.pluginEvent.bind(He)(e,t,a({dragEl:K,parentEl:J,ghostEl:Q,rootEl:Z,nextEl:ee,lastDownEl:te,cloneEl:ne,cloneHidden:re,dragStarted:ge,putSortable:ce,activeSortable:He.active,originalEvent:r,oldIndex:oe,oldDraggableIndex:ae,newIndex:ie,newDraggableIndex:ue,hideGhostForTarget:Be,unhideGhostForTarget:Pe,cloneNowHidden:function(){re=!0},cloneNowShown:function(){re=!1},dispatchSortableEvent:function(e){G({sortable:t,name:e,originalEvent:r})}},o))};function G(e){Y(a({putSortable:ce,cloneEl:ne,targetEl:K,rootEl:Z,oldIndex:oe,oldDraggableIndex:ae,newIndex:ie,newDraggableIndex:ue},e))}var K,J,Q,Z,ee,te,ne,re,oe,ie,ae,ue,se,ce,le,fe,de,pe,me,he,ge,ve,be,ye,we,xe=!1,Ce=!1,ke=[],Se=!1,Te=!1,Ee=[],Oe=!1,_e=[],Ae="undefined"!=typeof document,De=m,Ne=f||l?"cssFloat":"float",Me=Ae&&!h&&!m&&"draggable"in document.createElement("div"),Re=function(){if(Ae){if(l)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}(),ze=function(e,t){var n=T(e),r=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),o=N(e,0,t),i=N(e,1,t),a=o&&T(o),u=i&&T(i),s=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+A(o).width,c=u&&parseInt(u.marginLeft)+parseInt(u.marginRight)+A(i).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(o&&a.float&&"none"!==a.float){var l="left"===a.float?"left":"right";return!i||"both"!==u.clear&&u.clear!==l?"horizontal":"vertical"}return o&&("block"===a.display||"flex"===a.display||"table"===a.display||"grid"===a.display||s>=r&&"none"===n[Ne]||i&&"none"===n[Ne]&&s+c>r)?"vertical":"horizontal"},Ie=function(e){function t(e,n){return function(r,o,i,a){var u=r.options.group.name&&o.options.group.name&&r.options.group.name===o.options.group.name;if(null==e&&(n||u))return!0;if(null==e||!1===e)return!1;if(n&&"clone"===e)return e;if("function"==typeof e)return t(e(r,o,i,a),n)(r,o,i,a);var s=(n?r:o).options.group.name;return!0===e||"string"==typeof e&&e===s||e.join&&e.indexOf(s)>-1}}var n={},o=e.group;o&&"object"==r(o)||(o={name:o}),n.name=o.name,n.checkPull=t(o.pull,!0),n.checkPut=t(o.put),n.revertClone=o.revertClone,e.group=n},Be=function(){!Re&&Q&&T(Q,"display","none")},Pe=function(){!Re&&Q&&T(Q,"display","")};Ae&&document.addEventListener("click",(function(e){if(Ce)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),Ce=!1,!1}),!0);var Le=function(e){if(K){e=e.touches?e.touches[0]:e;var t=(o=e.clientX,i=e.clientY,ke.some((function(e){if(!M(e)){var t=A(e),n=e[V].options.emptyInsertThreshold,r=o>=t.left-n&&o<=t.right+n,u=i>=t.top-n&&i<=t.bottom+n;return n&&r&&u?a=e:void 0}})),a);if(t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[V]._onDragOver(n)}}var o,i,a},Fe=function(e){K&&K.parentNode[V]._isOutsideThisEl(e.target)};function He(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=i({},t),e[V]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return ze(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==He.supportPointer&&"PointerEvent"in window,emptyInsertThreshold:5};for(var r in W.initializePlugins(this,e,n),n)!(r in t)&&(t[r]=n[r]);for(var o in Ie(t),this)"_"===o.charAt(0)&&"function"==typeof this[o]&&(this[o]=this[o].bind(this));this.nativeDraggable=!t.forceFallback&&Me,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?v(e,"pointerdown",this._onTapStart):(v(e,"mousedown",this._onTapStart),v(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(v(e,"dragover",this),v(e,"dragenter",this)),ke.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),i(this,U())}function je(e,t,n,r,o,i,a,u){var s,c,d=e[V],p=d.options.onMove;return!window.CustomEvent||l||f?(s=document.createEvent("Event")).initEvent("move",!0,!0):s=new CustomEvent("move",{bubbles:!0,cancelable:!0}),s.to=t,s.from=e,s.dragged=n,s.draggedRect=r,s.related=o||t,s.relatedRect=i||A(t),s.willInsertAfter=u,s.originalEvent=a,e.dispatchEvent(s),p&&(c=p.call(d,s,a)),c}function Ve(e){e.draggable=!1}function Ue(){Oe=!1}function $e(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,r=0;n--;)r+=t.charCodeAt(n);return r.toString(36)}function qe(e){return setTimeout(e,0)}function We(e){return clearTimeout(e)}He.prototype={constructor:He,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(ve=null)},_getDirection:function(e,t){return"function"==typeof this.options.direction?this.options.direction.call(this,e,t,K):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,r=this.options,o=r.preventOnFilter,i=e.type,a=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,u=(a||e).target,s=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||u,c=r.filter;if(function(e){_e.length=0;var t=e.getElementsByTagName("input"),n=t.length;for(;n--;){var r=t[n];r.checked&&_e.push(r)}}(n),!K&&!(/mousedown|pointerdown/.test(i)&&0!==e.button||r.disabled||s.isContentEditable||(u=x(u,r.draggable,n,!1))&&u.animated||te===u)){if(oe=R(u),ae=R(u,r.draggable),"function"==typeof c){if(c.call(this,e,u,this))return G({sortable:t,rootEl:s,name:"filter",targetEl:u,toEl:n,fromEl:n}),X("filter",t,{evt:e}),void(o&&e.cancelable&&e.preventDefault())}else if(c&&(c=c.split(",").some((function(r){if(r=x(s,r.trim(),n,!1))return G({sortable:t,rootEl:r,name:"filter",targetEl:u,fromEl:n,toEl:n}),X("filter",t,{evt:e}),!0}))))return void(o&&e.cancelable&&e.preventDefault());r.handle&&!x(s,r.handle,n,!1)||this._prepareDragStart(e,a,u)}}},_prepareDragStart:function(e,t,n){var r,o=this,i=o.el,a=o.options,u=i.ownerDocument;if(n&&!K&&n.parentNode===i){var s=A(n);if(Z=i,J=(K=n).parentNode,ee=K.nextSibling,te=n,se=a.group,He.dragged=K,le={target:K,clientX:(t||e).clientX,clientY:(t||e).clientY},me=le.clientX-s.left,he=le.clientY-s.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,K.style["will-change"]="all",r=function(){X("delayEnded",o,{evt:e}),He.eventCanceled?o._onDrop():(o._disableDelayedDragEvents(),!d&&o.nativeDraggable&&(K.draggable=!0),o._triggerDragStart(e,t),G({sortable:o,name:"choose",originalEvent:e}),S(K,a.chosenClass,!0))},a.ignore.split(",").forEach((function(e){O(K,e.trim(),Ve)})),v(u,"dragover",Le),v(u,"mousemove",Le),v(u,"touchmove",Le),v(u,"mouseup",o._onDrop),v(u,"touchend",o._onDrop),v(u,"touchcancel",o._onDrop),d&&this.nativeDraggable&&(this.options.touchStartThreshold=4,K.draggable=!0),X("delayStart",this,{evt:e}),!a.delay||a.delayOnTouchOnly&&!t||this.nativeDraggable&&(f||l))r();else{if(He.eventCanceled)return void this._onDrop();v(u,"mouseup",o._disableDelayedDrag),v(u,"touchend",o._disableDelayedDrag),v(u,"touchcancel",o._disableDelayedDrag),v(u,"mousemove",o._delayedDragTouchMoveHandler),v(u,"touchmove",o._delayedDragTouchMoveHandler),a.supportPointer&&v(u,"pointermove",o._delayedDragTouchMoveHandler),o._dragStartTimer=setTimeout(r,a.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){K&&Ve(K),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;b(e,"mouseup",this._disableDelayedDrag),b(e,"touchend",this._disableDelayedDrag),b(e,"touchcancel",this._disableDelayedDrag),b(e,"mousemove",this._delayedDragTouchMoveHandler),b(e,"touchmove",this._delayedDragTouchMoveHandler),b(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?v(document,"pointermove",this._onTouchMove):v(document,t?"touchmove":"mousemove",this._onTouchMove):(v(K,"dragend",this),v(Z,"dragstart",this._onDragStart));try{document.selection?qe((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(e,t){if(xe=!1,Z&&K){X("dragStarted",this,{evt:t}),this.nativeDraggable&&v(document,"dragover",Fe);var n=this.options;!e&&S(K,n.dragClass,!1),S(K,n.ghostClass,!0),He.active=this,e&&this._appendGhost(),G({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(fe){this._lastX=fe.clientX,this._lastY=fe.clientY,Be();for(var e=document.elementFromPoint(fe.clientX,fe.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(fe.clientX,fe.clientY))!==t;)t=e;if(K.parentNode[V]._isOutsideThisEl(e),t)do{if(t[V]){if(t[V]._onDragOver({clientX:fe.clientX,clientY:fe.clientY,target:e,rootEl:t})&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);Pe()}},_onTouchMove:function(e){if(le){var t=this.options,n=t.fallbackTolerance,r=t.fallbackOffset,o=e.touches?e.touches[0]:e,i=Q&&E(Q,!0),a=Q&&i&&i.a,u=Q&&i&&i.d,s=De&&we&&z(we),c=(o.clientX-le.clientX+r.x)/(a||1)+(s?s[0]-Ee[0]:0)/(a||1),l=(o.clientY-le.clientY+r.y)/(u||1)+(s?s[1]-Ee[1]:0)/(u||1);if(!He.active&&!xe){if(n&&Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(Q){i?(i.e+=c-(de||0),i.f+=l-(pe||0)):i={a:1,b:0,c:0,d:1,e:c,f:l};var f="matrix(".concat(i.a,",").concat(i.b,",").concat(i.c,",").concat(i.d,",").concat(i.e,",").concat(i.f,")");T(Q,"webkitTransform",f),T(Q,"mozTransform",f),T(Q,"msTransform",f),T(Q,"transform",f),de=c,pe=l,fe=o}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!Q){var e=this.options.fallbackOnBody?document.body:Z,t=A(K,!0,De,!0,e),n=this.options;if(De){for(we=e;"static"===T(we,"position")&&"none"===T(we,"transform")&&we!==document;)we=we.parentNode;we!==document.body&&we!==document.documentElement?(we===document&&(we=_()),t.top+=we.scrollTop,t.left+=we.scrollLeft):we=_(),Ee=z(we)}S(Q=K.cloneNode(!0),n.ghostClass,!1),S(Q,n.fallbackClass,!0),S(Q,n.dragClass,!0),T(Q,"transition",""),T(Q,"transform",""),T(Q,"box-sizing","border-box"),T(Q,"margin",0),T(Q,"top",t.top),T(Q,"left",t.left),T(Q,"width",t.width),T(Q,"height",t.height),T(Q,"opacity","0.8"),T(Q,"position",De?"absolute":"fixed"),T(Q,"zIndex","100000"),T(Q,"pointerEvents","none"),He.ghost=Q,e.appendChild(Q),T(Q,"transform-origin",me/parseInt(Q.style.width)*100+"% "+he/parseInt(Q.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,r=e.dataTransfer,o=n.options;X("dragStart",this,{evt:e}),He.eventCanceled?this._onDrop():(X("setupClone",this),He.eventCanceled||((ne=F(K)).draggable=!1,ne.style["will-change"]="",this._hideClone(),S(ne,this.options.chosenClass,!1),He.clone=ne),n.cloneId=qe((function(){X("clone",n),He.eventCanceled||(n.options.removeCloneOnHide||Z.insertBefore(ne,K),n._hideClone(),G({sortable:n,name:"clone"}))})),!t&&S(K,o.dragClass,!0),t?(Ce=!0,n._loopId=setInterval(n._emulateDragOver,50)):(b(document,"mouseup",n._onDrop),b(document,"touchend",n._onDrop),b(document,"touchcancel",n._onDrop),r&&(r.effectAllowed="move",o.setData&&o.setData.call(n,r,K)),v(document,"drop",n),T(K,"transform","translateZ(0)")),xe=!0,n._dragStartId=qe(n._dragStarted.bind(n,t,e)),v(document,"selectstart",n),ge=!0,p&&T(document.body,"user-select","none"))},_onDragOver:function(e){var t,n,r,o,i=this.el,u=e.target,s=this.options,c=s.group,l=He.active,f=se===c,d=s.sort,p=ce||l,m=this,h=!1;if(!Oe){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),u=x(u,s.draggable,i,!0),B("dragOver"),He.eventCanceled)return h;if(K.contains(e.target)||u.animated&&u.animatingX&&u.animatingY||m._ignoreWhileAnimating===u)return F(!1);if(Ce=!1,l&&!s.disabled&&(f?d||(r=!Z.contains(K)):ce===this||(this.lastPutMode=se.checkPull(this,l,K,e))&&c.checkPut(this,l,K,e))){if(o="vertical"===this._getDirection(e,u),t=A(K),B("dragOverValid"),He.eventCanceled)return h;if(r)return J=Z,P(),this._hideClone(),B("revert"),He.eventCanceled||(ee?Z.insertBefore(K,ee):Z.appendChild(K)),F(!0);var g=M(i,s.draggable);if(!g||function(e,t,n){var r=A(M(n.el,n.options.draggable));return t?e.clientX>r.right+10||e.clientX<=r.right&&e.clientY>r.bottom&&e.clientX>=r.left:e.clientX>r.right&&e.clientY>r.top||e.clientX<=r.right&&e.clientY>r.bottom+10}(e,o,this)&&!g.animated){if(g===K)return F(!1);if(g&&i===e.target&&(u=g),u&&(n=A(u)),!1!==je(Z,i,K,t,u,n,e,!!u))return P(),i.appendChild(K),J=i,H(),F(!0)}else if(u.parentNode===i){n=A(u);var v,b,y,w=K.parentNode!==i,C=!function(e,t,n){var r=n?e.left:e.top,o=n?e.right:e.bottom,i=n?e.width:e.height,a=n?t.left:t.top,u=n?t.right:t.bottom,s=n?t.width:t.height;return r===a||o===u||r+i/2===a+s/2}(K.animated&&K.toRect||t,u.animated&&u.toRect||n,o),k=o?"top":"left",E=D(u,"top","top")||D(K,"top","top"),O=E?E.scrollTop:void 0;if(ve!==u&&(b=n[k],Se=!1,Te=!C&&s.invertSwap||w),0!==(v=function(e,t,n,r,o,i,a,u){var s=r?e.clientY:e.clientX,c=r?n.height:n.width,l=r?n.top:n.left,f=r?n.bottom:n.right,d=!1;if(!a)if(u&&ye<c*o){if(!Se&&(1===be?s>l+c*i/2:s<f-c*i/2)&&(Se=!0),Se)d=!0;else if(1===be?s<l+ye:s>f-ye)return-be}else if(s>l+c*(1-o)/2&&s<f-c*(1-o)/2)return function(e){return R(K)<R(e)?1:-1}(t);if((d=d||a)&&(s<l+c*i/2||s>f-c*i/2))return s>l+c/2?1:-1;return 0}(e,u,n,o,C?1:s.swapThreshold,null==s.invertedSwapThreshold?s.swapThreshold:s.invertedSwapThreshold,Te,ve===u))){var _=R(K);do{_-=v,y=J.children[_]}while(y&&("none"===T(y,"display")||y===Q))}if(0===v||y===u)return F(!1);ve=u,be=v;var N=u.nextElementSibling,z=!1,I=je(Z,i,K,t,u,n,e,z=1===v);if(!1!==I)return 1!==I&&-1!==I||(z=1===I),Oe=!0,setTimeout(Ue,30),P(),z&&!N?i.appendChild(K):u.parentNode.insertBefore(K,z?N:u),E&&L(E,0,O-E.scrollTop),J=K.parentNode,void 0===b||Te||(ye=Math.abs(b-A(u)[k])),H(),F(!0)}if(i.contains(K))return F(!1)}return!1}function B(s,c){X(s,m,a({evt:e,isOwner:f,axis:o?"vertical":"horizontal",revert:r,dragRect:t,targetRect:n,canSort:d,fromSortable:p,target:u,completed:F,onMove:function(n,r){return je(Z,i,K,t,n,A(n),e,r)},changed:H},c))}function P(){B("dragOverAnimationCapture"),m.captureAnimationState(),m!==p&&p.captureAnimationState()}function F(t){return B("dragOverCompleted",{insertion:t}),t&&(f?l._hideClone():l._showClone(m),m!==p&&(S(K,ce?ce.options.ghostClass:l.options.ghostClass,!1),S(K,s.ghostClass,!0)),ce!==m&&m!==He.active?ce=m:m===He.active&&ce&&(ce=null),p===m&&(m._ignoreWhileAnimating=u),m.animateAll((function(){B("dragOverAnimationComplete"),m._ignoreWhileAnimating=null})),m!==p&&(p.animateAll(),p._ignoreWhileAnimating=null)),(u===K&&!K.animated||u===i&&!u.animated)&&(ve=null),s.dragoverBubble||e.rootEl||u===document||(K.parentNode[V]._isOutsideThisEl(e.target),!t&&Le(e)),!s.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),h=!0}function H(){ie=R(K),ue=R(K,s.draggable),G({sortable:m,name:"change",toEl:i,newIndex:ie,newDraggableIndex:ue,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){b(document,"mousemove",this._onTouchMove),b(document,"touchmove",this._onTouchMove),b(document,"pointermove",this._onTouchMove),b(document,"dragover",Le),b(document,"mousemove",Le),b(document,"touchmove",Le)},_offUpEvents:function(){var e=this.el.ownerDocument;b(e,"mouseup",this._onDrop),b(e,"touchend",this._onDrop),b(e,"pointerup",this._onDrop),b(e,"touchcancel",this._onDrop),b(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;ie=R(K),ue=R(K,n.draggable),X("drop",this,{evt:e}),J=K&&K.parentNode,ie=R(K),ue=R(K,n.draggable),He.eventCanceled?this._nulling():(xe=!1,Te=!1,Se=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),We(this.cloneId),We(this._dragStartId),this.nativeDraggable&&(b(document,"drop",this),b(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),p&&T(document.body,"user-select",""),T(K,"transform",""),e&&(ge&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),Q&&Q.parentNode&&Q.parentNode.removeChild(Q),(Z===J||ce&&"clone"!==ce.lastPutMode)&&ne&&ne.parentNode&&ne.parentNode.removeChild(ne),K&&(this.nativeDraggable&&b(K,"dragend",this),Ve(K),K.style["will-change"]="",ge&&!xe&&S(K,ce?ce.options.ghostClass:this.options.ghostClass,!1),S(K,this.options.chosenClass,!1),G({sortable:this,name:"unchoose",toEl:J,newIndex:null,newDraggableIndex:null,originalEvent:e}),Z!==J?(ie>=0&&(G({rootEl:J,name:"add",toEl:J,fromEl:Z,originalEvent:e}),G({sortable:this,name:"remove",toEl:J,originalEvent:e}),G({rootEl:J,name:"sort",toEl:J,fromEl:Z,originalEvent:e}),G({sortable:this,name:"sort",toEl:J,originalEvent:e})),ce&&ce.save()):ie!==oe&&ie>=0&&(G({sortable:this,name:"update",toEl:J,originalEvent:e}),G({sortable:this,name:"sort",toEl:J,originalEvent:e})),He.active&&(null!=ie&&-1!==ie||(ie=oe,ue=ae),G({sortable:this,name:"end",toEl:J,originalEvent:e}),this.save()))),this._nulling())},_nulling:function(){X("nulling",this),Z=K=J=Q=ee=ne=te=re=le=fe=ge=ie=ue=oe=ae=ve=be=ce=se=He.dragged=He.ghost=He.clone=He.active=null,_e.forEach((function(e){e.checked=!0})),_e.length=de=pe=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":K&&(this._onDragOver(e),function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move");e.cancelable&&e.preventDefault()}(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var e,t=[],n=this.el.children,r=0,o=n.length,i=this.options;r<o;r++)x(e=n[r],i.draggable,this.el,!1)&&t.push(e.getAttribute(i.dataIdAttr)||$e(e));return t},sort:function(e){var t={},n=this.el;this.toArray().forEach((function(e,r){var o=n.children[r];x(o,this.options.draggable,n,!1)&&(t[e]=o)}),this),e.forEach((function(e){t[e]&&(n.removeChild(t[e]),n.appendChild(t[e]))}))},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return x(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(void 0===t)return n[e];var r=W.modifyOption(this,e,t);n[e]=void 0!==r?r:t,"group"===e&&Ie(n)},destroy:function(){X("destroy",this);var e=this.el;e[V]=null,b(e,"mousedown",this._onTapStart),b(e,"touchstart",this._onTapStart),b(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(b(e,"dragover",this),b(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),(function(e){e.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),ke.splice(ke.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!re){if(X("hideClone",this),He.eventCanceled)return;T(ne,"display","none"),this.options.removeCloneOnHide&&ne.parentNode&&ne.parentNode.removeChild(ne),re=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(re){if(X("showClone",this),He.eventCanceled)return;Z.contains(K)&&!this.options.group.revertClone?Z.insertBefore(ne,K):ee?Z.insertBefore(ne,ee):Z.appendChild(ne),this.options.group.revertClone&&this.animate(K,ne),T(ne,"display",""),re=!1}}else this._hideClone()}},Ae&&v(document,"touchmove",(function(e){(He.active||xe)&&e.cancelable&&e.preventDefault()})),He.utils={on:v,off:b,css:T,find:O,is:function(e,t){return!!x(e,t,e,!1)},extend:function(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},throttle:P,closest:x,toggleClass:S,clone:F,index:R,nextTick:qe,cancelNextTick:We,detectDirection:ze,getChild:N},He.get=function(e){return e[V]},He.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach((function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(He.utils=a({},He.utils,e.utils)),W.mount(e)}))},He.create=function(e,t){return new He(e,t)},He.version="1.10.2";var Ye,Xe,Ge,Ke,Je,Qe,Ze=[],et=!1;function tt(){Ze.forEach((function(e){clearInterval(e.pid)})),Ze=[]}function nt(){clearInterval(Qe)}var rt,ot=P((function(e,t,n,r){if(t.scroll){var o,i=(e.touches?e.touches[0]:e).clientX,a=(e.touches?e.touches[0]:e).clientY,u=t.scrollSensitivity,s=t.scrollSpeed,c=_(),l=!1;Xe!==n&&(Xe=n,tt(),Ye=t.scroll,o=t.scrollFn,!0===Ye&&(Ye=I(n,!0)));var f=0,d=Ye;do{var p=d,m=A(p),h=m.top,g=m.bottom,v=m.left,b=m.right,y=m.width,w=m.height,x=void 0,C=void 0,k=p.scrollWidth,S=p.scrollHeight,E=T(p),O=p.scrollLeft,D=p.scrollTop;p===c?(x=y<k&&("auto"===E.overflowX||"scroll"===E.overflowX||"visible"===E.overflowX),C=w<S&&("auto"===E.overflowY||"scroll"===E.overflowY||"visible"===E.overflowY)):(x=y<k&&("auto"===E.overflowX||"scroll"===E.overflowX),C=w<S&&("auto"===E.overflowY||"scroll"===E.overflowY));var N=x&&(Math.abs(b-i)<=u&&O+y<k)-(Math.abs(v-i)<=u&&!!O),M=C&&(Math.abs(g-a)<=u&&D+w<S)-(Math.abs(h-a)<=u&&!!D);if(!Ze[f])for(var R=0;R<=f;R++)Ze[R]||(Ze[R]={});Ze[f].vx==N&&Ze[f].vy==M&&Ze[f].el===p||(Ze[f].el=p,Ze[f].vx=N,Ze[f].vy=M,clearInterval(Ze[f].pid),0==N&&0==M||(l=!0,Ze[f].pid=setInterval(function(){r&&0===this.layer&&He.active._onTouchMove(Je);var t=Ze[this.layer].vy?Ze[this.layer].vy*s:0,n=Ze[this.layer].vx?Ze[this.layer].vx*s:0;"function"==typeof o&&"continue"!==o.call(He.dragged.parentNode[V],n,t,e,Je,Ze[this.layer].el)||L(Ze[this.layer].el,n,t)}.bind({layer:f}),24))),f++}while(t.bubbleScroll&&d!==c&&(d=I(d,!1)));et=l}}),30),it=function(e){var t=e.originalEvent,n=e.putSortable,r=e.dragEl,o=e.activeSortable,i=e.dispatchSortableEvent,a=e.hideGhostForTarget,u=e.unhideGhostForTarget;if(t){var s=n||o;a();var c=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,l=document.elementFromPoint(c.clientX,c.clientY);u(),s&&!s.el.contains(l)&&(i("spill"),this.onSpill({dragEl:r,putSortable:n}))}};function at(){}function ut(){}function st(){function e(){this.defaults={swapClass:"sortable-swap-highlight"}}return e.prototype={dragStart:function(e){var t=e.dragEl;rt=t},dragOverValid:function(e){var t=e.completed,n=e.target,r=e.onMove,o=e.activeSortable,i=e.changed,a=e.cancel;if(o.options.swap){var u=this.sortable.el,s=this.options;if(n&&n!==u){var c=rt;!1!==r(n)?(S(n,s.swapClass,!0),rt=n):rt=null,c&&c!==rt&&S(c,s.swapClass,!1)}i(),t(!0),a()}},drop:function(e){var t=e.activeSortable,n=e.putSortable,r=e.dragEl,o=n||this.sortable,i=this.options;rt&&S(rt,i.swapClass,!1),rt&&(i.swap||n&&n.options.swap)&&r!==rt&&(o.captureAnimationState(),o!==t&&t.captureAnimationState(),function(e,t){var n,r,o=e.parentNode,i=t.parentNode;if(!o||!i||o.isEqualNode(t)||i.isEqualNode(e))return;n=R(e),r=R(t),o.isEqualNode(i)&&n<r&&r++;o.insertBefore(t,o.children[n]),i.insertBefore(e,i.children[r])}(r,rt),o.animateAll(),o!==t&&t.animateAll())},nulling:function(){rt=null}},i(e,{pluginName:"swap",eventProperties:function(){return{swapItem:rt}}})}at.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var r=N(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(t,r):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:it},i(at,{pluginName:"revertOnSpill"}),ut.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable||this.sortable;n.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),n.animateAll()},drop:it},i(ut,{pluginName:"removeOnSpill"});var ct,lt,ft,dt,pt,mt=[],ht=[],gt=!1,vt=!1,bt=!1;function yt(){function e(e){for(var t in this)"_"===t.charAt(0)&&"function"==typeof this[t]&&(this[t]=this[t].bind(this));e.options.supportPointer?v(document,"pointerup",this._deselectMultiDrag):(v(document,"mouseup",this._deselectMultiDrag),v(document,"touchend",this._deselectMultiDrag)),v(document,"keydown",this._checkKeyDown),v(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(t,n){var r="";mt.length&&lt===e?mt.forEach((function(e,t){r+=(t?", ":"")+e.textContent})):r=n.textContent,t.setData("Text",r)}}}return e.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(e){var t=e.dragEl;ft=t},delayEnded:function(){this.isMultiDrag=~mt.indexOf(ft)},setupClone:function(e){var t=e.sortable,n=e.cancel;if(this.isMultiDrag){for(var r=0;r<mt.length;r++)ht.push(F(mt[r])),ht[r].sortableIndex=mt[r].sortableIndex,ht[r].draggable=!1,ht[r].style["will-change"]="",S(ht[r],this.options.selectedClass,!1),mt[r]===ft&&S(ht[r],this.options.chosenClass,!1);t._hideClone(),n()}},clone:function(e){var t=e.sortable,n=e.rootEl,r=e.dispatchSortableEvent,o=e.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||mt.length&&lt===t&&(wt(!0,n),r("clone"),o()))},showClone:function(e){var t=e.cloneNowShown,n=e.rootEl,r=e.cancel;this.isMultiDrag&&(wt(!1,n),ht.forEach((function(e){T(e,"display","")})),t(),pt=!1,r())},hideClone:function(e){var t=this,n=(e.sortable,e.cloneNowHidden),r=e.cancel;this.isMultiDrag&&(ht.forEach((function(e){T(e,"display","none"),t.options.removeCloneOnHide&&e.parentNode&&e.parentNode.removeChild(e)})),n(),pt=!0,r())},dragStartGlobal:function(e){e.sortable;!this.isMultiDrag&&lt&&lt.multiDrag._deselectMultiDrag(),mt.forEach((function(e){e.sortableIndex=R(e)})),mt=mt.sort((function(e,t){return e.sortableIndex-t.sortableIndex})),bt=!0},dragStarted:function(e){var t=this,n=e.sortable;if(this.isMultiDrag){if(this.options.sort&&(n.captureAnimationState(),this.options.animation)){mt.forEach((function(e){e!==ft&&T(e,"position","absolute")}));var r=A(ft,!1,!0,!0);mt.forEach((function(e){e!==ft&&H(e,r)})),vt=!0,gt=!0}n.animateAll((function(){vt=!1,gt=!1,t.options.animation&&mt.forEach((function(e){j(e)})),t.options.sort&&xt()}))}},dragOver:function(e){var t=e.target,n=e.completed,r=e.cancel;vt&&~mt.indexOf(t)&&(n(!1),r())},revert:function(e){var t=e.fromSortable,n=e.rootEl,r=e.sortable,o=e.dragRect;mt.length>1&&(mt.forEach((function(e){r.addAnimationState({target:e,rect:vt?A(e):o}),j(e),e.fromRect=o,t.removeAnimationState(e)})),vt=!1,function(e,t){mt.forEach((function(n,r){var o=t.children[n.sortableIndex+(e?Number(r):0)];o?t.insertBefore(n,o):t.appendChild(n)}))}(!this.options.removeCloneOnHide,n))},dragOverCompleted:function(e){var t=e.sortable,n=e.isOwner,r=e.insertion,o=e.activeSortable,i=e.parentEl,a=e.putSortable,u=this.options;if(r){if(n&&o._hideClone(),gt=!1,u.animation&&mt.length>1&&(vt||!n&&!o.options.sort&&!a)){var s=A(ft,!1,!0,!0);mt.forEach((function(e){e!==ft&&(H(e,s),i.appendChild(e))})),vt=!0}if(!n)if(vt||xt(),mt.length>1){var c=pt;o._showClone(t),o.options.animation&&!pt&&c&&ht.forEach((function(e){o.addAnimationState({target:e,rect:dt}),e.fromRect=dt,e.thisAnimationDuration=null}))}else o._showClone(t)}},dragOverAnimationCapture:function(e){var t=e.dragRect,n=e.isOwner,r=e.activeSortable;if(mt.forEach((function(e){e.thisAnimationDuration=null})),r.options.animation&&!n&&r.multiDrag.isMultiDrag){dt=i({},t);var o=E(ft,!0);dt.top-=o.f,dt.left-=o.e}},dragOverAnimationComplete:function(){vt&&(vt=!1,xt())},drop:function(e){var t=e.originalEvent,n=e.rootEl,r=e.parentEl,o=e.sortable,i=e.dispatchSortableEvent,a=e.oldIndex,u=e.putSortable,s=u||this.sortable;if(t){var c=this.options,l=r.children;if(!bt)if(c.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),S(ft,c.selectedClass,!~mt.indexOf(ft)),~mt.indexOf(ft))mt.splice(mt.indexOf(ft),1),ct=null,Y({sortable:o,rootEl:n,name:"deselect",targetEl:ft,originalEvt:t});else{if(mt.push(ft),Y({sortable:o,rootEl:n,name:"select",targetEl:ft,originalEvt:t}),t.shiftKey&&ct&&o.el.contains(ct)){var f,d,p=R(ct),m=R(ft);if(~p&&~m&&p!==m)for(m>p?(d=p,f=m):(d=m,f=p+1);d<f;d++)~mt.indexOf(l[d])||(S(l[d],c.selectedClass,!0),mt.push(l[d]),Y({sortable:o,rootEl:n,name:"select",targetEl:l[d],originalEvt:t}))}else ct=ft;lt=s}if(bt&&this.isMultiDrag){if((r[V].options.sort||r!==n)&&mt.length>1){var h=A(ft),g=R(ft,":not(."+this.options.selectedClass+")");if(!gt&&c.animation&&(ft.thisAnimationDuration=null),s.captureAnimationState(),!gt&&(c.animation&&(ft.fromRect=h,mt.forEach((function(e){if(e.thisAnimationDuration=null,e!==ft){var t=vt?A(e):h;e.fromRect=t,s.addAnimationState({target:e,rect:t})}}))),xt(),mt.forEach((function(e){l[g]?r.insertBefore(e,l[g]):r.appendChild(e),g++})),a===R(ft))){var v=!1;mt.forEach((function(e){e.sortableIndex===R(e)||(v=!0)})),v&&i("update")}mt.forEach((function(e){j(e)})),s.animateAll()}lt=s}(n===r||u&&"clone"!==u.lastPutMode)&&ht.forEach((function(e){e.parentNode&&e.parentNode.removeChild(e)}))}},nullingGlobal:function(){this.isMultiDrag=bt=!1,ht.length=0},destroyGlobal:function(){this._deselectMultiDrag(),b(document,"pointerup",this._deselectMultiDrag),b(document,"mouseup",this._deselectMultiDrag),b(document,"touchend",this._deselectMultiDrag),b(document,"keydown",this._checkKeyDown),b(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(e){if(!(void 0!==bt&&bt||lt!==this.sortable||e&&x(e.target,this.options.draggable,this.sortable.el,!1)||e&&0!==e.button))for(;mt.length;){var t=mt[0];S(t,this.options.selectedClass,!1),mt.shift(),Y({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:t,originalEvt:e})}},_checkKeyDown:function(e){e.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(e){e.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},i(e,{pluginName:"multiDrag",utils:{select:function(e){var t=e.parentNode[V];t&&t.options.multiDrag&&!~mt.indexOf(e)&&(lt&&lt!==t&&(lt.multiDrag._deselectMultiDrag(),lt=t),S(e,t.options.selectedClass,!0),mt.push(e))},deselect:function(e){var t=e.parentNode[V],n=mt.indexOf(e);t&&t.options.multiDrag&&~n&&(S(e,t.options.selectedClass,!1),mt.splice(n,1))}},eventProperties:function(){var e=this,t=[],n=[];return mt.forEach((function(r){var o;t.push({multiDragElement:r,index:r.sortableIndex}),o=vt&&r!==ft?-1:vt?R(r,":not(."+e.options.selectedClass+")"):R(r),n.push({multiDragElement:r,index:o})})),{items:s(mt),clones:[].concat(ht),oldIndicies:t,newIndicies:n}},optionListeners:{multiDragKey:function(e){return"ctrl"===(e=e.toLowerCase())?e="Control":e.length>1&&(e=e.charAt(0).toUpperCase()+e.substr(1)),e}}})}function wt(e,t){ht.forEach((function(n,r){var o=t.children[n.sortableIndex+(e?Number(r):0)];o?t.insertBefore(n,o):t.appendChild(n)}))}function xt(){mt.forEach((function(e){e!==ft&&e.parentNode&&e.parentNode.removeChild(e)}))}He.mount(new function(){function e(){for(var e in this.defaults={scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"==typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?v(document,"dragover",this._handleAutoScroll):this.options.supportPointer?v(document,"pointermove",this._handleFallbackAutoScroll):t.touches?v(document,"touchmove",this._handleFallbackAutoScroll):v(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?b(document,"dragover",this._handleAutoScroll):(b(document,"pointermove",this._handleFallbackAutoScroll),b(document,"touchmove",this._handleFallbackAutoScroll),b(document,"mousemove",this._handleFallbackAutoScroll)),nt(),tt(),clearTimeout(C),C=void 0},nulling:function(){Je=Xe=Ye=et=Qe=Ge=Ke=null,Ze.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var n=this,r=(e.touches?e.touches[0]:e).clientX,o=(e.touches?e.touches[0]:e).clientY,i=document.elementFromPoint(r,o);if(Je=e,t||f||l||p){ot(e,this.options,i,t);var a=I(i,!0);!et||Qe&&r===Ge&&o===Ke||(Qe&&nt(),Qe=setInterval((function(){var i=I(document.elementFromPoint(r,o),!0);i!==a&&(a=i,tt()),ot(e,n.options,i,t)}),10),Ge=r,Ke=o)}else{if(!this.options.bubbleScroll||I(i,!0)===_())return void tt();ot(e,this.options,I(i,!1),!1)}}},i(e,{pluginName:"scroll",initializeByDefault:!0})}),He.mount(ut,at),t.default=He},function(e,t,n){e.exports=n(65)},function(e,t,n){e.exports=function(){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e,t,n){return(u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&a(o,n.prototype),o}).apply(null,arguments)}function s(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e,t,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=i(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}var l=function(e){return Object.keys(e).map((function(t){return e[t]}))},f=function(e){return Array.prototype.slice.call(e)},d=function(e){console.warn("".concat("SweetAlert2:"," ").concat(e))},p=function(e){console.error("".concat("SweetAlert2:"," ").concat(e))},m=[],h=function(e,t){var n;n='"'.concat(e,'" is deprecated and will be removed in the next major release. Please use "').concat(t,'" instead.'),-1===m.indexOf(n)&&(m.push(n),d(n))},g=function(e){return"function"==typeof e?e():e},v=function(e){return e&&Promise.resolve(e)===e},b=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),y=function(e){var t={};for(var n in e)t[e[n]]="swal2-"+e[n];return t},w=y(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","toast","toast-shown","toast-column","show","hide","noanimation","close","title","header","content","actions","confirm","cancel","footer","icon","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl"]),x=y(["success","warning","info","question","error"]),C={previousBodyPadding:null},k=function(e,t){return e.classList.contains(t)},S=function(t,n,r){if(function(e){f(e.classList).forEach((function(t){-1===l(w).indexOf(t)&&-1===l(x).indexOf(t)&&e.classList.remove(t)}))}(t),n&&n[r]){if("string"!=typeof n[r]&&!n[r].forEach)return d("Invalid type of customClass.".concat(r,'! Expected string or iterable object, got "').concat(e(n[r]),'"'));A(t,n[r])}};function T(e,t){if(!t)return null;switch(t){case"select":case"textarea":case"file":return N(e,w[t]);case"checkbox":return e.querySelector(".".concat(w.checkbox," input"));case"radio":return e.querySelector(".".concat(w.radio," input:checked"))||e.querySelector(".".concat(w.radio," input:first-child"));case"range":return e.querySelector(".".concat(w.range," input"));default:return N(e,w.input)}}var E,O=function(e){if(e.focus(),"file"!==e.type){var t=e.value;e.value="",e.value=t}},_=function(e,t,n){e&&t&&("string"==typeof t&&(t=t.split(/\s+/).filter(Boolean)),t.forEach((function(t){e.forEach?e.forEach((function(e){n?e.classList.add(t):e.classList.remove(t)})):n?e.classList.add(t):e.classList.remove(t)})))},A=function(e,t){_(e,t,!0)},D=function(e,t){_(e,t,!1)},N=function(e,t){for(var n=0;n<e.childNodes.length;n++)if(k(e.childNodes[n],t))return e.childNodes[n]},M=function(e,t,n){n||0===parseInt(n)?e.style[t]="number"==typeof n?n+"px":n:e.style.removeProperty(t)},R=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex";e.style.opacity="",e.style.display=t},z=function(e){e.style.opacity="",e.style.display="none"},I=function(e,t,n){t?R(e,n):z(e)},B=function(e){return!(!e||!(e.offsetWidth||e.offsetHeight||e.getClientRects().length))},P=function(e){var t=window.getComputedStyle(e),n=parseFloat(t.getPropertyValue("animation-duration")||"0"),r=parseFloat(t.getPropertyValue("transition-duration")||"0");return n>0||r>0},L=function(){return document.body.querySelector("."+w.container)},F=function(e){var t=L();return t?t.querySelector(e):null},H=function(e){return F("."+e)},j=function(){return H(w.popup)},V=function(){var e=j();return f(e.querySelectorAll("."+w.icon))},U=function(){var e=V().filter((function(e){return B(e)}));return e.length?e[0]:null},$=function(){return H(w.title)},q=function(){return H(w.content)},W=function(){return H(w.image)},Y=function(){return H(w["progress-steps"])},X=function(){return H(w["validation-message"])},G=function(){return F("."+w.actions+" ."+w.confirm)},K=function(){return F("."+w.actions+" ."+w.cancel)},J=function(){return H(w.actions)},Q=function(){return H(w.header)},Z=function(){return H(w.footer)},ee=function(){return H(w.close)},te=function(){var e=f(j().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((function(e,t){return(e=parseInt(e.getAttribute("tabindex")))>(t=parseInt(t.getAttribute("tabindex")))?1:e<t?-1:0})),t=f(j().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter((function(e){return"-1"!==e.getAttribute("tabindex")}));return function(e){for(var t=[],n=0;n<e.length;n++)-1===t.indexOf(e[n])&&t.push(e[n]);return t}(e.concat(t)).filter((function(e){return B(e)}))},ne=function(){return!re()&&!document.body.classList.contains(w["no-backdrop"])},re=function(){return document.body.classList.contains(w["toast-shown"])},oe=function(){return"undefined"==typeof window||"undefined"==typeof document},ie='\n <div aria-labelledby="'.concat(w.title,'" aria-describedby="').concat(w.content,'" class="').concat(w.popup,'" tabindex="-1">\n   <div class="').concat(w.header,'">\n     <ul class="').concat(w["progress-steps"],'"></ul>\n     <div class="').concat(w.icon," ").concat(x.error,'">\n       <span class="swal2-x-mark"><span class="swal2-x-mark-line-left"></span><span class="swal2-x-mark-line-right"></span></span>\n     </div>\n     <div class="').concat(w.icon," ").concat(x.question,'"></div>\n     <div class="').concat(w.icon," ").concat(x.warning,'"></div>\n     <div class="').concat(w.icon," ").concat(x.info,'"></div>\n     <div class="').concat(w.icon," ").concat(x.success,'">\n       <div class="swal2-success-circular-line-left"></div>\n       <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n       <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n       <div class="swal2-success-circular-line-right"></div>\n     </div>\n     <img class="').concat(w.image,'" />\n     <h2 class="').concat(w.title,'" id="').concat(w.title,'"></h2>\n     <button type="button" class="').concat(w.close,'"></button>\n   </div>\n   <div class="').concat(w.content,'">\n     <div id="').concat(w.content,'"></div>\n     <input class="').concat(w.input,'" />\n     <input type="file" class="').concat(w.file,'" />\n     <div class="').concat(w.range,'">\n       <input type="range" />\n       <output></output>\n     </div>\n     <select class="').concat(w.select,'"></select>\n     <div class="').concat(w.radio,'"></div>\n     <label for="').concat(w.checkbox,'" class="').concat(w.checkbox,'">\n       <input type="checkbox" />\n       <span class="').concat(w.label,'"></span>\n     </label>\n     <textarea class="').concat(w.textarea,'"></textarea>\n     <div class="').concat(w["validation-message"],'" id="').concat(w["validation-message"],'"></div>\n   </div>\n   <div class="').concat(w.actions,'">\n     <button type="button" class="').concat(w.confirm,'">OK</button>\n     <button type="button" class="').concat(w.cancel,'">Cancel</button>\n   </div>\n   <div class="').concat(w.footer,'">\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),ae=function(e){Wt.isVisible()&&E!==e.target.value&&Wt.resetValidationMessage(),E=e.target.value},ue=function(e){var t;if((t=L())&&(t.parentNode.removeChild(t),D([document.documentElement,document.body],[w["no-backdrop"],w["toast-shown"],w["has-column"]])),oe())p("SweetAlert2 requires document to initialize");else{var n=document.createElement("div");n.className=w.container,n.innerHTML=ie;var r,o,i,a,u,s,c,l,f,d="string"==typeof(r=e.target)?document.querySelector(r):r;d.appendChild(n),function(e){var t=j();t.setAttribute("role",e.toast?"alert":"dialog"),t.setAttribute("aria-live",e.toast?"polite":"assertive"),e.toast||t.setAttribute("aria-modal","true")}(e),function(e){"rtl"===window.getComputedStyle(e).direction&&A(L(),w.rtl)}(d),o=q(),i=N(o,w.input),a=N(o,w.file),u=o.querySelector(".".concat(w.range," input")),s=o.querySelector(".".concat(w.range," output")),c=N(o,w.select),l=o.querySelector(".".concat(w.checkbox," input")),f=N(o,w.textarea),i.oninput=ae,a.onchange=ae,c.onchange=ae,l.onchange=ae,f.oninput=ae,u.oninput=function(e){ae(e),s.value=u.value},u.onchange=function(e){ae(e),u.nextSibling.value=u.value}}},se=function(t,n){t instanceof HTMLElement?n.appendChild(t):"object"===e(t)?ce(n,t):t&&(n.innerHTML=t)},ce=function(e,t){if(e.innerHTML="",0 in t)for(var n=0;n in t;n++)e.appendChild(t[n].cloneNode(!0));else e.appendChild(t.cloneNode(!0))},le=function(){if(oe())return!1;var e=document.createElement("div"),t={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd oanimationend",animation:"animationend"};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&void 0!==e.style[n])return t[n];return!1}(),fe=function(e,t){var n=J(),r=G(),o=K();t.showConfirmButton||t.showCancelButton||z(n),S(n,t.customClass,"actions"),de(r,"confirm",t),de(o,"cancel",t),t.buttonsStyling?function(e,t,n){A([e,t],w.styled),n.confirmButtonColor&&(e.style.backgroundColor=n.confirmButtonColor),n.cancelButtonColor&&(t.style.backgroundColor=n.cancelButtonColor);var r=window.getComputedStyle(e).getPropertyValue("background-color");e.style.borderLeftColor=r,e.style.borderRightColor=r}(r,o,t):(D([r,o],w.styled),r.style.backgroundColor=r.style.borderLeftColor=r.style.borderRightColor="",o.style.backgroundColor=o.style.borderLeftColor=o.style.borderRightColor=""),t.reverseButtons&&r.parentNode.insertBefore(o,r)};function de(e,t,n){I(e,n["showC"+t.substring(1)+"Button"],"inline-block"),e.innerHTML=n[t+"ButtonText"],e.setAttribute("aria-label",n[t+"ButtonAriaLabel"]),e.className=w[t],S(e,n.customClass,t+"Button"),A(e,n[t+"ButtonClass"])}var pe=function(e,t){var n=L();n&&(function(e,t){"string"==typeof t?e.style.background=t:t||A([document.documentElement,document.body],w["no-backdrop"])}(n,t.backdrop),!t.backdrop&&t.allowOutsideClick&&d('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),function(e,t){t in w?A(e,w[t]):(d('The "position" parameter is not valid, defaulting to "center"'),A(e,w.center))}(n,t.position),function(e,t){if(t&&"string"==typeof t){var n="grow-"+t;n in w&&A(e,w[n])}}(n,t.grow),S(n,t.customClass,"container"),t.customContainerClass&&A(n,t.customContainerClass))},me={promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap},he=["input","file","range","select","radio","checkbox","textarea"],ge=function(e){if(!xe[e.input])return p('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(e.input,'"'));var t=we(e.input),n=xe[e.input](t,e);R(n),setTimeout((function(){O(n)}))},ve=function(e,t){var n=T(q(),e);if(n)for(var r in function(e){for(var t=0;t<e.attributes.length;t++){var n=e.attributes[t].name;-1===["type","value","style"].indexOf(n)&&e.removeAttribute(n)}}(n),t)"range"===e&&"placeholder"===r||n.setAttribute(r,t[r])},be=function(e){var t=we(e.input);e.inputClass&&A(t,e.inputClass),e.customClass&&A(t,e.customClass.input)},ye=function(e,t){e.placeholder&&!t.inputPlaceholder||(e.placeholder=t.inputPlaceholder)},we=function(e){var t=w[e]?w[e]:w.input;return N(q(),t)},xe={};xe.text=xe.email=xe.password=xe.number=xe.tel=xe.url=function(t,n){return"string"==typeof n.inputValue||"number"==typeof n.inputValue?t.value=n.inputValue:v(n.inputValue)||d('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(e(n.inputValue),'"')),ye(t,n),t.type=n.input,t},xe.file=function(e,t){return ye(e,t),e},xe.range=function(e,t){var n=e.querySelector("input"),r=e.querySelector("output");return n.value=t.inputValue,n.type=t.input,r.value=t.inputValue,e},xe.select=function(e,t){if(e.innerHTML="",t.inputPlaceholder){var n=document.createElement("option");n.innerHTML=t.inputPlaceholder,n.value="",n.disabled=!0,n.selected=!0,e.appendChild(n)}return e},xe.radio=function(e){return e.innerHTML="",e},xe.checkbox=function(e,t){var n=T(q(),"checkbox");return n.value=1,n.id=w.checkbox,n.checked=Boolean(t.inputValue),e.querySelector("span").innerHTML=t.inputPlaceholder,e},xe.textarea=function(e,t){if(e.value=t.inputValue,ye(e,t),"MutationObserver"in window){var n=parseInt(window.getComputedStyle(j()).width),r=parseInt(window.getComputedStyle(j()).paddingLeft)+parseInt(window.getComputedStyle(j()).paddingRight);new MutationObserver((function(){var t=e.offsetWidth+r;j().style.width=t>n?t+"px":null})).observe(e,{attributes:!0,attributeFilter:["style"]})}return e};var Ce=function(e,t){var n=q().querySelector("#"+w.content);t.html?(se(t.html,n),R(n,"block")):t.text?(n.textContent=t.text,R(n,"block")):z(n),function(e,t){var n=q(),r=me.innerParams.get(e),o=!r||t.input!==r.input;he.forEach((function(e){var r=w[e],i=N(n,r);ve(e,t.inputAttributes),i.className=r,o&&z(i)})),t.input&&(o&&ge(t),be(t))}(e,t),S(q(),t.customClass,"content")},ke=function(){for(var e=V(),t=0;t<e.length;t++)z(e[t])},Se=function(){for(var e=j(),t=window.getComputedStyle(e).getPropertyValue("background-color"),n=e.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix"),r=0;r<n.length;r++)n[r].style.backgroundColor=t},Te=function(e,t){var n=Y();if(!t.progressSteps||0===t.progressSteps.length)return z(n);R(n),n.innerHTML="";var r=parseInt(null===t.currentProgressStep?Wt.getQueueStep():t.currentProgressStep);r>=t.progressSteps.length&&d("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),t.progressSteps.forEach((function(e,o){var i=function(e){var t=document.createElement("li");return A(t,w["progress-step"]),t.innerHTML=e,t}(e);if(n.appendChild(i),o===r&&A(i,w["active-progress-step"]),o!==t.progressSteps.length-1){var a=function(e){var t=document.createElement("li");return A(t,w["progress-step-line"]),e.progressStepsDistance&&(t.style.width=e.progressStepsDistance),t}(e);n.appendChild(a)}}))},Ee=function(e,t){var n=Q();S(n,t.customClass,"header"),Te(e,t),function(e,t){var n=me.innerParams.get(e);if(n&&t.type===n.type&&U())S(U(),t.customClass,"icon");else if(ke(),t.type)if(Se(),-1!==Object.keys(x).indexOf(t.type)){var r=F(".".concat(w.icon,".").concat(x[t.type]));R(r),S(r,t.customClass,"icon"),_(r,"swal2-animate-".concat(t.type,"-icon"),t.animation)}else p('Unknown type! Expected "success", "error", "warning", "info" or "question", got "'.concat(t.type,'"'))}(e,t),function(e,t){var n=W();if(!t.imageUrl)return z(n);R(n),n.setAttribute("src",t.imageUrl),n.setAttribute("alt",t.imageAlt),M(n,"width",t.imageWidth),M(n,"height",t.imageHeight),n.className=w.image,S(n,t.customClass,"image"),t.imageClass&&A(n,t.imageClass)}(0,t),function(e,t){var n=$();I(n,t.title||t.titleText),t.title&&se(t.title,n),t.titleText&&(n.innerText=t.titleText),S(n,t.customClass,"title")}(0,t),function(e,t){var n=ee();n.innerHTML=t.closeButtonHtml,S(n,t.customClass,"closeButton"),I(n,t.showCloseButton),n.setAttribute("aria-label",t.closeButtonAriaLabel)}(0,t)},Oe=function(e,t){!function(e,t){var n=j();M(n,"width",t.width),M(n,"padding",t.padding),t.background&&(n.style.background=t.background),n.className=w.popup,t.toast?(A([document.documentElement,document.body],w["toast-shown"]),A(n,w.toast)):A(n,w.modal),S(n,t.customClass,"popup"),"string"==typeof t.customClass&&A(n,t.customClass),_(n,w.noanimation,!t.animation)}(0,t),pe(0,t),Ee(e,t),Ce(e,t),fe(0,t),function(e,t){var n=Z();I(n,t.footer),t.footer&&se(t.footer,n),S(n,t.customClass,"footer")}(0,t),"function"==typeof t.onRender&&t.onRender(j())},_e=function(){return G()&&G().click()},Ae=[],De=function(){var e=j();e||Wt.fire(""),e=j();var t=J(),n=G(),r=K();R(t),R(n),A([e,t],w.loading),n.disabled=!0,r.disabled=!0,e.setAttribute("data-loading",!0),e.setAttribute("aria-busy",!0),e.focus()},Ne={},Me=function(){return new Promise((function(e){var t=window.scrollX,n=window.scrollY;Ne.restoreFocusTimeout=setTimeout((function(){Ne.previousActiveElement&&Ne.previousActiveElement.focus?(Ne.previousActiveElement.focus(),Ne.previousActiveElement=null):document.body&&document.body.focus(),e()}),100),void 0!==t&&void 0!==n&&window.scrollTo(t,n)}))},Re={title:"",titleText:"",text:"",html:"",footer:"",type:null,toast:!1,customClass:"",customContainerClass:"",target:"body",backdrop:!0,animation:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showCancelButton:!1,preConfirm:null,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:null,confirmButtonClass:"",cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:null,cancelButtonClass:"",buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusCancel:!1,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",showLoaderOnConfirm:!1,imageUrl:null,imageWidth:null,imageHeight:null,imageAlt:"",imageClass:"",timer:null,width:null,padding:null,background:null,input:null,inputPlaceholder:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputClass:"",inputAttributes:{},inputValidator:null,validationMessage:null,grow:!1,position:"center",progressSteps:[],currentProgressStep:null,progressStepsDistance:null,onBeforeOpen:null,onOpen:null,onRender:null,onClose:null,onAfterClose:null,scrollbarPadding:!0},ze=["title","titleText","text","html","type","customClass","showConfirmButton","showCancelButton","confirmButtonText","confirmButtonAriaLabel","confirmButtonColor","confirmButtonClass","cancelButtonText","cancelButtonAriaLabel","cancelButtonColor","cancelButtonClass","buttonsStyling","reverseButtons","imageUrl","imageWidth","imageHeigth","imageAlt","imageClass","progressSteps","currentProgressStep"],Ie={customContainerClass:"customClass",confirmButtonClass:"customClass",cancelButtonClass:"customClass",imageClass:"customClass",inputClass:"customClass"},Be=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusCancel","heightAuto","keydownListenerCapture"],Pe=function(e){return Object.prototype.hasOwnProperty.call(Re,e)},Le=function(e){return Ie[e]},Fe=function(e){Pe(e)||d('Unknown parameter "'.concat(e,'"'))},He=function(e){-1!==Be.indexOf(e)&&d('The parameter "'.concat(e,'" is incompatible with toasts'))},je=function(e){Le(e)&&h(e,Le(e))},Ve=function(e){for(var t in e)Fe(t),e.toast&&He(t),je()},Ue=Object.freeze({isValidParameter:Pe,isUpdatableParameter:function(e){return-1!==ze.indexOf(e)},isDeprecatedParameter:Le,argsToParams:function(t){var n={};switch(e(t[0])){case"object":o(n,t[0]);break;default:["title","html","type"].forEach((function(r,o){switch(e(t[o])){case"string":n[r]=t[o];break;case"undefined":break;default:p("Unexpected type of ".concat(r,'! Expected "string", got ').concat(e(t[o])))}}))}return n},isVisible:function(){return B(j())},clickConfirm:_e,clickCancel:function(){return K()&&K().click()},getContainer:L,getPopup:j,getTitle:$,getContent:q,getImage:W,getIcon:U,getIcons:V,getCloseButton:ee,getActions:J,getConfirmButton:G,getCancelButton:K,getHeader:Q,getFooter:Z,getFocusableElements:te,getValidationMessage:X,isLoading:function(){return j().hasAttribute("data-loading")},fire:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return u(this,t)},mixin:function(e){return function(n){function u(){return t(this,u),s(this,i(u).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(u,n),r(u,[{key:"_main",value:function(t){return c(i(u.prototype),"_main",this).call(this,o({},e,t))}}]),u}(this)},queue:function(e){var t=this;Ae=e;var n=function(e,t){Ae=[],document.body.removeAttribute("data-swal2-queue-step"),e(t)},r=[];return new Promise((function(e){!function o(i,a){i<Ae.length?(document.body.setAttribute("data-swal2-queue-step",i),t.fire(Ae[i]).then((function(t){void 0!==t.value?(r.push(t.value),o(i+1,a)):n(e,{dismiss:t.dismiss})}))):n(e,{value:r})}(0)}))},getQueueStep:function(){return document.body.getAttribute("data-swal2-queue-step")},insertQueueStep:function(e,t){return t&&t<Ae.length?Ae.splice(t,0,e):Ae.push(e)},deleteQueueStep:function(e){void 0!==Ae[e]&&Ae.splice(e,1)},showLoading:De,enableLoading:De,getTimerLeft:function(){return Ne.timeout&&Ne.timeout.getTimerLeft()},stopTimer:function(){return Ne.timeout&&Ne.timeout.stop()},resumeTimer:function(){return Ne.timeout&&Ne.timeout.start()},toggleTimer:function(){var e=Ne.timeout;return e&&(e.running?e.stop():e.start())},increaseTimer:function(e){return Ne.timeout&&Ne.timeout.increase(e)},isTimerRunning:function(){return Ne.timeout&&Ne.timeout.isRunning()}});function $e(){var e=me.innerParams.get(this),t=me.domCache.get(this);e.showConfirmButton||(z(t.confirmButton),e.showCancelButton||z(t.actions)),D([t.popup,t.actions],w.loading),t.popup.removeAttribute("aria-busy"),t.popup.removeAttribute("data-loading"),t.confirmButton.disabled=!1,t.cancelButton.disabled=!1}var qe=function(){null===C.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(C.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=C.previousBodyPadding+function(){if("ontouchstart"in window||navigator.msMaxTouchPoints)return 0;var e=document.createElement("div");e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t}()+"px")},We=function(){null!==C.previousBodyPadding&&(document.body.style.paddingRight=C.previousBodyPadding+"px",C.previousBodyPadding=null)},Ye=function(){var e,t=L();t.ontouchstart=function(n){var r;e=n.target===t||!((r=t).scrollHeight>r.clientHeight)&&"INPUT"!==n.target.tagName},t.ontouchmove=function(t){e&&(t.preventDefault(),t.stopPropagation())}},Xe=function(){if(k(document.body,w.iosfix)){var e=parseInt(document.body.style.top,10);D(document.body,w.iosfix),document.body.style.top="",document.body.scrollTop=-1*e}},Ge=function(){return!!window.MSInputMethodContext&&!!document.documentMode},Ke=function(){var e=L(),t=j();e.style.removeProperty("align-items"),t.offsetTop<0&&(e.style.alignItems="flex-start")},Je=function(){"undefined"!=typeof window&&Ge()&&window.removeEventListener("resize",Ke)},Qe=function(){f(document.body.children).forEach((function(e){e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")}))},Ze={swalPromiseResolve:new WeakMap};function et(e,t,n,r){n?it(e,r):(Me().then((function(){return it(e,r)})),Ne.keydownTarget.removeEventListener("keydown",Ne.keydownHandler,{capture:Ne.keydownListenerCapture}),Ne.keydownHandlerAdded=!1),t.parentNode&&t.parentNode.removeChild(t),ne()&&(We(),Xe(),Je(),Qe()),D([document.documentElement,document.body],[w.shown,w["height-auto"],w["no-backdrop"],w["toast-shown"],w["toast-column"]])}function tt(e){var t=j();if(t&&!k(t,w.hide)){var n=me.innerParams.get(this);if(n){var r=Ze.swalPromiseResolve.get(this);D(t,w.show),A(t,w.hide),nt(this,t,n),r(e||{})}}}var nt=function(e,t,n){var r=L(),o=le&&P(t),i=n.onClose,a=n.onAfterClose;null!==i&&"function"==typeof i&&i(t),o?rt(e,t,r,a):et(e,r,re(),a)},rt=function(e,t,n,r){Ne.swalCloseEventFinishedCallback=et.bind(null,e,n,re(),r),t.addEventListener(le,(function(e){e.target===t&&(Ne.swalCloseEventFinishedCallback(),delete Ne.swalCloseEventFinishedCallback)}))},ot=function(e){for(var t in e)e[t]=new WeakMap},it=function(e,t){setTimeout((function(){null!==t&&"function"==typeof t&&t(),j()||function(e){delete e.params,delete Ne.keydownHandler,delete Ne.keydownTarget,ot(me),ot(Ze)}(e)}))};function at(e,t,n){var r=me.domCache.get(e);t.forEach((function(e){r[e].disabled=n}))}function ut(e,t){if(!e)return!1;if("radio"===e.type)for(var n=e.parentNode.parentNode.querySelectorAll("input"),r=0;r<n.length;r++)n[r].disabled=t;else e.disabled=t}var st=function(){function e(n,r){t(this,e),this.callback=n,this.remaining=r,this.running=!1,this.start()}return r(e,[{key:"start",value:function(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}},{key:"stop",value:function(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date-this.started),this.remaining}},{key:"increase",value:function(e){var t=this.running;return t&&this.stop(),this.remaining+=e,t&&this.start(),this.remaining}},{key:"getTimerLeft",value:function(){return this.running&&(this.stop(),this.start()),this.remaining}},{key:"isRunning",value:function(){return this.running}}]),e}(),ct={email:function(e,t){return/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid email address")},url:function(e,t){return/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{2,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid URL")}};function lt(e){!function(e){e.inputValidator||Object.keys(ct).forEach((function(t){e.input===t&&(e.inputValidator=ct[t])}))}(e),e.showLoaderOnConfirm&&!e.preConfirm&&d("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),e.animation=g(e.animation),function(e){(!e.target||"string"==typeof e.target&&!document.querySelector(e.target)||"string"!=typeof e.target&&!e.target.appendChild)&&(d('Target parameter is not valid, defaulting to "body"'),e.target="body")}(e),"string"==typeof e.title&&(e.title=e.title.split("\n").join("<br />")),ue(e)}function ft(e,t){e.removeEventListener(le,ft),t.style.overflowY="auto"}var dt,pt=function(e,t){le&&P(t)?(e.style.overflowY="hidden",t.addEventListener(le,ft.bind(null,t,e))):e.style.overflowY="auto"},mt=function(e,t){!function(){if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!k(document.body,w.iosfix)){var e=document.body.scrollTop;document.body.style.top=-1*e+"px",A(document.body,w.iosfix),Ye()}}(),"undefined"!=typeof window&&Ge()&&(Ke(),window.addEventListener("resize",Ke)),f(document.body.children).forEach((function(e){e===L()||function(e,t){if("function"==typeof e.contains)return e.contains(t)}(e,L())||(e.hasAttribute("aria-hidden")&&e.setAttribute("data-previous-aria-hidden",e.getAttribute("aria-hidden")),e.setAttribute("aria-hidden","true"))})),t&&qe(),setTimeout((function(){e.scrollTop=0}))},ht=function(e,t,n){n.animation&&A(t,w.show),R(t),A([document.documentElement,document.body,e],w.shown),n.heightAuto&&n.backdrop&&!n.toast&&A([document.documentElement,document.body],w["height-auto"])},gt=function(e){return e.checked?1:0},vt=function(e){return e.checked?e.value:null},bt=function(e){return e.files.length?null!==e.getAttribute("multiple")?e.files:e.files[0]:null},yt=function(t,n){var r=q(),o=function(e){return xt[n.input](r,Ct(e),n)};v(n.inputOptions)?(De(),n.inputOptions.then((function(e){t.hideLoading(),o(e)}))):"object"===e(n.inputOptions)?o(n.inputOptions):p("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(e(n.inputOptions)))},wt=function(e,t){var n=e.getInput();z(n),t.inputValue.then((function(r){n.value="number"===t.input?parseFloat(r)||0:r+"",R(n),n.focus(),e.hideLoading()})).catch((function(t){p("Error in inputValue promise: "+t),n.value="",R(n),n.focus(),e.hideLoading()}))},xt={select:function(e,t,n){var r=N(e,w.select);t.forEach((function(e){var t=e[0],o=e[1],i=document.createElement("option");i.value=t,i.innerHTML=o,n.inputValue.toString()===t.toString()&&(i.selected=!0),r.appendChild(i)})),r.focus()},radio:function(e,t,n){var r=N(e,w.radio);t.forEach((function(e){var t=e[0],o=e[1],i=document.createElement("input"),a=document.createElement("label");i.type="radio",i.name=w.radio,i.value=t,n.inputValue.toString()===t.toString()&&(i.checked=!0);var u=document.createElement("span");u.innerHTML=o,u.className=w.label,a.appendChild(i),a.appendChild(u),r.appendChild(a)}));var o=r.querySelectorAll("input");o.length&&o[0].focus()}},Ct=function(e){var t=[];return"undefined"!=typeof Map&&e instanceof Map?e.forEach((function(e,n){t.push([n,e])})):Object.keys(e).forEach((function(n){t.push([n,e[n]])})),t},kt=function(e,t){var n=function(e,t){var n=e.getInput();if(!n)return null;switch(t.input){case"checkbox":return gt(n);case"radio":return vt(n);case"file":return bt(n);default:return t.inputAutoTrim?n.value.trim():n.value}}(e,t);t.inputValidator?(e.disableInput(),Promise.resolve().then((function(){return t.inputValidator(n,t.validationMessage)})).then((function(r){e.enableButtons(),e.enableInput(),r?e.showValidationMessage(r):Tt(e,t,n)}))):e.getInput().checkValidity()?Tt(e,t,n):(e.enableButtons(),e.showValidationMessage(t.validationMessage))},St=function(e,t){e.closePopup({value:t})},Tt=function(e,t,n){t.showLoaderOnConfirm&&De(),t.preConfirm?(e.resetValidationMessage(),Promise.resolve().then((function(){return t.preConfirm(n,t.validationMessage)})).then((function(t){B(X())||!1===t?e.hideLoading():St(e,void 0===t?n:t)}))):St(e,n)},Et=function(e,t,n){for(var r=te(),o=0;o<r.length;o++)return(t+=n)===r.length?t=0:-1===t&&(t=r.length-1),r[t].focus();j().focus()},Ot=["ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Left","Right","Up","Down"],_t=["Escape","Esc"],At=function(e,t,n,r){n.stopKeydownPropagation&&t.stopPropagation(),"Enter"===t.key?Dt(e,t,n):"Tab"===t.key?Nt(t,n):-1!==Ot.indexOf(t.key)?Mt():-1!==_t.indexOf(t.key)&&Rt(t,n,r)},Dt=function(e,t,n){if(!t.isComposing&&t.target&&e.getInput()&&t.target.outerHTML===e.getInput().outerHTML){if(-1!==["textarea","file"].indexOf(n.input))return;_e(),t.preventDefault()}},Nt=function(e,t){for(var n=e.target,r=te(),o=-1,i=0;i<r.length;i++)if(n===r[i]){o=i;break}e.shiftKey?Et(0,o,-1):Et(0,o,1),e.stopPropagation(),e.preventDefault()},Mt=function(){var e=G(),t=K();document.activeElement===e&&B(t)?t.focus():document.activeElement===t&&B(e)&&e.focus()},Rt=function(e,t,n){g(t.allowEscapeKey)&&(e.preventDefault(),n(b.esc))},zt=function(e,t,n){e.popup.onclick=function(){t.showConfirmButton||t.showCancelButton||t.showCloseButton||t.input||n(b.close)}},It=!1,Bt=function(e){e.popup.onmousedown=function(){e.container.onmouseup=function(t){e.container.onmouseup=void 0,t.target===e.container&&(It=!0)}}},Pt=function(e){e.container.onmousedown=function(){e.popup.onmouseup=function(t){e.popup.onmouseup=void 0,(t.target===e.popup||e.popup.contains(t.target))&&(It=!0)}}},Lt=function(e,t,n){e.container.onclick=function(r){It?It=!1:r.target===e.container&&g(t.allowOutsideClick)&&n(b.backdrop)}},Ft=function(e,t,n){return new Promise((function(r){var o,i,a,u=function(t){e.closePopup({dismiss:t})};Ze.swalPromiseResolve.set(e,r),jt(Ne,n,u),t.confirmButton.onclick=function(){return function(e,t){e.disableButtons(),t.input?kt(e,t):Tt(e,t,!0)}(e,n)},t.cancelButton.onclick=function(){return function(e,t){e.disableButtons(),t(b.cancel)}(e,u)},t.closeButton.onclick=function(){return u(b.close)},function(e,t,n){t.toast?zt(e,t,n):(Bt(e),Pt(e),Lt(e,t,n))}(t,n,u),function(e,t,n,r){t.keydownTarget&&t.keydownHandlerAdded&&(t.keydownTarget.removeEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!1),n.toast||(t.keydownHandler=function(t){return At(e,t,n,r)},t.keydownTarget=n.keydownListenerCapture?window:j(),t.keydownListenerCapture=n.keydownListenerCapture,t.keydownTarget.addEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!0)}(e,Ne,n,u),n.toast&&(n.input||n.footer||n.showCloseButton)?A(document.body,w["toast-column"]):D(document.body,w["toast-column"]),function(e,t){"select"===t.input||"radio"===t.input?yt(e,t):-1!==["text","email","number","tel","textarea"].indexOf(t.input)&&v(t.inputValue)&&wt(e,t)}(e,n),o=n,i=L(),a=j(),"function"==typeof o.onBeforeOpen&&o.onBeforeOpen(a),ht(i,a,o),pt(i,a),ne()&&mt(i,o.scrollbarPadding),re()||Ne.previousActiveElement||(Ne.previousActiveElement=document.activeElement),"function"==typeof o.onOpen&&setTimeout((function(){return o.onOpen(a)})),Vt(t,n),t.container.scrollTop=0}))},Ht=function(e){var t={popup:j(),container:L(),content:q(),actions:J(),confirmButton:G(),cancelButton:K(),closeButton:ee(),validationMessage:X(),progressSteps:Y()};return me.domCache.set(e,t),t},jt=function(e,t,n){t.timer&&(e.timeout=new st((function(){n("timer"),delete e.timeout}),t.timer))},Vt=function(e,t){if(!t.toast)return g(t.allowEnterKey)?t.focusCancel&&B(e.cancelButton)?e.cancelButton.focus():t.focusConfirm&&B(e.confirmButton)?e.confirmButton.focus():void Et(0,-1,1):Ut()},Ut=function(){document.activeElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()},$t=Object.freeze({hideLoading:$e,disableLoading:$e,getInput:function(e){var t=me.innerParams.get(e||this),n=me.domCache.get(e||this);return n?T(n.content,t.input):null},close:tt,closePopup:tt,closeModal:tt,closeToast:tt,enableButtons:function(){at(this,["confirmButton","cancelButton"],!1)},disableButtons:function(){at(this,["confirmButton","cancelButton"],!0)},enableConfirmButton:function(){h("Swal.enableConfirmButton()","Swal.getConfirmButton().removeAttribute('disabled')"),at(this,["confirmButton"],!1)},disableConfirmButton:function(){h("Swal.disableConfirmButton()","Swal.getConfirmButton().setAttribute('disabled', '')"),at(this,["confirmButton"],!0)},enableInput:function(){return ut(this.getInput(),!1)},disableInput:function(){return ut(this.getInput(),!0)},showValidationMessage:function(e){var t=me.domCache.get(this);t.validationMessage.innerHTML=e;var n=window.getComputedStyle(t.popup);t.validationMessage.style.marginLeft="-".concat(n.getPropertyValue("padding-left")),t.validationMessage.style.marginRight="-".concat(n.getPropertyValue("padding-right")),R(t.validationMessage);var r=this.getInput();r&&(r.setAttribute("aria-invalid",!0),r.setAttribute("aria-describedBy",w["validation-message"]),O(r),A(r,w.inputerror))},resetValidationMessage:function(){var e=me.domCache.get(this);e.validationMessage&&z(e.validationMessage);var t=this.getInput();t&&(t.removeAttribute("aria-invalid"),t.removeAttribute("aria-describedBy"),D(t,w.inputerror))},getProgressSteps:function(){return h("Swal.getProgressSteps()","const swalInstance = Swal.fire({progressSteps: ['1', '2', '3']}); const progressSteps = swalInstance.params.progressSteps"),me.innerParams.get(this).progressSteps},setProgressSteps:function(e){h("Swal.setProgressSteps()","Swal.update()");var t=o({},me.innerParams.get(this),{progressSteps:e});Te(this,t),me.innerParams.set(this,t)},showProgressSteps:function(){var e=me.domCache.get(this);R(e.progressSteps)},hideProgressSteps:function(){var e=me.domCache.get(this);z(e.progressSteps)},_main:function(e){Ve(e),j()&&Ne.swalCloseEventFinishedCallback&&(Ne.swalCloseEventFinishedCallback(),delete Ne.swalCloseEventFinishedCallback),Ne.deferDisposalTimer&&(clearTimeout(Ne.deferDisposalTimer),delete Ne.deferDisposalTimer);var t=o({},Re,e);lt(t),Object.freeze(t),Ne.timeout&&(Ne.timeout.stop(),delete Ne.timeout),clearTimeout(Ne.restoreFocusTimeout);var n=Ht(this);return Oe(this,t),me.innerParams.set(this,t),Ft(this,n,t)},update:function(e){var t=j();if(!t||k(t,w.hide))return d("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");var n={};Object.keys(e).forEach((function(t){Wt.isUpdatableParameter(t)?n[t]=e[t]:d('Invalid parameter to update: "'.concat(t,'". Updatable params are listed here: https://github.com/sweetalert2/sweetalert2/blob/master/src/utils/params.js'))}));var r=o({},me.innerParams.get(this),n);Oe(this,r),me.innerParams.set(this,r),Object.defineProperties(this,{params:{value:o({},this.params,e),writable:!1,enumerable:!0}})}});function qt(){if("undefined"!=typeof window){"undefined"==typeof Promise&&p("This package requires a Promise library, please include a shim to enable it in this browser (See: https://github.com/sweetalert2/sweetalert2/wiki/Migration-from-SweetAlert-to-SweetAlert2#1-ie-support)"),dt=this;for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=Object.freeze(this.constructor.argsToParams(t));Object.defineProperties(this,{params:{value:r,writable:!1,enumerable:!0,configurable:!0}});var o=this._main(this.params);me.promise.set(this,o)}}qt.prototype.then=function(e){return me.promise.get(this).then(e)},qt.prototype.finally=function(e){return me.promise.get(this).finally(e)},o(qt.prototype,$t),o(qt,Ue),Object.keys($t).forEach((function(e){qt[e]=function(){var t;if(dt)return(t=dt)[e].apply(t,arguments)}})),qt.DismissReason=b,qt.version="8.19.0";var Wt=qt;return Wt.default=Wt,Wt}(),void 0!==this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),"undefined"!=typeof document&&function(e,t){var n=e.createElement("style");if(e.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=t);else try{n.innerHTML=t}catch(e){n.innerText=t}}(document,'@charset "UTF-8";.swal2-popup.swal2-toast{flex-direction:row;align-items:center;width:auto;padding:.625em;overflow-y:hidden;box-shadow:0 0 .625em #d9d9d9}.swal2-popup.swal2-toast .swal2-header{flex-direction:row}.swal2-popup.swal2-toast .swal2-title{flex-grow:1;justify-content:flex-start;margin:0 .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{position:static;width:.8em;height:.8em;line-height:.8}.swal2-popup.swal2-toast .swal2-content{justify-content:flex-start;font-size:1em}.swal2-popup.swal2-toast .swal2-icon{width:2em;min-width:2em;height:2em;margin:0}.swal2-popup.swal2-toast .swal2-icon::before{display:flex;align-items:center;font-size:2em;font-weight:700}@media all and (-ms-high-contrast:none),(-ms-high-contrast:active){.swal2-popup.swal2-toast .swal2-icon::before{font-size:.25em}}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{flex-basis:auto!important;width:auto;height:auto;margin:0 .3125em}.swal2-popup.swal2-toast .swal2-styled{margin:0 .3125em;padding:.3125em .625em;font-size:1em}.swal2-popup.swal2-toast .swal2-styled:focus{box-shadow:0 0 0 .0625em #fff,0 0 0 .125em rgba(50,100,150,.4)}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.8em;left:-.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast.swal2-show{-webkit-animation:swal2-toast-show .5s;animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{-webkit-animation:swal2-toast-hide .1s forwards;animation:swal2-toast-hide .1s forwards}.swal2-popup.swal2-toast .swal2-animate-success-icon .swal2-success-line-tip{-webkit-animation:swal2-toast-animate-success-line-tip .75s;animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-animate-success-icon .swal2-success-line-long{-webkit-animation:swal2-toast-animate-success-line-long .75s;animation:swal2-toast-animate-success-line-long .75s}.swal2-container{display:flex;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;flex-direction:row;align-items:center;justify-content:center;padding:.625em;overflow-x:hidden;transition:background-color .1s;background-color:transparent;-webkit-overflow-scrolling:touch}.swal2-container.swal2-top{align-items:flex-start}.swal2-container.swal2-top-left,.swal2-container.swal2-top-start{align-items:flex-start;justify-content:flex-start}.swal2-container.swal2-top-end,.swal2-container.swal2-top-right{align-items:flex-start;justify-content:flex-end}.swal2-container.swal2-center{align-items:center}.swal2-container.swal2-center-left,.swal2-container.swal2-center-start{align-items:center;justify-content:flex-start}.swal2-container.swal2-center-end,.swal2-container.swal2-center-right{align-items:center;justify-content:flex-end}.swal2-container.swal2-bottom{align-items:flex-end}.swal2-container.swal2-bottom-left,.swal2-container.swal2-bottom-start{align-items:flex-end;justify-content:flex-start}.swal2-container.swal2-bottom-end,.swal2-container.swal2-bottom-right{align-items:flex-end;justify-content:flex-end}.swal2-container.swal2-bottom-end>:first-child,.swal2-container.swal2-bottom-left>:first-child,.swal2-container.swal2-bottom-right>:first-child,.swal2-container.swal2-bottom-start>:first-child,.swal2-container.swal2-bottom>:first-child{margin-top:auto}.swal2-container.swal2-grow-fullscreen>.swal2-modal{display:flex!important;flex:1;align-self:stretch;justify-content:center}.swal2-container.swal2-grow-row>.swal2-modal{display:flex!important;flex:1;align-content:center;justify-content:center}.swal2-container.swal2-grow-column{flex:1;flex-direction:column}.swal2-container.swal2-grow-column.swal2-bottom,.swal2-container.swal2-grow-column.swal2-center,.swal2-container.swal2-grow-column.swal2-top{align-items:center}.swal2-container.swal2-grow-column.swal2-bottom-left,.swal2-container.swal2-grow-column.swal2-bottom-start,.swal2-container.swal2-grow-column.swal2-center-left,.swal2-container.swal2-grow-column.swal2-center-start,.swal2-container.swal2-grow-column.swal2-top-left,.swal2-container.swal2-grow-column.swal2-top-start{align-items:flex-start}.swal2-container.swal2-grow-column.swal2-bottom-end,.swal2-container.swal2-grow-column.swal2-bottom-right,.swal2-container.swal2-grow-column.swal2-center-end,.swal2-container.swal2-grow-column.swal2-center-right,.swal2-container.swal2-grow-column.swal2-top-end,.swal2-container.swal2-grow-column.swal2-top-right{align-items:flex-end}.swal2-container.swal2-grow-column>.swal2-modal{display:flex!important;flex:1;align-content:center;justify-content:center}.swal2-container:not(.swal2-top):not(.swal2-top-start):not(.swal2-top-end):not(.swal2-top-left):not(.swal2-top-right):not(.swal2-center-start):not(.swal2-center-end):not(.swal2-center-left):not(.swal2-center-right):not(.swal2-bottom):not(.swal2-bottom-start):not(.swal2-bottom-end):not(.swal2-bottom-left):not(.swal2-bottom-right):not(.swal2-grow-fullscreen)>.swal2-modal{margin:auto}@media all and (-ms-high-contrast:none),(-ms-high-contrast:active){.swal2-container .swal2-modal{margin:0!important}}.swal2-container.swal2-shown{background-color:rgba(0,0,0,.4)}.swal2-popup{display:none;position:relative;box-sizing:border-box;flex-direction:column;justify-content:center;width:32em;max-width:100%;padding:1.25em;border:none;border-radius:.3125em;background:#fff;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:0}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-header{display:flex;flex-direction:column;align-items:center}.swal2-title{position:relative;max-width:100%;margin:0 0 .4em;padding:0;color:#595959;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;flex-wrap:wrap;align-items:center;justify-content:center;width:100%;margin:1.25em auto 0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0,0,0,.1),rgba(0,0,0,.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0,0,0,.2),rgba(0,0,0,.2))}.swal2-actions.swal2-loading .swal2-styled.swal2-confirm{box-sizing:border-box;width:2.5em;height:2.5em;margin:.46875em;padding:0;-webkit-animation:swal2-rotate-loading 1.5s linear 0s infinite normal;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border:.25em solid transparent;border-radius:100%;border-color:transparent;background-color:transparent!important;color:transparent;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.swal2-actions.swal2-loading .swal2-styled.swal2-cancel{margin-right:30px;margin-left:30px}.swal2-actions.swal2-loading :not(.swal2-styled).swal2-confirm::after{content:"";display:inline-block;width:15px;height:15px;margin-left:5px;-webkit-animation:swal2-rotate-loading 1.5s linear 0s infinite normal;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border:3px solid #999;border-radius:50%;border-right-color:transparent;box-shadow:1px 1px 1px #fff}.swal2-styled{margin:.3125em;padding:.625em 2em;box-shadow:none;font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#3085d6;color:#fff;font-size:1.0625em}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#aaa;color:#fff;font-size:1.0625em}.swal2-styled:focus{outline:0;box-shadow:0 0 0 2px #fff,0 0 0 4px rgba(50,100,150,.4)}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1.25em 0 0;padding:1em 0 0;border-top:1px solid #eee;color:#545454;font-size:1em}.swal2-image{max-width:100%;margin:1.25em auto}.swal2-close{position:absolute;z-index:2;top:0;right:0;justify-content:center;width:1.2em;height:1.2em;padding:0;overflow:hidden;transition:color .1s ease-out;border:none;border-radius:0;outline:initial;background:0 0;color:#ccc;font-family:serif;font-size:2.5em;line-height:1.2;cursor:pointer}.swal2-close:hover{transform:none;background:0 0;color:#f27474}.swal2-content{z-index:1;justify-content:center;margin:0;padding:0;color:#545454;font-size:1.125em;font-weight:400;line-height:normal;text-align:center;word-wrap:break-word}.swal2-checkbox,.swal2-file,.swal2-input,.swal2-radio,.swal2-select,.swal2-textarea{margin:1em auto}.swal2-file,.swal2-input,.swal2-textarea{box-sizing:border-box;width:100%;transition:border-color .3s,box-shadow .3s;border:1px solid #d9d9d9;border-radius:.1875em;background:inherit;box-shadow:inset 0 1px 1px rgba(0,0,0,.06);color:inherit;font-size:1.125em}.swal2-file.swal2-inputerror,.swal2-input.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474!important;box-shadow:0 0 2px #f27474!important}.swal2-file:focus,.swal2-input:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:0;box-shadow:0 0 3px #c4e6f5}.swal2-file::-webkit-input-placeholder,.swal2-input::-webkit-input-placeholder,.swal2-textarea::-webkit-input-placeholder{color:#ccc}.swal2-file::-moz-placeholder,.swal2-input::-moz-placeholder,.swal2-textarea::-moz-placeholder{color:#ccc}.swal2-file:-ms-input-placeholder,.swal2-input:-ms-input-placeholder,.swal2-textarea:-ms-input-placeholder{color:#ccc}.swal2-file::-ms-input-placeholder,.swal2-input::-ms-input-placeholder,.swal2-textarea::-ms-input-placeholder{color:#ccc}.swal2-file::placeholder,.swal2-input::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em auto;background:inherit}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-input[type=number]{max-width:10em}.swal2-file{background:inherit;font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:inherit;color:inherit;font-size:1.125em}.swal2-checkbox,.swal2-radio{align-items:center;justify-content:center;background:inherit;color:inherit}.swal2-checkbox label,.swal2-radio label{margin:0 .6em;font-size:1.125em}.swal2-checkbox input,.swal2-radio input{margin:0 .4em}.swal2-validation-message{display:none;align-items:center;justify-content:center;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:1.25em auto 1.875em;border:.25em solid transparent;border-radius:50%;font-family:inherit;line-height:5em;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.swal2-icon::before{display:flex;align-items:center;height:92%;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-warning::before{content:"!"}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-info::before{content:"i"}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-question::before{content:"?"}.swal2-icon.swal2-question.swal2-arabic-question-mark::before{content:"؟"}.swal2-icon.swal2-success{border-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-.25em;left:-.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.875em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-progress-steps{align-items:center;margin:0 0 1.25em;padding:0;background:inherit;font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;width:2em;height:2em;border-radius:2em;background:#3085d6;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#3085d6}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;width:2.5em;height:.4em;margin:0 -1px;background:#3085d6}[class^=swal2]{-webkit-tap-highlight-color:transparent}.swal2-show{-webkit-animation:swal2-show .3s;animation:swal2-show .3s}.swal2-show.swal2-noanimation{-webkit-animation:none;animation:none}.swal2-hide{-webkit-animation:swal2-hide .15s forwards;animation:swal2-hide .15s forwards}.swal2-hide.swal2-noanimation{-webkit-animation:none;animation:none}.swal2-rtl .swal2-close{right:auto;left:0}.swal2-animate-success-icon .swal2-success-line-tip{-webkit-animation:swal2-animate-success-line-tip .75s;animation:swal2-animate-success-line-tip .75s}.swal2-animate-success-icon .swal2-success-line-long{-webkit-animation:swal2-animate-success-line-long .75s;animation:swal2-animate-success-line-long .75s}.swal2-animate-success-icon .swal2-success-circular-line-right{-webkit-animation:swal2-rotate-success-circular-line 4.25s ease-in;animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-animate-error-icon{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-animate-error-icon .swal2-x-mark{-webkit-animation:swal2-animate-error-x-mark .5s;animation:swal2-animate-error-x-mark .5s}@supports (-ms-accelerator:true){.swal2-range input{width:100%!important}.swal2-range output{display:none}}@media all and (-ms-high-contrast:none),(-ms-high-contrast:active){.swal2-range input{width:100%!important}.swal2-range output{display:none}}@-moz-document url-prefix(){.swal2-close:focus{outline:2px solid rgba(50,100,150,.4)}}@-webkit-keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@-webkit-keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@-webkit-keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@-webkit-keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@-webkit-keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@-webkit-keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@-webkit-keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.875em;width:1.5625em}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.875em;width:1.5625em}}@-webkit-keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@-webkit-keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@-webkit-keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@-webkit-keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@-webkit-keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto!important}body.swal2-no-backdrop .swal2-shown{top:auto;right:auto;bottom:auto;left:auto;max-width:calc(100% - .625em * 2);background-color:transparent}body.swal2-no-backdrop .swal2-shown>.swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}body.swal2-no-backdrop .swal2-shown.swal2-top{top:0;left:50%;transform:translateX(-50%)}body.swal2-no-backdrop .swal2-shown.swal2-top-left,body.swal2-no-backdrop .swal2-shown.swal2-top-start{top:0;left:0}body.swal2-no-backdrop .swal2-shown.swal2-top-end,body.swal2-no-backdrop .swal2-shown.swal2-top-right{top:0;right:0}body.swal2-no-backdrop .swal2-shown.swal2-center{top:50%;left:50%;transform:translate(-50%,-50%)}body.swal2-no-backdrop .swal2-shown.swal2-center-left,body.swal2-no-backdrop .swal2-shown.swal2-center-start{top:50%;left:0;transform:translateY(-50%)}body.swal2-no-backdrop .swal2-shown.swal2-center-end,body.swal2-no-backdrop .swal2-shown.swal2-center-right{top:50%;right:0;transform:translateY(-50%)}body.swal2-no-backdrop .swal2-shown.swal2-bottom{bottom:0;left:50%;transform:translateX(-50%)}body.swal2-no-backdrop .swal2-shown.swal2-bottom-left,body.swal2-no-backdrop .swal2-shown.swal2-bottom-start{bottom:0;left:0}body.swal2-no-backdrop .swal2-shown.swal2-bottom-end,body.swal2-no-backdrop .swal2-shown.swal2-bottom-right{right:0;bottom:0}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll!important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static!important}}body.swal2-toast-shown .swal2-container{background-color:transparent}body.swal2-toast-shown .swal2-container.swal2-shown{background-color:transparent}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-left,body.swal2-toast-shown .swal2-container.swal2-top-start{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-left,body.swal2-toast-shown .swal2-container.swal2-center-start{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%,-50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-left,body.swal2-toast-shown .swal2-container.swal2-bottom-start{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}body.swal2-toast-column .swal2-toast{flex-direction:column;align-items:stretch}body.swal2-toast-column .swal2-toast .swal2-actions{flex:1;align-self:stretch;height:2.2em;margin-top:.3125em}body.swal2-toast-column .swal2-toast .swal2-loading{justify-content:center}body.swal2-toast-column .swal2-toast .swal2-input{height:2em;margin:.3125em auto;font-size:1em}body.swal2-toast-column .swal2-toast .swal2-validation-message{font-size:1em}')},function(e,t,n){(function(t){!function(n){"use strict";var r=function(){},o=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e(t.apply(null,n))}},i=function(e){return function(){return e}},a=function(e){return e};function u(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=t.concat(n);return e.apply(null,o)}}var s=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return!e.apply(null,t)}},c=i(!1),l=i(!0),f=function(){return d},d=function(){var e=function(e){return e.isNone()},t=function(e){return e()},n=function(e){return e},o={fold:function(e,t){return e()},is:c,isSome:c,isNone:l,getOr:n,getOrThunk:t,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:i(null),getOrUndefined:i(void 0),or:n,orThunk:t,map:f,each:r,bind:f,exists:c,forall:l,filter:f,equals:e,equals_:e,toArray:function(){return[]},toString:i("none()")};return Object.freeze&&Object.freeze(o),o}(),p=function(e){var t=i(e),n=function(){return o},r=function(t){return t(e)},o={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:l,isNone:c,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return p(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:d},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(c,(function(t){return n(e,t)}))}};return o},m={some:p,none:f,from:function(e){return null==e?d:p(e)}},h=function(e){return function(t){return function(e){if(null===e)return"null";var t=typeof e;return"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t}(t)===e}},g=h("string"),v=h("object"),b=h("array"),y=h("null"),w=h("boolean"),x=h("function"),C=h("number"),k=Array.prototype.slice,S=Array.prototype.indexOf,T=Array.prototype.push,E=function(e,t){return S.call(e,t)},O=function(e,t){return E(e,t)>-1},_=function(e,t){for(var n=0,r=e.length;n<r;n++){if(t(e[n],n))return!0}return!1},A=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o)}return r},D=function(e,t){for(var n=0,r=e.length;n<r;n++){t(e[n],n)}},N=function(e,t){for(var n=[],r=[],o=0,i=e.length;o<i;o++){var a=e[o];(t(a,o)?n:r).push(a)}return{pass:n,fail:r}},M=function(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];t(i,r)&&n.push(i)}return n},R=function(e,t,n){return function(e,t){for(var n=e.length-1;n>=0;n--){t(e[n],n)}}(e,(function(e){n=t(n,e)})),n},z=function(e,t,n){return D(e,(function(e){n=t(n,e)})),n},I=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];if(t(o,n))return m.some(o)}return m.none()},B=function(e,t){for(var n=0,r=e.length;n<r;n++){if(t(e[n],n))return m.some(n)}return m.none()},P=function(e,t){return function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!b(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);T.apply(t,e[n])}return t}(A(e,t))},L=function(e,t){for(var n=0,r=e.length;n<r;++n){if(!0!==t(e[n],n))return!1}return!0},F=function(e,t){return M(e,(function(e){return!O(t,e)}))},H=function(e){return 0===e.length?m.none():m.some(e[0])},j=function(e){return 0===e.length?m.none():m.some(e[e.length-1])},V=x(Array.from)?Array.from:function(e){return k.call(e)},U=function(){return(U=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};var $=function(e){return function(t){return!!t&&t.nodeType===e}},q=$(1),W=function(e){var t=e.map((function(e){return e.toLowerCase()}));return function(e){if(e&&e.nodeName){var n=e.nodeName.toLowerCase();return O(t,n)}return!1}},Y=function(e){return function(t){if(q(t)){if(t.contentEditable===e)return!0;if(t.getAttribute("data-mce-contenteditable")===e)return!0}return!1}},X=W(["textarea","input"]),G=$(3),K=$(8),J=$(9),Q=$(11),Z=W(["br"]),ee=Y("true"),te=Y("false"),ne={isText:G,isElement:q,isComment:K,isDocument:J,isDocumentFragment:Q,isBr:Z,isContentEditableTrue:ee,isContentEditableFalse:te,isRestrictedNode:function(e){return!!e&&!Object.getPrototypeOf(e)},matchNodeNames:W,hasPropValue:function(e,t){return function(n){return q(n)&&n[e]===t}},hasAttribute:function(e,t){return function(t){return q(t)&&t.hasAttribute(e)}},hasAttributeValue:function(e,t){return function(n){return q(n)&&n.getAttribute(e)===t}},matchStyleValues:function(e,t){var n=t.toLowerCase().split(" ");return function(t){var r;if(q(t))for(r=0;r<n.length;r++){var o=t.ownerDocument.defaultView.getComputedStyle(t,null);if((o?o.getPropertyValue(e):null)===n[r])return!0}return!1}},isBogus:function(e){return q(e)&&e.hasAttribute("data-mce-bogus")},isBogusAll:function(e){return q(e)&&"all"===e.getAttribute("data-mce-bogus")},isTable:function(e){return q(e)&&"TABLE"===e.tagName},isTextareaOrInput:X},re=function(e){var t=e,n=function(){return t};return{get:n,set:function(e){t=e},clone:function(){return re(n())}}},oe=function(){return ie(0,0)},ie=function(e,t){return{major:e,minor:t}},ae={nu:ie,detect:function(e,t){var n=String(t).toLowerCase();return 0===e.length?oe():function(e,t){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t))return r}}(e,t);if(!n)return{major:0,minor:0};var r=function(e){return Number(t.replace(n,"$"+e))};return ie(r(1),r(2))}(e,n)},unknown:oe},ue=function(e,t){return function(){return t===e}},se=function(e){var t=e.current;return{current:t,version:e.version,isEdge:ue("Edge",t),isChrome:ue("Chrome",t),isIE:ue("IE",t),isOpera:ue("Opera",t),isFirefox:ue("Firefox",t),isSafari:ue("Safari",t)}},ce={unknown:function(){return se({current:void 0,version:ae.unknown()})},nu:se,edge:i("Edge"),chrome:i("Chrome"),ie:i("IE"),opera:i("Opera"),firefox:i("Firefox"),safari:i("Safari")},le=function(e,t){return function(){return t===e}},fe=function(e){var t=e.current;return{current:t,version:e.version,isWindows:le("Windows",t),isiOS:le("iOS",t),isAndroid:le("Android",t),isOSX:le("OSX",t),isLinux:le("Linux",t),isSolaris:le("Solaris",t),isFreeBSD:le("FreeBSD",t)}},de={unknown:function(){return fe({current:void 0,version:ae.unknown()})},nu:fe,windows:i("Windows"),ios:i("iOS"),android:i("Android"),linux:i("Linux"),osx:i("OSX"),solaris:i("Solaris"),freebsd:i("FreeBSD")},pe=function(e,t){var n=String(t).toLowerCase();return I(e,(function(e){return e.search(n)}))},me=function(e,t){return pe(e,t).map((function(e){var n=ae.detect(e.versionRegexes,t);return{current:e.name,version:n}}))},he=function(e,t){return pe(e,t).map((function(e){var n=ae.detect(e.versionRegexes,t);return{current:e.name,version:n}}))},ge=function(e,t){return-1!==e.indexOf(t)},ve=function(e,t){return function(e,t,n){return""===t||!(e.length<t.length)&&e.substr(n,n+t.length)===t}(e,t,0)},be=function(e){return e.replace(/^\s+|\s+$/g,"")},ye=function(e){return e.replace(/\s+$/g,"")},we=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,xe=function(e){return function(t){return ge(t,e)}},Ce=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return ge(e,"edge/")&&ge(e,"chrome")&&ge(e,"safari")&&ge(e,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,we],search:function(e){return ge(e,"chrome")&&!ge(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return ge(e,"msie")||ge(e,"trident")}},{name:"Opera",versionRegexes:[we,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:xe("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:xe("firefox")},{name:"Safari",versionRegexes:[we,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(ge(e,"safari")||ge(e,"mobile/"))&&ge(e,"applewebkit")}}],ke=[{name:"Windows",search:xe("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return ge(e,"iphone")||ge(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:xe("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:xe("os x"),versionRegexes:[/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:xe("linux"),versionRegexes:[]},{name:"Solaris",search:xe("sunos"),versionRegexes:[]},{name:"FreeBSD",search:xe("freebsd"),versionRegexes:[]}],Se={browsers:i(Ce),oses:i(ke)},Te=function(e,t){var n=Se.browsers(),r=Se.oses(),o=me(n,e).fold(ce.unknown,ce.nu),a=he(r,e).fold(de.unknown,de.nu),u=function(e,t,n,r){var o=e.isiOS()&&!0===/ipad/i.test(n),a=e.isiOS()&&!o,u=e.isiOS()||e.isAndroid(),s=u||r("(pointer:coarse)"),c=o||!a&&u&&r("(min-device-width:768px)"),l=a||u&&!c,f=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n),d=!l&&!c&&!f;return{isiPad:i(o),isiPhone:i(a),isTablet:i(c),isPhone:i(l),isTouch:i(s),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:i(f),isDesktop:i(d)}}(a,o,e,t);return{browser:o,os:a,deviceType:u}},Ee=re(Te(n.navigator.userAgent,(function(e){return n.window.matchMedia(e).matches}))),Oe=function(){return Ee.get()},_e=function(e){if(null==e)throw new Error("Node cannot be null or undefined");return{dom:i(e)}},Ae={fromHtml:function(e,t){var r=(t||n.document).createElement("div");if(r.innerHTML=e,!r.hasChildNodes()||r.childNodes.length>1)throw n.console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return _e(r.childNodes[0])},fromTag:function(e,t){var r=(t||n.document).createElement(e);return _e(r)},fromText:function(e,t){var r=(t||n.document).createTextNode(e);return _e(r)},fromDom:_e,fromPoint:function(e,t,n){var r=e.dom();return m.from(r.elementFromPoint(t,n)).map(_e)}},De=(n.Node.ATTRIBUTE_NODE,n.Node.CDATA_SECTION_NODE,n.Node.COMMENT_NODE,n.Node.DOCUMENT_NODE),Ne=(n.Node.DOCUMENT_TYPE_NODE,n.Node.DOCUMENT_FRAGMENT_NODE,n.Node.ELEMENT_NODE),Me=n.Node.TEXT_NODE,Re=(n.Node.PROCESSING_INSTRUCTION_NODE,n.Node.ENTITY_REFERENCE_NODE,n.Node.ENTITY_NODE,n.Node.NOTATION_NODE,void 0!==n.window?n.window:Function("return this;")(),function(e){return e.dom().nodeName.toLowerCase()}),ze=function(e){return function(t){return function(e){return e.dom().nodeType}(t)===e}},Ie=ze(Ne),Be=ze(Me),Pe=Object.keys,Le=Object.hasOwnProperty,Fe=function(e,t){for(var n=Pe(e),r=0,o=n.length;r<o;r++){var i=n[r];t(e[i],i)}},He=function(e,t){return je(e,(function(e,n){return{k:n,v:t(e,n)}}))},je=function(e,t){var n={};return Fe(e,(function(e,r){var o=t(e,r);n[o.k]=o.v})),n},Ve=function(e,t){var n={},r={};return Fe(e,(function(e,o){(t(e,o)?n:r)[o]=e})),{t:n,f:r}},Ue=function(e,t){return $e(e,t)?m.from(e[t]):m.none()},$e=function(e,t){return Le.call(e,t)},qe=function(e){return void 0!==e.style&&x(e.style.getPropertyValue)},We=function(e){var t=Be(e)?e.dom().parentNode:e.dom();return null!=t&&t.ownerDocument.body.contains(t)},Ye=function(e,t,r){if(!(g(r)||w(r)||C(r)))throw n.console.error("Invalid call to Attr.set. Key ",t,":: Value ",r,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,r+"")},Xe=function(e,t,n){Ye(e.dom(),t,n)},Ge=function(e,t){var n=e.dom();Fe(t,(function(e,t){Ye(n,t,e)}))},Ke=function(e,t){var n=e.dom().getAttribute(t);return null===n?void 0:n},Je=function(e,t){e.dom().removeAttribute(t)},Qe=function(e,t){var r=e.dom(),o=n.window.getComputedStyle(r).getPropertyValue(t),i=""!==o||We(e)?o:Ze(r,t);return null===i?void 0:i},Ze=function(e,t){return qe(e)?e.style.getPropertyValue(t):""},et=function(e,t){var n=e.dom(),r=Ze(n,t);return m.from(r).filter((function(e){return e.length>0}))},tt=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(e.length!==t.length)throw new Error('Wrong number of arguments to struct. Expected "['+e.length+']", got '+t.length+" arguments");var r={};return D(e,(function(e,n){r[e]=i(t[n])})),r}},nt=function(e,t){var n=[],r=function(e){return n.push(e),t(e)},o=t(e);do{o=o.bind(r)}while(o.isSome());return n},rt=function(e,t,n){return 0!=(e.compareDocumentPosition(t)&n)},ot=function(e,t){return rt(e,t,n.Node.DOCUMENT_POSITION_CONTAINED_BY)},it=Ne,at=De,ut=function(e,t){var n=e.dom();if(n.nodeType!==it)return!1;var r=n;if(void 0!==r.matches)return r.matches(t);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(t);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(t);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},st=function(e){return e.nodeType!==it&&e.nodeType!==at||0===e.childElementCount},ct=function(e,t){return e.dom()===t.dom()},lt=Oe().browser.isIE()?function(e,t){return ot(e.dom(),t.dom())}:function(e,t){var n=e.dom(),r=t.dom();return n!==r&&n.contains(r)},ft=function(e){return Ae.fromDom(e.dom().ownerDocument)},dt=function(e){return Ae.fromDom(e.dom().ownerDocument.defaultView)},pt=function(e){return m.from(e.dom().parentNode).map(Ae.fromDom)},mt=function(e){return m.from(e.dom().previousSibling).map(Ae.fromDom)},ht=function(e){return m.from(e.dom().nextSibling).map(Ae.fromDom)},gt=function(e){return function(e){var t=k.call(e,0);return t.reverse(),t}(nt(e,mt))},vt=function(e){return nt(e,ht)},bt=function(e){return A(e.dom().childNodes,Ae.fromDom)},yt=function(e,t){var n=e.dom().childNodes;return m.from(n[t]).map(Ae.fromDom)},wt=function(e){return yt(e,0)},xt=function(e){return yt(e,e.dom().childNodes.length-1)},Ct=(tt("element","offset"),Oe().browser),kt=function(e){return I(e,Ie)},St=function(e,t){return e.children&&O(e.children,t)},Tt={getPos:function(e,t,n){var r,o,i=0,a=0,u=e.ownerDocument;if(n=n||e,t){if(n===e&&t.getBoundingClientRect&&"static"===Qe(Ae.fromDom(e),"position"))return{x:i=(o=t.getBoundingClientRect()).left+(u.documentElement.scrollLeft||e.scrollLeft)-u.documentElement.clientLeft,y:a=o.top+(u.documentElement.scrollTop||e.scrollTop)-u.documentElement.clientTop};for(r=t;r&&r!==n&&r.nodeType&&!St(r,n);)i+=r.offsetLeft||0,a+=r.offsetTop||0,r=r.offsetParent;for(r=t.parentNode;r&&r!==n&&r.nodeType&&!St(r,n);)i-=r.scrollLeft||0,a-=r.scrollTop||0,r=r.parentNode;a+=function(e){return Ct.isFirefox()&&"table"===Re(e)?kt(bt(e)).filter((function(e){return"caption"===Re(e)})).bind((function(e){return kt(vt(e)).map((function(t){var n=t.dom().offsetTop,r=e.dom().offsetTop,o=e.dom().offsetHeight;return n<=r?-o:0}))})).getOr(0):0}(Ae.fromDom(t))}return{x:i,y:a}}},Et={},Ot={exports:Et};!function(e,n,r,o){!function(o){if("object"==typeof n&&void 0!==r)r.exports=o();else if("function"==typeof e&&e.amd)e([],o);else{("undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:this).EphoxContactWrapper=o()}}((function(){return function e(t,n,r){function i(u,s){if(!n[u]){if(!t[u]){var c="function"==typeof o&&o;if(!s&&c)return c(u,!0);if(a)return a(u,!0);var l=new Error("Cannot find module '"+u+"'");throw l.code="MODULE_NOT_FOUND",l}var f=n[u]={exports:{}};t[u][0].call(f.exports,(function(e){return i(t[u][1][e]||e)}),f,f.exports,e,t,n,r)}return n[u].exports}for(var a="function"==typeof o&&o,u=0;u<r.length;u++)i(r[u]);return i}({1:[function(e,t,n){var r,o,i=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:a}catch(e){r=a}try{o="function"==typeof clearTimeout?clearTimeout:u}catch(e){o=u}}();var c,l=[],f=!1,d=-1;function p(){f&&c&&(f=!1,c.length?l=c.concat(l):d=-1,l.length&&m())}function m(){if(!f){var e=s(p);f=!0;for(var t=l.length;t;){for(c=l,l=[];++d<t;)c&&c[d].run();d=-1,t=l.length}c=null,f=!1,function(e){if(o===clearTimeout)return clearTimeout(e);if((o===u||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(e);try{o(e)}catch(t){try{return o.call(null,e)}catch(t){return o.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function g(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new h(e,t)),1!==l.length||f||s(m)},h.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],2:[function(e,t,n){(function(e){!function(n){var r=setTimeout;function o(){}function i(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],f(e,this)}function a(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,i._immediateFn((function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var r;try{r=n(e._value)}catch(e){return void s(t.promise,e)}u(t.promise,r)}else(1===e._state?u:s)(t.promise,e._value)}))):e._deferreds.push(t)}function u(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof i)return e._state=3,e._value=t,void c(e);if("function"==typeof n)return void f((r=n,o=t,function(){r.apply(o,arguments)}),e)}e._state=1,e._value=t,c(e)}catch(t){s(e,t)}var r,o}function s(e,t){e._state=2,e._value=t,c(e)}function c(e){2===e._state&&0===e._deferreds.length&&i._immediateFn((function(){e._handled||i._unhandledRejectionFn(e._value)}));for(var t=0,n=e._deferreds.length;t<n;t++)a(e,e._deferreds[t]);e._deferreds=null}function l(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function f(e,t){var n=!1;try{e((function(e){n||(n=!0,u(t,e))}),(function(e){n||(n=!0,s(t,e))}))}catch(e){if(n)return;n=!0,s(t,e)}}i.prototype.catch=function(e){return this.then(null,e)},i.prototype.then=function(e,t){var n=new this.constructor(o);return a(this,new l(e,t,n)),n},i.all=function(e){var t=Array.prototype.slice.call(e);return new i((function(e,n){if(0===t.length)return e([]);var r=t.length;function o(i,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var u=a.then;if("function"==typeof u)return void u.call(a,(function(e){o(i,e)}),n)}t[i]=a,0==--r&&e(t)}catch(e){n(e)}}for(var i=0;i<t.length;i++)o(i,t[i])}))},i.resolve=function(e){return e&&"object"==typeof e&&e.constructor===i?e:new i((function(t){t(e)}))},i.reject=function(e){return new i((function(t,n){n(e)}))},i.race=function(e){return new i((function(t,n){for(var r=0,o=e.length;r<o;r++)e[r].then(t,n)}))},i._immediateFn="function"==typeof e?function(t){e(t)}:function(e){r(e,0)},i._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},i._setImmediateFn=function(e){i._immediateFn=e},i._setUnhandledRejectionFn=function(e){i._unhandledRejectionFn=e},void 0!==t&&t.exports?t.exports=i:n.Promise||(n.Promise=i)}(this)}).call(this,e("timers").setImmediate)},{timers:3}],3:[function(e,t,n){(function(t,r){var o=e("process/browser.js").nextTick,i=Function.prototype.apply,a=Array.prototype.slice,u={},s=0;function c(e,t){this._id=e,this._clearFn=t}n.setTimeout=function(){return new c(i.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new c(i.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(e){e.close()},c.prototype.unref=c.prototype.ref=function(){},c.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},n.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},n._unrefActive=n.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n.setImmediate="function"==typeof t?t:function(e){var t=s++,r=!(arguments.length<2)&&a.call(arguments,1);return u[t]=!0,o((function(){u[t]&&(r?e.apply(null,r):e.call(null),n.clearImmediate(t))})),t},n.clearImmediate="function"==typeof r?r:function(e){delete u[e]}}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":1,timers:3}],4:[function(e,t,n){var r=e("promise-polyfill"),o="undefined"!=typeof window?window:Function("return this;")();t.exports={boltExport:o.Promise||r}},{"promise-polyfill":2}]},{},[4])(4)}))}(void 0,Et,Ot,void 0);var _t,At=Ot.exports.boltExport,Dt=function(e){var t=m.none(),r=[],o=function(e){i()?u(e):r.push(e)},i=function(){return t.isSome()},a=function(e){D(e,u)},u=function(e){t.each((function(t){n.setTimeout((function(){e(t)}),0)}))};return e((function(e){t=m.some(e),a(r),r=[]})),{get:o,map:function(e){return Dt((function(t){o((function(n){t(e(n))}))}))},isReady:i}},Nt={nu:Dt,pure:function(e){return Dt((function(t){t(e)}))}},Mt=function(e){n.setTimeout((function(){throw e}),0)},Rt=function(e){var t=function(t){e().then(t,Mt)};return{map:function(t){return Rt((function(){return e().then(t)}))},bind:function(t){return Rt((function(){return e().then((function(e){return t(e).toPromise()}))}))},anonBind:function(t){return Rt((function(){return e().then((function(){return t.toPromise()}))}))},toLazy:function(){return Nt.nu(t)},toCached:function(){var t=null;return Rt((function(){return null===t&&(t=e()),t}))},toPromise:e,get:t}},zt={nu:function(e){return Rt((function(){return new At(e)}))},pure:function(e){return Rt((function(){return At.resolve(e)}))}},It=function(e,t){return t((function(t){var n=[],r=0;0===e.length?t([]):D(e,(function(o,i){o.get(function(o){return function(i){n[o]=i,++r>=e.length&&t(n)}}(i))}))}))},Bt=function(e){return It(e,zt.nu)},Pt=function(e){return{is:function(t){return e===t},isValue:l,isError:c,getOr:i(e),getOrThunk:i(e),getOrDie:i(e),or:function(t){return Pt(e)},orThunk:function(t){return Pt(e)},fold:function(t,n){return n(e)},map:function(t){return Pt(t(e))},mapError:function(t){return Pt(e)},each:function(t){t(e)},bind:function(t){return t(e)},exists:function(t){return t(e)},forall:function(t){return t(e)},toOption:function(){return m.some(e)}}},Lt=function(e){return{is:c,isValue:c,isError:l,getOr:a,getOrThunk:function(e){return e()},getOrDie:function(){return(t=String(e),function(){throw new Error(t)})();var t},or:function(e){return e},orThunk:function(e){return e()},fold:function(t,n){return t(e)},map:function(t){return Lt(e)},mapError:function(t){return Lt(t(e))},each:r,bind:function(t){return Lt(e)},exists:c,forall:l,toOption:m.none}},Ft={value:Pt,error:Lt,fromOption:function(e,t){return e.fold((function(){return Lt(t)}),Pt)}},Ht=window.Promise?window.Promise:function(){function e(e,t){return function(){e.apply(t,arguments)}}var t=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},r=function(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],l(t,e(a,this),e(u,this))},o=r.immediateFn||"function"==typeof n.setImmediate&&n.setImmediate||function(e){n.setTimeout(e,1)};function i(e){var t=this;null!==this._state?o((function(){var n=t._state?e.onFulfilled:e.onRejected;if(null!==n){var r;try{r=n(t._value)}catch(t){return void e.reject(t)}e.resolve(r)}else(t._state?e.resolve:e.reject)(t._value)})):this._deferreds.push(e)}function a(t){try{if(t===this)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if("function"==typeof n)return void l(e(n,t),e(a,this),e(u,this))}this._state=!0,this._value=t,s.call(this)}catch(e){u.call(this,e)}}function u(e){this._state=!1,this._value=e,s.call(this)}function s(){for(var e=0,t=this._deferreds.length;e<t;e++)i.call(this,this._deferreds[e]);this._deferreds=null}function c(e,t,n,r){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=r}function l(e,t,n){var r=!1;try{e((function(e){r||(r=!0,t(e))}),(function(e){r||(r=!0,n(e))}))}catch(e){if(r)return;r=!0,n(e)}}return r.prototype.catch=function(e){return this.then(null,e)},r.prototype.then=function(e,t){var n=this;return new r((function(r,o){i.call(n,new c(e,t,r,o))}))},r.all=function(){var e=Array.prototype.slice.call(1===arguments.length&&t(arguments[0])?arguments[0]:arguments);return new r((function(t,n){if(0===e.length)return t([]);var r=e.length;function o(i,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var u=a.then;if("function"==typeof u)return void u.call(a,(function(e){o(i,e)}),n)}e[i]=a,0==--r&&t(e)}catch(e){n(e)}}for(var i=0;i<e.length;i++)o(i,e[i])}))},r.resolve=function(e){return e&&"object"==typeof e&&e.constructor===r?e:new r((function(t){t(e)}))},r.reject=function(e){return new r((function(t,n){n(e)}))},r.race=function(e){return new r((function(t,n){for(var r=0,o=e.length;r<o;r++)e[r].then(t,n)}))},r}(),jt=function(e,t){return"number"!=typeof t&&(t=0),n.setTimeout(e,t)},Vt=function(e,t){return"number"!=typeof t&&(t=1),n.setInterval(e,t)},Ut=function(e,t){var r,o;return(o=function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];n.clearTimeout(r),r=jt((function(){e.apply(this,o)}),t)}).stop=function(){n.clearTimeout(r)},o},$t={requestAnimationFrame:function(e,t){_t?_t.then(e):_t=new Ht((function(e){t||(t=n.document.body),function(e,t){var r,o=n.window.requestAnimationFrame,i=["ms","moz","webkit"];for(r=0;r<i.length&&!o;r++)o=n.window[i[r]+"RequestAnimationFrame"];o||(o=function(e){n.window.setTimeout(e,0)}),o(e,t)}(e,t)})).then(e)},setTimeout:jt,setInterval:Vt,setEditorTimeout:function(e,t,n){return jt((function(){e.removed||t()}),n)},setEditorInterval:function(e,t,r){var o;return o=Vt((function(){e.removed?n.clearInterval(o):t()}),r)},debounce:Ut,throttle:Ut,clearInterval:function(e){return n.clearInterval(e)},clearTimeout:function(e){return n.clearTimeout(e)}},qt=n.navigator.userAgent,Wt=Oe(),Yt=Wt.browser,Xt=Wt.os,Gt=Wt.deviceType,Kt=/WebKit/.test(qt)&&!Yt.isEdge(),Jt="FormData"in n.window&&"FileReader"in n.window&&"URL"in n.window&&!!n.URL.createObjectURL,Qt=-1!==qt.indexOf("Windows Phone"),Zt={opera:Yt.isOpera(),webkit:Kt,ie:!(!Yt.isIE()&&!Yt.isEdge())&&Yt.version.major,gecko:Yt.isFirefox(),mac:Xt.isOSX()||Xt.isiOS(),iOS:Gt.isiPad()||Gt.isiPhone(),android:Xt.isAndroid(),contentEditable:!0,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:!0,range:n.window.getSelection&&"Range"in n.window,documentMode:Yt.isIE()?n.document.documentMode||7:10,fileApi:Jt,ceFalse:!0,cacheSuffix:null,container:null,experimentalShadowDom:!1,canHaveCSP:!Yt.isIE(),desktop:Gt.isDesktop(),windowsPhone:Qt,browser:{current:Yt.current,version:Yt.version,isChrome:Yt.isChrome,isEdge:Yt.isEdge,isFirefox:Yt.isFirefox,isIE:Yt.isIE,isOpera:Yt.isOpera,isSafari:Yt.isSafari},os:{current:Xt.current,version:Xt.version,isAndroid:Xt.isAndroid,isFreeBSD:Xt.isFreeBSD,isiOS:Xt.isiOS,isLinux:Xt.isLinux,isOSX:Xt.isOSX,isSolaris:Xt.isSolaris,isWindows:Xt.isWindows},deviceType:{isDesktop:Gt.isDesktop,isiPad:Gt.isiPad,isiPhone:Gt.isiPhone,isPhone:Gt.isPhone,isTablet:Gt.isTablet,isTouch:Gt.isTouch,isWebView:Gt.isWebView}},en=Array.isArray,tn=function(e,t,n){var r,o;if(!e)return 0;if(n=n||e,void 0!==e.length){for(r=0,o=e.length;r<o;r++)if(!1===t.call(n,e[r],r,e))return 0}else for(r in e)if(e.hasOwnProperty(r)&&!1===t.call(n,e[r],r,e))return 0;return 1},nn=function(e,t,n){var r,o;for(r=0,o=e.length;r<o;r++)if(t.call(n,e[r],r,e))return r;return-1},rn={isArray:en,toArray:function(e){var t,n,r=e;if(!en(e))for(r=[],t=0,n=e.length;t<n;t++)r[t]=e[t];return r},each:tn,map:function(e,t){var n=[];return tn(e,(function(r,o){n.push(t(r,o,e))})),n},filter:function(e,t){var n=[];return tn(e,(function(r,o){t&&!t(r,o,e)||n.push(r)})),n},indexOf:function(e,t){var n,r;if(e)for(n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},reduce:function(e,t,n,r){var o=0;for(arguments.length<3&&(n=e[0]);o<e.length;o++)n=t.call(r,n,e[o],o);return n},findIndex:nn,find:function(e,t,n){var r=nn(e,t,n);if(-1!==r)return e[r]},last:function(e){return e[e.length-1]}},on=/^\s*|\s*$/g,an=function(e){return null==e?"":(""+e).replace(on,"")},un=function(e,t){return t?!("array"!==t||!rn.isArray(e))||typeof e===t:void 0!==e},sn=function(e,t,n,r){r=r||this,e&&(n&&(e=e[n]),rn.each(e,(function(e,o){if(!1===t.call(r,e,o,n))return!1;sn(e,t,n,r)})))},cn={trim:an,isArray:rn.isArray,is:un,toArray:rn.toArray,makeMap:function(e,t,n){var r;for(t=t||",","string"==typeof(e=e||[])&&(e=e.split(t)),n=n||{},r=e.length;r--;)n[e[r]]={};return n},each:rn.each,map:rn.map,grep:rn.filter,inArray:rn.indexOf,hasOwn:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},extend:function(e,t){for(var n,r,o,i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];var u,s=arguments;for(n=1,r=s.length;n<r;n++)for(o in t=s[n])t.hasOwnProperty(o)&&void 0!==(u=t[o])&&(e[o]=u);return e},create:function(e,t,n){var r,o,i,a,u,s=0;if(e=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(e),i=e[3].match(/(^|\.)(\w+)$/i)[2],!(o=this.createNS(e[3].replace(/\.\w+$/,""),n))[i]){if("static"===e[2])return o[i]=t,void(this.onCreate&&this.onCreate(e[2],e[3],o[i]));t[i]||(t[i]=function(){},s=1),o[i]=t[i],this.extend(o[i].prototype,t),e[5]&&(r=this.resolve(e[5]).prototype,a=e[5].match(/\.(\w+)$/i)[1],u=o[i],o[i]=s?function(){return r[a].apply(this,arguments)}:function(){return this.parent=r[a],u.apply(this,arguments)},o[i].prototype[i]=o[i],this.each(r,(function(e,t){o[i].prototype[t]=r[t]})),this.each(t,(function(e,t){r[t]?o[i].prototype[t]=function(){return this.parent=r[t],e.apply(this,arguments)}:t!==i&&(o[i].prototype[t]=e)}))),this.each(t.static,(function(e,t){o[i][t]=e}))}},walk:sn,createNS:function(e,t){var r,o;for(t=t||n.window,e=e.split("."),r=0;r<e.length;r++)t[o=e[r]]||(t[o]={}),t=t[o];return t},resolve:function(e,t){var r,o;for(t=t||n.window,r=0,o=(e=e.split(".")).length;r<o&&(t=t[e[r]]);r++);return t},explode:function(e,t){return!e||un(e,"array")?e:rn.map(e.split(t||","),an)},_addCacheSuffix:function(e){var t=Zt.cacheSuffix;return t&&(e+=(-1===e.indexOf("?")?"?":"&")+t),e}};var ln,fn,dn,pn=function(e){var t;return function(n){return(t=t||function(e,t){for(var n={},r=0,o=e.length;r<o;r++){var i=e[r];n[String(i)]=t(i,r)}return n}(e,i(!0))).hasOwnProperty(Re(n))}},mn=pn(["h1","h2","h3","h4","h5","h6"]),hn=pn(["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"]),gn=function(e){return Ie(e)&&!hn(e)},vn=function(e){return Ie(e)&&"br"===Re(e)},bn=pn(["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"]),yn=pn(["ul","ol","dl"]),wn=pn(["li","dd","dt"]),xn=pn(["area","base","basefont","br","col","frame","hr","img","input","isindex","link","meta","param","embed","source","wbr","track"]),Cn=pn(["thead","tbody","tfoot"]),kn=pn(["td","th"]),Sn=pn(["pre","script","textarea","style"]),Tn=function(e){return e&&"SPAN"===e.tagName&&"bookmark"===e.getAttribute("data-mce-type")},En=function(e,t){var n,r=t.childNodes;if(!ne.isElement(t)||!Tn(t)){for(n=r.length-1;n>=0;n--)En(e,r[n]);if(!1===ne.isDocument(t)){if(ne.isText(t)&&t.nodeValue.length>0){var o=cn.trim(t.nodeValue).length;if(e.isBlock(t.parentNode)||o>0)return;if(0===o&&function(e){var t=e.previousSibling&&"SPAN"===e.previousSibling.nodeName,n=e.nextSibling&&"SPAN"===e.nextSibling.nodeName;return t&&n}(t))return}else if(ne.isElement(t)&&(1===(r=t.childNodes).length&&Tn(r[0])&&t.parentNode.insertBefore(r[0],t),r.length||xn(Ae.fromDom(t))))return;e.remove(t)}return t}},On={trimNode:En},_n=cn.makeMap,An=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Dn=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Nn=/[<>&\"\']/g,Mn=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,Rn={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"};fn={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},dn={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"};var zn=function(e,t){var n,r,o,i={};if(e){for(e=e.split(","),t=t||10,n=0;n<e.length;n+=2)r=String.fromCharCode(parseInt(e[n],t)),fn[r]||(o="&"+e[n+1]+";",i[r]=o,i[o]=r);return i}};ln=zn("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32);var In=function(e,t){return e.replace(t?An:Dn,(function(e){return fn[e]||e}))},Bn=function(e,t){return e.replace(t?An:Dn,(function(e){return e.length>1?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":fn[e]||"&#"+e.charCodeAt(0)+";"}))},Pn=function(e,t,n){return n=n||ln,e.replace(t?An:Dn,(function(e){return fn[e]||n[e]||e}))},Ln={encodeRaw:In,encodeAllRaw:function(e){return(""+e).replace(Nn,(function(e){return fn[e]||e}))},encodeNumeric:Bn,encodeNamed:Pn,getEncodeFunc:function(e,t){var n=zn(t)||ln,r=_n(e.replace(/\+/g,","));return r.named&&r.numeric?function(e,t){return e.replace(t?An:Dn,(function(e){return void 0!==fn[e]?fn[e]:void 0!==n[e]?n[e]:e.length>1?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":"&#"+e.charCodeAt(0)+";"}))}:r.named?t?function(e,t){return Pn(e,t,n)}:Pn:r.numeric?Bn:In},decode:function(e){return e.replace(Mn,(function(e,t){return t?(t="x"===t.charAt(0).toLowerCase()?parseInt(t.substr(1),16):parseInt(t,10))>65535?(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t))):Rn[t]||String.fromCharCode(t):dn[e]||ln[e]||function(e){var t;return(t=Ae.fromTag("div").dom()).innerHTML=e,t.textContent||t.innerText||e}(e)}))}},Fn={},Hn={},jn=cn.makeMap,Vn=cn.each,Un=cn.extend,$n=cn.explode,qn=cn.inArray,Wn=function(e,t){return(e=cn.trim(e))?e.split(t||" "):[]},Yn=function(e){var t,n,r,o,i,a,u={},s=function(e,n,r){var o,i,a,s=function(e,t){var n,r,o={};for(n=0,r=e.length;n<r;n++)o[e[n]]=t||{};return o};for(n=n||"","string"==typeof(r=r||[])&&(r=Wn(r)),o=(e=Wn(e)).length;o--;)a={attributes:s(i=Wn([t,n].join(" "))),attributesOrder:i,children:s(r,Hn)},u[e[o]]=a},c=function(e,t){var n,r,o,i;for(n=(e=Wn(e)).length,t=Wn(t);n--;)for(r=u[e[n]],o=0,i=t.length;o<i;o++)r.attributes[t[o]]={},r.attributesOrder.push(t[o])};return Fn[e]?Fn[e]:(t="id accesskey class dir lang style tabindex title role",n="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",r="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!==e&&(t+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",n+=" article aside details dialog figure main header footer hgroup section nav",r+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),"html5-strict"!==e&&(t+=" xml:lang",r=[r,a="acronym applet basefont big font strike tt"].join(" "),Vn(Wn(a),(function(e){s(e,"",r)})),n=[n,i="center dir isindex noframes"].join(" "),o=[n,r].join(" "),Vn(Wn(i),(function(e){s(e,"",o)}))),o=o||[n,r].join(" "),s("html","manifest","head body"),s("head","","base command link meta noscript script style title"),s("title hr noscript br"),s("base","href target"),s("link","href rel media hreflang type sizes hreflang"),s("meta","name http-equiv content charset"),s("style","media type scoped"),s("script","src async defer type charset"),s("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",o),s("address dt dd div caption","",o),s("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",r),s("blockquote","cite",o),s("ol","reversed start type","li"),s("ul","","li"),s("li","value",o),s("dl","","dt dd"),s("a","href target rel media hreflang type",r),s("q","cite",r),s("ins del","cite datetime",o),s("img","src sizes srcset alt usemap ismap width height"),s("iframe","src name width height",o),s("embed","src type width height"),s("object","data type typemustmatch name usemap form width height",[o,"param"].join(" ")),s("param","name value"),s("map","name",[o,"area"].join(" ")),s("area","alt coords shape href target rel media hreflang type"),s("table","border","caption colgroup thead tfoot tbody tr"+("html4"===e?" col":"")),s("colgroup","span","col"),s("col","span"),s("tbody thead tfoot","","tr"),s("tr","","td th"),s("td","colspan rowspan headers",o),s("th","colspan rowspan headers scope abbr",o),s("form","accept-charset action autocomplete enctype method name novalidate target",o),s("fieldset","disabled form name",[o,"legend"].join(" ")),s("label","form for",r),s("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),s("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"===e?o:r),s("select","disabled form multiple name required size","option optgroup"),s("optgroup","disabled label","option"),s("option","disabled label selected value"),s("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),s("menu","type label",[o,"li"].join(" ")),s("noscript","",o),"html4"!==e&&(s("wbr"),s("ruby","",[r,"rt rp"].join(" ")),s("figcaption","",o),s("mark rt rp summary bdi","",r),s("canvas","width height",o),s("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[o,"track source"].join(" ")),s("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[o,"track source"].join(" ")),s("picture","","img source"),s("source","src srcset type media sizes"),s("track","kind src srclang label default"),s("datalist","",[r,"option"].join(" ")),s("article section nav aside main header footer","",o),s("hgroup","","h1 h2 h3 h4 h5 h6"),s("figure","",[o,"figcaption"].join(" ")),s("time","datetime",r),s("dialog","open",o),s("command","type label icon disabled checked radiogroup command"),s("output","for form name",r),s("progress","value max",r),s("meter","value min max low high optimum",r),s("details","open",[o,"summary"].join(" ")),s("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!==e&&(c("script","language xml:space"),c("style","xml:space"),c("object","declare classid code codebase codetype archive standby align border hspace vspace"),c("embed","align name hspace vspace"),c("param","valuetype type"),c("a","charset name rev shape coords"),c("br","clear"),c("applet","codebase archive code object alt name width height align hspace vspace"),c("img","name longdesc align border hspace vspace"),c("iframe","longdesc frameborder marginwidth marginheight scrolling align"),c("font basefont","size color face"),c("input","usemap align"),c("select","onchange"),c("textarea"),c("h1 h2 h3 h4 h5 h6 div p legend caption","align"),c("ul","type compact"),c("li","type"),c("ol dl menu dir","compact"),c("pre","width xml:space"),c("hr","align noshade size width"),c("isindex","prompt"),c("table","summary width frame rules cellspacing cellpadding align bgcolor"),c("col","width align char charoff valign"),c("colgroup","width align char charoff valign"),c("thead","align char charoff valign"),c("tr","align char charoff valign bgcolor"),c("th","axis align char charoff valign nowrap bgcolor width height"),c("form","accept"),c("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),c("tfoot","align char charoff valign"),c("tbody","align char charoff valign"),c("area","nohref"),c("body","background bgcolor text link vlink alink")),"html4"!==e&&(c("input button select textarea","autofocus"),c("input textarea","placeholder"),c("a","download"),c("link script img","crossorigin"),c("iframe","sandbox seamless allowfullscreen")),Vn(Wn("a form meter progress dfn"),(function(e){u[e]&&delete u[e].children[e]})),delete u.caption.children.table,delete u.script,Fn[e]=u,u)},Xn=function(e,t){var n;return e&&(n={},"string"==typeof e&&(e={"*":e}),Vn(e,(function(e,r){n[r]=n[r.toUpperCase()]="map"===t?jn(e,/[, ]/):$n(e,/[, ]/)}))),n};function Gn(e){var t,n,r,o,i,a,u,s,c,l,f,d,p,m={},h={},g=[],v={},b={},y=function(t,n,r){var o=e[t];return o?o=jn(o,/[, ]/,jn(o.toUpperCase(),/[, ]/)):(o=Fn[t])||(o=jn(n," ",jn(n.toUpperCase()," ")),o=Un(o,r),Fn[t]=o),o};r=Yn((e=e||{}).schema),!1===e.verify_html&&(e.valid_elements="*[*]"),t=Xn(e.valid_styles),n=Xn(e.invalid_styles,"map"),s=Xn(e.valid_classes,"map"),o=y("whitespace_elements","pre script noscript style textarea video audio iframe object code"),i=y("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),a=y("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),u=y("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),l=y("non_empty_elements","td th iframe video audio object script pre code",a),f=y("move_caret_before_on_enter_elements","table",l),d=y("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),c=y("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",d),p=y("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp"),Vn((e.special||"script noscript noframes noembed title style textarea xmp").split(" "),(function(e){b[e]=new RegExp("</"+e+"[^>]*>","gi")}));var w=function(e){return new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$")},x=function(e){var t,n,r,o,i,a,u,s,c,l,f,d,p,h,v,b,y,x,C,k=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,S=/^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,T=/[*?+]/;if(e)for(e=Wn(e,","),m["@"]&&(b=m["@"].attributes,y=m["@"].attributesOrder),t=0,n=e.length;t<n;t++)if(i=k.exec(e[t])){if(h=i[1],c=i[2],v=i[3],s=i[5],a={attributes:d={},attributesOrder:p=[]},"#"===h&&(a.paddEmpty=!0),"-"===h&&(a.removeEmpty=!0),"!"===i[4]&&(a.removeEmptyAttrs=!0),b){for(x in b)d[x]=b[x];p.push.apply(p,y)}if(s)for(r=0,o=(s=Wn(s,"|")).length;r<o;r++)if(i=S.exec(s[r])){if(u={},f=i[1],l=i[2].replace(/[\\:]:/g,":"),h=i[3],C=i[4],"!"===f&&(a.attributesRequired=a.attributesRequired||[],a.attributesRequired.push(l),u.required=!0),"-"===f){delete d[l],p.splice(qn(p,l),1);continue}h&&("="===h&&(a.attributesDefault=a.attributesDefault||[],a.attributesDefault.push({name:l,value:C}),u.defaultValue=C),":"===h&&(a.attributesForced=a.attributesForced||[],a.attributesForced.push({name:l,value:C}),u.forcedValue=C),"<"===h&&(u.validValues=jn(C,"?"))),T.test(l)?(a.attributePatterns=a.attributePatterns||[],u.pattern=w(l),a.attributePatterns.push(u)):(d[l]||p.push(l),d[l]=u)}b||"@"!==c||(b=d,y=p),v&&(a.outputName=c,m[v]=a),T.test(c)?(a.pattern=w(c),g.push(a)):m[c]=a}},C=function(e){m={},g=[],x(e),Vn(r,(function(e,t){h[t]=e.children}))},k=function(e){var t=/^(~)?(.+)$/;e&&(Fn.text_block_elements=Fn.block_elements=null,Vn(Wn(e,","),(function(e){var n=t.exec(e),r="~"===n[1],o=r?"span":"div",i=n[2];if(h[i]=h[o],v[i]=o,r||(c[i.toUpperCase()]={},c[i]={}),!m[i]){var a=m[o];delete(a=Un({},a)).removeEmptyAttrs,delete a.removeEmpty,m[i]=a}Vn(h,(function(e,t){e[o]&&(h[t]=e=Un({},h[t]),e[i]=e[o])}))})))},S=function(t){var n=/^([+\-]?)(\w+)\[([^\]]+)\]$/;Fn[e.schema]=null,t&&Vn(Wn(t,","),(function(e){var t,r,o=n.exec(e);o&&(r=o[1],t=r?h[o[2]]:h[o[2]]={"#comment":{}},t=h[o[2]],Vn(Wn(o[3],"|"),(function(e){"-"===r?delete t[e]:t[e]={}})))}))},T=function(e){var t,n=m[e];if(n)return n;for(t=g.length;t--;)if((n=g[t]).pattern.test(e))return n};e.valid_elements?C(e.valid_elements):(Vn(r,(function(e,t){m[t]={attributes:e.attributes,attributesOrder:e.attributesOrder},h[t]=e.children})),"html5"!==e.schema&&Vn(Wn("strong/b em/i"),(function(e){e=Wn(e,"/"),m[e[1]].outputName=e[0]})),Vn(Wn("ol ul sub sup blockquote span font a table tbody tr strong em b i"),(function(e){m[e]&&(m[e].removeEmpty=!0)})),Vn(Wn("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),(function(e){m[e].paddEmpty=!0})),Vn(Wn("span"),(function(e){m[e].removeEmptyAttrs=!0}))),k(e.custom_elements),S(e.valid_children),x(e.extended_valid_elements),S("+ol[ul|ol],+ul[ul|ol]"),Vn({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(function(e,t){m[t]&&(m[t].parentsRequired=Wn(e))})),e.invalid_elements&&Vn($n(e.invalid_elements),(function(e){m[e]&&delete m[e]})),T("span")||x("span[!data-mce-type|*]");return{children:h,elements:m,getValidStyles:function(){return t},getValidClasses:function(){return s},getBlockElements:function(){return c},getInvalidStyles:function(){return n},getShortEndedElements:function(){return a},getTextBlockElements:function(){return d},getTextInlineElements:function(){return p},getBoolAttrs:function(){return u},getElementRule:T,getSelfClosingElements:function(){return i},getNonEmptyElements:function(){return l},getMoveCaretBeforeOnEnterElements:function(){return f},getWhiteSpaceElements:function(){return o},getSpecialElements:function(){return b},isValidChild:function(e,t){var n=h[e.toLowerCase()];return!(!n||!n[t.toLowerCase()])},isValid:function(e,t){var n,r,o=T(e);if(o){if(!t)return!0;if(o.attributes[t])return!0;if(n=o.attributePatterns)for(r=n.length;r--;)if(n[r].pattern.test(e))return!0}return!1},getCustomElements:function(){return v},addValidElements:x,setValidElements:C,addCustomElements:k,addValidChildren:S}}var Kn,Jn,Qn,Zn,er,tr,nr,rr,or,ir,ar,ur,sr,cr,lr,fr,dr,pr,mr=function(e,t,n,r){var o=function(e){return(e=parseInt(e,10).toString(16)).length>1?e:"0"+e};return"#"+o(t)+o(n)+o(r)},hr=function(e,t){var n,r,o,i,a=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,u=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,s=/\s*([^:]+):\s*([^;]+);?/g,c=/\s+$/,l={};for(e=e||{},t&&(o=t.getValidStyles(),i=t.getInvalidStyles()),r="\\\" \\' \\; \\: ; : \ufeff".split(" "),n=0;n<r.length;n++)l[r[n]]="\ufeff"+n,l["\ufeff"+n]=r[n];return{toHex:function(e){return e.replace(a,mr)},parse:function(t){var r,o,i,f,d,p,m,h,g={},v=e.url_converter,b=e.url_converter_scope||this,y=function(e,t,r){var o,i,a,u;if((o=g[e+"-top"+t])&&(i=g[e+"-right"+t])&&(a=g[e+"-bottom"+t])&&(u=g[e+"-left"+t])){var s=[o,i,a,u];for(n=s.length-1;n--&&s[n]===s[n+1];);n>-1&&r||(g[e+t]=-1===n?s[0]:s.join(" "),delete g[e+"-top"+t],delete g[e+"-right"+t],delete g[e+"-bottom"+t],delete g[e+"-left"+t])}},w=function(e){var t,n=g[e];if(n){for(t=(n=n.split(" ")).length;t--;)if(n[t]!==n[0])return!1;return g[e]=n[0],!0}},x=function(e){return f=!0,l[e]},C=function(e,t){return f&&(e=e.replace(/\uFEFF[0-9]/g,(function(e){return l[e]}))),t||(e=e.replace(/\\([\'\";:])/g,"$1")),e},k=function(e){return String.fromCharCode(parseInt(e.slice(1),16))},S=function(e){return e.replace(/\\[0-9a-f]+/gi,k)},T=function(t,n,r,o,i,a){if(i=i||a)return"'"+(i=C(i)).replace(/\'/g,"\\'")+"'";if(n=C(n||r||o),!e.allow_script_urls){var u=n.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(u))return"";if(!e.allow_svg_data_urls&&/^data:image\/svg/i.test(u))return""}return v&&(n=v.call(b,n,"style")),"url('"+n.replace(/\'/g,"\\'")+"')"};if(t){for(t=(t=t.replace(/[\u0000-\u001F]/g,"")).replace(/\\[\"\';:\uFEFF]/g,x).replace(/\"[^\"]+\"|\'[^\']+\'/g,(function(e){return e.replace(/[;:]/g,x)}));r=s.exec(t);)if(s.lastIndex=r.index+r[0].length,o=r[1].replace(c,"").toLowerCase(),i=r[2].replace(c,""),o&&i){if(o=S(o),i=S(i),-1!==o.indexOf("\ufeff")||-1!==o.indexOf('"'))continue;if(!e.allow_script_urls&&("behavior"===o||/expression\s*\(|\/\*|\*\//.test(i)))continue;"font-weight"===o&&"700"===i?i="bold":"color"!==o&&"background-color"!==o||(i=i.toLowerCase()),i=(i=i.replace(a,mr)).replace(u,T),g[o]=f?C(i,!0):i}y("border","",!0),y("border","-width"),y("border","-color"),y("border","-style"),y("padding",""),y("margin",""),d="border",m="border-style",h="border-color",w(p="border-width")&&w(m)&&w(h)&&(g[d]=g[p]+" "+g[m]+" "+g[h],delete g[p],delete g[m],delete g[h]),"medium none"===g.border&&delete g.border,"none"===g["border-image"]&&delete g["border-image"]}return g},serialize:function(e,t){var n,r,a="",u=function(t){var n,r,i,u;if(n=o[t])for(r=0,i=n.length;r<i;r++)t=n[r],(u=e[t])&&(a+=(a.length>0?" ":"")+t+": "+u+";")},s=function(e,t){var n;return(!(n=i["*"])||!n[e])&&(!(n=i[t])||!n[e])};if(t&&o)u("*"),u(t);else for(n in e)!(r=e[n])||i&&!s(n,t)||(a+=(a.length>0?" ":"")+n+": "+r+";");return a}}},gr="mce-data-",vr=/^(?:mouse|contextmenu)|click/,br={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1,keyIdentifier:1,mozPressure:1},yr=function(){return!1},wr=function(){return!0},xr=function(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r||!1):e.attachEvent&&e.attachEvent("on"+t,n)},Cr=function(e,t,n,r){e.removeEventListener?e.removeEventListener(t,n,r||!1):e.detachEvent&&e.detachEvent("on"+t,n)},kr=function(e,t){var r,o=t||{};for(r in e)br[r]||(o[r]=e[r]);if(o.target||(o.target=o.srcElement||n.document),Zt.experimentalShadowDom&&(o.target=function(e,t){if(e.composedPath){var n=e.composedPath();if(n&&n.length>0)return n[0]}return t}(e,o.target)),e&&vr.test(e.type)&&void 0===e.pageX&&void 0!==e.clientX){var i=o.target.ownerDocument||n.document,a=i.documentElement,u=i.body;o.pageX=e.clientX+(a&&a.scrollLeft||u&&u.scrollLeft||0)-(a&&a.clientLeft||u&&u.clientLeft||0),o.pageY=e.clientY+(a&&a.scrollTop||u&&u.scrollTop||0)-(a&&a.clientTop||u&&u.clientTop||0)}return o.preventDefault=function(){o.isDefaultPrevented=wr,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},o.stopPropagation=function(){o.isPropagationStopped=wr,e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)},o.stopImmediatePropagation=function(){o.isImmediatePropagationStopped=wr,o.stopPropagation()},!1===function(e){return e.isDefaultPrevented===wr||e.isDefaultPrevented===yr}(o)&&(o.isDefaultPrevented=yr,o.isPropagationStopped=yr,o.isImmediatePropagationStopped=yr),void 0===o.metaKey&&(o.metaKey=!1),o},Sr=function(e,t,n){var r=e.document,o={type:"ready"};if(n.domLoaded)t(o);else{var i=function(){Cr(e,"DOMContentLoaded",i),Cr(e,"load",i),n.domLoaded||(n.domLoaded=!0,t(o))};"complete"===r.readyState||"interactive"===r.readyState&&r.body?i():xr(e,"DOMContentLoaded",i),xr(e,"load",i)}},Tr=function(){function e(){this.domLoaded=!1,this.events={},this.count=1,this.expando=gr+(+new Date).toString(32),this.hasMouseEnterLeave="onmouseenter"in n.document.documentElement,this.hasFocusIn="onfocusin"in n.document.documentElement,this.count=1}return e.prototype.bind=function(e,t,r,o){var i,a,u,s,c,l,f,d=this,p=n.window,m=function(e){d.executeHandlers(kr(e||p.event),i)};if(e&&3!==e.nodeType&&8!==e.nodeType){e[d.expando]?i=e[d.expando]:(i=d.count++,e[d.expando]=i,d.events[i]={}),o=o||e;var h=t.split(" ");for(u=h.length;u--;)l=m,c=f=!1,"DOMContentLoaded"===(s=h[u])&&(s="ready"),d.domLoaded&&"ready"===s&&"complete"===e.readyState?r.call(o,kr({type:s})):(d.hasMouseEnterLeave||(c=d.mouseEnterLeave[s])&&(l=function(e){var t,n;if(t=e.currentTarget,(n=e.relatedTarget)&&t.contains)n=t.contains(n);else for(;n&&n!==t;)n=n.parentNode;n||((e=kr(e||p.event)).type="mouseout"===e.type?"mouseleave":"mouseenter",e.target=t,d.executeHandlers(e,i))}),d.hasFocusIn||"focusin"!==s&&"focusout"!==s||(f=!0,c="focusin"===s?"focus":"blur",l=function(e){(e=kr(e||p.event)).type="focus"===e.type?"focusin":"focusout",d.executeHandlers(e,i)}),(a=d.events[i][s])?"ready"===s&&d.domLoaded?r(kr({type:s})):a.push({func:r,scope:o}):(d.events[i][s]=a=[{func:r,scope:o}],a.fakeName=c,a.capture=f,a.nativeHandler=l,"ready"===s?Sr(e,l,d):xr(e,c||s,l,f)));return e=a=0,r}},e.prototype.unbind=function(e,t,n){var r,o,i,a,u,s;if(!e||3===e.nodeType||8===e.nodeType)return this;if(r=e[this.expando]){if(s=this.events[r],t){var c=t.split(" ");for(i=c.length;i--;)if(o=s[u=c[i]]){if(n)for(a=o.length;a--;)if(o[a].func===n){var l=o.nativeHandler,f=o.fakeName,d=o.capture;(o=o.slice(0,a).concat(o.slice(a+1))).nativeHandler=l,o.fakeName=f,o.capture=d,s[u]=o}n&&0!==o.length||(delete s[u],Cr(e,o.fakeName||u,o.nativeHandler,o.capture))}}else{for(u in s)o=s[u],Cr(e,o.fakeName||u,o.nativeHandler,o.capture);s={}}for(u in s)return this;delete this.events[r];try{delete e[this.expando]}catch(t){e[this.expando]=null}}return this},e.prototype.fire=function(e,t,n){var r;if(!e||3===e.nodeType||8===e.nodeType)return this;var o=kr(null,n);o.type=t,o.target=e;do{(r=e[this.expando])&&this.executeHandlers(o,r),e=e.parentNode||e.ownerDocument||e.defaultView||e.parentWindow}while(e&&!o.isPropagationStopped());return this},e.prototype.clean=function(e){var t,n;if(!e||3===e.nodeType||8===e.nodeType)return this;if(e[this.expando]&&this.unbind(e),e.getElementsByTagName||(e=e.document),e&&e.getElementsByTagName)for(this.unbind(e),t=(n=e.getElementsByTagName("*")).length;t--;)(e=n[t])[this.expando]&&this.unbind(e);return this},e.prototype.destroy=function(){this.events={}},e.prototype.cancel=function(e){return e&&(e.preventDefault(),e.stopImmediatePropagation()),!1},e.prototype.executeHandlers=function(e,t){var n,r,o,i,a=this.events[t];if(n=a&&a[e.type])for(r=0,o=n.length;r<o;r++)if((i=n[r])&&!1===i.func.call(i.scope,e)&&e.preventDefault(),e.isImmediatePropagationStopped())return},e.Event=new e,e}(),Er="sizzle"+-new Date,Or=n.window.document,_r=0,Ar=0,Dr=co(),Nr=co(),Mr=co(),Rr=function(e,t){return e===t&&(ar=!0),0},zr="undefined",Ir=1<<31,Br={}.hasOwnProperty,Pr=[],Lr=Pr.pop,Fr=Pr.push,Hr=Pr.push,jr=Pr.slice,Vr=Pr.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(this[t]===e)return t;return-1},Ur="[\\x20\\t\\r\\n\\f]",$r="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",qr="\\["+Ur+"*("+$r+")(?:"+Ur+"*([*^$|!~]?=)"+Ur+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+$r+"))|)"+Ur+"*\\]",Wr=":("+$r+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+qr+")*)|.*)\\)|)",Yr=new RegExp("^"+Ur+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Ur+"+$","g"),Xr=new RegExp("^"+Ur+"*,"+Ur+"*"),Gr=new RegExp("^"+Ur+"*([>+~]|"+Ur+")"+Ur+"*"),Kr=new RegExp("="+Ur+"*([^\\]'\"]*?)"+Ur+"*\\]","g"),Jr=new RegExp(Wr),Qr=new RegExp("^"+$r+"$"),Zr={ID:new RegExp("^#("+$r+")"),CLASS:new RegExp("^\\.("+$r+")"),TAG:new RegExp("^("+$r+"|[*])"),ATTR:new RegExp("^"+qr),PSEUDO:new RegExp("^"+Wr),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Ur+"*(even|odd|(([+-]|)(\\d*)n|)"+Ur+"*(?:([+-]|)"+Ur+"*(\\d+)|))"+Ur+"*\\)|)","i"),bool:new RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:new RegExp("^"+Ur+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Ur+"*((?:-\\d)?\\d*)"+Ur+"*\\)|)(?=[^-]|$)","i")},eo=/^(?:input|select|textarea|button)$/i,to=/^h\d$/i,no=/^[^{]+\{\s*\[native \w/,ro=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,oo=/[+~]/,io=/'|\\/g,ao=new RegExp("\\\\([\\da-f]{1,6}"+Ur+"?|("+Ur+")|.)","ig"),uo=function(e,t,n){var r="0x"+t-65536;return r!=r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)};try{Hr.apply(Pr=jr.call(Or.childNodes),Or.childNodes),Pr[Or.childNodes.length].nodeType}catch(e){Hr={apply:Pr.length?function(e,t){Fr.apply(e,jr.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}var so=function(e,t,n,r){var o,i,a,u,s,c,l,f,d,p;if((t?t.ownerDocument||t:Or)!==sr&&ur(t),n=n||[],!e||"string"!=typeof e)return n;if(1!==(u=(t=t||sr).nodeType)&&9!==u)return[];if(lr&&!r){if(o=ro.exec(e))if(a=o[1]){if(9===u){if(!(i=t.getElementById(a))||!i.parentNode)return n;if(i.id===a)return n.push(i),n}else if(t.ownerDocument&&(i=t.ownerDocument.getElementById(a))&&pr(t,i)&&i.id===a)return n.push(i),n}else{if(o[2])return Hr.apply(n,t.getElementsByTagName(e)),n;if((a=o[3])&&Jn.getElementsByClassName)return Hr.apply(n,t.getElementsByClassName(a)),n}if(Jn.qsa&&(!fr||!fr.test(e))){if(f=l=Er,d=t,p=9===u&&e,1===u&&"object"!==t.nodeName.toLowerCase()){for(c=tr(e),(l=t.getAttribute("id"))?f=l.replace(io,"\\$&"):t.setAttribute("id",f),f="[id='"+f+"'] ",s=c.length;s--;)c[s]=f+bo(c[s]);d=oo.test(e)&&go(t.parentNode)||t,p=c.join(",")}if(p)try{return Hr.apply(n,d.querySelectorAll(p)),n}catch(e){}finally{l||t.removeAttribute("id")}}}return rr(e.replace(Yr,"$1"),t,n,r)};function co(){var e=[];return function t(n,r){return e.push(n+" ")>Qn.cacheLength&&delete t[e.shift()],t[n+" "]=r}}function lo(e){return e[Er]=!0,e}function fo(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||Ir)-(~e.sourceIndex||Ir);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function po(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function mo(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function ho(e){return lo((function(t){return t=+t,lo((function(n,r){for(var o,i=e([],n.length,t),a=i.length;a--;)n[o=i[a]]&&(n[o]=!(r[o]=n[o]))}))}))}function go(e){return e&&typeof e.getElementsByTagName!==zr&&e}for(Kn in Jn=so.support={},er=so.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},ur=so.setDocument=function(e){var t,n=e?e.ownerDocument||e:Or,r=n.defaultView;return n!==sr&&9===n.nodeType&&n.documentElement?(sr=n,cr=n.documentElement,lr=!er(n),r&&r!==function(e){try{return e.top}catch(e){}return null}(r)&&(r.addEventListener?r.addEventListener("unload",(function(){ur()}),!1):r.attachEvent&&r.attachEvent("onunload",(function(){ur()}))),Jn.attributes=!0,Jn.getElementsByTagName=!0,Jn.getElementsByClassName=no.test(n.getElementsByClassName),Jn.getById=!0,Qn.find.ID=function(e,t){if(typeof t.getElementById!==zr&&lr){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},Qn.filter.ID=function(e){var t=e.replace(ao,uo);return function(e){return e.getAttribute("id")===t}},Qn.find.TAG=Jn.getElementsByTagName?function(e,t){if(typeof t.getElementsByTagName!==zr)return t.getElementsByTagName(e)}:function(e,t){var n,r=[],o=0,i=t.getElementsByTagName(e);if("*"===e){for(;n=i[o++];)1===n.nodeType&&r.push(n);return r}return i},Qn.find.CLASS=Jn.getElementsByClassName&&function(e,t){if(lr)return t.getElementsByClassName(e)},dr=[],fr=[],Jn.disconnectedMatch=!0,fr=fr.length&&new RegExp(fr.join("|")),dr=dr.length&&new RegExp(dr.join("|")),t=no.test(cr.compareDocumentPosition),pr=t||no.test(cr.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},Rr=t?function(e,t){if(e===t)return ar=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(1&(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!Jn.sortDetached&&t.compareDocumentPosition(e)===r?e===n||e.ownerDocument===Or&&pr(Or,e)?-1:t===n||t.ownerDocument===Or&&pr(Or,t)?1:ir?Vr.call(ir,e)-Vr.call(ir,t):0:4&r?-1:1)}:function(e,t){if(e===t)return ar=!0,0;var r,o=0,i=e.parentNode,a=t.parentNode,u=[e],s=[t];if(!i||!a)return e===n?-1:t===n?1:i?-1:a?1:ir?Vr.call(ir,e)-Vr.call(ir,t):0;if(i===a)return fo(e,t);for(r=e;r=r.parentNode;)u.unshift(r);for(r=t;r=r.parentNode;)s.unshift(r);for(;u[o]===s[o];)o++;return o?fo(u[o],s[o]):u[o]===Or?-1:s[o]===Or?1:0},n):sr},so.matches=function(e,t){return so(e,null,null,t)},so.matchesSelector=function(e,t){if((e.ownerDocument||e)!==sr&&ur(e),t=t.replace(Kr,"='$1']"),Jn.matchesSelector&&lr&&(!dr||!dr.test(t))&&(!fr||!fr.test(t)))try{var n=(void 0).call(e,t);if(n||Jn.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return so(t,sr,null,[e]).length>0},so.contains=function(e,t){return(e.ownerDocument||e)!==sr&&ur(e),pr(e,t)},so.attr=function(e,t){(e.ownerDocument||e)!==sr&&ur(e);var n=Qn.attrHandle[t.toLowerCase()],r=n&&Br.call(Qn.attrHandle,t.toLowerCase())?n(e,t,!lr):void 0;return void 0!==r?r:Jn.attributes||!lr?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},so.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},so.uniqueSort=function(e){var t,n=[],r=0,o=0;if(ar=!Jn.detectDuplicates,ir=!Jn.sortStable&&e.slice(0),e.sort(Rr),ar){for(;t=e[o++];)t===e[o]&&(r=n.push(o));for(;r--;)e.splice(n[r],1)}return ir=null,e},Zn=so.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=Zn(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[r++];)n+=Zn(t);return n},(Qn=so.selectors={cacheLength:50,createPseudo:lo,match:Zr,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ao,uo),e[3]=(e[3]||e[4]||e[5]||"").replace(ao,uo),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||so.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&so.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return Zr.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&Jr.test(n)&&(t=tr(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ao,uo).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=Dr[e+" "];return t||(t=new RegExp("(^|"+Ur+")"+e+"("+Ur+"|$)"))&&Dr(e,(function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==zr&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(r){var o=so.attr(r,e);return null==o?"!="===t:!t||(o+="","="===t?o===n:"!="===t?o!==n:"^="===t?n&&0===o.indexOf(n):"*="===t?n&&o.indexOf(n)>-1:"$="===t?n&&o.slice(-n.length)===n:"~="===t?(" "+o+" ").indexOf(n)>-1:"|="===t&&(o===n||o.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,o){var i="nth"!==e.slice(0,3),a="last"!==e.slice(-4),u="of-type"===t;return 1===r&&0===o?function(e){return!!e.parentNode}:function(t,n,s){var c,l,f,d,p,m,h=i!==a?"nextSibling":"previousSibling",g=t.parentNode,v=u&&t.nodeName.toLowerCase(),b=!s&&!u;if(g){if(i){for(;h;){for(f=t;f=f[h];)if(u?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;m=h="only"===e&&!m&&"nextSibling"}return!0}if(m=[a?g.firstChild:g.lastChild],a&&b){for(p=(c=(l=g[Er]||(g[Er]={}))[e]||[])[0]===_r&&c[1],d=c[0]===_r&&c[2],f=p&&g.childNodes[p];f=++p&&f&&f[h]||(d=p=0)||m.pop();)if(1===f.nodeType&&++d&&f===t){l[e]=[_r,p,d];break}}else if(b&&(c=(t[Er]||(t[Er]={}))[e])&&c[0]===_r)d=c[1];else for(;(f=++p&&f&&f[h]||(d=p=0)||m.pop())&&((u?f.nodeName.toLowerCase()!==v:1!==f.nodeType)||!++d||(b&&((f[Er]||(f[Er]={}))[e]=[_r,d]),f!==t)););return(d-=o)===r||d%r==0&&d/r>=0}}},PSEUDO:function(e,t){var n,r=Qn.pseudos[e]||Qn.setFilters[e.toLowerCase()]||so.error("unsupported pseudo: "+e);return r[Er]?r(t):r.length>1?(n=[e,e,"",t],Qn.setFilters.hasOwnProperty(e.toLowerCase())?lo((function(e,n){for(var o,i=r(e,t),a=i.length;a--;)e[o=Vr.call(e,i[a])]=!(n[o]=i[a])})):function(e){return r(e,0,n)}):r}},pseudos:{not:lo((function(e){var t=[],n=[],r=nr(e.replace(Yr,"$1"));return r[Er]?lo((function(e,t,n,o){for(var i,a=r(e,null,o,[]),u=e.length;u--;)(i=a[u])&&(e[u]=!(t[u]=i))})):function(e,o,i){return t[0]=e,r(t,null,i,n),!n.pop()}})),has:lo((function(e){return function(t){return so(e,t).length>0}})),contains:lo((function(e){return e=e.replace(ao,uo),function(t){return(t.textContent||t.innerText||Zn(t)).indexOf(e)>-1}})),lang:lo((function(e){return Qr.test(e||"")||so.error("unsupported lang: "+e),e=e.replace(ao,uo).toLowerCase(),function(t){var n;do{if(n=lr?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(e){var t=n.window.location&&n.window.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===cr},focus:function(e){return e===sr.activeElement&&(!sr.hasFocus||sr.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!Qn.pseudos.empty(e)},header:function(e){return to.test(e.nodeName)},input:function(e){return eo.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ho((function(){return[0]})),last:ho((function(e,t){return[t-1]})),eq:ho((function(e,t,n){return[n<0?n+t:n]})),even:ho((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:ho((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:ho((function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e})),gt:ho((function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e}))}}).pseudos.nth=Qn.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})Qn.pseudos[Kn]=po(Kn);for(Kn in{submit:!0,reset:!0})Qn.pseudos[Kn]=mo(Kn);function vo(){}function bo(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function yo(e,t,n){var r=t.dir,o=n&&"parentNode"===r,i=Ar++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||o)return e(t,n,i)}:function(t,n,a){var u,s,c=[_r,i];if(a){for(;t=t[r];)if((1===t.nodeType||o)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||o){if((u=(s=t[Er]||(t[Er]={}))[r])&&u[0]===_r&&u[1]===i)return c[2]=u[2];if(s[r]=c,c[2]=e(t,n,a))return!0}}}function wo(e){return e.length>1?function(t,n,r){for(var o=e.length;o--;)if(!e[o](t,n,r))return!1;return!0}:e[0]}function xo(e,t,n,r,o){for(var i,a=[],u=0,s=e.length,c=null!=t;u<s;u++)(i=e[u])&&(n&&!n(i,r,o)||(a.push(i),c&&t.push(u)));return a}function Co(e,t,n,r,o,i){return r&&!r[Er]&&(r=Co(r)),o&&!o[Er]&&(o=Co(o,i)),lo((function(i,a,u,s){var c,l,f,d=[],p=[],m=a.length,h=i||function(e,t,n){for(var r=0,o=t.length;r<o;r++)so(e,t[r],n);return n}(t||"*",u.nodeType?[u]:u,[]),g=!e||!i&&t?h:xo(h,d,e,u,s),v=n?o||(i?e:m||r)?[]:a:g;if(n&&n(g,v,u,s),r)for(c=xo(v,p),r(c,[],u,s),l=c.length;l--;)(f=c[l])&&(v[p[l]]=!(g[p[l]]=f));if(i){if(o||e){if(o){for(c=[],l=v.length;l--;)(f=v[l])&&c.push(g[l]=f);o(null,v=[],c,s)}for(l=v.length;l--;)(f=v[l])&&(c=o?Vr.call(i,f):d[l])>-1&&(i[c]=!(a[c]=f))}}else v=xo(v===a?v.splice(m,v.length):v),o?o(null,a,v,s):Hr.apply(a,v)}))}function ko(e){for(var t,n,r,o=e.length,i=Qn.relative[e[0].type],a=i||Qn.relative[" "],u=i?1:0,s=yo((function(e){return e===t}),a,!0),c=yo((function(e){return Vr.call(t,e)>-1}),a,!0),l=[function(e,n,r){return!i&&(r||n!==or)||((t=n).nodeType?s(e,n,r):c(e,n,r))}];u<o;u++)if(n=Qn.relative[e[u].type])l=[yo(wo(l),n)];else{if((n=Qn.filter[e[u].type].apply(null,e[u].matches))[Er]){for(r=++u;r<o&&!Qn.relative[e[r].type];r++);return Co(u>1&&wo(l),u>1&&bo(e.slice(0,u-1).concat({value:" "===e[u-2].type?"*":""})).replace(Yr,"$1"),n,u<r&&ko(e.slice(u,r)),r<o&&ko(e=e.slice(r)),r<o&&bo(e))}l.push(n)}return wo(l)}vo.prototype=Qn.filters=Qn.pseudos,Qn.setFilters=new vo,tr=so.tokenize=function(e,t){var n,r,o,i,a,u,s,c=Nr[e+" "];if(c)return t?0:c.slice(0);for(a=e,u=[],s=Qn.preFilter;a;){for(i in n&&!(r=Xr.exec(a))||(r&&(a=a.slice(r[0].length)||a),u.push(o=[])),n=!1,(r=Gr.exec(a))&&(n=r.shift(),o.push({value:n,type:r[0].replace(Yr," ")}),a=a.slice(n.length)),Qn.filter)Qn.filter.hasOwnProperty(i)&&(!(r=Zr[i].exec(a))||s[i]&&!(r=s[i](r))||(n=r.shift(),o.push({value:n,type:i,matches:r}),a=a.slice(n.length)));if(!n)break}return t?a.length:a?so.error(e):Nr(e,u).slice(0)},nr=so.compile=function(e,t){var n,r=[],o=[],i=Mr[e+" "];if(!i){for(t||(t=tr(e)),n=t.length;n--;)(i=ko(t[n]))[Er]?r.push(i):o.push(i);(i=Mr(e,function(e,t){var n=t.length>0,r=e.length>0,o=function(o,i,a,u,s){var c,l,f,d=0,p="0",m=o&&[],h=[],g=or,v=o||r&&Qn.find.TAG("*",s),b=_r+=null==g?1:Math.random()||.1,y=v.length;for(s&&(or=i!==sr&&i);p!==y&&null!=(c=v[p]);p++){if(r&&c){for(l=0;f=e[l++];)if(f(c,i,a)){u.push(c);break}s&&(_r=b)}n&&((c=!f&&c)&&d--,o&&m.push(c))}if(d+=p,n&&p!==d){for(l=0;f=t[l++];)f(m,h,i,a);if(o){if(d>0)for(;p--;)m[p]||h[p]||(h[p]=Lr.call(u));h=xo(h)}Hr.apply(u,h),s&&!o&&h.length>0&&d+t.length>1&&so.uniqueSort(u)}return s&&(_r=b,or=g),m};return n?lo(o):o}(o,r))).selector=e}return i},rr=so.select=function(e,t,n,r){var o,i,a,u,s,c="function"==typeof e&&e,l=!r&&tr(e=c.selector||e);if(n=n||[],1===l.length){if((i=l[0]=l[0].slice(0)).length>2&&"ID"===(a=i[0]).type&&Jn.getById&&9===t.nodeType&&lr&&Qn.relative[i[1].type]){if(!(t=(Qn.find.ID(a.matches[0].replace(ao,uo),t)||[])[0]))return n;c&&(t=t.parentNode),e=e.slice(i.shift().value.length)}for(o=Zr.needsContext.test(e)?0:i.length;o--&&(a=i[o],!Qn.relative[u=a.type]);)if((s=Qn.find[u])&&(r=s(a.matches[0].replace(ao,uo),oo.test(i[0].type)&&go(t.parentNode)||t))){if(i.splice(o,1),!(e=r.length&&bo(i)))return Hr.apply(n,r),n;break}}return(c||nr(e,l))(r,t,!lr,n,oo.test(e)&&go(t.parentNode)||t),n},Jn.sortStable=Er.split("").sort(Rr).join("")===Er,Jn.detectDuplicates=!!ar,ur(),Jn.sortDetached=!0;var So=n.document,To=Array.prototype.push,Eo=Array.prototype.slice,Oo=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,_o=Tr.Event,Ao=cn.makeMap("children,contents,next,prev"),Do=function(e){return void 0!==e},No=function(e){return"string"==typeof e},Mo=function(e,t){var n,r,o;for(o=(t=t||So).createElement("div"),n=t.createDocumentFragment(),o.innerHTML=e;r=o.firstChild;)n.appendChild(r);return n},Ro=function(e,t,n,r){var o;if(No(t))t=Mo(t,Yo(e[0]));else if(t.length&&!t.nodeType){if(t=Jo.makeArray(t),r)for(o=t.length-1;o>=0;o--)Ro(e,t[o],n,r);else for(o=0;o<t.length;o++)Ro(e,t[o],n,r);return e}if(t.nodeType)for(o=e.length;o--;)n.call(e[o],t);return e},zo=function(e,t){return e&&t&&-1!==(" "+e.className+" ").indexOf(" "+t+" ")},Io=function(e,t,n){var r,o;return t=Jo(t)[0],e.each((function(){n&&r===this.parentNode?o.appendChild(this):(r=this.parentNode,o=t.cloneNode(!1),this.parentNode.insertBefore(o,this),o.appendChild(this))})),e},Bo=cn.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),Po=cn.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),Lo={for:"htmlFor",class:"className",readonly:"readOnly"},Fo={float:"cssFloat"},Ho={},jo={},Vo=function(e,t){return new Jo.fn.init(e,t)},Uo=/^\s*|\s*$/g,$o=function(e){return null==e?"":(""+e).replace(Uo,"")},qo=function(e,t){var n,r,o,i;if(e)if(void 0===(n=e.length)){for(r in e)if(e.hasOwnProperty(r)&&(i=e[r],!1===t.call(i,r,i)))break}else for(o=0;o<n&&(i=e[o],!1!==t.call(i,o,i));o++);return e},Wo=function(e,t){var n=[];return qo(e,(function(e,r){t(r,e)&&n.push(r)})),n},Yo=function(e){return e?9===e.nodeType?e:e.ownerDocument:So};Vo.fn=Vo.prototype={constructor:Vo,selector:"",context:null,length:0,init:function(e,t){var r,o;if(!e)return this;if(e.nodeType)return this.context=this[0]=e,this.length=1,this;if(t&&t.nodeType)this.context=t;else{if(t)return Jo(e).attr(t);this.context=t=n.document}if(No(e)){if(this.selector=e,!(r="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:Oo.exec(e)))return Jo(t).find(e);if(r[1])for(o=Mo(e,Yo(t)).firstChild;o;)To.call(this,o),o=o.nextSibling;else{if(!(o=Yo(t).getElementById(r[2])))return this;if(o.id!==r[2])return this.find(e);this.length=1,this[0]=o}}else this.add(e,!1);return this},toArray:function(){return cn.toArray(this)},add:function(e,t){var n,r;if(No(e))return this.add(Jo(e));if(!1!==t)for(n=Jo.unique(this.toArray().concat(Jo.makeArray(e))),this.length=n.length,r=0;r<n.length;r++)this[r]=n[r];else To.apply(this,Jo.makeArray(e));return this},attr:function(e,t){var n,r=this;if("object"==typeof e)qo(e,(function(e,t){r.attr(e,t)}));else{if(!Do(t)){if(r[0]&&1===r[0].nodeType){if((n=Ho[e])&&n.get)return n.get(r[0],e);if(Po[e])return r.prop(e)?e:void 0;null===(t=r[0].getAttribute(e,2))&&(t=void 0)}return t}this.each((function(){var n;if(1===this.nodeType){if((n=Ho[e])&&n.set)return void n.set(this,t);null===t?this.removeAttribute(e,2):this.setAttribute(e,t,2)}}))}return r},removeAttr:function(e){return this.attr(e,null)},prop:function(e,t){var n=this;if("object"==typeof(e=Lo[e]||e))qo(e,(function(e,t){n.prop(e,t)}));else{if(!Do(t))return n[0]&&n[0].nodeType&&e in n[0]?n[0][e]:t;this.each((function(){1===this.nodeType&&(this[e]=t)}))}return n},css:function(e,t){var n,r,o=this,i=function(e){return e.replace(/-(\D)/g,(function(e,t){return t.toUpperCase()}))},a=function(e){return e.replace(/[A-Z]/g,(function(e){return"-"+e}))};if("object"==typeof e)qo(e,(function(e,t){o.css(e,t)}));else if(Do(t))e=i(e),"number"!=typeof t||Bo[e]||(t=t.toString()+"px"),o.each((function(){var n=this.style;if((r=jo[e])&&r.set)r.set(this,t);else{try{this.style[Fo[e]||e]=t}catch(e){}null!==t&&""!==t||(n.removeProperty?n.removeProperty(a(e)):n.removeAttribute(e))}}));else{if(n=o[0],(r=jo[e])&&r.get)return r.get(n);if(!n.ownerDocument.defaultView)return n.currentStyle?n.currentStyle[i(e)]:"";try{return n.ownerDocument.defaultView.getComputedStyle(n,null).getPropertyValue(a(e))}catch(e){return}}return o},remove:function(){for(var e,t=this.length;t--;)e=this[t],_o.clean(e),e.parentNode&&e.parentNode.removeChild(e);return this},empty:function(){for(var e,t=this.length;t--;)for(e=this[t];e.firstChild;)e.removeChild(e.firstChild);return this},html:function(e){var t;if(Do(e)){t=this.length;try{for(;t--;)this[t].innerHTML=e}catch(n){Jo(this[t]).empty().append(e)}return this}return this[0]?this[0].innerHTML:""},text:function(e){var t;if(Do(e)){for(t=this.length;t--;)"innerText"in this[t]?this[t].innerText=e:this[0].textContent=e;return this}return this[0]?this[0].innerText||this[0].textContent:""},append:function(){return Ro(this,arguments,(function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.appendChild(e)}))},prepend:function(){return Ro(this,arguments,(function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.insertBefore(e,this.firstChild)}),!0)},before:function(){var e=this;return e[0]&&e[0].parentNode?Ro(e,arguments,(function(e){this.parentNode.insertBefore(e,this)})):e},after:function(){var e=this;return e[0]&&e[0].parentNode?Ro(e,arguments,(function(e){this.parentNode.insertBefore(e,this.nextSibling)}),!0):e},appendTo:function(e){return Jo(e).append(this),this},prependTo:function(e){return Jo(e).prepend(this),this},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){return Io(this,e)},wrapAll:function(e){return Io(this,e,!0)},wrapInner:function(e){return this.each((function(){Jo(this).contents().wrapAll(e)})),this},unwrap:function(){return this.parent().each((function(){Jo(this).replaceWith(this.childNodes)}))},clone:function(){var e=[];return this.each((function(){e.push(this.cloneNode(!0))})),Jo(e)},addClass:function(e){return this.toggleClass(e,!0)},removeClass:function(e){return this.toggleClass(e,!1)},toggleClass:function(e,t){var n=this;return"string"!=typeof e?n:(-1!==e.indexOf(" ")?qo(e.split(" "),(function(){n.toggleClass(this,t)})):n.each((function(n,r){var o,i;(i=zo(r,e))!==t&&(o=r.className,i?r.className=$o((" "+o+" ").replace(" "+e+" "," ")):r.className+=o?" "+e:e)})),n)},hasClass:function(e){return zo(this[0],e)},each:function(e){return qo(this,e)},on:function(e,t){return this.each((function(){_o.bind(this,e,t)}))},off:function(e,t){return this.each((function(){_o.unbind(this,e,t)}))},trigger:function(e){return this.each((function(){"object"==typeof e?_o.fire(this,e.type,e):_o.fire(this,e)}))},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return new Jo(Eo.apply(this,arguments))},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(e){var t,n,r=[];for(t=0,n=this.length;t<n;t++)Jo.find(e,this[t],r);return Jo(r)},filter:function(e){return Jo("function"==typeof e?Wo(this.toArray(),(function(t,n){return e(n,t)})):Jo.filter(e,this.toArray()))},closest:function(e){var t=[];return e instanceof Jo&&(e=e[0]),this.each((function(n,r){for(;r;){if("string"==typeof e&&Jo(r).is(e)){t.push(r);break}if(r===e){t.push(r);break}r=r.parentNode}})),Jo(t)},offset:function(e){var t,n,r,o,i=0,a=0;return e?this.css(e):((t=this[0])&&(r=(n=t.ownerDocument).documentElement,t.getBoundingClientRect&&(i=(o=t.getBoundingClientRect()).left+(r.scrollLeft||n.body.scrollLeft)-r.clientLeft,a=o.top+(r.scrollTop||n.body.scrollTop)-r.clientTop)),{left:i,top:a})},push:To,sort:Array.prototype.sort,splice:Array.prototype.splice},cn.extend(Vo,{extend:cn.extend,makeArray:function(e){return(t=e)&&t===t.window||e.nodeType?[e]:cn.toArray(e);var t},inArray:function(e,t){var n;if(t.indexOf)return t.indexOf(e);for(n=t.length;n--;)if(t[n]===e)return n;return-1},isArray:cn.isArray,each:qo,trim:$o,grep:Wo,find:so,expr:so.selectors,unique:so.uniqueSort,text:so.getText,contains:so.contains,filter:function(e,t,n){var r=t.length;for(n&&(e=":not("+e+")");r--;)1!==t[r].nodeType&&t.splice(r,1);return t=1===t.length?Jo.find.matchesSelector(t[0],e)?[t[0]]:[]:Jo.find.matches(e,t)}});var Xo=function(e,t,n){var r=[],o=e[t];for("string"!=typeof n&&n instanceof Jo&&(n=n[0]);o&&9!==o.nodeType;){if(void 0!==n){if(o===n)break;if("string"==typeof n&&Jo(o).is(n))break}1===o.nodeType&&r.push(o),o=o[t]}return r},Go=function(e,t,n,r){var o=[];for(r instanceof Jo&&(r=r[0]);e;e=e[t])if(!n||e.nodeType===n){if(void 0!==r){if(e===r)break;if("string"==typeof r&&Jo(e).is(r))break}o.push(e)}return o},Ko=function(e,t,n){for(e=e[t];e;e=e[t])if(e.nodeType===n)return e;return null};qo({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return Xo(e,"parentNode")},next:function(e){return Ko(e,"nextSibling",1)},prev:function(e){return Ko(e,"previousSibling",1)},children:function(e){return Go(e.firstChild,"nextSibling",1)},contents:function(e){return cn.toArray(("iframe"===e.nodeName?e.contentDocument||e.contentWindow.document:e).childNodes)}},(function(e,t){Vo.fn[e]=function(n){var r=[];this.each((function(){var e=t.call(r,this,n,r);e&&(Jo.isArray(e)?r.push.apply(r,e):r.push(e))})),this.length>1&&(Ao[e]||(r=Jo.unique(r)),0===e.indexOf("parents")&&(r=r.reverse()));var o=Jo(r);return n?o.filter(n):o}})),qo({parentsUntil:function(e,t){return Xo(e,"parentNode",t)},nextUntil:function(e,t){return Go(e,"nextSibling",1,t).slice(1)},prevUntil:function(e,t){return Go(e,"previousSibling",1,t).slice(1)}},(function(e,t){Vo.fn[e]=function(n,r){var o=[];this.each((function(){var e=t.call(o,this,n,o);e&&(Jo.isArray(e)?o.push.apply(o,e):o.push(e))})),this.length>1&&(o=Jo.unique(o),0!==e.indexOf("parents")&&"prevUntil"!==e||(o=o.reverse()));var i=Jo(o);return r?i.filter(r):i}})),Vo.fn.is=function(e){return!!e&&this.filter(e).length>0},Vo.fn.init.prototype=Vo.fn,Vo.overrideDefaults=function(e){var t,n=function(r,o){return t=t||e(),0===arguments.length&&(r=t.element),o||(o=t.context),new n.fn.init(r,o)};return Jo.extend(n,this),n},Vo.attrHooks=Ho,Vo.cssHooks=jo;var Jo=Vo,Qo=function(){function e(e,t){this.node=e,this.rootNode=t,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}return e.prototype.current=function(){return this.node},e.prototype.next=function(e){return this.node=this.findSibling(this.node,"firstChild","nextSibling",e),this.node},e.prototype.prev=function(e){return this.node=this.findSibling(this.node,"lastChild","previousSibling",e),this.node},e.prototype.prev2=function(e){return this.node=this.findPreviousNode(this.node,"lastChild","previousSibling",e),this.node},e.prototype.findSibling=function(e,t,n,r){var o,i;if(e){if(!r&&e[t])return e[t];if(e!==this.rootNode){if(o=e[n])return o;for(i=e.parentNode;i&&i!==this.rootNode;i=i.parentNode)if(o=i[n])return o}}},e.prototype.findPreviousNode=function(e,t,n,r){var o,i,a;if(e){if(o=e[n],this.rootNode&&o===this.rootNode)return;if(o){if(!r)for(a=o[t];a;a=a[t])if(!a[t])return a;return o}if((i=e.parentNode)&&i!==this.rootNode)return i}},e}(),Zo=function(e,t){pt(e).each((function(n){n.dom().insertBefore(t.dom(),e.dom())}))},ei=function(e,t){ht(e).fold((function(){pt(e).each((function(e){ni(e,t)}))}),(function(e){Zo(e,t)}))},ti=function(e,t){wt(e).fold((function(){ni(e,t)}),(function(n){e.dom().insertBefore(t.dom(),n.dom())}))},ni=function(e,t){e.dom().appendChild(t.dom())},ri=function(e,t){D(t,(function(t){ni(e,t)}))},oi=function(e){e.dom().textContent="",D(bt(e),(function(e){ii(e)}))},ii=function(e){var t=e.dom();null!==t.parentNode&&t.parentNode.removeChild(t)},ai=function(e){var t,n=bt(e);n.length>0&&(t=e,D(n,(function(e){Zo(t,e)}))),ii(e)},ui=function(e,t){return{left:i(e),top:i(t),translate:function(n,r){return ui(e+n,t+r)}}},si=ui,ci=function(e,t){return void 0!==e?e:void 0!==t?t:0},li=function(e){var t=e.dom(),n=t.ownerDocument.body;return n===t?si(n.offsetLeft,n.offsetTop):We(e)?function(e){var t=e.getBoundingClientRect();return si(t.left,t.top)}(t):si(0,0)},fi=Oe().browser.isSafari(),di=function(e){var t=void 0!==e?e.dom():n.document,r=t.body.scrollLeft||t.documentElement.scrollLeft,o=t.body.scrollTop||t.documentElement.scrollTop;return si(r,o)},pi=function(e,t,r){(void 0!==r?r.dom():n.document).defaultView.scrollTo(e,t)},mi=function(e,t){fi&&x(e.dom().scrollIntoViewIfNeeded)?e.dom().scrollIntoViewIfNeeded(!1):e.dom().scrollIntoView(t)},hi=function(e,t,n,r){return{x:i(e),y:i(t),width:i(n),height:i(r),right:i(e+n),bottom:i(t+r)}},gi=function(e){var t=void 0===e?n.window:e,r=t.document,o=di(Ae.fromDom(r)),i=t.visualViewport;if(void 0!==i)return hi(Math.max(i.pageLeft,o.left()),Math.max(i.pageTop,o.top()),i.width,i.height);var a=r.documentElement,u=a.clientWidth,s=a.clientHeight;return hi(o.left(),o.top(),u,s)},vi=cn.each,bi=cn.grep,yi=Zt.ie,wi=/^([a-z0-9],?)+$/i,xi=/^[ \t\r\n]*$/,Ci=function(e,t,n){var r=t.keep_values,o={set:function(e,r,o){t.url_converter&&(r=t.url_converter.call(t.url_converter_scope||n(),r,o,e[0])),e.attr("data-mce-"+o,r).attr(o,r)},get:function(e,t){return e.attr("data-mce-"+t)||e.attr(t)}},i={style:{set:function(e,t){null===t||"object"!=typeof t?(r&&e.attr("data-mce-style",t),e.attr("style",t)):e.css(t)},get:function(t){var n=t.attr("data-mce-style")||t.attr("style");return n=e.serialize(e.parse(n),t[0].nodeName)}}};return r&&(i.href=i.src=o),i},ki=function(e,t){var n=t.attr("style"),r=e.serialize(e.parse(n),t[0].nodeName);r||(r=null),t.attr("data-mce-style",r)},Si=function(e,t){var n,r,o=0;if(e)for(n=e.nodeType,e=e.previousSibling;e;e=e.previousSibling)r=e.nodeType,(!t||3!==r||r!==n&&e.nodeValue.length)&&(o++,n=r);return o};function Ti(e,t){var r,u=this;void 0===t&&(t={});var s={},c=n.window,l={},f=0,d=function(e,t){void 0===t&&(t={});var r,u=0,s={};r=t.maxLoadTime||5e3;var c=function(t){e.getElementsByTagName("head")[0].appendChild(t)},l=function(o,i,a){var l,f,d,p,m=function(e){p.status=e,p.passed=[],p.failed=[],l&&(l.onload=null,l.onerror=null,l=null)},h=function(){for(var e=p.passed,t=e.length;t--;)e[t]();m(2)},g=function(){for(var e=p.failed,t=e.length;t--;)e[t]();m(3)},v=function(e,t){e()||((new Date).getTime()-d<r?$t.setTimeout(t):g())},b=function(){v((function(){for(var t,n,r=e.styleSheets,o=r.length;o--;)if((n=(t=r[o]).ownerNode?t.ownerNode:t.owningElement)&&n.id===l.id)return h(),!0}),b)},y=function(){v((function(){try{var e=f.sheet.cssRules;return h(),!!e}catch(e){}}),y)};if(o=cn._addCacheSuffix(o),s[o]?p=s[o]:(p={passed:[],failed:[]},s[o]=p),i&&p.passed.push(i),a&&p.failed.push(a),1!==p.status)if(2!==p.status)if(3!==p.status){if(p.status=1,(l=e.createElement("link")).rel="stylesheet",l.type="text/css",l.id="u"+u++,l.async=!1,l.defer=!1,d=(new Date).getTime(),t.contentCssCors&&(l.crossOrigin="anonymous"),t.referrerPolicy&&Xe(Ae.fromDom(l),"referrerpolicy",t.referrerPolicy),"onload"in l&&!((w=n.navigator.userAgent.match(/WebKit\/(\d*)/))&&parseInt(w[1],10)<536))l.onload=b,l.onerror=g;else{if(n.navigator.userAgent.indexOf("Firefox")>0)return(f=e.createElement("style")).textContent='@import "'+o+'"',y(),void c(f);b()}var w;c(l),l.href=o}else g();else h()},f=function(e){return zt.nu((function(t){l(e,o(t,i(Ft.value(e))),o(t,i(Ft.error(e))))}))},d=function(e){return e.fold(a,a)};return{load:l,loadAll:function(e,t,n){Bt(A(e,f)).get((function(e){var r=N(e,(function(e){return e.isValue()}));r.fail.length>0?n(r.fail.map(d)):t(r.pass.map(d))}))},_setReferrerPolicy:function(e){t.referrerPolicy=e}}}(e,{contentCssCors:t.contentCssCors,referrerPolicy:t.referrerPolicy}),p=[],m=t.schema?t.schema:Gn({}),h=hr({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),v=t.ownEvents?new Tr:Tr.Event,b=m.getBlockElements(),y=Jo.overrideDefaults((function(){return{context:e,element:G.getRoot()}})),w=function(t){if(t&&e&&"string"==typeof t){var n=e.getElementById(t);return n&&n.id!==t?e.getElementsByName(t)[1]:n}return t},x=function(e){return"string"==typeof e&&(e=w(e)),y(e)},C=function(e,t,n){var o,i,a=x(e);return a.length&&(i=(o=r[t])&&o.get?o.get(a,t):a.attr(t)),void 0===i&&(i=n||""),i},k=function(e){var t=w(e);return t?t.attributes:[]},S=function(e,n,o){var i,a;""===o&&(o=null);var u=x(e);i=u.attr(n),u.length&&((a=r[n])&&a.set?a.set(u,o,n):u.attr(n,o),i!==o&&t.onSetAttrib&&t.onSetAttrib({attrElm:u,attrName:n,attrValue:o}))},T=function(){return t.root_element||e.body},E=function(t,n){return Tt.getPos(e.body,w(t),n)},O=function(e,t,n){var r=x(e);return n?r.css(t):("float"===(t=t.replace(/-(\D)/g,(function(e,t){return t.toUpperCase()})))&&(t=Zt.browser.isIE()?"styleFloat":"cssFloat"),r[0]&&r[0].style?r[0].style[t]:void 0)},_=function(e){var t,n;return e=w(e),t=O(e,"width"),n=O(e,"height"),-1===t.indexOf("px")&&(t=0),-1===n.indexOf("px")&&(n=0),{w:parseInt(t,10)||e.offsetWidth||e.clientWidth,h:parseInt(n,10)||e.offsetHeight||e.clientHeight}},D=function(e,t){var n;if(!e)return!1;if(!Array.isArray(e)){if("*"===t)return 1===e.nodeType;if(wi.test(t)){var r=t.toLowerCase().split(/,/),o=e.nodeName.toLowerCase();for(n=r.length-1;n>=0;n--)if(r[n]===o)return!0;return!1}if(e.nodeType&&1!==e.nodeType)return!1}var i=Array.isArray(e)?e:[e];return so(t,i[0].ownerDocument||i[0],null,i).length>0},M=function(e,t,n,r){var o,i=[],a=w(e);for(r=void 0===r,n=n||("BODY"!==T().nodeName?T().parentNode:null),cn.is(t,"string")&&(o=t,t="*"===t?function(e){return 1===e.nodeType}:function(e){return D(e,o)});a&&a!==n&&a.nodeType&&9!==a.nodeType;){if(!t||"function"==typeof t&&t(a)){if(!r)return[a];i.push(a)}a=a.parentNode}return r?i:null},R=function(e,t,n){var r=t;if(e)for("string"==typeof t&&(r=function(e){return D(e,t)}),e=e[n];e;e=e[n])if("function"==typeof r&&r(e))return e;return null},z=function(e,t,n){var r,o="string"==typeof e?w(e):e;if(!o)return!1;if(cn.isArray(o)&&(o.length||0===o.length))return r=[],vi(o,(function(e,o){e&&("string"==typeof e&&(e=w(e)),r.push(t.call(n,e,o)))})),r;var i=n||u;return t.call(i,o)},I=function(e,t){x(e).each((function(e,n){vi(t,(function(e,t){S(n,t,e)}))}))},B=function(e,t){var n=x(e);yi?n.each((function(e,n){if(!1!==n.canHaveHTML){for(;n.firstChild;)n.removeChild(n.firstChild);try{n.innerHTML="<br>"+t,n.removeChild(n.firstChild)}catch(e){Jo("<div></div>").html("<br>"+t).contents().slice(1).appendTo(n)}return t}})):n.html(t)},P=function(t,n,r,o,i){return z(t,(function(t){var a="string"==typeof n?e.createElement(n):n;return I(a,r),o&&("string"!=typeof o&&o.nodeType?a.appendChild(o):"string"==typeof o&&B(a,o)),i?a:t.appendChild(a)}))},L=function(t,n,r){return P(e.createElement(t),t,n,r,!0)},F=Ln.decode,H=Ln.encodeAllRaw,j=function(e,t){var n=x(e);return t?n.each((function(){for(var e;e=this.firstChild;)3===e.nodeType&&0===e.data.length?this.removeChild(e):this.parentNode.insertBefore(e,this)})).remove():n.remove(),n.length>1?n.toArray():n[0]},V=function(e,t,n){x(e).toggleClass(t,n).each((function(){""===this.className&&Jo(this).attr("class",null)}))},$=function(e,t,n){return z(t,(function(t){return cn.is(t,"array")&&(e=e.cloneNode(!0)),n&&vi(bi(t.childNodes),(function(t){e.appendChild(t)})),t.parentNode.replaceChild(e,t)}))},q=function(){return e.createRange()},W=function(n,r,o,i){if(cn.isArray(n)){for(var a=n.length,u=[];a--;)u[a]=W(n[a],r,o,i);return u}return!t.collect||n!==e&&n!==c||p.push([n,r,o,i]),v.bind(n,r,o,i||G)},Y=function(t,n,r){var o;if(cn.isArray(t)){o=t.length;for(var i=[];o--;)i[o]=Y(t[o],n,r);return i}if(p&&(t===e||t===c))for(o=p.length;o--;){var a=p[o];t!==a[0]||n&&n!==a[1]||r&&r!==a[2]||v.unbind(a[0],a[1],a[2])}return v.unbind(t,n,r)},X=function(e){if(e&&ne.isElement(e)){var t=e.getAttribute("data-mce-contenteditable");return t&&"inherit"!==t?t:"inherit"!==e.contentEditable?e.contentEditable:null}return null},G={doc:e,settings:t,win:c,files:l,stdMode:!0,boxModel:!0,styleSheetLoader:d,boundEvents:p,styles:h,schema:m,events:v,isBlock:function(e){if("string"==typeof e)return!!b[e];if(e){var t=e.nodeType;if(t)return!(1!==t||!b[e.nodeName])}return!1},$:y,$$:x,root:null,clone:function(t,n){if(!yi||1!==t.nodeType||n)return t.cloneNode(n);if(!n){var r=e.createElement(t.nodeName);return vi(k(t),(function(e){S(r,e.nodeName,C(t,e.nodeName))})),r}return null},getRoot:T,getViewPort:function(e){var t=gi(e);return{x:t.x(),y:t.y(),w:t.width(),h:t.height()}},getRect:function(e){var t,n;return e=w(e),t=E(e),n=_(e),{x:t.x,y:t.y,w:n.w,h:n.h}},getSize:_,getParent:function(e,t,n){var r=M(e,t,n,!1);return r&&r.length>0?r[0]:null},getParents:M,get:w,getNext:function(e,t){return R(e,t,"nextSibling")},getPrev:function(e,t){return R(e,t,"previousSibling")},select:function(n,r){return so(n,w(r)||t.root_element||e,[])},is:D,add:P,create:L,createHTML:function(e,t,n){var r,o="";for(r in o+="<"+e,t)t.hasOwnProperty(r)&&null!==t[r]&&void 0!==t[r]&&(o+=" "+r+'="'+H(t[r])+'"');return void 0!==n?o+">"+n+"</"+e+">":o+" />"},createFragment:function(t){var n,r=e.createElement("div"),o=e.createDocumentFragment();for(t&&(r.innerHTML=t);n=r.firstChild;)o.appendChild(n);return o},remove:j,setStyle:function(e,n,r){var o=g(n)?x(e).css(n,r):x(e).css(n);t.update_styles&&ki(h,o)},getStyle:O,setStyles:function(e,n){var r=x(e).css(n);t.update_styles&&ki(h,r)},removeAllAttribs:function(e){return z(e,(function(e){var t,n=e.attributes;for(t=n.length-1;t>=0;t--)e.removeAttributeNode(n.item(t))}))},setAttrib:S,setAttribs:I,getAttrib:C,getPos:E,parseStyle:function(e){return h.parse(e)},serializeStyle:function(e,t){return h.serialize(e,t)},addStyle:function(t){var r,o;if(G!==Ti.DOM&&e===n.document){if(s[t])return;s[t]=!0}(o=e.getElementById("mceDefaultStyles"))||((o=e.createElement("style")).id="mceDefaultStyles",o.type="text/css",(r=e.getElementsByTagName("head")[0]).firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o)),o.styleSheet?o.styleSheet.cssText+=t:o.appendChild(e.createTextNode(t))},loadCSS:function(r){var o;G===Ti.DOM||e!==n.document?(r||(r=""),o=e.getElementsByTagName("head")[0],vi(r.split(","),(function(e){var n;e=cn._addCacheSuffix(e),l[e]||(l[e]=!0,n=L("link",U(U({rel:"stylesheet",type:"text/css",href:e},t.contentCssCors?{crossOrigin:"anonymous"}:{}),t.referrerPolicy?{referrerPolicy:t.referrerPolicy}:{})),o.appendChild(n))}))):Ti.DOM.loadCSS(r)},addClass:function(e,t){x(e).addClass(t)},removeClass:function(e,t){V(e,t,!1)},hasClass:function(e,t){return x(e).hasClass(t)},toggleClass:V,show:function(e){x(e).show()},hide:function(e){x(e).hide()},isHidden:function(e){return"none"===x(e).css("display")},uniqueId:function(e){return(e||"mce_")+f++},setHTML:B,getOuterHTML:function(e){var t="string"==typeof e?w(e):e;return ne.isElement(t)?t.outerHTML:Jo("<div></div>").append(Jo(t).clone()).html()},setOuterHTML:function(e,t){x(e).each((function(){try{if("outerHTML"in this)return void(this.outerHTML=t)}catch(e){}j(Jo(this).html(t),!0)}))},decode:F,encode:H,insertAfter:function(e,t){var n=w(t);return z(e,(function(e){var t,r;return t=n.parentNode,(r=n.nextSibling)?t.insertBefore(e,r):t.appendChild(e),e}))},replace:$,rename:function(e,t){var n;return e.nodeName!==t.toUpperCase()&&(n=L(t),vi(k(e),(function(t){S(n,t.nodeName,C(e,t.nodeName))})),$(n,e,!0)),n||e},findCommonAncestor:function(e,t){for(var n,r=e;r;){for(n=t;n&&r!==n;)n=n.parentNode;if(r===n)break;r=r.parentNode}return!r&&e.ownerDocument?e.ownerDocument.documentElement:r},toHex:function(e){return h.toHex(cn.trim(e))},run:z,getAttribs:k,isEmpty:function(e,t){var n,r,o,i,a=0;if(e=e.firstChild){var u=new Qo(e,e.parentNode),s=m?m.getWhiteSpaceElements():{};t=t||(m?m.getNonEmptyElements():null);do{if(o=e.nodeType,ne.isElement(e)){var c=e.getAttribute("data-mce-bogus");if(c){e=u.next("all"===c);continue}if(i=e.nodeName.toLowerCase(),t&&t[i]){if("br"===i){a++,e=u.next();continue}return!1}for(n=(r=k(e)).length;n--;)if("name"===(i=r[n].nodeName)||"data-mce-bookmark"===i)return!1}if(8===o)return!1;if(3===o&&!xi.test(e.nodeValue))return!1;if(3===o&&e.parentNode&&s[e.parentNode.nodeName]&&xi.test(e.nodeValue))return!1;e=u.next()}while(e)}return a<=1},createRng:q,nodeIndex:Si,split:function(e,t,n){var r,o,i,a=q();if(e&&t)return a.setStart(e.parentNode,Si(e)),a.setEnd(t.parentNode,Si(t)),r=a.extractContents(),(a=q()).setStart(t.parentNode,Si(t)+1),a.setEnd(e.parentNode,Si(e)+1),o=a.extractContents(),(i=e.parentNode).insertBefore(On.trimNode(G,r),e),n?i.insertBefore(n,e):i.insertBefore(t,e),i.insertBefore(On.trimNode(G,o),e),j(e),n||t},bind:W,unbind:Y,fire:function(e,t,n){return v.fire(e,t,n)},getContentEditable:X,getContentEditableParent:function(e){for(var t=T(),n=null;e&&e!==t&&null===(n=X(e));e=e.parentNode);return n},destroy:function(){if(p)for(var e=p.length;e--;){var t=p[e];v.unbind(t[0],t[1],t[2])}so.setDocument&&so.setDocument()},isChildOf:function(e,t){for(;e;){if(t===e)return!0;e=e.parentNode}return!1},dumpRng:function(e){return"startContainer: "+e.startContainer.nodeName+", startOffset: "+e.startOffset+", endContainer: "+e.endContainer.nodeName+", endOffset: "+e.endOffset}};return r=Ci(h,t,(function(){return G})),G}!function(e){e.DOM=e(n.document),e.nodeIndex=Si}(Ti||(Ti={}));var Ei=Ti,Oi=Ei.DOM,_i=cn.each,Ai=cn.grep,Di=function(){function e(e){void 0===e&&(e={}),this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=0,this.settings=e}return e.prototype._setReferrerPolicy=function(e){this.settings.referrerPolicy=e},e.prototype.loadScript=function(e,t,r){var o,i,a=Oi;i=a.uniqueId(),(o=n.document.createElement("script")).id=i,o.type="text/javascript",o.src=cn._addCacheSuffix(e),this.settings.referrerPolicy&&a.setAttrib(o,"referrerpolicy",this.settings.referrerPolicy),o.onload=function(){a.remove(i),o&&(o.onreadystatechange=o.onload=o=null),t()},o.onerror=function(){x(r)?r():void 0!==n.console&&n.console.log&&n.console.log("Failed to load script: "+e)},(n.document.getElementsByTagName("head")[0]||n.document.body).appendChild(o)},e.prototype.isDone=function(e){return 2===this.states[e]},e.prototype.markDone=function(e){this.states[e]=2},e.prototype.add=function(e,t,n,r){void 0===this.states[e]&&(this.queue.push(e),this.states[e]=0),t&&(this.scriptLoadedCallbacks[e]||(this.scriptLoadedCallbacks[e]=[]),this.scriptLoadedCallbacks[e].push({success:t,failure:r,scope:n||this}))},e.prototype.load=function(e,t,n,r){return this.add(e,t,n,r)},e.prototype.remove=function(e){delete this.states[e],delete this.scriptLoadedCallbacks[e]},e.prototype.loadQueue=function(e,t,n){this.loadScripts(this.queue,e,t,n)},e.prototype.loadScripts=function(e,t,n,r){var o,i=this,a=[],u=function(e,t){_i(i.scriptLoadedCallbacks[t],(function(t){x(t[e])&&t[e].call(t.scope)})),i.scriptLoadedCallbacks[t]=void 0};i.queueLoadedCallbacks.push({success:t,failure:r,scope:n||this}),(o=function(){var t=Ai(e);if(e.length=0,_i(t,(function(e){2!==i.states[e]?3!==i.states[e]?1!==i.states[e]&&(i.states[e]=1,i.loading++,i.loadScript(e,(function(){i.states[e]=2,i.loading--,u("success",e),o()}),(function(){i.states[e]=3,i.loading--,a.push(e),u("failure",e),o()}))):u("failure",e):u("success",e)})),!i.loading){var n=i.queueLoadedCallbacks.slice(0);i.queueLoadedCallbacks.length=0,_i(n,(function(e){0===a.length?x(e.success)&&e.success.call(e.scope):x(e.failure)&&e.failure.call(e.scope,a)}))}})()},e.ScriptLoader=new e,e}(),Ni={},Mi=re("en"),Ri={getData:function(){return He(Ni,(function(e){return U({},e)}))},setCode:function(e){e&&Mi.set(e)},getCode:function(){return Mi.get()},add:function(e,t){var n=Ni[e];for(var r in n||(Ni[e]=n={}),t)n[r.toLowerCase()]=t[r]},translate:function(e){var t,n=Ni[Mi.get()]||{},r=function(e){return x(e)?Object.prototype.toString.call(e):o(e)?"":""+e},o=function(e){return""===e||null==e},i=function(e){var t=r(e),o=t.toLowerCase();return $e(n,o)?r(n[o]):t},a=function(e){return e.replace(/{context:\w+}$/,"")};if(o(e))return"";if(v(t=e)&&$e(t,"raw"))return r(e.raw);if(function(e){return b(e)&&e.length>1}(e)){var u=e.slice(1);return a(i(e[0]).replace(/\{([0-9]+)\}/g,(function(e,t){return $e(u,t)?r(u[t]):e})))}return a(i(e))},isRtl:function(){return Ue(Ni,Mi.get()).bind((function(e){return Ue(e,"_dir")})).exists((function(e){return"rtl"===e}))},hasCode:function(e){return $e(Ni,e)}},zi=cn.each;function Ii(){var e=this,t=[],n={},r={},o=[],i=function(e){var t;return r[e]&&(t=r[e].dependencies),t||[]},a=function(e,t){return"object"==typeof t?t:"string"==typeof e?{prefix:"",resource:t,suffix:""}:{prefix:e.prefix,resource:t,suffix:e.suffix}},u=function(e,t,n,r){var o=i(e);zi(o,(function(e){var n=a(t,e);s(n.resource,n,void 0,void 0)})),n&&(r?n.call(r):n.call(Di))},s=function(e,t,o,i,a){if(!n[e]){var s="string"==typeof t?t:t.prefix+t.resource+t.suffix;0!==s.indexOf("/")&&-1===s.indexOf("://")&&(s=Ii.baseURL+"/"+s),n[e]=s.substring(0,s.lastIndexOf("/")),r[e]?u(e,t,o,i):Di.ScriptLoader.add(s,(function(){return u(e,t,o,i)}),i,a)}};return{items:t,urls:n,lookup:r,_listeners:o,get:function(e){if(r[e])return r[e].instance},dependencies:i,requireLangPack:function(e,t){var r=Ri.getCode();if(r&&!1!==Ii.languageLoad){if(t)if(-1!==(t=","+t+",").indexOf(","+r.substr(0,2)+","))r=r.substr(0,2);else if(-1===t.indexOf(","+r+","))return;Di.ScriptLoader.add(n[e]+"/langs/"+r+".js")}},add:function(e,n,i){t.push(n),r[e]={instance:n,dependencies:i};var a=N(o,(function(t){return t.name===e}));return o=a.fail,zi(a.pass,(function(e){e.callback()})),n},remove:function(e){delete n[e],delete r[e]},createUrl:a,addComponents:function(t,n){var r=e.urls[t];zi(n,(function(e){Di.ScriptLoader.add(r+"/"+e)}))},load:s,waitFor:function(e,t){r.hasOwnProperty(e)?t():o.push({name:e,callback:t})}}}!function(e){e.PluginManager=e(),e.ThemeManager=e()}(Ii||(Ii={}));var Bi=Ii,Pi=function(e,t){var r=null;return{cancel:function(){null!==r&&(n.clearTimeout(r),r=null)},throttle:function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];null===r&&(r=n.setTimeout((function(){e.apply(null,o),r=null}),t))}}},Li=function(e,t){var n=Ke(e,t);return void 0===n||""===n?[]:n.split(" ")},Fi=function(e){return void 0!==e.dom().classList},Hi=function(e,t){return function(e,t,n){var r=Li(e,t).concat([n]);return Xe(e,t,r.join(" ")),!0}(e,"class",t)},ji=function(e,t){return function(e,t,n){var r=M(Li(e,t),(function(e){return e!==n}));return r.length>0?Xe(e,t,r.join(" ")):Je(e,t),!1}(e,"class",t)},Vi=function(e,t){Fi(e)?e.dom().classList.add(t):Hi(e,t)},Ui=function(e){0===(Fi(e)?e.dom().classList:function(e){return Li(e,"class")}(e)).length&&Je(e,"class")},$i=function(e,t){return Fi(e)&&e.dom().classList.contains(t)},qi=function(e,t){var n=[];return D(bt(e),(function(e){t(e)&&(n=n.concat([e])),n=n.concat(qi(e,t))})),n},Wi=function(e,t){return function(e,t){var r=void 0===t?n.document:t.dom();return st(r)?[]:A(r.querySelectorAll(e),Ae.fromDom)}(t,e)};function Yi(e,t,n,r,o){return e(n,r)?m.some(n):x(o)&&o(n)?m.none():t(n,r,o)}var Xi=function(e,t,n){for(var r=e.dom(),o=x(n)?n:i(!1);r.parentNode;){r=r.parentNode;var a=Ae.fromDom(r);if(t(a))return m.some(a);if(o(a))break}return m.none()},Gi=function(e,t,n){return Yi((function(e,t){return t(e)}),Xi,e,t,n)},Ki=function(e,t,n){return Xi(e,(function(e){return ut(e,t)}),n)},Ji=function(e,t){return function(e,t){var r=void 0===t?n.document:t.dom();return st(r)?m.none():m.from(r.querySelector(e)).map(Ae.fromDom)}(t,e)},Qi=function(e,t,n){return Yi(ut,Ki,e,t,n)},Zi=i("mce-annotation"),ea=i("data-mce-annotation"),ta=i("data-mce-annotation-uid"),na=function(e,t){var n=e.selection.getRng(),r=Ae.fromDom(n.startContainer),o=Ae.fromDom(e.getBody()),i=t.fold((function(){return"."+Zi()}),(function(e){return"["+ea()+'="'+e+'"]'})),a=yt(r,n.startOffset).getOr(r),u=Qi(a,i,(function(e){return ct(e,o)})),s=function(e,t){return function(e,t){var n=e.dom();return!(!n||!n.hasAttribute)&&n.hasAttribute(t)}(e,t)?m.some(Ke(e,t)):m.none()};return u.bind((function(t){return s(t,""+ta()).bind((function(n){return s(t,""+ea()).map((function(t){var r=ra(e,n);return{uid:n,name:t,elements:r}}))}))}))},ra=function(e,t){var n=Ae.fromDom(e.getBody());return Wi(n,"["+ta()+'="'+t+'"]')},oa=function(e,t){var r,o,i,a=re({}),u=function(e,t){s(e,(function(e){return t(e),e}))},s=function(e,t){var n=a.get(),r=t(n.hasOwnProperty(e)?n[e]:{listeners:[],previous:re(m.none())});n[e]=r,a.set(n)},c=(r=function(){var t,n,r,o=a.get(),i=(t=Pe(o),(r=k.call(t,0)).sort(n),r);D(i,(function(t){s(t,(function(n){var r=n.previous.get();return na(e,m.some(t)).fold((function(){r.isSome()&&(function(e){u(e,(function(t){D(t.listeners,(function(t){return t(!1,e)}))}))}(t),n.previous.set(m.none()))}),(function(e){var t=e.uid,o=e.name,i=e.elements;r.is(t)||(function(e,t,n){u(e,(function(r){D(r.listeners,(function(r){return r(!0,e,{uid:t,nodes:A(n,(function(e){return e.dom()}))})}))}))}(o,t,i),n.previous.set(m.some(t)))})),{previous:n.previous,listeners:n.listeners}}))}))},o=30,i=null,{cancel:function(){null!==i&&(n.clearTimeout(i),i=null)},throttle:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];null!==i&&n.clearTimeout(i),i=n.setTimeout((function(){r.apply(null,e),i=null}),o)}});e.on("remove",(function(){c.cancel()})),e.on("NodeChange",(function(){c.throttle()}));return{addListener:function(e,t){s(e,(function(e){return{previous:e.previous,listeners:e.listeners.concat([t])}}))}}},ia=function(e,t){e.on("init",(function(){e.serializer.addNodeFilter("span",(function(e){D(e,(function(e){(function(e){return m.from(e.attr(ea())).bind(t.lookup)})(e).each((function(t){!1===t.persistent&&e.unwrap()}))}))}))}))},aa=0,ua=function(e,t){return Ae.fromDom(e.dom().cloneNode(t))},sa=function(e){return ua(e,!1)},ca=function(e){return ua(e,!0)},la=function(e,t){var r,o,i=ft(e).dom(),a=Ae.fromDom(i.createDocumentFragment()),u=(r=t,(o=(i||n.document).createElement("div")).innerHTML=r,bt(Ae.fromDom(o)));ri(a,u),oi(e),ni(e,a)},fa=function(e){return"\ufeff"===e},da="\ufeff",pa=function(e){return e.replace(new RegExp("\ufeff","g"),"")},ma=ne.isElement,ha=ne.isText,ga=function(e){return ha(e)&&(e=e.parentNode),ma(e)&&e.hasAttribute("data-mce-caret")},va=function(e){return ha(e)&&fa(e.data)},ba=function(e){return ga(e)||va(e)},ya=function(e){return e.firstChild!==e.lastChild||!ne.isBr(e.firstChild)},wa=function(e){var t=e.container();return!(!e||!ne.isText(t))&&(t.data.charAt(e.offset())===da||e.isAtStart()&&va(t.previousSibling))},xa=function(e){var t=e.container();return!(!e||!ne.isText(t))&&(t.data.charAt(e.offset()-1)===da||e.isAtEnd()&&va(t.nextSibling))},Ca=function(e,t,r){var o,i,a;return(o=t.ownerDocument.createElement(e)).setAttribute("data-mce-caret",r?"before":"after"),o.setAttribute("data-mce-bogus","all"),o.appendChild(((a=n.document.createElement("br")).setAttribute("data-mce-bogus","1"),a)),i=t.parentNode,r?i.insertBefore(o,t):t.nextSibling?i.insertBefore(o,t.nextSibling):i.appendChild(o),o},ka=function(e){return ha(e)&&e.data[0]===da},Sa=function(e){return ha(e)&&e.data[e.data.length-1]===da},Ta=function(e){return e&&e.hasAttribute("data-mce-caret")?(t=e.getElementsByTagName("br"),n=t[t.length-1],ne.isBogus(n)&&n.parentNode.removeChild(n),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("_moz_abspos"),e):null;var t,n},Ea=ne.isContentEditableTrue,Oa=ne.isContentEditableFalse,_a=ne.isBr,Aa=ne.isText,Da=ne.matchNodeNames(["script","style","textarea"]),Na=ne.matchNodeNames(["img","input","textarea","hr","iframe","video","audio","object"]),Ma=ne.matchNodeNames(["table"]),Ra=ba,za=function(e){return!Ra(e)&&(Aa(e)?!Da(e.parentNode):Na(e)||_a(e)||Ma(e)||Ia(e))},Ia=function(e){return!1===function(e){return ne.isElement(e)&&"true"===e.getAttribute("unselectable")}(e)&&Oa(e)},Ba=function(e,t){return za(e)&&function(e,t){for(e=e.parentNode;e&&e!==t;e=e.parentNode){if(Ia(e))return!1;if(Ea(e))return!0}return!0}(e,t)},Pa=Math.round,La=function(e){return e?{left:Pa(e.left),top:Pa(e.top),bottom:Pa(e.bottom),right:Pa(e.right),width:Pa(e.width),height:Pa(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}},Fa=function(e,t){return e=La(e),t?e.right=e.left:(e.left=e.left+e.width,e.right=e.left),e.width=0,e},Ha=function(e,t,n){return e>=0&&e<=Math.min(t.height,n.height)/2},ja=function(e,t){return e.bottom-e.height/2<t.top||!(e.top>t.bottom)&&Ha(t.top-e.bottom,e,t)},Va=function(e,t){return e.top>t.bottom||!(e.bottom<t.top)&&Ha(t.bottom-e.top,e,t)},Ua=function(e,t,n){return t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom},$a=function(e){var t=e.startContainer,n=e.startOffset;return t.hasChildNodes()&&e.endOffset===n+1?t.childNodes[n]:null},qa=function(e,t){return 1===e.nodeType&&e.hasChildNodes()&&(t>=e.childNodes.length&&(t=e.childNodes.length-1),e=e.childNodes[t]),e},Wa=new RegExp("[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ًؚ-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⵿⳱ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]"),Ya=function(e){return"string"==typeof e&&e.charCodeAt(0)>=768&&Wa.test(e)},Xa=function(e,t,n){return e.isSome()&&t.isSome()?m.some(n(e.getOrDie(),t.getOrDie())):m.none()},Ga=[].slice,Ka=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Ga.call(arguments);return function(e){for(var t=0;t<n.length;t++)if(!n[t](e))return!1;return!0}},Ja=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Ga.call(arguments);return function(e){for(var t=0;t<n.length;t++)if(n[t](e))return!0;return!1}},Qa=ne.isElement,Za=za,eu=ne.matchStyleValues("display","block table"),tu=ne.matchStyleValues("float","left right"),nu=Ka(Qa,Za,s(tu)),ru=s(ne.matchStyleValues("white-space","pre pre-line pre-wrap")),ou=ne.isText,iu=ne.isBr,au=Ei.nodeIndex,uu=qa,su=function(e){return"createRange"in e?e.createRange():Ei.DOM.createRng()},cu=function(e){return e&&/[\r\n\t ]/.test(e)},lu=function(e){return!!e.setStart&&!!e.setEnd},fu=function(e){var t,n=e.startContainer,r=e.startOffset;return!!(cu(e.toString())&&ru(n.parentNode)&&ne.isText(n)&&(t=n.data,cu(t[r-1])||cu(t[r+1])))},du=function(e){return 0===e.left&&0===e.right&&0===e.top&&0===e.bottom},pu=function(e){var t,n;return t=(n=e.getClientRects()).length>0?La(n[0]):La(e.getBoundingClientRect()),!lu(e)&&iu(e)&&du(t)?function(e){var t,n=e.ownerDocument,r=su(n),o=n.createTextNode(" "),i=e.parentNode;return i.insertBefore(o,e),r.setStart(o,0),r.setEnd(o,1),t=La(r.getBoundingClientRect()),i.removeChild(o),t}(e):du(t)&&lu(e)?function(e){var t=e.startContainer,n=e.endContainer,r=e.startOffset,o=e.endOffset;if(t===n&&ne.isText(n)&&0===r&&1===o){var i=e.cloneRange();return i.setEndAfter(n),pu(i)}return null}(e):t},mu=function(e,t){var n=Fa(e,t);return n.width=1,n.right=n.left+1,n},hu=function(e){var t,n,r=[],o=function(e){var t,n;0!==e.height&&(r.length>0&&(t=e,n=r[r.length-1],t.left===n.left&&t.top===n.top&&t.bottom===n.bottom&&t.right===n.right)||r.push(e))},i=function(e,t){var n=su(e.ownerDocument);if(t<e.data.length){if(Ya(e.data[t]))return r;if(Ya(e.data[t-1])&&(n.setStart(e,t),n.setEnd(e,t+1),!fu(n)))return o(mu(pu(n),!1)),r}t>0&&(n.setStart(e,t-1),n.setEnd(e,t),fu(n)||o(mu(pu(n),!1))),t<e.data.length&&(n.setStart(e,t),n.setEnd(e,t+1),fu(n)||o(mu(pu(n),!0)))};if(ou(e.container()))return i(e.container(),e.offset()),r;if(Qa(e.container()))if(e.isAtEnd())n=uu(e.container(),e.offset()),ou(n)&&i(n,n.data.length),nu(n)&&!iu(n)&&o(mu(pu(n),!1));else{if(n=uu(e.container(),e.offset()),ou(n)&&i(n,0),nu(n)&&e.isAtEnd())return o(mu(pu(n),!1)),r;t=uu(e.container(),e.offset()-1),nu(t)&&!iu(t)&&(eu(t)||eu(n)||!nu(n))&&o(mu(pu(t),!1)),nu(n)&&o(mu(pu(n),!0))}return r};function gu(e,t,n){var r=function(){return n||(n=hu(gu(e,t))),n};return{container:i(e),offset:i(t),toRange:function(){var n;return(n=su(e.ownerDocument)).setStart(e,t),n.setEnd(e,t),n},getClientRects:r,isVisible:function(){return r().length>0},isAtStart:function(){return ou(e),0===t},isAtEnd:function(){return ou(e)?t>=e.data.length:t>=e.childNodes.length},isEqual:function(n){return n&&e===n.container()&&t===n.offset()},getNode:function(n){return uu(e,n?t-1:t)}}}!function(e){e.fromRangeStart=function(t){return e(t.startContainer,t.startOffset)},e.fromRangeEnd=function(t){return e(t.endContainer,t.endOffset)},e.after=function(t){return e(t.parentNode,au(t)+1)},e.before=function(t){return e(t.parentNode,au(t))},e.isAbove=function(e,t){return Xa(H(t.getClientRects()),j(e.getClientRects()),ja).getOr(!1)},e.isBelow=function(e,t){return Xa(j(t.getClientRects()),H(e.getClientRects()),Va).getOr(!1)},e.isAtStart=function(e){return!!e&&e.isAtStart()},e.isAtEnd=function(e){return!!e&&e.isAtEnd()},e.isTextPosition=function(e){return!!e&&ne.isText(e.container())},e.isElementPosition=function(t){return!1===e.isTextPosition(t)}}(gu||(gu={}));var vu,bu=gu,yu=ne.isText,wu=ne.isBogus,xu=Ei.nodeIndex,Cu=function(e){var t=e.parentNode;return wu(t)?Cu(t):t},ku=function(e){return e?rn.reduce(e.childNodes,(function(e,t){return wu(t)&&"BR"!==t.nodeName?e=e.concat(ku(t)):e.push(t),e}),[]):[]},Su=function(e){return function(t){return e===t}},Tu=function(e){return(yu(e)?"text()":e.nodeName.toLowerCase())+"["+function(e){var t,n,r;return t=ku(Cu(e)),n=rn.findIndex(t,Su(e),e),t=t.slice(0,n+1),r=rn.reduce(t,(function(e,n,r){return yu(n)&&yu(t[r-1])&&e++,e}),0),t=rn.filter(t,ne.matchNodeNames([e.nodeName])),(n=rn.findIndex(t,Su(e),e))-r}(e)+"]"},Eu=function(e,t){var n,r,o,i,a,u=[];return n=t.container(),r=t.offset(),yu(n)?o=function(e,t){for(;(e=e.previousSibling)&&yu(e);)t+=e.data.length;return t}(n,r):(r>=(i=n.childNodes).length?(o="after",r=i.length-1):o="before",n=i[r]),u.push(Tu(n)),a=function(e,t,n){var r=[];for(t=t.parentNode;t!==e&&(!n||!n(t));t=t.parentNode)r.push(t);return r}(e,n),a=rn.filter(a,s(ne.isBogus)),(u=u.concat(rn.map(a,(function(e){return Tu(e)})))).reverse().join("/")+","+o},Ou=function(e,t){var n,r,o;return t?(n=t.split(","),t=n[0].split("/"),o=n.length>1?n[1]:"before",(r=rn.reduce(t,(function(e,t){return(t=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(t))?("text()"===t[1]&&(t[1]="#text"),function(e,t,n){var r=ku(e);return r=rn.filter(r,(function(e,t){return!yu(e)||!yu(r[t-1])})),(r=rn.filter(r,ne.matchNodeNames([t])))[n]}(e,t[1],parseInt(t[2],10))):null}),e))?yu(r)?function(e,t){for(var n,r=e,o=0;yu(r);){if(n=r.data.length,t>=o&&t<=o+n){e=r,t-=o;break}if(!yu(r.nextSibling)){e=r,t=n;break}o+=n,r=r.nextSibling}return yu(e)&&t>e.data.length&&(t=e.data.length),bu(e,t)}(r,parseInt(o,10)):(o="after"===o?xu(r)+1:xu(r),bu(r.parentNode,o)):null):null},_u=function(e,t){ne.isText(t)&&0===t.data.length&&e.remove(t)},Au=function(e,t,n){ne.isDocumentFragment(n)?function(e,t,n){var r=m.from(n.firstChild),o=m.from(n.lastChild);t.insertNode(n),r.each((function(t){return _u(e,t.previousSibling)})),o.each((function(t){return _u(e,t.nextSibling)}))}(e,t,n):function(e,t,n){t.insertNode(n),_u(e,n.previousSibling),_u(e,n.nextSibling)}(e,t,n)},Du=ne.isContentEditableFalse,Nu=function(e,t,n,r,o){var i,a=r[o?"startContainer":"endContainer"],u=r[o?"startOffset":"endOffset"],s=[],c=0,l=e.getRoot();for(ne.isText(a)?s.push(n?function(e,t,n){var r,o;for(o=e(t.data.slice(0,n)).length,r=t.previousSibling;r&&ne.isText(r);r=r.previousSibling)o+=e(r.data).length;return o}(t,a,u):u):(u>=(i=a.childNodes).length&&i.length&&(c=1,u=Math.max(0,i.length-1)),s.push(e.nodeIndex(i[u],n)+c));a&&a!==l;a=a.parentNode)s.push(e.nodeIndex(a,n));return s},Mu=function(e,t,n){var r=0;return cn.each(e.select(t),(function(e){if("all"!==e.getAttribute("data-mce-bogus"))return e!==n&&void r++})),r},Ru=function(e,t){var n,r,o,i=t?"start":"end";n=e[i+"Container"],r=e[i+"Offset"],ne.isElement(n)&&"TR"===n.nodeName&&(n=(o=n.childNodes)[Math.min(t?r:r-1,o.length-1)])&&(r=t?0:n.childNodes.length,e["set"+(t?"Start":"End")](n,r))},zu=function(e){return Ru(e,!0),Ru(e,!1),e},Iu=function(e,t){var n;if(ne.isElement(e)&&(e=qa(e,t),Du(e)))return e;if(ba(e)){if(ne.isText(e)&&ga(e)&&(e=e.parentNode),n=e.previousSibling,Du(n))return n;if(n=e.nextSibling,Du(n))return n}},Bu=function(e,t,n){var r=n.getNode(),o=r?r.nodeName:null,i=n.getRng();if(Du(r)||"IMG"===o)return{name:o,index:Mu(n.dom,o,r)};var a=function(e){return Iu(e.startContainer,e.startOffset)||Iu(e.endContainer,e.endOffset)}(i);return a?{name:o=a.tagName,index:Mu(n.dom,o,a)}:function(e,t,n,r){var o=t.dom,i={};return i.start=Nu(o,e,n,r,!0),t.isCollapsed()||(i.end=Nu(o,e,n,r,!1)),i}(e,n,t,i)},Pu=function(e,t,n){var r={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"};return n?e.create("span",r,"&#xFEFF;"):e.create("span",r)},Lu=function(e,t){var n=e.dom,r=e.getRng(),o=n.uniqueId(),i=e.isCollapsed(),a=e.getNode(),u=a.nodeName;if("IMG"===u)return{name:u,index:Mu(n,u,a)};var s=zu(r.cloneRange());if(!i){s.collapse(!1);var c=Pu(n,o+"_end",t);Au(n,s,c)}(r=zu(r)).collapse(!0);var l=Pu(n,o+"_start",t);return Au(n,r,l),e.moveToBookmark({id:o,keep:1}),{id:o}},Fu={getBookmark:function(e,t,n){return 2===t?Bu(pa,n,e):3===t?function(e){var t=e.getRng();return{start:Eu(e.dom.getRoot(),bu.fromRangeStart(t)),end:Eu(e.dom.getRoot(),bu.fromRangeEnd(t))}}(e):t?function(e){return{rng:e.getRng()}}(e):Lu(e,!1)},getUndoBookmark:u(Bu,a,!0),getPersistentBookmark:Lu},Hu=function(e){return ne.isElement(e)&&"_mce_caret"===e.id},ju=function(e,t){for(;t&&t!==e;){if("_mce_caret"===t.id)return t;t=t.parentNode}return null},Vu=ne.isElement,Uu=ne.isText,$u=function(e){var t=e.parentNode;t&&t.removeChild(e)},qu=function(e,t){0===t.length?$u(e):e.nodeValue=t},Wu=function(e){var t=pa(e);return{count:e.length-t.length,text:t}},Yu=function(e,t){return Ku(e),t},Xu=function(e,t){var n=t.container(),r=function(e,t){var n=E(e,t);return-1===n?m.none():m.some(n)}(V(n.childNodes),e).map((function(e){return e<t.offset()?bu(n,t.offset()-1):t})).getOr(t);return Ku(e),r},Gu=function(e,t){return Uu(e)&&t.container()===e?function(e,t){var n=Wu(e.data.substr(0,t.offset())),r=Wu(e.data.substr(t.offset())),o=n.text+r.text;return o.length>0?(qu(e,o),bu(e,t.offset()-n.count)):t}(e,t):Yu(e,t)},Ku=function(e){if(Vu(e)&&ba(e)&&(ya(e)?e.removeAttribute("data-mce-caret"):$u(e)),Uu(e)){var t=pa(function(e){try{return e.nodeValue}catch(e){return""}}(e));qu(e,t)}},Ju={removeAndReposition:function(e,t){return bu.isTextPosition(t)?Gu(e,t):function(e,t){return t.container()===e.parentNode?Xu(e,t):Yu(e,t)}(e,t)},remove:Ku},Qu=Oe().browser,Zu=ne.isContentEditableFalse,es=function(e,t,n){var r,o,i,a,u,s=Fa(t.getBoundingClientRect(),n);return"BODY"===e.tagName?(r=e.ownerDocument.documentElement,o=e.scrollLeft||r.scrollLeft,i=e.scrollTop||r.scrollTop):(u=e.getBoundingClientRect(),o=e.scrollLeft-u.left,i=e.scrollTop-u.top),s.left+=o,s.right+=o,s.top+=i,s.bottom+=i,s.width=1,(a=t.offsetWidth-t.clientWidth)>0&&(n&&(a*=-1),s.left+=a,s.right+=a),s},ts=function(e,t,n){var r,o,i=re(m.none()),a=function(){!function(e){var t,n,r,o,i;for(t=Jo("*[contentEditable=false]",e),o=0;o<t.length;o++)r=(n=t[o]).previousSibling,Sa(r)&&(1===(i=r.data).length?r.parentNode.removeChild(r):r.deleteData(i.length-1,1)),r=n.nextSibling,ka(r)&&(1===(i=r.data).length?r.parentNode.removeChild(r):r.deleteData(0,1))}(e),o&&(Ju.remove(o),o=null),i.get().each((function(e){Jo(e.caret).remove(),i.set(m.none())})),$t.clearInterval(r)},u=function(){r=$t.setInterval((function(){n()?Jo("div.mce-visual-caret",e).toggleClass("mce-visual-caret-hidden"):Jo("div.mce-visual-caret",e).addClass("mce-visual-caret-hidden")}),500)};return{show:function(n,r){var s,c,l;if(a(),l=r,ne.isElement(l)&&/^(TD|TH)$/i.test(l.tagName))return null;if(!t(r))return o=function(e,t){var n,r,o;if(r=e.ownerDocument.createTextNode(da),o=e.parentNode,t){if(n=e.previousSibling,ha(n)){if(ba(n))return n;if(Sa(n))return n.splitText(n.data.length-1)}o.insertBefore(r,e)}else{if(n=e.nextSibling,ha(n)){if(ba(n))return n;if(ka(n))return n.splitText(1),n}e.nextSibling?o.insertBefore(r,e.nextSibling):o.appendChild(r)}return r}(r,n),c=r.ownerDocument.createRange(),Zu(o.nextSibling)?(c.setStart(o,0),c.setEnd(o,0)):(c.setStart(o,1),c.setEnd(o,1)),c;o=Ca("p",r,n),s=es(e,r,n),Jo(o).css("top",s.top);var f=Jo('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(s).appendTo(e)[0];return i.set(m.some({caret:f,element:r,before:n})),i.get().each((function(e){n&&Jo(e.caret).addClass("mce-visual-caret-before")})),u(),(c=r.ownerDocument.createRange()).setStart(o,0),c.setEnd(o,0),c},hide:a,getCss:function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"},reposition:function(){i.get().each((function(t){var n=es(e,t.element,t.before);Jo(t.caret).css(U({},n))}))},destroy:function(){return $t.clearInterval(r)}}},ns=function(){return Qu.isIE()||Qu.isEdge()||Qu.isFirefox()},rs=function(e){return Zu(e)||ne.isTable(e)&&ns()},os=ne.isContentEditableFalse,is=ne.matchStyleValues("display","block table table-cell table-caption list-item"),as=ba,us=ga,ss=ne.isElement,cs=za,ls=function(e){return e>0},fs=function(e){return e<0},ds=function(e,t){for(var n;n=e(t);)if(!us(n))return n;return null},ps=function(e,t,n,r,o){var i=new Qo(e,r);if(fs(t)){if((os(e)||us(e))&&n(e=ds(i.prev,!0)))return e;for(;e=ds(i.prev,o);)if(n(e))return e}if(ls(t)){if((os(e)||us(e))&&n(e=ds(i.next,!0)))return e;for(;e=ds(i.next,o);)if(n(e))return e}return null},ms=function(e,t){for(;e&&e!==t;){if(is(e))return e;e=e.parentNode}return null},hs=function(e,t,n){return ms(e.container(),n)===ms(t.container(),n)},gs=function(e,t){var n,r;return t?(n=t.container(),r=t.offset(),ss(n)?n.childNodes[r+e]:null):null},vs=function(e,t){var n=t.ownerDocument.createRange();return e?(n.setStartBefore(t),n.setEndBefore(t)):(n.setStartAfter(t),n.setEndAfter(t)),n},bs=function(e,t,n){return ms(t,e)===ms(n,e)},ys=function(e,t,n){var r,o;for(o=e?"previousSibling":"nextSibling";n&&n!==t;){if(r=n[o],as(r)&&(r=r[o]),os(r)){if(bs(t,r,n))return r;break}if(cs(r))break;n=n.parentNode}return null},ws=u(vs,!0),xs=u(vs,!1),Cs=function(e,t,n){var r,o,i,a,s=u(ys,!0,t),c=u(ys,!1,t);if(o=n.startContainer,i=n.startOffset,ga(o)){if(ss(o)||(o=o.parentNode),"before"===(a=o.getAttribute("data-mce-caret"))&&(r=o.nextSibling,rs(r)))return ws(r);if("after"===a&&(r=o.previousSibling,rs(r)))return xs(r)}if(!n.collapsed)return n;if(ne.isText(o)){if(as(o)){if(1===e){if(r=c(o))return ws(r);if(r=s(o))return xs(r)}if(-1===e){if(r=s(o))return xs(r);if(r=c(o))return ws(r)}return n}if(Sa(o)&&i>=o.data.length-1)return 1===e&&(r=c(o))?ws(r):n;if(ka(o)&&i<=1)return-1===e&&(r=s(o))?xs(r):n;if(i===o.data.length)return(r=c(o))?ws(r):n;if(0===i)return(r=s(o))?xs(r):n}return n},ks=function(e,t){return m.from(gs(e?0:-1,t)).filter(os)},Ss=function(e,t,n){var r=Cs(e,t,n);return-1===e?gu.fromRangeStart(r):gu.fromRangeEnd(r)},Ts=function(e){return m.from(e.getNode()).map(Ae.fromDom)},Es=function(e,t){for(;t=e(t);)if(t.isVisible())return t;return t},Os=function(e,t){var n=hs(e,t);return!(n||!ne.isBr(e.getNode()))||n};!function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"}(vu||(vu={}));var _s=ne.isContentEditableFalse,As=ne.isText,Ds=ne.isElement,Ns=ne.isBr,Ms=za,Rs=function(e){return Na(e)||function(e){return!!Ia(e)&&!0!==z(V(e.getElementsByTagName("*")),(function(e,t){return e||Ea(t)}),!1)}(e)},zs=Ba,Is=function(e,t){return e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null},Bs=function(e,t){if(ls(e)){if(Ms(t.previousSibling)&&!As(t.previousSibling))return bu.before(t);if(As(t))return bu(t,0)}if(fs(e)){if(Ms(t.nextSibling)&&!As(t.nextSibling))return bu.after(t);if(As(t))return bu(t,t.data.length)}return fs(e)?Ns(t)?bu.before(t):bu.after(t):bu.before(t)},Ps=function(e,t,n){var r,o,a,u,s;if(!Ds(n)||!t)return null;if(t.isEqual(bu.after(n))&&n.lastChild){if(s=bu.after(n.lastChild),fs(e)&&Ms(n.lastChild)&&Ds(n.lastChild))return Ns(n.lastChild)?bu.before(n.lastChild):s}else s=t;var c=s.container(),l=s.offset();if(As(c)){if(fs(e)&&l>0)return bu(c,--l);if(ls(e)&&l<c.length)return bu(c,++l);r=c}else{if(fs(e)&&l>0&&(o=Is(c,l-1),Ms(o)))return!Rs(o)&&(a=ps(o,e,zs,o))?As(a)?bu(a,a.data.length):bu.after(a):As(o)?bu(o,o.data.length):bu.before(o);if(ls(e)&&l<c.childNodes.length&&(o=Is(c,l),Ms(o)))return Ns(o)?function(e,t){var n=t.nextSibling;return n&&Ms(n)?As(n)?bu(n,0):bu.before(n):Ps(vu.Forwards,bu.after(t),e)}(n,o):!Rs(o)&&(a=ps(o,e,zs,o))?As(a)?bu(a,0):bu.before(a):As(o)?bu(o,0):bu.after(o);r=o||s.getNode()}return(ls(e)&&s.isAtEnd()||fs(e)&&s.isAtStart())&&(r=ps(r,e,i(!0),n,!0),zs(r,n))?Bs(e,r):(o=ps(r,e,zs,n),!(u=rn.last(M(function(e,t){for(var n=[];e&&e!==t;)n.push(e),e=e.parentNode;return n}(c,n),_s)))||o&&u.contains(o)?o?Bs(e,o):null:s=ls(e)?bu.after(u):bu.before(u))},Ls=function(e){return{next:function(t){return Ps(vu.Forwards,t,e)},prev:function(t){return Ps(vu.Backwards,t,e)}}},Fs=function(e){return bu.isTextPosition(e)?0===e.offset():za(e.getNode())},Hs=function(e){if(bu.isTextPosition(e)){var t=e.container();return e.offset()===t.data.length}return za(e.getNode(!0))},js=function(e,t){return!bu.isTextPosition(e)&&!bu.isTextPosition(t)&&e.getNode()===t.getNode(!0)},Vs=function(e,t,n){return e?!js(t,n)&&(r=t,!(!bu.isTextPosition(r)&&ne.isBr(r.getNode())))&&Hs(t)&&Fs(n):!js(n,t)&&Fs(t)&&Hs(n);var r},Us=function(e,t,n){var r=Ls(t);return m.from(e?r.next(n):r.prev(n))},$s=function(e,t,n){return Us(e,t,n).bind((function(r){return hs(n,r,t)&&Vs(e,n,r)?Us(e,t,r):m.some(r)}))},qs=function(e,t,n,r){return $s(e,t,n).bind((function(n){return r(n)?qs(e,t,n,r):m.some(n)}))},Ws=function(e,t){var n,r=e?t.firstChild:t.lastChild;return ne.isText(r)?m.some(bu(r,e?0:r.data.length)):r?za(r)?m.some(e?bu.before(r):(n=r,ne.isBr(n)?bu.before(n):bu.after(n))):function(e,t,n){var r=e?bu.before(n):bu.after(n);return Us(e,t,r)}(e,t,r):m.none()},Ys=u(Us,!0),Xs=u(Us,!1),Gs={fromPosition:Us,nextPosition:Ys,prevPosition:Xs,navigate:$s,navigateIgnore:qs,positionIn:Ws,firstPositionIn:u(Ws,!0),lastPositionIn:u(Ws,!1)},Ks=function(e,t){return ne.isElement(t)&&e.isBlock(t)&&!t.innerHTML&&!Zt.ie&&(t.innerHTML='<br data-mce-bogus="1" />'),t},Js=function(e,t){return Gs.lastPositionIn(e).fold((function(){return!1}),(function(e){return t.setStart(e.container(),e.offset()),t.setEnd(e.container(),e.offset()),!0}))},Qs=function(e,t,n){return!(!function(e){return!1===e.hasChildNodes()}(t)||!ju(e,t))&&(function(e,t){var n=e.ownerDocument.createTextNode(da);e.appendChild(n),t.setStart(n,0),t.setEnd(n,0)}(t,n),!0)},Zs=function(e,t,n,r){var o,i,a,u,s=n[t?"start":"end"],c=e.getRoot();if(s){for(a=s[0],i=c,o=s.length-1;o>=1;o--){if(u=i.childNodes,Qs(c,i,r))return!0;if(s[o]>u.length-1)return!!Qs(c,i,r)||Js(i,r);i=u[s[o]]}3===i.nodeType&&(a=Math.min(s[0],i.nodeValue.length)),1===i.nodeType&&(a=Math.min(s[0],i.childNodes.length)),t?r.setStart(i,a):r.setEnd(i,a)}return!0},ec=function(e){return ne.isText(e)&&e.data.length>0},tc=function(e,t,n){var r,o,i,a,u,s,c=e.get(n.id+"_"+t),l=n.keep;if(c){if(r=c.parentNode,"start"===t?(l?c.hasChildNodes()?(r=c.firstChild,o=1):ec(c.nextSibling)?(r=c.nextSibling,o=0):ec(c.previousSibling)?(r=c.previousSibling,o=c.previousSibling.data.length):(r=c.parentNode,o=e.nodeIndex(c)+1):o=e.nodeIndex(c),u=r,s=o):(l?c.hasChildNodes()?(r=c.firstChild,o=1):ec(c.previousSibling)?(r=c.previousSibling,o=c.previousSibling.data.length):(r=c.parentNode,o=e.nodeIndex(c)):o=e.nodeIndex(c),u=r,s=o),!l){for(a=c.previousSibling,i=c.nextSibling,cn.each(cn.grep(c.childNodes),(function(e){ne.isText(e)&&(e.nodeValue=e.nodeValue.replace(/\uFEFF/g,""))}));c=e.get(n.id+"_"+t);)e.remove(c,!0);a&&i&&a.nodeType===i.nodeType&&ne.isText(a)&&!Zt.opera&&(o=a.nodeValue.length,a.appendData(i.nodeValue),e.remove(i),u=a,s=o)}return m.some(bu(u,s))}return m.none()},nc=function(e,t){var n=e.dom;if(t){if(function(e){return cn.isArray(e.start)}(t))return function(e,t){var n=e.createRng();return Zs(e,!0,t,n)&&Zs(e,!1,t,n)?m.some(n):m.none()}(n,t);if(function(e){return"string"==typeof e.start}(t))return m.some(function(e,t){var n,r;return n=e.createRng(),r=Ou(e.getRoot(),t.start),n.setStart(r.container(),r.offset()),r=Ou(e.getRoot(),t.end),n.setEnd(r.container(),r.offset()),n}(n,t));if(function(e){return e.hasOwnProperty("id")}(t))return function(e,t){var n=tc(e,"start",t),r=tc(e,"end",t);return Xa(n,r.or(n),(function(t,n){var r=e.createRng();return r.setStart(Ks(e,t.container()),t.offset()),r.setEnd(Ks(e,n.container()),n.offset()),r}))}(n,t);if(function(e){return e.hasOwnProperty("name")}(t))return function(e,t){return m.from(e.select(t.name)[t.index]).map((function(t){var n=e.createRng();return n.selectNode(t),n}))}(n,t);if(function(e){return e.hasOwnProperty("rng")}(t))return m.some(t.rng)}return m.none()},rc={getBookmark:function(e,t,n){return Fu.getBookmark(e,t,n)},moveToBookmark:function(e,t){nc(e,t).each((function(t){e.setRng(t)}))},isBookmarkNode:function(e){return ne.isElement(e)&&"SPAN"===e.tagName&&"bookmark"===e.getAttribute("data-mce-type")}},oc=function(e){return e&&/^(IMG)$/.test(e.nodeName)},ic=function(e){return e&&3===e.nodeType&&/^([\t \r\n]+|)$/.test(e.nodeValue)},ac=function(e,t,n){return"color"!==n&&"backgroundColor"!==n||(t=e.toHex(t)),"fontWeight"===n&&700===t&&(t="bold"),"fontFamily"===n&&(t=t.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+t},uc={isInlineBlock:oc,moveStart:function(e,t,n){var r,o,i,a=n.startOffset,u=n.startContainer;if((n.startContainer!==n.endContainer||!oc(n.startContainer.childNodes[n.startOffset]))&&1===u.nodeType)for(a<(i=u.childNodes).length?(u=i[a],r=new Qo(u,e.getParent(u,e.isBlock))):(u=i[i.length-1],(r=new Qo(u,e.getParent(u,e.isBlock))).next(!0)),o=r.current();o;o=r.next())if(3===o.nodeType&&!ic(o))return n.setStart(o,0),void t.setRng(n)},getNonWhiteSpaceSibling:function(e,t,n){if(e)for(t=t?"nextSibling":"previousSibling",e=n?e:e[t];e;e=e[t])if(1===e.nodeType||!ic(e))return e},isTextBlock:function(e,t){return t.nodeType&&(t=t.nodeName),!!e.schema.getTextBlockElements()[t.toLowerCase()]},isValid:function(e,t,n){return e.schema.isValidChild(t,n)},isWhiteSpaceNode:ic,replaceVars:function(e,t){return"string"!=typeof e?e=e(t):t&&(e=e.replace(/%(\w+)/g,(function(e,n){return t[n]||e}))),e},isEq:function(e,t){return t=t||"",e=""+((e=e||"").nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()===t.toLowerCase()},normalizeStyleValue:ac,getStyle:function(e,t,n){return ac(e,e.getStyle(t,n),n)},getTextDecoration:function(e,t){var n;return e.getParent(t,(function(t){return(n=e.getStyle(t,"text-decoration"))&&"none"!==n})),n},getParents:function(e,t,n){return e.getParents(t,n,e.getRoot())}},sc=rc.isBookmarkNode,cc=uc.getParents,lc=uc.isWhiteSpaceNode,fc=uc.isTextBlock,dc=function(e,t){for(void 0===t&&(t=3===e.nodeType?e.length:e.childNodes.length);e&&e.hasChildNodes();)(e=e.childNodes[t])&&(t=3===e.nodeType?e.length:e.childNodes.length);return{node:e,offset:t}},pc=function(e,t){for(var n=t;n;){if(1===n.nodeType&&e.getContentEditable(n))return"false"===e.getContentEditable(n)?n:t;n=n.parentNode}return t},mc=function(e,t,n,r){var o,i,a=n.nodeValue;return void 0===r&&(r=e?a.length:0),e?-1!==(o=(o=a.lastIndexOf(" ",r))>(i=a.lastIndexOf(" ",r))?o:i)&&!t&&(o<r||!e)&&o<=a.length&&o++:(o=a.indexOf(" ",r),i=a.indexOf(" ",r),o=-1!==o&&(-1===i||o<i)?o:i),o},hc=function(e,t,n,r,o,i){var a,u,s;if(3===n.nodeType){if(-1!==(u=mc(o,i,n,r)))return{container:n,offset:u};s=n}for(var c=new Qo(n,e.getParent(n,e.isBlock)||t);a=c[o?"prev":"next"]();)if(3!==a.nodeType||sc(a.parentNode)){if(e.isBlock(a)||uc.isEq(a,"BR"))break}else if(s=a,-1!==(u=mc(o,i,a)))return{container:a,offset:u};if(s)return{container:s,offset:r=o?0:s.length}},gc=function(e,t,n,r,o){var i,a,u,s;for(3===r.nodeType&&0===r.nodeValue.length&&r[o]&&(r=r[o]),i=cc(e,r),a=0;a<i.length;a++)for(u=0;u<t.length;u++)if(!("collapsed"in(s=t[u])&&s.collapsed!==n.collapsed)&&e.is(i[a],s.selector))return i[a];return r},vc=function(e,t,n,r){var o,i=e.dom,a=i.getRoot();if(t[0].wrapper||(o=i.getParent(n,t[0].block,a)),!o){var u=i.getParent(n,"LI,TD,TH");o=i.getParent(3===n.nodeType?n.parentNode:n,(function(t){return t!==a&&fc(e,t)}),u)}if(o&&t[0].wrapper&&(o=cc(i,o,"ul,ol").reverse()[0]||o),!o)for(o=n;o[r]&&!i.isBlock(o[r])&&(o=o[r],!uc.isEq(o,"br")););return o||n},bc=function(e,t,n,r,o,i,a){var u,s,c,l,f,d;if(u=s=a?n:o,l=a?"previousSibling":"nextSibling",f=e.getRoot(),3===u.nodeType&&!lc(u)&&(a?r>0:i<u.nodeValue.length))return u;for(;;){if(!t[0].block_expand&&e.isBlock(s))return s;for(c=s[l];c;c=c[l])if(!sc(c)&&!lc(c)&&("BR"!==(d=c).nodeName||!d.getAttribute("data-mce-bogus")||d.nextSibling))return s;if(s===f||s.parentNode===f){u=s;break}s=s.parentNode}return u},yc=function(e,t,n,r){var o,i=t.startContainer,a=t.startOffset,u=t.endContainer,s=t.endOffset,c=e.dom;return 1===i.nodeType&&i.hasChildNodes()&&3===(i=qa(i,a)).nodeType&&(a=0),1===u.nodeType&&u.hasChildNodes()&&3===(u=qa(u,t.collapsed?s:s-1)).nodeType&&(s=u.nodeValue.length),i=pc(c,i),u=pc(c,u),(sc(i.parentNode)||sc(i))&&(i=sc(i)?i:i.parentNode,3===(i=t.collapsed?i.previousSibling||i:i.nextSibling||i).nodeType&&(a=t.collapsed?i.length:0)),(sc(u.parentNode)||sc(u))&&(u=sc(u)?u:u.parentNode,3===(u=t.collapsed?u.nextSibling||u:u.previousSibling||u).nodeType&&(s=t.collapsed?0:u.length)),t.collapsed&&((o=hc(c,e.getBody(),i,a,!0,r))&&(i=o.container,a=o.offset),(o=hc(c,e.getBody(),u,s,!1,r))&&(u=o.container,s=o.offset)),n[0].inline&&(u=r?u:function(e,t){var n=dc(e,t);if(n.node){for(;n.node&&0===n.offset&&n.node.previousSibling;)n=dc(n.node.previousSibling);n.node&&n.offset>0&&3===n.node.nodeType&&" "===n.node.nodeValue.charAt(n.offset-1)&&n.offset>1&&(e=n.node).splitText(n.offset-1)}return e}(u,s)),(n[0].inline||n[0].block_expand)&&(n[0].inline&&3===i.nodeType&&0!==a||(i=bc(c,n,i,a,u,s,!0)),n[0].inline&&3===u.nodeType&&s!==u.nodeValue.length||(u=bc(c,n,i,a,u,s,!1))),n[0].selector&&!1!==n[0].expand&&!n[0].inline&&(i=gc(c,n,t,i,"previousSibling"),u=gc(c,n,t,u,"nextSibling")),(n[0].block||n[0].selector)&&(i=vc(e,n,i,"previousSibling"),u=vc(e,n,u,"nextSibling"),n[0].block&&(c.isBlock(i)||(i=bc(c,n,i,a,u,s,!0)),c.isBlock(u)||(u=bc(c,n,i,a,u,s,!1)))),1===i.nodeType&&(a=c.nodeIndex(i),i=i.parentNode),1===u.nodeType&&(s=c.nodeIndex(u)+1,u=u.parentNode),{startContainer:i,startOffset:a,endContainer:u,endOffset:s}},wc=cn.each,xc={walk:function(e,t,n){var r,o,i,a,u,s,c,l=t.startContainer,f=t.startOffset,d=t.endContainer,p=t.endOffset;if((c=e.select("td[data-mce-selected],th[data-mce-selected]")).length>0)wc(c,(function(e){n([e])}));else{var m,h,g,v=function(e){var t;return 3===(t=e[0]).nodeType&&t===l&&f>=t.nodeValue.length&&e.splice(0,1),t=e[e.length-1],0===p&&e.length>0&&t===d&&3===t.nodeType&&e.splice(e.length-1,1),e},b=function(e,t,n){for(var r=[];e&&e!==n;e=e[t])r.push(e);return r},y=function(e,t){do{if(e.parentNode===t)return e;e=e.parentNode}while(e)},w=function(e,t,r){var o=r?"nextSibling":"previousSibling";for(u=(a=e).parentNode;a&&a!==t;a=u)u=a.parentNode,(s=b(a===e?a:a[o],o)).length&&(r||s.reverse(),n(v(s)))};if(1===l.nodeType&&l.hasChildNodes()&&(l=l.childNodes[f]),1===d.nodeType&&d.hasChildNodes()&&(h=p,g=(m=d).childNodes,--h>g.length-1?h=g.length-1:h<0&&(h=0),d=g[h]||m),l===d)return n(v([l]));for(r=e.findCommonAncestor(l,d),a=l;a;a=a.parentNode){if(a===d)return w(l,r,!0);if(a===r)break}for(a=d;a;a=a.parentNode){if(a===l)return w(d,r);if(a===r)break}o=y(l,r)||l,i=y(d,r)||d,w(l,o,!0),(s=b(o===l?o:o.nextSibling,"nextSibling",i===d?i.nextSibling:i)).length&&n(v(s)),w(d,i)}}};var Cc=function(e,t){var n=function(t){return e(t)?m.from(t.dom().nodeValue):m.none()};return{get:function(r){if(!e(r))throw new Error("Can only get "+t+" value of a "+t+" node");return n(r).getOr("")},getOption:n,set:function(n,r){if(!e(n))throw new Error("Can only set raw "+t+" value of a "+t+" node");n.dom().nodeValue=r}}}(Be,"text"),kc=function(e){return Cc.get(e)},Sc=function(e,t,n,r){return pt(t).fold((function(){return"skipping"}),(function(o){return"br"===r||function(e){return Be(e)&&"\ufeff"===kc(e)}(t)?"valid":function(e){return Ie(e)&&$i(e,Zi())}(t)?"existing":Hu(t)?"caret":uc.isValid(e,n,r)&&uc.isValid(e,Re(o),n)?"valid":"invalid-child"}))},Tc=function(e,t,n,r){var o,i,a=t.uid,u=void 0===a?(o="mce-annotation",i=(new Date).getTime(),o+"_"+Math.floor(1e9*Math.random())+ ++aa+String(i)):a,s=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(t,["uid"]),c=Ae.fromTag("span",e);Vi(c,Zi()),Xe(c,""+ta(),u),Xe(c,""+ea(),n);var l=r(u,s),f=l.attributes,d=void 0===f?{}:f,p=l.classes,m=void 0===p?[]:p;return Ge(c,d),function(e,t){D(t,(function(t){Vi(e,t)}))}(c,m),c},Ec=function(e,t,n,r,o){var i=[],a=Tc(e.getDoc(),o,n,r),u=re(m.none()),s=function(){u.set(m.none())},c=function(e){D(e,l)},l=function(t){switch(Sc(e,t,"span",Re(t))){case"invalid-child":s();var n=bt(t);c(n),s();break;case"valid":!function(e,t){Zo(e,t),ni(t,e)}(t,u.get().getOrThunk((function(){var e=sa(a);return i.push(e),u.set(m.some(e)),e})))}};return xc.walk(e.dom,t,(function(e){s(),function(e){var t=A(e,Ae.fromDom);c(t)}(e)})),i},Oc=function(e,t,n,r){e.undoManager.transact((function(){var o=e.selection.getRng();if(o.collapsed&&function(e,t){var n=yc(e,t,[{inline:!0}],function(e){return 3===e.startContainer.nodeType&&e.startContainer.nodeValue.length>=e.startOffset&&" "===e.startContainer.nodeValue[e.startOffset]}(t));t.setStart(n.startContainer,n.startOffset),t.setEnd(n.endContainer,n.endOffset),e.selection.setRng(t)}(e,o),e.selection.getRng().collapsed){var i=Tc(e.getDoc(),r,t,n.decorate);la(i," "),e.selection.getRng().insertNode(i.dom()),e.selection.select(i.dom())}else{var a=Fu.getPersistentBookmark(e.selection,!1),u=e.selection.getRng();Ec(e,u,t,n.decorate,r),e.selection.moveToBookmark(a)}}))},_c=function(e){var t,n=(t={},{register:function(e,n){t[e]={name:e,settings:n}},lookup:function(e){return t.hasOwnProperty(e)?m.from(t[e]).map((function(e){return e.settings})):m.none()}});ia(e,n);var r=oa(e);return{register:function(e,t){n.register(e,t)},annotate:function(t,r){n.lookup(t).each((function(n){Oc(e,t,n,r)}))},annotationChanged:function(e,t){r.addListener(e,t)},remove:function(t){na(e,m.some(t)).each((function(e){var t=e.elements;D(t,ai)}))},getAll:function(t){var n=function(e,t){var n=Ae.fromDom(e.getBody()),r=Wi(n,"["+ea()+'="'+t+'"]'),o={};return D(r,(function(e){var t=Ke(e,ta()),n=o.hasOwnProperty(t)?o[t]:[];o[t]=n.concat([e])})),o}(e,t);return He(n,(function(e){return A(e,(function(e){return e.dom()}))}))}}},Ac=/^[ \t\r\n]*$/,Dc={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},Nc=function(e,t,n){var r=n?"lastChild":"firstChild",o=n?"prev":"next";if(e[r])return e[r];if(e!==t){var i=e[o];if(i)return i;for(var a=e.parent;a&&a!==t;a=a.parent)if(i=a[o])return i}},Mc=function(){function e(e,t){this.name=e,this.type=t,1===t&&(this.attributes=[],this.attributes.map={})}return e.create=function(t,n){var r=new e(t,Dc[t]||1);if(n)for(var o in n)r.attr(o,n[o]);return r},e.prototype.replace=function(e){return e.parent&&e.remove(),this.insert(e,this),this.remove(),this},e.prototype.attr=function(e,t){var n;if("string"!=typeof e){for(var r in e)this.attr(r,e[r]);return this}if(n=this.attributes){if(void 0!==t){if(null===t){if(e in n.map){delete n.map[e];for(var o=n.length;o--;)if(n[o].name===e)return n.splice(o,1),this}return this}if(e in n.map){for(o=n.length;o--;)if(n[o].name===e){n[o].value=t;break}}else n.push({name:e,value:t});return n.map[e]=t,this}return n.map[e]}},e.prototype.clone=function(){var t,n=new e(this.name,this.type);if(t=this.attributes){var r=[];r.map={};for(var o=0,i=t.length;o<i;o++){var a=t[o];"id"!==a.name&&(r[r.length]={name:a.name,value:a.value},r.map[a.name]=a.value)}n.attributes=r}return n.value=this.value,n.shortEnded=this.shortEnded,n},e.prototype.wrap=function(e){return this.parent.insert(e,this),e.append(this),this},e.prototype.unwrap=function(){for(var e=this.firstChild;e;){var t=e.next;this.insert(e,this,!0),e=t}this.remove()},e.prototype.remove=function(){var e=this.parent,t=this.next,n=this.prev;return e&&(e.firstChild===this?(e.firstChild=t,t&&(t.prev=null)):n.next=t,e.lastChild===this?(e.lastChild=n,n&&(n.next=null)):t.prev=n,this.parent=this.next=this.prev=null),this},e.prototype.append=function(e){e.parent&&e.remove();var t=this.lastChild;return t?(t.next=e,e.prev=t,this.lastChild=e):this.lastChild=this.firstChild=e,e.parent=this,e},e.prototype.insert=function(e,t,n){e.parent&&e.remove();var r=t.parent||this;return n?(t===r.firstChild?r.firstChild=e:t.prev.next=e,e.prev=t.prev,e.next=t,t.prev=e):(t===r.lastChild?r.lastChild=e:t.next.prev=e,e.next=t.next,e.prev=t,t.next=e),e.parent=r,e},e.prototype.getAll=function(e){for(var t=[],n=this.firstChild;n;n=Nc(n,this))n.name===e&&t.push(n);return t},e.prototype.empty=function(){if(this.firstChild){for(var e=[],t=this.firstChild;t;t=Nc(t,this))e.push(t);for(var n=e.length;n--;){(t=e[n]).parent=t.firstChild=t.lastChild=t.next=t.prev=null}}return this.firstChild=this.lastChild=null,this},e.prototype.isEmpty=function(e,t,n){void 0===t&&(t={});var r=this.firstChild;if(r)do{if(1===r.type){if(r.attr("data-mce-bogus"))continue;if(e[r.name])return!1;for(var o=r.attributes.length;o--;){var i=r.attributes[o].name;if("name"===i||0===i.indexOf("data-mce-bookmark"))return!1}}if(8===r.type)return!1;if(3===r.type&&!Ac.test(r.value))return!1;if(3===r.type&&r.parent&&t[r.parent.name]&&Ac.test(r.value))return!1;if(n&&n(r))return!1}while(r=Nc(r,this));return!0},e.prototype.walk=function(e){return Nc(this,null,e)},e}(),Rc=function(e){return 0===e.indexOf("data-")||0===e.indexOf("aria-")},zc=function(e){return e.replace(/<!--|-->/g,"")},Ic=function(e,t){return!e.allow_html_data_urls&&(/^data:image\//i.test(t)?!1===e.allow_svg_data_urls&&/^data:image\/svg\+xml/i.test(t):/^data:/i.test(t))},Bc=function(e,t,n){var r,o,i,a,u=1;for(a=e.getShortEndedElements(),(i=/<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g).lastIndex=r=n;o=i.exec(t);){if(r=i.lastIndex,"/"===o[1])u--;else if(!o[1]){if(o[2]in a)continue;u++}if(0===u)break}return r},Pc=function(e,t){var n=e.exec(t);if(n){var r=n[1],o=n[2];return"string"==typeof r&&"data-mce-bogus"===r.toLowerCase()?o:null}return null};function Lc(e,t){void 0===t&&(t=Gn());var n=function(){};!1!==(e=e||{}).fix_self_closing&&(e.fix_self_closing=!0);var r=e.comment?e.comment:n,o=e.cdata?e.cdata:n,i=e.text?e.text:n,a=e.start?e.start:n,u=e.end?e.end:n,s=e.pi?e.pi:n,c=e.doctype?e.doctype:n;return{parse:function(n){var l,f,d,p,m,h,g,v,b,y,w,x,C,k,S,T,E,O,_,A,D,N,M,R,z,I,B,P,L,F=0,H=[],j=0,V=Ln.decode,U=cn.makeMap("src,href,data,background,formaction,poster,xlink:href"),$=/((java|vb)script|mhtml):/i,q=function(e){var t,n;for(t=H.length;t--&&H[t].name!==e;);if(t>=0){for(n=H.length-1;n>=t;n--)(e=H[n]).valid&&u(e.name);H.length=t}},W=function(t,n,r,o,i){var a,u;if(r=(n=n.toLowerCase())in w?n:V(r||o||i||""),C&&!v&&!1===Rc(n)){if(!(a=O[n])&&_){for(u=_.length;u--&&!(a=_[u]).pattern.test(n););-1===u&&(a=null)}if(!a)return;if(a.validValues&&!(r in a.validValues))return}if(U[n]&&!e.allow_script_urls){var s=r.replace(/[\s\u0000-\u001F]+/g,"");try{s=decodeURIComponent(s)}catch(e){s=unescape(s)}if($.test(s))return;if(Ic(e,s))return}v&&(n in U||0===n.indexOf("on"))||(p.map[n]=r,p.push({name:n,value:r}))};for(z=new RegExp("<(?:(?:!--([\\w\\W]*?)--!?>)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g"),I=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,y=t.getShortEndedElements(),R=e.self_closing_elements||t.getSelfClosingElements(),w=t.getBoolAttrs(),C=e.validate,b=e.remove_internals,L=e.fix_self_closing,B=t.getSpecialElements(),M=n+">";l=z.exec(M);){if(F<l.index&&i(V(n.substr(F,l.index-F))),f=l[6])":"===(f=f.toLowerCase()).charAt(0)&&(f=f.substr(1)),q(f);else if(f=l[7]){if(l.index+l[0].length>n.length){i(V(n.substr(l.index))),F=l.index+l[0].length;continue}":"===(f=f.toLowerCase()).charAt(0)&&(f=f.substr(1)),x=f in y,L&&R[f]&&H.length>0&&H[H.length-1].name===f&&q(f);var Y=Pc(I,l[8]);if(null!==Y){if("all"===Y){F=Bc(t,n,z.lastIndex),z.lastIndex=F;continue}S=!1}if(!C||(k=t.getElementRule(f))){if(S=!0,C&&(O=k.attributes,_=k.attributePatterns),(E=l[8])?((v=-1!==E.indexOf("data-mce-type"))&&b&&(S=!1),(p=[]).map={},E.replace(I,W)):(p=[]).map={},C&&!v){if(A=k.attributesRequired,D=k.attributesDefault,N=k.attributesForced,k.removeEmptyAttrs&&!p.length&&(S=!1),N)for(m=N.length;m--;)g=(T=N[m]).name,"{$uid}"===(P=T.value)&&(P="mce_"+j++),p.map[g]=P,p.push({name:g,value:P});if(D)for(m=D.length;m--;)(g=(T=D[m]).name)in p.map||("{$uid}"===(P=T.value)&&(P="mce_"+j++),p.map[g]=P,p.push({name:g,value:P}));if(A){for(m=A.length;m--&&!(A[m]in p.map););-1===m&&(S=!1)}if(T=p.map["data-mce-bogus"]){if("all"===T){F=Bc(t,n,z.lastIndex),z.lastIndex=F;continue}S=!1}}S&&a(f,p,x)}else S=!1;if(d=B[f]){d.lastIndex=F=l.index+l[0].length,(l=d.exec(n))?(S&&(h=n.substr(F,l.index-F)),F=l.index+l[0].length):(h=n.substr(F),F=n.length),S&&(h.length>0&&i(h,!0),u(f)),z.lastIndex=F;continue}x||(E&&E.indexOf("/")===E.length-1?S&&u(f):H.push({name:f,valid:S}))}else(f=l[1])?(">"===f.charAt(0)&&(f=" "+f),e.allow_conditional_comments||"[if"!==f.substr(0,3).toLowerCase()||(f=" "+f),r(f)):(f=l[2])?o(zc(f)):(f=l[3])?c(f):(f=l[4])&&s(f,l[5]);F=l.index+l[0].length}for(F<n.length&&i(V(n.substr(F))),m=H.length-1;m>=0;m--)(f=H[m]).valid&&u(f.name)}}}!function(e){e.findEndTag=Bc}(Lc||(Lc={}));var Fc,Hc=Lc,jc=function(e,t){var n,r,o,i,a,u=t,s=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,c=e.schema;for(u=function(e,t){var n=new RegExp(["\\s?("+e.join("|")+')="[^"]+"'].join("|"),"gi");return t.replace(n,"")}(e.getTempAttrs(),u),a=c.getShortEndedElements();i=s.exec(u);)r=s.lastIndex,o=i[0].length,n=a[i[1]]?r:Hc.findEndTag(c,u,r),u=u.substring(0,r-o)+u.substring(n),s.lastIndex=r-o;return pa(u)},Vc=jc,Uc={trimExternal:Vc,trimInternal:jc},$c=function(e,t,n){var r=e.getParam(t,n);if(-1!==r.indexOf("=")){var o=e.getParam(t,"","hash");return o.hasOwnProperty(e.id)?o[e.id]:n}return r},qc=function(e){return e.getParam("iframe_attrs",{})},Wc=function(e){return e.getParam("doctype","<!DOCTYPE html>")},Yc=function(e){return e.getParam("document_base_url","")},Xc=function(e){return $c(e,"body_id","tinymce")},Gc=function(e){return $c(e,"body_class","")},Kc=function(e){return e.getParam("content_security_policy","")},Jc=function(e){return e.getParam("br_in_pre",!0)},Qc=function(e){if(e.getParam("force_p_newlines",!1))return"p";var t=e.getParam("forced_root_block","p");return!1===t?"":!0===t?"p":t},Zc=function(e){return e.getParam("forced_root_block_attrs",{})},el=function(e){return e.getParam("br_newline_selector",".mce-toc h2,figcaption,caption")},tl=function(e){return e.getParam("no_newline_selector","")},nl=function(e){return e.getParam("keep_styles",!0)},rl=function(e){return e.getParam("end_container_on_empty_block",!1)},ol=function(e){return cn.explode(e.getParam("font_size_style_values","xx-small,x-small,small,medium,large,x-large,xx-large"))},il=function(e){return cn.explode(e.getParam("font_size_classes",""))},al=function(e){return e.getParam("icons","","string")},ul=function(e){return e.getParam("icons_url","","string")},sl=function(e){return e.getParam("images_dataimg_filter",i(!0),"function")},cl=function(e){return e.getParam("automatic_uploads",!0,"boolean")},ll=function(e){return e.getParam("images_reuse_filename",!1,"boolean")},fl=function(e){return e.getParam("images_replace_blob_uris",!0,"boolean")},dl=function(e){return e.getParam("images_upload_url","","string")},pl=function(e){return e.getParam("images_upload_base_path","","string")},ml=function(e){return e.getParam("images_upload_credentials",!1,"boolean")},hl=function(e){return e.getParam("images_upload_handler",null,"function")},gl=function(e){return e.getParam("content_css_cors",!1,"boolean")},vl=function(e){return e.getParam("referrer_policy","","string")},bl=function(e){return e.getParam("language","en","string")},yl=function(e){return e.getParam("language_url","","string")},wl=function(e){return e.getParam("indent_use_margin",!1)},xl=function(e){return e.getParam("indentation","40px","string")},Cl=function(e){var t=e.settings.content_css;return g(t)?A(t.split(","),be):b(t)?t:!1===t||e.inline?[]:["default"]},kl=function(e){return e.getParam("directionality",Ri.isRtl()?"rtl":void 0)},Sl=function(e){return e.getParam("inline_boundaries_selector","a[href],code,.mce-annotation","string")},Tl=function(e,t,n){var r;if(t.format=t.format?t.format:"html",t.get=!0,t.getInner=!0,t.no_events||e.fire("BeforeGetContent",t),"raw"===t.format)r=cn.trim(Uc.trimExternal(e.serializer,n.innerHTML));else if("text"===t.format)r=pa(n.innerText||n.textContent);else{if("tree"===t.format)return e.serializer.serialize(n,t);r=function(e,t){var n=Qc(e),r=new RegExp("^(<"+n+"[^>]*>(&nbsp;|&#160;|\\s| |<br \\/>|)<\\/"+n+">[\r\n]*|<br \\/>[\r\n]*)$");return t.replace(r,"")}(e,e.serializer.serialize(n,t))}return"text"===t.format||Sn(Ae.fromDom(n))?t.content=r:t.content=cn.trim(r),t.no_events||e.fire("GetContent",t),t.content},El=cn.makeMap,Ol=function(e){var t,n,r,o,i,a=[];return t=(e=e||{}).indent,n=El(e.indent_before||""),r=El(e.indent_after||""),o=Ln.getEncodeFunc(e.entity_encoding||"raw",e.entities),i="html"===e.element_format,{start:function(e,u,s){var c,l,f,d;if(t&&n[e]&&a.length>0&&(d=a[a.length-1]).length>0&&"\n"!==d&&a.push("\n"),a.push("<",e),u)for(c=0,l=u.length;c<l;c++)f=u[c],a.push(" ",f.name,'="',o(f.value,!0),'"');a[a.length]=!s||i?">":" />",s&&t&&r[e]&&a.length>0&&(d=a[a.length-1]).length>0&&"\n"!==d&&a.push("\n")},end:function(e){var n;a.push("</",e,">"),t&&r[e]&&a.length>0&&(n=a[a.length-1]).length>0&&"\n"!==n&&a.push("\n")},text:function(e,t){e.length>0&&(a[a.length]=t?e:o(e))},cdata:function(e){a.push("<![CDATA[",e,"]]>")},comment:function(e){a.push("\x3c!--",e,"--\x3e")},pi:function(e,n){n?a.push("<?",e," ",o(n),"?>"):a.push("<?",e,"?>"),t&&a.push("\n")},doctype:function(e){a.push("<!DOCTYPE",e,">",t?"\n":"")},reset:function(){a.length=0},getContent:function(){return a.join("").replace(/\n$/,"")}}},_l=function(e,t){void 0===t&&(t=Gn());var n=Ol(e);(e=e||{}).validate=!("validate"in e)||e.validate;return{serialize:function(r){var o,i;i=e.validate,o={3:function(e){n.text(e.value,e.raw)},8:function(e){n.comment(e.value)},7:function(e){n.pi(e.name,e.value)},10:function(e){n.doctype(e.value)},4:function(e){n.cdata(e.value)},11:function(e){if(e=e.firstChild)do{a(e)}while(e=e.next)}},n.reset();var a=function(e){var r,u,s,c,l,f,d,p,m,h=o[e.type];if(h)h(e);else{if(r=e.name,u=e.shortEnded,s=e.attributes,i&&s&&s.length>1&&((f=[]).map={},m=t.getElementRule(e.name))){for(d=0,p=m.attributesOrder.length;d<p;d++)(c=m.attributesOrder[d])in s.map&&(l=s.map[c],f.map[c]=l,f.push({name:c,value:l}));for(d=0,p=s.length;d<p;d++)(c=s[d].name)in f.map||(l=s.map[c],f.map[c]=l,f.push({name:c,value:l}));s=f}if(n.start(e.name,s,u),!u){if(e=e.firstChild)do{a(e)}while(e=e.next);n.end(r)}}};return 1!==r.type||e.inner?o[11](r):a(r),n.getContent()}}},Al=function(e,t){t(e),e.firstChild&&Al(e.firstChild,t),e.next&&Al(e.next,t)},Dl=function(e,t,n){var r=function(e,t,n){var r={},o={},i=[];for(var a in n.firstChild&&Al(n.firstChild,(function(n){D(e,(function(e){e.name===n.name&&(r[e.name]?r[e.name].nodes.push(n):r[e.name]={filter:e,nodes:[n]})})),D(t,(function(e){"string"==typeof n.attr(e.name)&&(o[e.name]?o[e.name].nodes.push(n):o[e.name]={filter:e,nodes:[n]})}))})),r)r.hasOwnProperty(a)&&i.push(r[a]);for(var a in o)o.hasOwnProperty(a)&&i.push(o[a]);return i}(e,t,n);D(r,(function(e){D(e.filter.callbacks,(function(t){t(e.nodes,e.filter.name,{})}))}))},Nl=function(e){var t=ft(e).dom();return e.dom()===t.activeElement},Ml=function(e){var t=void 0!==e?e.dom():n.document;return m.from(t.activeElement).map(Ae.fromDom)},Rl=function(e){if(!b(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");var t=[],r={};return D(e,(function(o,i){var a=Pe(o);if(1!==a.length)throw new Error("one and only one name per case");var u=a[0],s=o[u];if(void 0!==r[u])throw new Error("duplicate key detected:"+u);if("cata"===u)throw new Error("cannot have a case named cata (sorry)");if(!b(s))throw new Error("case arguments must be an array");t.push(u),r[u]=function(){var r=arguments.length;if(r!==s.length)throw new Error("Wrong number of arguments to case "+u+". Expected "+s.length+" ("+s+"), got "+r);for(var o=new Array(r),a=0;a<o.length;a++)o[a]=arguments[a];var c=function(e){var n=Pe(e);if(t.length!==n.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+n.join(","));if(!L(t,(function(e){return O(n,e)})))throw new Error("Not all branches were specified when using match. Specified: "+n.join(", ")+"\nRequired: "+t.join(", "));return e[u].apply(null,o)};return{fold:function(){if(arguments.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+arguments.length);var t=arguments[i];return t.apply(null,o)},match:c,log:function(e){n.console.log(e,{constructors:t,constructor:u,params:o})}}}})),r},zl={create:tt("start","soffset","finish","foffset")},Il=Rl([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Bl=(Il.before,Il.on,Il.after,function(e){return e.fold(a,a,a)}),Pl=Rl([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Ll={domRange:Pl.domRange,relative:Pl.relative,exact:Pl.exact,exactFromRange:function(e){return Pl.exact(e.start(),e.soffset(),e.finish(),e.foffset())},getWin:function(e){var t=function(e){return e.match({domRange:function(e){return Ae.fromDom(e.startContainer)},relative:function(e,t){return Bl(e)},exact:function(e,t,n,r){return e}})}(e);return dt(t)},range:zl.create},Fl=Oe().browser,Hl=function(e,t){var n=Be(t)?kc(t).length:bt(t).length+1;return e>n?n:e<0?0:e},jl=function(e){return Ll.range(e.start(),Hl(e.soffset(),e.start()),e.finish(),Hl(e.foffset(),e.finish()))},Vl=function(e,t){return!ne.isRestrictedNode(t.dom())&&(lt(e,t)||ct(e,t))},Ul=function(e){return function(t){return Vl(e,t.start())&&Vl(e,t.finish())}},$l=function(e){return!0===e.inline||Fl.isIE()},ql=function(e){return Ll.range(Ae.fromDom(e.startContainer),e.startOffset,Ae.fromDom(e.endContainer),e.endOffset)},Wl=function(e){var t=e.getSelection();return(t&&0!==t.rangeCount?m.from(t.getRangeAt(0)):m.none()).map(ql)},Yl=function(e){var t=dt(e);return Wl(t.dom()).filter(Ul(e))},Xl=function(e,t){return m.from(t).filter(Ul(e)).map(jl)},Gl=function(e){var t=n.document.createRange();try{return t.setStart(e.start().dom(),e.soffset()),t.setEnd(e.finish().dom(),e.foffset()),m.some(t)}catch(e){return m.none()}},Kl=function(e){return(e.bookmark?e.bookmark:m.none()).bind((function(t){return Xl(Ae.fromDom(e.getBody()),t)})).bind(Gl)},Jl=function(e){var t=$l(e)?Yl(Ae.fromDom(e.getBody())):m.none();e.bookmark=t.isSome()?t:e.bookmark},Ql=function(e){Kl(e).each((function(t){e.selection.setRng(t)}))},Zl=Kl,ef={isEditorUIElement:function(e){var t=e.className.toString();return-1!==t.indexOf("tox-")||-1!==t.indexOf("mce-")}},tf=function(e,t){Oe().browser.isIE()?function(e){e.on("focusout",(function(){Jl(e)}))}(e):function(e,t){e.on("mouseup touchend",(function(e){t.throttle()}))}(e,t),e.on("keyup NodeChange",(function(t){(function(e){return"nodechange"===e.type&&e.selectionChange})(t)||Jl(e)}))},nf=function(e){var t=Pi((function(){Jl(e)}),0);e.on("init",(function(){e.inline&&function(e,t){var r=function(){t.throttle()};Ei.DOM.bind(n.document,"mouseup",r),e.on("remove",(function(){Ei.DOM.unbind(n.document,"mouseup",r)}))}(e,t),tf(e,t)})),e.on("remove",(function(){t.cancel()}))},rf=Ei.DOM,of=function(e){return ef.isEditorUIElement(e)},af=function(e,t){var n=e?e.settings.custom_ui_selector:"";return null!==rf.getParent(t,(function(t){return of(t)||!!n&&e.dom.is(t,n)}))},uf=function(e,t){var r=t.editor;nf(r),r.on("focusin",(function(){var t=e.focusedEditor;t!==this&&(t&&t.fire("blur",{focusedEditor:this}),e.setActive(this),e.focusedEditor=this,this.fire("focus",{blurredEditor:t}),this.focus(!0))})),r.on("focusout",(function(){var t=this;$t.setEditorTimeout(t,(function(){var r=e.focusedEditor;af(t,function(){try{return n.document.activeElement}catch(e){return n.document.body}}())||r!==t||(t.fire("blur",{focusedEditor:null}),e.focusedEditor=null)}))})),Fc||(Fc=function(t){var r,o=e.activeEditor;r=t.target,o&&r.ownerDocument===n.document&&(r===n.document.body||af(o,r)||e.focusedEditor!==o||(o.fire("blur",{focusedEditor:null}),e.focusedEditor=null))},rf.bind(n.document,"focusin",Fc))},sf=function(e,t){e.focusedEditor===t.editor&&(e.focusedEditor=null),e.activeEditor||(rf.unbind(n.document,"focusin",Fc),Fc=null)},cf=function(e){e.on("AddEditor",u(uf,e)),e.on("RemoveEditor",u(sf,e))},lf=function(e){var t=e.classList;return void 0!==t&&(t.contains("tox-edit-area")||t.contains("tox-edit-area__iframe")||t.contains("mce-content-body"))},ff=af,df=function(e,t){return function(e){return e.collapsed?m.from(qa(e.startContainer,e.startOffset)).map(Ae.fromDom):m.none()}(t).bind((function(t){return Cn(t)?m.some(t):!1===lt(e,t)?m.some(e):m.none()}))},pf=function(e,t){df(Ae.fromDom(e.getBody()),t).bind((function(e){return Gs.firstPositionIn(e.dom())})).fold((function(){e.selection.normalize()}),(function(t){return e.selection.setRng(t.toRange())}))},mf=function(e){if(e.setActive)try{e.setActive()}catch(t){e.focus()}else e.focus()},hf=function(e){return Nl(e)||(t=e,Ml(ft(t)).filter((function(e){return t.dom().contains(e.dom())}))).isSome();var t},gf=function(e){return e.inline?function(e){var t=e.getBody();return t&&hf(Ae.fromDom(t))}(e):function(e){return e.iframeElement&&Nl(Ae.fromDom(e.iframeElement))}(e)},vf=function(e){return e.editorManager.setActive(e)},bf=function(e,t){e.removed||(t?vf(e):function(e){var t=e.selection,n=e.getBody(),r=t.getRng();e.quirks.refreshContentEditable(),void 0!==e.bookmark&&!1===gf(e)&&Zl(e).each((function(t){e.selection.setRng(t),r=t}));var o=function(e,t){return e.dom.getParent(t,(function(t){return"true"===e.dom.getContentEditable(t)}))}(e,t.getNode());if(e.$.contains(n,o))return mf(o),pf(e,r),void vf(e);e.inline||(Zt.opera||mf(n),e.getWin().focus()),(Zt.gecko||e.inline)&&(mf(n),pf(e,r)),vf(e)}(e))},yf=gf,wf=function(e){return gf(e)||function(e){return Ml().filter((function(t){return!lf(t.dom())&&ff(e,t.dom())})).isSome()}(e)},xf=function(e){return e instanceof Mc},Cf=function(e,t){e.dom.setHTML(e.getBody(),t),function(e){yf(e)&&Gs.firstPositionIn(e.getBody()).each((function(t){var n=t.getNode(),r=ne.isTable(n)?Gs.firstPositionIn(n).getOr(t):t;e.selection.setRng(r.toRange())}))}(e)},kf=function(e,t,n){return void 0===n&&(n={}),n.format=n.format?n.format:"html",n.set=!0,n.content=xf(t)?"":t,xf(t)||n.no_events||(e.fire("BeforeSetContent",n),t=n.content),m.from(e.getBody()).fold(i(t),(function(r){return xf(t)?function(e,t,n,r){Dl(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),n);var o=_l({validate:e.validate},e.schema).serialize(n);return r.content=Sn(Ae.fromDom(t))?o:cn.trim(o),Cf(e,r.content),r.no_events||e.fire("SetContent",r),n}(e,r,t,n):function(e,t,n,r){var o,i;return 0===n.length||/^\s+$/.test(n)?(i='<br data-mce-bogus="1">',"TABLE"===t.nodeName?n="<tr><td>"+i+"</td></tr>":/^(UL|OL)$/.test(t.nodeName)&&(n="<li>"+i+"</li>"),(o=Qc(e))&&e.schema.isValidChild(t.nodeName.toLowerCase(),o.toLowerCase())?(n=i,n=e.dom.createHTML(o,e.settings.forced_root_block_attrs,n)):n||(n='<br data-mce-bogus="1">'),Cf(e,n),e.fire("SetContent",r)):("raw"!==r.format&&(n=_l({validate:e.validate},e.schema).serialize(e.parser.parse(n,{isRootContent:!0,insert:!0}))),r.content=Sn(Ae.fromDom(t))?n:cn.trim(n),Cf(e,r.content),r.no_events||e.fire("SetContent",r)),r.content}(e,r,t,n)}))},Sf=function(e,t){return e.fire("PreProcess",t)},Tf=function(e,t){return e.fire("PostProcess",t)},Ef=function(e){return e.fire("remove")},Of=function(e){return e.fire("detach")},_f=function(e,t){return e.fire("SwitchMode",{mode:t})},Af=function(e,t,n,r){e.fire("ObjectResizeStart",{target:t,width:n,height:r})},Df=function(e,t,n,r){e.fire("ObjectResized",{target:t,width:n,height:r})},Nf=Ei.DOM,Mf=function(e){return m.from(e).each((function(e){return e.destroy()}))},Rf=function(e){if(!e.removed){var t=e._selectionOverrides,n=e.editorUpload,r=e.getBody(),o=e.getElement();r&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&o&&Nf.remove(o.nextSibling),Ef(e),e.editorManager.remove(e),!e.inline&&r&&function(e){Nf.setStyle(e.id,"display",e.orgDisplay)}(e),Of(e),Nf.remove(e.getContainer()),Mf(t),Mf(n),e.destroy()}},zf=function(e,t){var n=e.selection,r=e.dom;e.destroyed||(t||e.removed?(t||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),Mf(n),Mf(r)),function(e){var t=e.formElement;t&&(t._mceOldSubmit&&(t.submit=t._mceOldSubmit,t._mceOldSubmit=null),Nf.unbind(t,"submit reset",e.formEventDelegate))}(e),function(e){e.contentAreaContainer=e.formElement=e.container=e.editorContainer=null,e.bodyElement=e.contentDocument=e.contentWindow=null,e.iframeElement=e.targetElm=null,e.selection&&(e.selection=e.selection.win=e.selection.dom=e.selection.dom.doc=null)}(e),e.destroyed=!0):e.remove())},If=Object.prototype.hasOwnProperty,Bf=function(e){return function(){for(var t=new Array(arguments.length),n=0;n<t.length;n++)t[n]=arguments[n];if(0===t.length)throw new Error("Can't merge zero objects");for(var r={},o=0;o<t.length;o++){var i=t[o];for(var a in i)If.call(i,a)&&(r[a]=e(r[a],i[a]))}return r}},Pf=Bf((function(e,t){return v(e)&&v(t)?Pf(e,t):t})),Lf=Bf((function(e,t){return t})),Ff=tt("sections","settings"),Hf=Oe().deviceType,jf=Hf.isTouch(),Vf=Hf.isPhone(),Uf=Hf.isTablet(),$f=["lists","autolink","autosave"],qf={table_grid:!1,object_resizing:!1,resize:!1},Wf=function(e){var t=b(e)?e.join(" "):e,n=A(g(t)?t.split(" "):[],be);return M(n,(function(e){return e.length>0}))},Yf=function(e,t){var n=Ve(t,(function(t,n){return O(e,n)}));return Ff(n.t,n.f)},Xf=function(e,t){return e.sections().hasOwnProperty(t)},Gf=function(e){return U(U(U({},qf),{resize:!1,toolbar_drawer:"scrolling",toolbar_sticky:!1}),e?{menubar:!1}:{})},Kf=function(e,t){var n=t.external_plugins?t.external_plugins:{};return e&&e.external_plugins?cn.extend({},e.external_plugins,n):n},Jf=function(e,t,n,r){var o=Wf(n.forced_plugins),i=Wf(r.plugins),a=function(e,t){return Xf(e,t)?e.sections()[t]:{}}(t,"mobile"),s=a.plugins?Wf(a.plugins):i,c=function(e,t){return[].concat(Wf(e)).concat(Wf(t))}(o,e&&function(e,t,n){var r=e.sections();return Xf(e,t)&&r[t].theme===n}(t,"mobile","mobile")?M(s,u(O,$f)):e&&Xf(t,"mobile")?s:i);return cn.extend(r,{plugins:c.join(" ")})},Qf=function(e,t,n,r,o){var i=e?{mobile:Gf(t)}:{},a=Yf(["mobile"],Pf(i,o)),u=cn.extend(n,r,a.settings(),function(e,t){return e&&Xf(t,"mobile")}(e,a)?function(e,t,n){void 0===n&&(n={});var r=e.sections(),o=r.hasOwnProperty(t)?r[t]:{};return cn.extend({},n,o)}(a,"mobile"):{},{validate:!0,external_plugins:Kf(r,a.settings())});return Jf(e,a,r,u)},Zf=function(e,t,n,r,o){var i=function(e,t,n,r){var o={id:e,theme:"silver",toolbar_drawer:"floating",plugins:"",document_base_url:t,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,inline_styles:!0,convert_fonts_to_spans:!0,indent:!0,indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",entity_encoding:"named",url_converter:r.convertURL,url_converter_scope:r};return U(U({},o),n?qf:{})}(t,n,jf,e);return Qf(Vf||Uf,Vf,i,r,o)},ed=function(e,t,n){return m.from(t.settings[n]).filter(e)},td=function(e,t,n,r){var o,i=t in e.settings?e.settings[t]:n;return"hash"===r?function(e){var t={};return"string"==typeof e?D(e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(","),(function(e){var n=e.split("=");n.length>1?t[cn.trim(n[0])]=cn.trim(n[1]):t[cn.trim(n[0])]=cn.trim(n[0])})):t=e,t}(i):"string"===r?ed(g,e,t).getOr(n):"number"===r?ed(C,e,t).getOr(n):"boolean"===r?ed(w,e,t).getOr(n):"object"===r?ed(v,e,t).getOr(n):"array"===r?ed(b,e,t).getOr(n):"string[]"===r?ed((o=g,function(e){return b(e)&&L(e,o)}),e,t).getOr(n):"function"===r?ed(x,e,t).getOr(n):i},nd=function(e,t){return t.dom()[e]},rd=function(e,t){return parseInt(Qe(t,e),10)},od=u(nd,"clientWidth"),id=u(nd,"clientHeight"),ad=u(rd,"margin-top"),ud=u(rd,"margin-left"),sd={isXYInContentArea:function(e,t,n){var r,o=Ae.fromDom(e.getBody()),i=e.inline?o:(r=o,Ae.fromDom(r.dom().ownerDocument.documentElement)),a=function(e,t,n,r){var o=function(e){return e.dom().getBoundingClientRect()}(t);return{x:n-(e?o.left+t.dom().clientLeft+ud(t):0),y:r-(e?o.top+t.dom().clientTop+ad(t):0)}}(e.inline,i,t,n);return function(e,t,n){var r=od(e),o=id(e);return t>=0&&n>=0&&t<=r&&n<=o}(i,a.x,a.y)},isEditorAttachedToDom:function(e){var t,n=e.inline?e.getBody():e.getContentAreaContainer();return(t=n,m.from(t).map(Ae.fromDom)).map((function(e){return lt(ft(e),e)})).getOr(!1)}};function cd(e){var t=[],n=function(){var t,n=e.theme;return n&&n.getNotificationManagerImpl?n.getNotificationManagerImpl():{open:t=function(){throw new Error("Theme did not provide a NotificationManager implementation.")},close:t,reposition:t,getArgs:t}},r=function(){t.length>0&&n().reposition(t)},o=function(e){B(t,(function(t){return t===e})).each((function(e){t.splice(e,1)}))},i=function(i){if(!e.removed&&sd.isEditorAttachedToDom(e))return I(t,(function(e){return t=n().getArgs(e),r=i,!(t.type!==r.type||t.text!==r.text||t.progressBar||t.timeout||r.progressBar||r.timeout);var t,r})).getOrThunk((function(){e.editorManager.setActive(e);var a=n().open(i,(function(){o(a),r()}));return function(e){t.push(e)}(a),r(),a}))};return function(e){e.on("SkinLoaded",(function(){var t=e.settings.service_message;t&&i({text:t,type:"warning",timeout:0})})),e.on("ResizeEditor ResizeWindow NodeChange",(function(){$t.requestAnimationFrame(r)})),e.on("remove",(function(){D(t.slice(),(function(e){n().close(e)}))}))}(e),{open:i,close:function(){m.from(t[0]).each((function(e){n().close(e),o(e),r()}))},getNotifications:function(){return t}}}var ld,fd=function(e){var t=[],n=function(){var t,n=e.theme;return n&&n.getWindowManagerImpl?n.getWindowManagerImpl():{open:t=function(){throw new Error("Theme did not provide a WindowManager implementation.")},openUrl:t,alert:t,confirm:t,close:t,getParams:t,setParams:t}},r=function(e,t){return function(){return t?t.apply(e,arguments):void 0}},o=function(n){t.push(n),function(t){e.fire("OpenWindow",{dialog:t})}(n)},i=function(n){!function(t){e.fire("CloseWindow",{dialog:t})}(n),0===(t=M(t,(function(e){return e!==n}))).length&&e.focus()},a=function(t){e.editorManager.setActive(e),Jl(e);var n=t();return o(n),n};return e.on("remove",(function(){D(t,(function(e){n().close(e)}))})),{open:function(e,t){return a((function(){return n().open(e,t,i)}))},openUrl:function(e){return a((function(){return n().openUrl(e,i)}))},alert:function(e,t,o){n().alert(e,r(o||this,t))},confirm:function(e,t,o){n().confirm(e,r(o||this,t))},close:function(){m.from(t[t.length-1]).each((function(e){n().close(e),i(e)}))}}},dd=function(e,t){e.notificationManager.open({type:"error",text:t})},pd=function(e,t){e._skinLoaded?dd(e,t):e.on("SkinLoaded",(function(){dd(e,t)}))},md=function(e){n.console.error(e)},hd=function(e,t,n){return n?"Failed to load "+e+": "+n+" from url "+t:"Failed to load "+e+" url: "+t},gd=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var o=n.window.console;o&&(o.error?o.error.apply(o,arguments):o.log.apply(o,arguments))},vd={pluginLoadError:function(e,t){md(hd("plugin",e,t))},iconsLoadError:function(e,t){md(hd("icons",e,t))},languageLoadError:function(e,t){md(hd("language",e,t))},pluginInitError:function(e,t,n){var r=Ri.translate(["Failed to initialize plugin: {0}",t]);gd(r,n),pd(e,r)},uploadError:function(e,t){pd(e,Ri.translate(["Failed to upload image: {0}",t]))},displayError:pd,initError:gd},bd=(ld={},{add:function(e,t){ld[e]=t},get:function(e){return ld[e]?ld[e]:{icons:{}}},has:function(e){return $e(ld,e)}}),yd=Bi.PluginManager,wd=Bi.ThemeManager;function xd(e,t){var r={},o=function(e,r,o,i){var a,u;(a=new n.XMLHttpRequest).open("POST",t.url),a.withCredentials=t.credentials,a.upload.onprogress=function(e){i(e.loaded/e.total*100)},a.onerror=function(){o("Image upload failed due to a XHR Transport error. Code: "+a.status)},a.onload=function(){var e,n,i;a.status<200||a.status>=300?o("HTTP Error: "+a.status):(e=JSON.parse(a.responseText))&&"string"==typeof e.location?r((n=t.basePath,i=e.location,n?n.replace(/\/$/,"")+"/"+i.replace(/^\//,""):i)):o("Invalid JSON: "+a.responseText)},(u=new n.FormData).append("file",e.blob(),e.filename()),a.send(u)},i=function(e,t){return{url:t,blobInfo:e,status:!0}},a=function(e,t){return{url:"",blobInfo:e,status:!1,error:t}},u=function(e,t){cn.each(r[e],(function(e){e(t)})),delete r[e]},s=function(n,o){return n=cn.grep(n,(function(t){return!e.isUploaded(t.blobUri())})),Ht.all(cn.map(n,(function(n){return e.isPending(n.blobUri())?function(e){var t=e.blobUri();return new Ht((function(e){r[t]=r[t]||[],r[t].push(e)}))}(n):function(t,n,r){return e.markPending(t.blobUri()),new Ht((function(o){var s,c=function(){};try{var l=function(){s&&(s.close(),c)};n(t,(function(n){l(),e.markUploaded(t.blobUri(),n),u(t.blobUri(),i(t,n)),o(i(t,n))}),(function(n){l(),e.removeFailed(t.blobUri()),u(t.blobUri(),a(t,n)),o(a(t,n))}),(function(e){e<0||e>100||(s||(s=r()),s.progressBar.value(e))}))}catch(e){o(a(t,e.message))}}))}(n,t.handler,o)})))};return!1===x(t.handler)&&(t.handler=o),{upload:function(e,n){return t.url||t.handler!==o?s(e,n):new Ht((function(e){e([])}))}}}var Cd=function(e){var t,n,r=decodeURIComponent(e).split(",");return(n=/data:([^;]+)/.exec(r[0]))&&(t=n[1]),{type:t,data:r[1]}},kd=function(e){return 0===e.indexOf("blob:")?function(e){return new Ht((function(t,r){var o=function(){r("Cannot convert "+e+" to Blob. Resource might not exist or is inaccessible.")};try{var i=new n.XMLHttpRequest;i.open("GET",e,!0),i.responseType="blob",i.onload=function(){200===this.status?t(this.response):o()},i.onerror=o,i.send()}catch(e){o()}}))}(e):0===e.indexOf("data:")?(t=e,new Ht((function(e){var r,o,i,a=Cd(t);try{r=n.atob(a.data)}catch(t){return void e(new n.Blob([]))}for(o=new Uint8Array(r.length),i=0;i<o.length;i++)o[i]=r.charCodeAt(i);e(new n.Blob([o],{type:a.type}))}))):null;var t},Sd=function(e){return new Ht((function(t){var r=new n.FileReader;r.onloadend=function(){t(r.result)},r.readAsDataURL(e)}))},Td=Cd,Ed=0,Od=function(e){return(e||"blobid")+Ed++},_d=function(e,t,n,r){var o,i;0!==t.src.indexOf("blob:")?(o=Td(t.src).data,(i=e.findFirst((function(e){return e.base64()===o})))?n({image:t,blobInfo:i}):kd(t.src).then((function(r){i=e.create(Od(),r,o),e.add(i),n({image:t,blobInfo:i})}),(function(e){r(e)}))):(i=e.getByUri(t.src))?n({image:t,blobInfo:i}):kd(t.src).then((function(r){Sd(r).then((function(a){o=Td(a).data,i=e.create(Od(),r,o),e.add(i),n({image:t,blobInfo:i})}))}),(function(e){r(e)}))},Ad=function(e){return e?V(e.getElementsByTagName("img")):[]};var Dd=0,Nd=function(e){return e+Dd+++(t=function(){return Math.round(4294967295*Math.random()).toString(36)},"s"+(new Date).getTime().toString(36)+t()+t()+t());var t};var Md,Rd,zd=function(e){var t,r,o,a,u,s=function(){var e=[],t=function(e){var t,r,o;if(!e.blob||!e.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");return t=e.id||Nd("blobid"),r=e.name||t,{id:i(t),name:i(r),filename:i(r+"."+(o=e.blob.type,{"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png"}[o.toLowerCase()]||"dat")),blob:i(e.blob),base64:i(e.base64),blobUri:i(e.blobUri||n.URL.createObjectURL(e.blob)),uri:i(e.uri)}},r=function(e){return o((function(t){return t.id()===e}))},o=function(t){return M(e,t)[0]};return{create:function(e,n,r,o){if(g(e))return t({id:e,name:o,blob:n,base64:r});if(v(e))return t(e);throw new Error("Unknown input type")},add:function(t){r(t.id())||e.push(t)},get:r,getByUri:function(e){return o((function(t){return t.blobUri()===e}))},findFirst:o,removeByUri:function(t){e=M(e,(function(e){return e.blobUri()!==t||(n.URL.revokeObjectURL(e.blobUri()),!1)}))},destroy:function(){D(e,(function(e){n.URL.revokeObjectURL(e.blobUri())})),e=[]}}}(),c=(o={},a=function(e,t){return{status:e,resultUri:t}},{hasBlobUri:u=function(e){return e in o},getResultUri:function(e){var t=o[e];return t?t.resultUri:null},isPending:function(e){return!!u(e)&&1===o[e].status},isUploaded:function(e){return!!u(e)&&2===o[e].status},markPending:function(e){o[e]=a(1,null)},markUploaded:function(e,t){o[e]=a(2,t)},removeFailed:function(e){delete o[e]},destroy:function(){o={}}}),l=[],f=function(t){return function(n){return e.selection?t(n):[]}},d=function(e,t,n){var r=0;do{-1!==(r=e.indexOf(t,r))&&(e=e.substring(0,r)+n+e.substr(r+t.length),r+=n.length-t.length+1)}while(-1!==r);return e},p=function(e,t,n){return e=d(e,'src="'+t+'"','src="'+n+'"'),e=d(e,'data-mce-src="'+t+'"','data-mce-src="'+n+'"')},m=function(t,n){D(e.undoManager.data,(function(e){"fragmented"===e.type?e.fragments=A(e.fragments,(function(e){return p(e,t,n)})):e.content=p(e.content,t,n)}))},h=function(){return e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})},b=function(n){return t||(t=xd(c,{url:dl(e),basePath:pl(e),credentials:ml(e),handler:hl(e)})),x().then(f((function(r){var o;return o=A(r,(function(e){return e.blobInfo})),t.upload(o,h).then(f((function(t){var o=A(t,(function(t,n){var o=r[n].image;return t.status&&fl(e)?function(t,n){s.removeByUri(t.src),m(t.src,n),e.$(t).attr({src:ll(e)?n+"?"+(new Date).getTime():n,"data-mce-src":e.convertURL(n,"src")})}(o,t.url):t.error&&vd.uploadError(e,t.error),{element:o,status:t.status}}));return n&&n(o),o})))})))},y=function(t){if(cl(e))return b(t)},w=function(t){return!1!==L(l,(function(e){return e(t)}))&&(0!==t.getAttribute("src").indexOf("data:")||sl(e)(t))},x=function(){return r||(r=function(e,t){var n={};return{findAll:function(r,o){var a;o||(o=i(!0)),a=M(Ad(r),(function(t){var n=t.src;return!!Zt.fileApi&&(!t.hasAttribute("data-mce-bogus")&&(!t.hasAttribute("data-mce-placeholder")&&(!(!n||n===Zt.transparentSrc)&&(0===n.indexOf("blob:")?!e.isUploaded(n)&&o(t):0===n.indexOf("data:")&&o(t)))))}));var u=A(a,(function(e){if(n[e.src])return new Ht((function(t){n[e.src].then((function(n){if("string"==typeof n)return n;t({image:e,blobInfo:n.blobInfo})}))}));var r=new Ht((function(n,r){_d(t,e,n,r)})).then((function(e){return delete n[e.image.src],e})).catch((function(t){return delete n[e.src],t}));return n[e.src]=r,r}));return Ht.all(u)}}}(c,s)),r.findAll(e.getBody(),w).then(f((function(t){return t=M(t,(function(t){return"string"!=typeof t||(vd.displayError(e,t),!1)})),D(t,(function(e){m(e.image.src,e.blobInfo.blobUri()),e.image.src=e.blobInfo.blobUri(),e.image.removeAttribute("data-mce-src")})),t})))},C=function(t){return t.replace(/src="(blob:[^"]+)"/g,(function(t,n){var r=c.getResultUri(n);if(r)return'src="'+r+'"';var o=s.getByUri(n);return o||(o=z(e.editorManager.get(),(function(e,t){return e||t.editorUpload&&t.editorUpload.blobCache.getByUri(n)}),null)),o?'src="data:'+o.blob().type+";base64,"+o.base64()+'"':t}))};return e.on("SetContent",(function(){cl(e)?y():x()})),e.on("RawSaveContent",(function(e){e.content=C(e.content)})),e.on("GetContent",(function(e){e.source_view||"raw"===e.format||(e.content=C(e.content))})),e.on("PostRender",(function(){e.parser.addNodeFilter("img",(function(e){D(e,(function(e){var t=e.attr("src");if(!s.getByUri(t)){var n=c.getResultUri(t);n&&e.attr("src",n)}}))}))})),{blobCache:s,addFilter:function(e){l.push(e)},uploadImages:b,uploadImagesAuto:y,scanForImages:x,destroy:function(){s.destroy(),c.destroy(),r=t=null}}},Id=function(e,t,n){return lt(t,e)?function(e,t){for(var n=x(t)?t:c,r=e.dom(),o=[];null!==r.parentNode&&void 0!==r.parentNode;){var i=r.parentNode,a=Ae.fromDom(i);if(o.push(a),!0===n(a))break;r=i}return o}(e,(function(e){return n(e)||ct(e,t)})).slice(0,-1):[]},Bd=function(e,t){return Id(e,t,i(!1))},Pd=Bd,Ld=function(e,t){return[e].concat(Bd(e,t))},Fd=function(e,t){return e.hasOwnProperty(t.nodeName)},Hd=function(e,t){return!!ne.isText(t)||!!ne.isElement(t)&&(!Fd(e,t)&&!rc.isBookmarkNode(t))},jd=function(e,t){if(ne.isText(t)){if(0===t.nodeValue.length)return!0;if(/^\s+$/.test(t.nodeValue)&&(!t.nextSibling||Fd(e,t.nextSibling)))return!0}return!1},Vd=function(e){var t,n,r,o,i,a,u,s,c,l,f=e.dom,d=e.selection,p=e.schema,m=p.getBlockElements(),h=d.getStart(),g=e.getBody(),v=Qc(e);if(h&&ne.isElement(h)&&v&&(l=g.nodeName.toLowerCase(),p.isValidChild(l,v.toLowerCase())&&!function(e,t,n){return _(Pd(Ae.fromDom(n),Ae.fromDom(t)),(function(t){return Fd(e,t.dom())}))}(m,g,h))){for(n=(t=d.getRng()).startContainer,r=t.startOffset,o=t.endContainer,i=t.endOffset,c=yf(e),h=g.firstChild;h;)if(Hd(m,h)){if(jd(m,h)){u=h,h=h.nextSibling,f.remove(u);continue}a||(a=f.create(v,Zc(e)),h.parentNode.insertBefore(a,h),s=!0),u=h,h=h.nextSibling,a.appendChild(u)}else a=null,h=h.nextSibling;s&&c&&(t.setStart(n,r),t.setEnd(o,i),d.setRng(t),e.nodeChanged())}},Ud=function(e){Qc(e)&&e.on("NodeChange",u(Vd,e))},$d={isEq:function(e,t){return e&&t&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset}},qd=function(e){return wt(e).fold(i([e]),(function(t){return[e].concat(qd(t))}))},Wd=function(e){return xt(e).fold(i([e]),(function(t){return"br"===Re(t)?mt(t).map((function(t){return[e].concat(Wd(t))})).getOr([]):[e].concat(Wd(t))}))},Yd=function(e,t){return Xa(function(e){var t=e.startContainer,n=e.startOffset;return ne.isText(t)?0===n?m.some(Ae.fromDom(t)):m.none():m.from(t.childNodes[n]).map(Ae.fromDom)}(t),function(e){var t=e.endContainer,n=e.endOffset;return ne.isText(t)?n===t.data.length?m.some(Ae.fromDom(t)):m.none():m.from(t.childNodes[n-1]).map(Ae.fromDom)}(t),(function(t,n){var r=I(qd(e),u(ct,t)),o=I(Wd(e),u(ct,n));return r.isSome()&&o.isSome()})).getOr(!1)},Xd=function(e,t,n,r){var o=n,i=new Qo(n,o),a=e.schema.getNonEmptyElements();do{if(3===n.nodeType&&0!==cn.trim(n.nodeValue).length)return void(r?t.setStart(n,0):t.setEnd(n,n.nodeValue.length));if(a[n.nodeName]&&!/^(TD|TH)$/.test(n.nodeName))return void(r?t.setStartBefore(n):"BR"===n.nodeName?t.setEndBefore(n):t.setEndAfter(n))}while(n=r?i.next():i.prev());"BODY"===o.nodeName&&(r?t.setStart(o,0):t.setEnd(o,o.childNodes.length))},Gd=function(e){var t=e.selection.getSel();return t&&t.rangeCount>0},Kd=function(){function e(e){var t;this.lastPath=[],this.editor=e;var n=this;"onselectionchange"in e.getDoc()||e.on("NodeChange click mouseup keyup focus",(function(n){var r,o;o={startContainer:(r=e.selection.getRng()).startContainer,startOffset:r.startOffset,endContainer:r.endContainer,endOffset:r.endOffset},"nodechange"!==n.type&&$d.isEq(o,t)||e.fire("SelectionChange"),t=o})),e.on("contextmenu",(function(){e.fire("SelectionChange")})),e.on("SelectionChange",(function(){var t=e.selection.getStart(!0);!t||!Zt.range&&e.selection.isCollapsed()||Gd(e)&&!n.isSameElementPath(t)&&e.dom.isChildOf(t,e.getBody())&&e.nodeChanged({selectionChange:!0})})),e.on("mouseup",(function(t){!t.isDefaultPrevented()&&Gd(e)&&("IMG"===e.selection.getNode().nodeName?$t.setEditorTimeout(e,(function(){e.nodeChanged()})):e.nodeChanged())}))}return e.prototype.nodeChanged=function(e){var t,n,r,o=this.editor.selection;this.editor.initialized&&o&&!this.editor.settings.disable_nodechange&&!this.editor.readonly&&(r=this.editor.getBody(),(t=o.getStart(!0)||r).ownerDocument===this.editor.getDoc()&&this.editor.dom.isChildOf(t,r)||(t=r),n=[],this.editor.dom.getParent(t,(function(e){if(e===r)return!0;n.push(e)})),(e=e||{}).element=t,e.parents=n,this.editor.fire("NodeChange",e))},e.prototype.isSameElementPath=function(e){var t,n;if((n=this.editor.$(e).parentsUntil(this.editor.getBody()).add(e)).length===this.lastPath.length){for(t=n.length;t>=0&&n[t]===this.lastPath[t];t--);if(-1===t)return this.lastPath=n,!0}return this.lastPath=n,!1},e}(),Jd={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,END:35,HOME:36,modifierPressed:function(e){return e.shiftKey||e.ctrlKey||e.altKey||this.metaKeyPressed(e)},metaKeyPressed:function(e){return Zt.mac?e.metaKey:e.ctrlKey&&!e.altKey}},Qd=(Md=" ",function(e){return Md===e}),Zd=function(e){return/^[\r\n\t ]$/.test(e)},ep=function(e){return!Zd(e)&&!Qd(e)},tp=function(e,t,n){return m.from(n.container()).filter(ne.isText).exists((function(r){var o=e?0:-1;return t(r.data.charAt(n.offset()+o))}))},np=u(tp,!0,Zd),rp=u(tp,!1,Zd),op=function(e){var t=e.container();return ne.isText(t)&&0===t.data.length},ip=function(e,t){return function(n){return m.from(gs(e?0:-1,n)).filter(t).isSome()}},ap=function(e){return"IMG"===e.nodeName&&"block"===Qe(Ae.fromDom(e),"display")},up=function(e){return ne.isContentEditableFalse(e)&&!ne.isBogusAll(e)},sp=ip(!0,ap),cp=ip(!1,ap),lp=ip(!0,ne.isTable),fp=ip(!1,ne.isTable),dp=ip(!0,up),pp=ip(!1,up),mp=function(e){return z(e,(function(e,t){return e.concat(function(e){var t=function(t){return A(t,(function(t){return(t=La(t)).node=e,t}))};if(ne.isElement(e))return t(e.getClientRects());if(ne.isText(e)){var n=e.ownerDocument.createRange();return n.setStart(e,0),n.setEnd(e,e.data.length),t(n.getClientRects())}}(t))}),[])};!function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"}(Rd||(Rd={}));var hp=function(e,t,n,r,o,i){var a,u,s=0,c=[],l=function(r){var i,a,l;for(l=mp([r]),-1===e&&(l=l.reverse()),i=0;i<l.length;i++)if(a=l[i],!n(a,u)){if(c.length>0&&t(a,rn.last(c))&&s++,a.line=s,o(a))return!0;c.push(a)}};return(u=rn.last(i.getClientRects()))?(l(a=i.getNode()),function(e,t,n,r){for(;r=ps(r,e,Ba,t);)if(n(r))return}(e,r,l,a),c):c},gp=u(hp,Rd.Up,ja,Va),vp=u(hp,Rd.Down,Va,ja),bp=function(e){return function(t){return function(e,t){return t.line>e}(e,t)}},yp=function(e){return function(t){return function(e,t){return t.line===e}(e,t)}},wp=ne.isContentEditableFalse,xp=ps,Cp=function(e,t){return Math.abs(e.left-t)},kp=function(e,t){return Math.abs(e.right-t)},Sp=function(e,t){return e>=t.left&&e<=t.right},Tp=function(e,t){return rn.reduce(e,(function(e,n){var r,o;return r=Math.min(Cp(e,t),kp(e,t)),o=Math.min(Cp(n,t),kp(n,t)),Sp(t,n)?n:Sp(t,e)?e:o===r&&wp(n.node)?n:o<r?n:e}))},Ep=function(e,t,n,r){for(;r=xp(r,e,Ba,t);)if(n(r))return},Op=function(e,t,n){var r,o=mp(function(e){return M(V(e.getElementsByTagName("*")),rs)}(e)),i=M(o,(function(e){return n>=e.top&&n<=e.bottom}));return(r=Tp(i,t))&&(r=Tp(function(e,t){var n=[],r=function(e,r){var o;return o=M(mp([r]),(function(n){return!e(n,t)})),n=n.concat(o),0===o.length};return n.push(t),Ep(Rd.Up,e,u(r,ja),t.node),Ep(Rd.Down,e,u(r,Va),t.node),n}(e,r),t))&&rs(r.node)?function(e,t){return{node:e.node,before:Cp(e,t)<kp(e,t)}}(r,t):null},_p=function(e,t,n){if(n.collapsed)return!1;if(Zt.browser.isIE()&&n.startOffset===n.endOffset-1&&n.startContainer===n.endContainer){var r=n.startContainer.childNodes[n.startOffset];if(ne.isElement(r))return _(r.getClientRects(),(function(n){return Ua(n,e,t)}))}return _(n.getClientRects(),(function(n){return Ua(n,e,t)}))},Ap=function(e){var t,n,r,o;return o=e.getBoundingClientRect(),n=(t=e.ownerDocument).documentElement,r=t.defaultView,{top:o.top+r.pageYOffset-n.clientTop,left:o.left+r.pageXOffset-n.clientLeft}},Dp=function(e,t){return function(e,t,n){return{pageX:n.left-e.left+t.left,pageY:n.top-e.top+t.top}}(function(e){return e.inline?Ap(e.getBody()):{left:0,top:0}}(e),function(e){var t=e.getBody();return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:0,top:0}}(e),function(e,t){if(t.target.ownerDocument!==e.getDoc()){var n=Ap(e.getContentAreaContainer()),r=function(e){var t=e.getBody(),n=e.getDoc().documentElement,r={left:t.scrollLeft,top:t.scrollTop},o={left:t.scrollLeft||n.scrollLeft,top:t.scrollTop||n.scrollTop};return e.inline?r:o}(e);return{left:t.pageX-n.left+r.left,top:t.pageY-n.top+r.top}}return{left:t.pageX,top:t.pageY}}(e,t))},Np=ne.isContentEditableFalse,Mp=ne.isContentEditableTrue,Rp=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},zp=function(e,t){return function(n){if(function(e){return 0===e.button}(n)){var r=I(t.dom.getParents(n.target),Ja(Np,Mp)).getOr(null);if(u=t.getBody(),Np(s=r)&&s!==u){var o=t.dom.getPos(r),i=t.getBody(),a=t.getDoc().documentElement;e.element=r,e.screenX=n.screenX,e.screenY=n.screenY,e.maxX=(t.inline?i.scrollWidth:a.offsetWidth)-2,e.maxY=(t.inline?i.scrollHeight:a.offsetHeight)-2,e.relX=n.pageX-o.x,e.relY=n.pageY-o.y,e.width=r.offsetWidth,e.height=r.offsetHeight,e.ghost=function(e,t,n,r){var o=t.cloneNode(!0);e.dom.setStyles(o,{width:n,height:r}),e.dom.setAttrib(o,"data-mce-selected",null);var i=e.dom.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return e.dom.setStyles(i,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:r}),e.dom.setStyles(o,{margin:0,boxSizing:"border-box"}),i.appendChild(o),i}(t,r,e.width,e.height)}}var u,s}},Ip=function(e,t){return function(n){if(e.dragging&&function(e,t,n){return t!==n&&!e.dom.isChildOf(t,n)&&!Np(t)}(t,(u=t.selection,3===(s=u.getSel().getRangeAt(0).startContainer).nodeType?s.parentNode:s),e.element)){var r=(i=e.element,(a=i.cloneNode(!0)).removeAttribute("data-mce-selected"),a),o=t.fire("drop",{targetClone:r,clientX:n.clientX,clientY:n.clientY});o.isDefaultPrevented()||(r=o.targetClone,t.undoManager.transact((function(){Rp(e.element),t.insertContent(t.dom.getOuterHTML(r)),t._selectionOverrides.hideFakeCaret()})))}var i,a,u,s;Bp(e)}},Bp=function(e){e.dragging=!1,e.element=null,Rp(e.ghost)},Pp=function(e){var t,r,o,i,a,u,s={};t=Ei.DOM,u=n.document,r=zp(s,e),o=function(e,t){var n=$t.throttle((function(e,n){t._selectionOverrides.hideFakeCaret(),t.selection.placeCaretAt(e,n)}),0);return function(r){var o,i,a=Math.max(Math.abs(r.screenX-e.screenX),Math.abs(r.screenY-e.screenY));if(function(e){return e.element}(e)&&!e.dragging&&a>10){if(t.fire("dragstart",{target:e.element}).isDefaultPrevented())return;e.dragging=!0,t.focus()}if(e.dragging){var u=function(e,t){return{pageX:t.pageX-e.relX,pageY:t.pageY+5}}(e,Dp(t,r));o=e.ghost,i=t.getBody(),o.parentNode!==i&&i.appendChild(o),function(e,t,n,r,o,i){var a=0,u=0;e.style.left=t.pageX+"px",e.style.top=t.pageY+"px",t.pageX+n>o&&(a=t.pageX+n-o),t.pageY+r>i&&(u=t.pageY+r-i),e.style.width=n-a+"px",e.style.height=r-u+"px"}(e.ghost,u,e.width,e.height,e.maxX,e.maxY),n(r.clientX,r.clientY)}}}(s,e),i=Ip(s,e),a=function(e,t){return function(){e.dragging&&t.fire("dragend"),Bp(e)}}(s,e),e.on("mousedown",r),e.on("mousemove",o),e.on("mouseup",i),t.bind(u,"mousemove",o),t.bind(u,"mouseup",a),e.on("remove",(function(){t.unbind(u,"mousemove",o),t.unbind(u,"mouseup",a)}))},Lp=function(e){Pp(e),function(e){e.on("drop",(function(t){var n=void 0!==t.clientX?e.getDoc().elementFromPoint(t.clientX,t.clientY):null;(Np(n)||Np(e.dom.getContentEditableParent(n)))&&t.preventDefault()}))}(e)},Fp=ne.isContentEditableTrue,Hp=ne.isContentEditableFalse,jp=function(e,t,n,r,o){return t._selectionOverrides.showCaret(e,n,r,o)},Vp=function(e,t){return e.fire("BeforeObjectSelected",{target:t}).isDefaultPrevented()?null:function(e){var t=e.ownerDocument.createRange();return t.selectNode(e),t}(t)},Up=function(e,t,n){var r=Cs(1,e.getBody(),t),o=bu.fromRangeStart(r),i=o.getNode();if(Hp(i))return jp(1,e,i,!o.isAtEnd(),!1);var a=o.getNode(!0);if(Hp(a))return jp(1,e,a,!1,!1);var u=e.dom.getParent(o.getNode(),(function(e){return Hp(e)||Fp(e)}));return Hp(u)?jp(1,e,u,!1,n):null},$p=function(e,t,n){if(!t||!t.collapsed)return t;var r=Up(e,t,n);return r||t},qp=function(e){var t=Pi((function(){if(!e.removed&&e.getBody().contains(n.document.activeElement)&&e.selection.getRng().collapsed){var t=$p(e,e.selection.getRng(),!1);e.selection.setRng(t)}}),0);e.on("focus",(function(){t.throttle()})),e.on("blur",(function(){t.cancel()}))},Wp=ne.isContentEditableTrue,Yp=ne.isContentEditableFalse,Xp=function(e,t){for(var n=e.getBody();t&&t!==n;){if(Wp(t)||Yp(t))return t;t=t.parentNode}return null},Gp=function(e){var t,n=e.getBody(),r=ts(e.getBody(),(function(t){return e.dom.isBlock(t)}),(function(){return yf(e)})),o="sel-"+e.dom.uniqueId(),i=function(t){t&&e.selection.setRng(t)},a=function(){return e.selection.getRng()},u=function(t,n,o,i){return void 0===i&&(i=!0),e.fire("ShowCaret",{target:n,direction:t,before:o}).isDefaultPrevented()?null:(i&&e.selection.scrollIntoView(n,-1===t),r.show(o,n))},s=function(e){return ba(e)||ka(e)||Sa(e)},c=function(e){return s(e.startContainer)||s(e.endContainer)},l=function(t){var n=e.schema.getShortEndedElements(),r=e.dom.createRng(),o=t.startContainer,i=t.startOffset,a=t.endContainer,u=t.endOffset;return $e(n,o.nodeName.toLowerCase())?0===i?r.setStartBefore(o):r.setStartAfter(o):r.setStart(o,i),$e(n,a.nodeName.toLowerCase())?0===u?r.setEndBefore(a):r.setEndAfter(a):r.setEnd(a,u),r},f=function(r,i){var a,s,l,f,d,m,h,g,v,b,y=e.$,w=e.dom;if(!r)return null;if(r.collapsed){if(!c(r))if(!1===i){if(g=Ss(-1,n,r),rs(g.getNode(!0)))return u(-1,g.getNode(!0),!1,!1);if(rs(g.getNode()))return u(-1,g.getNode(),!g.isAtEnd(),!1)}else{if(g=Ss(1,n,r),rs(g.getNode()))return u(1,g.getNode(),!g.isAtEnd(),!1);if(rs(g.getNode(!0)))return u(1,g.getNode(!0),!1,!1)}return null}if(f=r.startContainer,d=r.startOffset,m=r.endOffset,3===f.nodeType&&0===d&&Yp(f.parentNode)&&(f=f.parentNode,d=w.nodeIndex(f),f=f.parentNode),1!==f.nodeType)return null;if(m===d+1&&f===r.endContainer&&(a=f.childNodes[d]),!Yp(a))return null;if(v=b=a.cloneNode(!0),(h=e.fire("ObjectSelected",{target:a,targetClone:v})).isDefaultPrevented())return null;s=Ji(Ae.fromDom(e.getBody()),"#"+o).fold((function(){return y([])}),(function(e){return y([e.dom()])})),v=h.targetClone,0===s.length&&(s=y('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",o)).appendTo(e.getBody()),r=e.dom.createRng(),v===b&&Zt.ie?(s.empty().append('<p style="font-size: 0" data-mce-bogus="all"> </p>').append(v),r.setStartAfter(s[0].firstChild.firstChild),r.setEndAfter(v)):(s.empty().append(" ").append(v).append(" "),r.setStart(s[0].firstChild,1),r.setEnd(s[0].lastChild,0)),s.css({top:w.getPos(a,e.getBody()).y}),s[0].focus(),(l=e.selection.getSel()).removeAllRanges(),l.addRange(r);var x=Ae.fromDom(a);return D(Wi(Ae.fromDom(e.getBody()),"*[data-mce-selected]"),(function(e){ct(x,e)||Je(e,"data-mce-selected")})),e.dom.getAttrib(a,"data-mce-selected")||a.setAttribute("data-mce-selected","1"),t=a,p(),r},d=function(){t&&(t.removeAttribute("data-mce-selected"),Ji(Ae.fromDom(e.getBody()),"#"+o).each(ii),t=null),Ji(Ae.fromDom(e.getBody()),"#"+o).each(ii),t=null},p=function(){r.hide()};return Zt.ceFalse&&function(){e.on("mouseup",(function(t){var n=a();n.collapsed&&sd.isXYInContentArea(e,t.clientX,t.clientY)&&i(Up(e,n,!1))})),e.on("click",(function(t){var n;(n=Xp(e,t.target))&&(Yp(n)&&(t.preventDefault(),e.focus()),Wp(n)&&e.dom.isChildOf(n,e.selection.getNode())&&d())})),e.on("blur NewBlock",(function(){d()})),e.on("ResizeWindow FullscreenStateChanged",(function(){return r.reposition()}));var s=function(t,n){var r,o,i=e.dom.getParent(t,e.dom.isBlock),a=e.dom.getParent(n,e.dom.isBlock);return!(!i||!e.dom.isChildOf(i,a)||!1!==Yp(Xp(e,i)))||i&&(r=i,o=a,!(e.dom.getParent(r,e.dom.isBlock)===e.dom.getParent(o,e.dom.isBlock)))&&function(e){var t=Ls(e);if(!e.firstChild)return!1;var n=bu.before(e.firstChild),r=t.next(n);return r&&!dp(r)&&!pp(r)}(i)};!function(e){var t=!1;e.on("touchstart",(function(){t=!1})),e.on("touchmove",(function(){t=!0})),e.on("touchend",(function(n){if(!t){var r=Xp(e,n.target);Yp(r)&&(n.preventDefault(),f(Vp(e,r)))}}),!0)}(e),e.on("mousedown",(function(t){var r,o=t.target;if((o===n||"HTML"===o.nodeName||e.dom.isChildOf(o,n))&&!1!==sd.isXYInContentArea(e,t.clientX,t.clientY))if(r=Xp(e,o))Yp(r)?(t.preventDefault(),f(Vp(e,r))):(d(),Wp(r)&&t.shiftKey||_p(t.clientX,t.clientY,e.selection.getRng())||(p(),e.selection.placeCaretAt(t.clientX,t.clientY)));else if(!1===rs(o)){d(),p();var a=Op(n,t.clientX,t.clientY);if(a&&!s(t.target,a.node)){t.preventDefault();var c=u(1,a.node,a.before,!1);e.getBody().focus(),i(c)}}})),e.on("keypress",(function(t){Jd.modifierPressed(t)||(t.keyCode,Yp(e.selection.getNode())&&t.preventDefault())})),e.on("GetSelectionRange",(function(e){var n=e.range;if(t){if(!t.parentNode)return void(t=null);(n=n.cloneRange()).selectNode(t),e.range=n}})),e.on("SetSelectionRange",(function(e){e.range=l(e.range);var t=f(e.range,e.forward);t&&(e.range=t)}));e.on("AfterSetSelectionRange",(function(t){var n,r=t.range;c(r)||"mcepastebin"===r.startContainer.parentNode.id||p(),n=r.startContainer.parentNode,e.dom.hasClass(n,"mce-offscreen-selection")||d()})),e.on("copy",(function(t){var n,r=t.clipboardData;if(!t.isDefaultPrevented()&&t.clipboardData&&!Zt.ie){var i=(n=e.dom.get(o))?n.getElementsByTagName("*")[0]:n;i&&(t.preventDefault(),r.clearData(),r.setData("text/html",i.outerHTML),r.setData("text/plain",i.outerText))}})),Lp(e),qp(e)}(),{showCaret:u,showBlockCaretContainer:function(t){t.hasAttribute("data-mce-caret")&&(Ta(t),i(a()),e.selection.scrollIntoView(t))},hideFakeCaret:p,destroy:function(){r.destroy(),t=null}}},Kp=0,Jp=2,Qp=1,Zp=function(e,t){var n=e.length+t.length+2,r=new Array(n),o=new Array(n),i=function(n,r,o,a,s){var c=u(n,r,o,a);if(null===c||c.start===r&&c.diag===r-a||c.end===n&&c.diag===n-o)for(var l=n,f=o;l<r||f<a;)l<r&&f<a&&e[l]===t[f]?(s.push([0,e[l]]),++l,++f):r-n>a-o?(s.push([2,e[l]]),++l):(s.push([1,t[f]]),++f);else{i(n,c.start,o,c.start-c.diag,s);for(var d=c.start;d<c.end;++d)s.push([0,e[d]]);i(c.end,r,c.end-c.diag,a,s)}},a=function(n,r,o,i){for(var a=n;a-r<i&&a<o&&e[a]===t[a-r];)++a;return function(e,t,n){return{start:e,end:t,diag:n}}(n,a,r)},u=function(n,i,u,s){var c=i-n,l=s-u;if(0===c||0===l)return null;var f,d,p,m,h,g=c-l,v=l+c,b=(v%2==0?v:v+1)/2;for(r[1+b]=n,o[1+b]=i+1,f=0;f<=b;++f){for(d=-f;d<=f;d+=2){for(p=d+b,d===-f||d!==f&&r[p-1]<r[p+1]?r[p]=r[p+1]:r[p]=r[p-1]+1,h=(m=r[p])-n+u-d;m<i&&h<s&&e[m]===t[h];)r[p]=++m,++h;if(g%2!=0&&g-f<=d&&d<=g+f&&o[p-g]<=r[p])return a(o[p-g],d+n-u,i,s)}for(d=g-f;d<=g+f;d+=2){for(p=d+b-g,d===g-f||d!==g+f&&o[p+1]<=o[p-1]?o[p]=o[p+1]-1:o[p]=o[p-1],h=(m=o[p]-1)-n+u-d;m>=n&&h>=u&&e[m]===t[h];)o[p]=m--,h--;if(g%2==0&&-f<=d&&d<=f&&o[p]<=r[p+g])return a(o[p],d+n-u,i,s)}}},s=[];return i(0,e.length,0,t.length,s),s},em=function(e){return ne.isElement(e)?e.outerHTML:ne.isText(e)?Ln.encodeRaw(e.data,!1):ne.isComment(e)?"\x3c!--"+e.data+"--\x3e":""},tm=function(e,t,r){var o=function(e){var t,r,o;for(o=n.document.createElement("div"),t=n.document.createDocumentFragment(),e&&(o.innerHTML=e);r=o.firstChild;)t.appendChild(r);return t}(t);if(e.hasChildNodes()&&r<e.childNodes.length){var i=e.childNodes[r];i.parentNode.insertBefore(o,i)}else e.appendChild(o)},nm=function(e){return M(A(V(e.childNodes),em),(function(e){return e.length>0}))},rm=function(e,t){var n=A(V(t.childNodes),em);return function(e,t){var n=0;D(e,(function(e){e[0]===Kp?n++:e[0]===Qp?(tm(t,e[1],n),n++):e[0]===Jp&&function(e,t){if(e.hasChildNodes()&&t<e.childNodes.length){var n=e.childNodes[t];n.parentNode.removeChild(n)}}(t,n)}))}(Zp(n,e),t),t},om=re(m.none()),im=function(e){return{type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}},am=function(e){return{type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}},um=function(e){return"fragmented"===e.type?e.fragments.join(""):e.content},sm=function(e){var t=Ae.fromTag("body",om.get().getOrThunk((function(){var e=n.document.implementation.createHTMLDocument("undo");return om.set(m.some(e)),e})));return la(t,um(e)),D(Wi(t,"*[data-mce-bogus]"),ai),t.dom().innerHTML},cm=function(e){var t,n,r;return t=nm(e.getBody()),n=(r=P(t,(function(t){var n=Uc.trimInternal(e.serializer,t);return n.length>0?[n]:[]}))).join(""),-1!==n.indexOf("</iframe>")?im(r):am(n)},lm=function(e,t,n){"fragmented"===t.type?rm(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw"}),e.selection.moveToBookmark(n?t.beforeBookmark:t.bookmark)},fm=function(e,t){return!(!e||!t)&&(!!function(e,t){return um(e)===um(t)}(e,t)||function(e,t){return sm(e)===sm(t)}(e,t))},dm=function(e){return 0===e.get()},pm=function(e,t,n){dm(n)&&(e.typing=t)},mm=function(e,t){e.typing&&(pm(e,!1,t),e.add())},hm=function(e){var t=re(m.none()),n=re(0),r=re(0),o={data:[],typing:!1,beforeChange:function(){!function(e,t,n){dm(t)&&n.set(m.some(Fu.getUndoBookmark(e.selection)))}(e,n,t)},add:function(i,a){return function(e,t,n,r,o,i,a){var u=e.settings,s=cm(e);if(i=i||{},i=cn.extend(i,s),!1===dm(r)||e.removed)return null;var c=t.data[n.get()];if(e.fire("BeforeAddUndo",{level:i,lastLevel:c,originalEvent:a}).isDefaultPrevented())return null;if(c&&fm(c,i))return null;if(t.data[n.get()]&&o.get().each((function(e){t.data[n.get()].beforeBookmark=e})),u.custom_undo_redo_levels&&t.data.length>u.custom_undo_redo_levels){for(var l=0;l<t.data.length-1;l++)t.data[l]=t.data[l+1];t.data.length--,n.set(t.data.length)}i.bookmark=Fu.getUndoBookmark(e.selection),n.get()<t.data.length-1&&(t.data.length=n.get()+1),t.data.push(i),n.set(t.data.length-1);var f={level:i,lastLevel:c,originalEvent:a};return e.fire("AddUndo",f),n.get()>0&&(e.setDirty(!0),e.fire("change",f)),i}(e,o,r,n,t,i,a)},undo:function(){return function(e,t,n,r){var o;return t.typing&&(t.add(),t.typing=!1,pm(t,!1,n)),r.get()>0&&(r.set(r.get()-1),o=t.data[r.get()],lm(e,o,!0),e.setDirty(!0),e.fire("Undo",{level:o})),o}(e,o,n,r)},redo:function(){return function(e,t,n){var r;return t.get()<n.length-1&&(t.set(t.get()+1),r=n[t.get()],lm(e,r,!1),e.setDirty(!0),e.fire("Redo",{level:r})),r}(e,r,o.data)},clear:function(){!function(e,t,n){t.data=[],n.set(0),t.typing=!1,e.fire("ClearUndos")}(e,o,r)},reset:function(){!function(e){e.clear(),e.add()}(o)},hasUndo:function(){return function(e,t,n){return n.get()>0||t.typing&&t.data[0]&&!fm(cm(e),t.data[0])}(e,o,r)},hasRedo:function(){return function(e,t){return t.get()<e.data.length-1&&!e.typing}(o,r)},transact:function(e){return function(e,t,n){return mm(e,t),e.beforeChange(),e.ignore(n),e.add()}(o,n,e)},ignore:function(e){!function(e,t){try{e.set(e.get()+1),t()}finally{e.set(e.get()-1)}}(n,e)},extra:function(t,n){!function(e,t,n,r,o){if(t.transact(r)){var i=t.data[n.get()].bookmark,a=t.data[n.get()-1];lm(e,a,!0),t.transact(o)&&(t.data[n.get()-1].beforeBookmark=i)}}(e,o,r,t,n)}};return function(e,t,n){var r=re(!1),o=function(e){pm(t,!1,n),t.add({},e)};e.on("init",(function(){t.add()})),e.on("BeforeExecCommand",(function(e){var r=e.command;"Undo"!==r&&"Redo"!==r&&"mceRepaint"!==r&&(mm(t,n),t.beforeChange())})),e.on("ExecCommand",(function(e){var t=e.command;"Undo"!==t&&"Redo"!==t&&"mceRepaint"!==t&&o(e)})),e.on("ObjectResizeStart cut",(function(){t.beforeChange()})),e.on("SaveContent ObjectResized blur",o),e.on("dragend",o),e.on("keyup",(function(n){var i=n.keyCode;n.isDefaultPrevented()||((i>=33&&i<=36||i>=37&&i<=40||45===i||n.ctrlKey)&&(o(),e.nodeChanged()),46!==i&&8!==i||e.nodeChanged(),r.get()&&t.typing&&!1===fm(cm(e),t.data[0])&&(!1===e.isDirty()&&(e.setDirty(!0),e.fire("change",{level:t.data[0],lastLevel:null})),e.fire("TypingUndo"),r.set(!1),e.nodeChanged()))})),e.on("keydown",(function(e){var i=e.keyCode;if(!e.isDefaultPrevented())if(i>=33&&i<=36||i>=37&&i<=40||45===i)t.typing&&o(e);else{var a=e.ctrlKey&&!e.altKey||e.metaKey;!(i<16||i>20)||224===i||91===i||t.typing||a||(t.beforeChange(),pm(t,!0,n),t.add({},e),r.set(!0))}})),e.on("mousedown",(function(e){t.typing&&o(e)}));e.on("input",(function(e){e.inputType&&("insertReplacementText"===e.inputType||function(e){return"insertText"===e.inputType&&null===e.data}(e))&&o(e)})),e.on("AddUndo Undo Redo ClearUndos",(function(t){t.isDefaultPrevented()||e.nodeChanged()}))}(e,o,n),function(e){e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")}(e),o},gm=function(e){var t=Wi(e,"br"),n=M(function(e){for(var t=[],n=e.dom();n;)t.push(Ae.fromDom(n)),n=n.lastChild;return t}(e).slice(-1),vn);t.length===n.length&&D(n,ii)},vm=function(e){oi(e),ni(e,Ae.fromHtml('<br data-mce-bogus="1">'))},bm=function(e){xt(e).each((function(t){mt(t).each((function(n){hn(e)&&vn(t)&&hn(n)&&ii(t)}))}))},ym=uc.isEq,wm=function(e,t,n){var r=e.formatter.get(n);if(r)for(var o=0;o<r.length;o++)if(!1===r[o].inherit&&e.dom.is(t,r[o].selector))return!0;return!1},xm=function(e,t,n,r){var o=e.dom.getRoot();return t!==o&&(t=e.dom.getParent(t,(function(t){return!!wm(e,t,n)||(t.parentNode===o||!!Sm(e,t,n,r,!0))})),Sm(e,t,n,r))},Cm=function(e,t,n){return!!ym(t,n.inline)||(!!ym(t,n.block)||(n.selector?1===t.nodeType&&e.is(t,n.selector):void 0))},km=function(e,t,n,r,o,i){var a,u,s,c=n[r];if(n.onmatch)return n.onmatch(t,n,r);if(c)if(void 0===c.length){for(a in c)if(c.hasOwnProperty(a)){if(u="attributes"===r?e.getAttrib(t,a):uc.getStyle(e,t,a),o&&!u&&!n.exact)return;if((!o||n.exact)&&!ym(u,uc.normalizeStyleValue(e,uc.replaceVars(c[a],i),a)))return}}else for(s=0;s<c.length;s++)if("attributes"===r?e.getAttrib(t,c[s]):uc.getStyle(e,t,c[s]))return n;return n},Sm=function(e,t,n,r,o){var i,a,u,s,c=e.formatter.get(n),l=e.dom;if(c&&t)for(a=0;a<c.length;a++)if(i=c[a],Cm(e.dom,t,i)&&km(l,t,i,"attributes",o,r)&&km(l,t,i,"styles",o,r)){if(s=i.classes)for(u=0;u<s.length;u++)if(!e.dom.hasClass(t,s[u]))return;return i}},Tm={matchNode:Sm,matchName:Cm,match:function(e,t,n,r){var o;return r?xm(e,r,t,n):(r=e.selection.getNode(),!!xm(e,r,t,n)||!((o=e.selection.getStart())===r||!xm(e,o,t,n)))},matchAll:function(e,t,n){var r,o=[],i={};return r=e.selection.getStart(),e.dom.getParent(r,(function(r){var a,u;for(a=0;a<t.length;a++)u=t[a],!i[u]&&Sm(e,r,u,n)&&(i[u]=!0,o.push(u))}),e.dom.getRoot()),o},canApply:function(e,t){var n,r,o,i,a,u=e.formatter.get(t),s=e.dom;if(u)for(n=e.selection.getStart(),r=uc.getParents(s,n),i=u.length-1;i>=0;i--){if(!(a=u[i].selector)||u[i].defaultBlock)return!0;for(o=r.length-1;o>=0;o--)if(s.is(r[o],a))return!0}return!1},matchesUnInheritedFormatSelector:wm},Em=function(e,t){return e.splitText(t)},Om=function(e){var t=e.startContainer,n=e.startOffset,r=e.endContainer,o=e.endOffset;return t===r&&ne.isText(t)?n>0&&n<t.nodeValue.length&&(t=(r=Em(t,n)).previousSibling,o>n?(t=r=Em(r,o-=n).previousSibling,o=r.nodeValue.length,n=0):o=0):(ne.isText(t)&&n>0&&n<t.nodeValue.length&&(t=Em(t,n),n=0),ne.isText(r)&&o>0&&o<r.nodeValue.length&&(o=(r=Em(r,o).previousSibling).nodeValue.length)),{startContainer:t,startOffset:n,endContainer:r,endOffset:o}},_m=function(e,t,n){if(0!==n){var r=e.data.slice(t,t+n),o=t+n>=e.data.length,i=0===t;e.replaceData(t,n,function(e,t,n){return z(e,(function(r,o){return function(e){return-1!==" \f\n\r\t\v".indexOf(e)}(o)||" "===o?r.previousCharIsSpace||""===r.str&&t||r.str.length===e.length-1&&n?{previousCharIsSpace:!1,str:r.str+" "}:{previousCharIsSpace:!0,str:r.str+" "}:{previousCharIsSpace:!1,str:r.str+o}}),{previousCharIsSpace:!1,str:""}).str}(r,i,o))}},Am=function(e,t){var n,r=e.data.slice(t),o=r.length-(n=r,n.replace(/^\s+/g,"")).length;return _m(e,t,o)},Dm=function(e,t){var n,r,o,i=Ae.fromDom(e),a=Ae.fromDom(t);return n=a,r="pre,code",o=u(ct,i),Ki(n,r,o).isSome()},Nm=function(e,t){return za(t)&&!1===function(e,t){return ne.isText(t)&&/^[ \t\r\n]*$/.test(t.data)&&!1===Dm(e,t)}(e,t)||function(e){return ne.isElement(e)&&"A"===e.nodeName&&e.hasAttribute("name")}(t)||Mm(t)},Mm=ne.hasAttribute("data-mce-bookmark"),Rm=ne.hasAttribute("data-mce-bogus"),zm=ne.hasAttributeValue("data-mce-bogus","all"),Im=function(e){return function(e){var t,n=0;if(Nm(e,e))return!1;if(!(t=e.firstChild))return!0;var r=new Qo(t,e);do{if(zm(t))t=r.next(!0);else if(Rm(t))t=r.next();else if(ne.isBr(t))n++,t=r.next();else{if(Nm(e,t))return!1;t=r.next()}}while(t);return n<=1}(e.dom())},Bm=function(e,t){return function(e,t){var n=e.container(),r=e.offset();return!1===bu.isTextPosition(e)&&n===t.parentNode&&r>bu.before(t).offset()}(t,e)?bu(t.container(),t.offset()-1):t},Pm=function(e){return za(e.previousSibling)?m.some((t=e.previousSibling,ne.isText(t)?bu(t,t.data.length):bu.after(t))):e.previousSibling?Gs.lastPositionIn(e.previousSibling):m.none();var t},Lm=function(e){return za(e.nextSibling)?m.some((t=e.nextSibling,ne.isText(t)?bu(t,0):bu.before(t))):e.nextSibling?Gs.firstPositionIn(e.nextSibling):m.none();var t},Fm=function(e,t){return Pm(t).orThunk((function(){return Lm(t)})).orThunk((function(){return function(e,t){var n=bu.before(t.previousSibling?t.previousSibling:t.parentNode);return Gs.prevPosition(e,n).fold((function(){return Gs.nextPosition(e,bu.after(t))}),m.some)}(e,t)}))},Hm=function(e,t){return Lm(t).orThunk((function(){return Pm(t)})).orThunk((function(){return function(e,t){return Gs.nextPosition(e,bu.after(t)).fold((function(){return Gs.prevPosition(e,bu.before(t))}),m.some)}(e,t)}))},jm=function(e,t,n){return function(e,t,n){return e?Hm(t,n):Fm(t,n)}(e,t,n).map(u(Bm,n))},Vm=function(e,t,n){n.fold((function(){e.focus()}),(function(n){e.selection.setRng(n.toRange(),t)}))},Um=function(e,t){return t&&e.schema.getBlockElements().hasOwnProperty(Re(t))},$m=function(e){if(Im(e)){var t=Ae.fromHtml('<br data-mce-bogus="1">');return oi(e),ni(e,t),m.some(bu.before(t.dom()))}return m.none()},qm=function(e,t,n){var r,o,i,a,u=mt(e).filter(Be),s=ht(e).filter(Be);return ii(e),(r=u,o=s,i=t,a=function(e,t,r){var o=e.dom(),i=t.dom(),a=o.data.length;return function(e,t,n){var r=ye(e.data).length;e.appendData(t.data),ii(Ae.fromDom(t)),n&&Am(e,r)}(o,i,n),r.container()===i?bu(o,a):r},r.isSome()&&o.isSome()&&i.isSome()?m.some(a(r.getOrDie(),o.getOrDie(),i.getOrDie())):m.none()).orThunk((function(){return n&&(u.each((function(e){return t=e.dom(),n=e.dom().length,r=t.data.slice(0,n),o=r.length-ye(r).length,_m(t,n-o,o);var t,n,r,o})),s.each((function(e){return Am(e.dom(),0)}))),t}))},Wm=function(e,t,n,r){void 0===r&&(r=!0);var o,i=jm(t,e.getBody(),n.dom()),a=Xi(n,u(Um,e),(o=e.getBody(),function(e){return e.dom()===o})),s=qm(n,i,function(e,t){return $e(e.schema.getTextInlineElements(),Re(t))}(e,n));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):a.bind($m).fold((function(){r&&Vm(e,t,s)}),(function(n){r&&Vm(e,t,m.some(n))}))},Ym=da,Xm=function(e){return function(e){for(var t=[];e;){if(3===e.nodeType&&e.nodeValue!==Ym||e.childNodes.length>1)return[];1===e.nodeType&&t.push(e),e=e.firstChild}return t}(e).length>0},Gm=function(e){if(e){var t=new Qo(e,e);for(e=t.current();e;e=t.next())if(3===e.nodeType)return e}return null},Km=function(e){var t=Ae.fromTag("span");return Ge(t,{id:"_mce_caret","data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&ni(t,Ae.fromText(Ym)),t},Jm=function(e,t,n){void 0===n&&(n=!0);var r=e.dom,o=e.selection;if(Xm(t))Wm(e,!1,Ae.fromDom(t),n);else{var i=o.getRng(),a=r.getParent(t,r.isBlock),u=function(e){var t=Gm(e);return t&&t.nodeValue.charAt(0)===Ym&&t.deleteData(0,1),t}(t);i.startContainer===u&&i.startOffset>0&&i.setStart(u,i.startOffset-1),i.endContainer===u&&i.endOffset>0&&i.setEnd(u,i.endOffset-1),r.remove(t,!0),a&&r.isEmpty(a)&&vm(Ae.fromDom(a)),o.setRng(i)}},Qm=function(e,t,n){void 0===n&&(n=!0);var r=e.dom,o=e.selection;if(t)Jm(e,t,n);else if(!(t=ju(e.getBody(),o.getStart())))for(;t=r.get("_mce_caret");)Jm(e,t,!1)},Zm=function(e,t,n){var r=e.dom,o=r.getParent(n,u(uc.isTextBlock,e));o&&r.isEmpty(o)?n.parentNode.replaceChild(t,n):(gm(Ae.fromDom(n)),r.isEmpty(n)?n.parentNode.replaceChild(t,n):r.insertAfter(t,n))},eh=function(e,t){return e.appendChild(t),t},th=function(e,t){var n=R(e,(function(e,t){return eh(e,t.cloneNode(!1))}),t);return eh(n,n.ownerDocument.createTextNode(Ym))},nh=function(e){e.on("mouseup keydown",(function(t){!function(e,t){var n=e.selection,r=e.getBody();Qm(e,null,!1),8!==t&&46!==t||!n.isCollapsed()||n.getStart().innerHTML!==Ym||Qm(e,ju(r,n.getStart())),37!==t&&39!==t||Qm(e,ju(r,n.getStart()))}(e,t.keyCode)}))},rh=function(e,t){return e.schema.getTextInlineElements().hasOwnProperty(Re(t))&&!Hu(t.dom())&&!ne.isBogus(t.dom())},oh={},ih=rn.filter,ah=rn.each;!function(e,t){var n=oh[e];n||(oh[e]=n=[]),oh[e].push(t)}("pre",(function(e){var t,n,r=e.selection.getRng();t=ne.matchNodeNames(["pre"]),r.collapsed||(n=e.selection.getSelectedBlocks(),ah(ih(ih(n,t),(function(e){return t(e.previousSibling)&&-1!==rn.indexOf(n,e.previousSibling)})),(function(e){var t,n;t=e.previousSibling,Jo(n=e).remove(),Jo(t).append("<br><br>").append(n.childNodes)})))}));var uh=function(e,t){ah(oh[e],(function(e){e(t)}))},sh=cn.each,ch=function(e){this.compare=function(t,n){if(t.nodeName!==n.nodeName)return!1;var r=function(t){var n={};return sh(e.getAttribs(t),(function(r){var o=r.nodeName.toLowerCase();0!==o.indexOf("_")&&"style"!==o&&0!==o.indexOf("data-")&&(n[o]=e.getAttrib(t,o))})),n},o=function(e,t){var n,r;for(r in e)if(e.hasOwnProperty(r)){if(void 0===(n=t[r]))return!1;if(e[r]!==n)return!1;delete t[r]}for(r in t)if(t.hasOwnProperty(r))return!1;return!0};return!!o(r(t),r(n))&&(!!o(e.parseStyle(e.getAttrib(t,"style")),e.parseStyle(e.getAttrib(n,"style")))&&(!rc.isBookmarkNode(t)&&!rc.isBookmarkNode(n)))}},lh=/^(src|href|style)$/,fh=cn.each,dh=uc.isEq,ph=function(e,t,n){return e.isChildOf(t,n)&&t!==n&&!e.isBlock(n)},mh=function(e,t,n){var r,o,i;return r=t[n?"startContainer":"endContainer"],o=t[n?"startOffset":"endOffset"],ne.isElement(r)&&(i=r.childNodes.length-1,!n&&o&&o--,r=r.childNodes[o>i?i:o]),ne.isText(r)&&n&&o>=r.nodeValue.length&&(r=new Qo(r,e.getBody()).next()||r),ne.isText(r)&&!n&&0===o&&(r=new Qo(r,e.getBody()).prev()||r),r},hh=function(e,t,n,r){var o=e.create(n,r);return t.parentNode.insertBefore(o,t),o.appendChild(t),o},gh=function(e,t,n,r,o){var i=Ae.fromDom(t),a=Ae.fromDom(e.create(r,o)),u=n?vt(i):gt(i);return ri(a,u),n?(Zo(i,a),ti(a,i)):(ei(i,a),ni(a,i)),a.dom()},vh=function(e,t,n,r){return!(t=uc.getNonWhiteSpaceSibling(t,n,r))||"BR"===t.nodeName||e.isBlock(t)},bh=function(e,t,n,r,o){var i,a,u,s=e.dom;if(!function(e,t,n){return!!dh(t,n.inline)||(!!dh(t,n.block)||(n.selector?ne.isElement(t)&&e.is(t,n.selector):void 0))}(s,r,t)&&!function(e,t){return t.links&&"A"===e.tagName}(r,t))return!1;if("all"!==t.remove)for(fh(t.styles,(function(e,i){e=uc.normalizeStyleValue(s,uc.replaceVars(e,n),i),"number"==typeof i&&(i=e,o=0),(t.remove_similar||!o||dh(uc.getStyle(s,o,i),e))&&s.setStyle(r,i,""),u=1})),u&&""===s.getAttrib(r,"style")&&(r.removeAttribute("style"),r.removeAttribute("data-mce-style")),fh(t.attributes,(function(e,i){var a;if(e=uc.replaceVars(e,n),"number"==typeof i&&(i=e,o=0),t.remove_similar||!o||dh(s.getAttrib(o,i),e)){if("class"===i&&(e=s.getAttrib(r,i))&&(a="",fh(e.split(/\s+/),(function(e){/mce\-\w+/.test(e)&&(a+=(a?" ":"")+e)})),a))return void s.setAttrib(r,i,a);"class"===i&&r.removeAttribute("className"),lh.test(i)&&r.removeAttribute("data-mce-"+i),r.removeAttribute(i)}})),fh(t.classes,(function(e){e=uc.replaceVars(e,n),o&&!s.hasClass(o,e)||s.removeClass(r,e)})),a=s.getAttribs(r),i=0;i<a.length;i++){var c=a[i].nodeName;if(0!==c.indexOf("_")&&0!==c.indexOf("data-"))return!1}return"none"!==t.remove?(function(e,t,n){var r,o=t.parentNode,i=e.dom,a=Qc(e);n.block&&(a?o===i.getRoot()&&(n.list_block&&dh(t,n.list_block)||fh(cn.grep(t.childNodes),(function(t){uc.isValid(e,a,t.nodeName.toLowerCase())?r?r.appendChild(t):(r=hh(i,t,a),i.setAttribs(r,e.settings.forced_root_block_attrs)):r=0}))):i.isBlock(t)&&!i.isBlock(o)&&(vh(i,t,!1)||vh(i,t.firstChild,!0,1)||t.insertBefore(i.create("br"),t.firstChild),vh(i,t,!0)||vh(i,t.lastChild,!1,1)||t.appendChild(i.create("br")))),n.selector&&n.inline&&!dh(n.inline,t)||i.remove(t,1)}(e,r,t),!0):void 0},yh=bh,wh=function(e,t,n,r,o){var i,a,u=e.formatter.get(t),s=u[0],c=!0,l=e.dom,f=e.selection,d=function(r){var i=function(e,t,n,r,o){var i;return fh(uc.getParents(e.dom,t.parentNode).reverse(),(function(t){var a;i||"_start"===t.id||"_end"===t.id||(a=Tm.matchNode(e,t,n,r,o))&&!1!==a.split&&(i=t)})),i}(e,r,t,n,o);return function(e,t,n,r,o,i,a,u){var s,c,l,f,d,p,m=e.dom;if(n){for(p=n.parentNode,s=r.parentNode;s&&s!==p;s=s.parentNode){for(c=m.clone(s,!1),d=0;d<t.length;d++)if(bh(e,t[d],u,c,c)){c=0;break}c&&(l&&c.appendChild(l),f||(f=c),l=c)}!i||a.mixed&&m.isBlock(n)||(r=m.split(n,r)),l&&(o.parentNode.insertBefore(l,o),f.appendChild(o))}return r}(e,u,i,r,r,!0,s,n)},p=function(t){var r,o,i,a,f;if(ne.isElement(t)&&l.getContentEditable(t)&&(a=c,c="true"===l.getContentEditable(t),f=!0),r=cn.grep(t.childNodes),c&&!f)for(o=0,i=u.length;o<i&&!bh(e,u[o],n,t,t);o++);if(s.deep&&r.length){for(o=0,i=r.length;o<i;o++)p(r[o]);f&&(c=a)}},h=function(e){var t=l.get(e?"_start":"_end"),n=t[e?"firstChild":"lastChild"];return function(e){return rc.isBookmarkNode(e)&&ne.isElement(e)&&("_start"===e.id||"_end"===e.id)}(n)&&(n=n[e?"firstChild":"lastChild"]),ne.isText(n)&&0===n.data.length&&(n=e?t.previousSibling||t.nextSibling:t.nextSibling||t.previousSibling),l.remove(t,!0),n},g=function(t){var n,r,o=t.commonAncestorContainer;if(t=yc(e,t,u,!0),s.split){if(t=Om(t),(n=mh(e,t,!0))!==(r=mh(e,t))){if(/^(TR|TH|TD)$/.test(n.nodeName)&&n.firstChild&&(n="TR"===n.nodeName?n.firstChild.firstChild||n:n.firstChild||n),o&&/^T(HEAD|BODY|FOOT|R)$/.test(o.nodeName)&&function(e){return/^(TH|TD)$/.test(e.nodeName)}(r)&&r.firstChild&&(r=r.firstChild||r),ph(l,n,r)){var i=m.from(n.firstChild).getOr(n);return d(gh(l,i,!0,"span",{id:"_start","data-mce-type":"bookmark"})),void h(!0)}if(ph(l,r,n)){i=m.from(r.lastChild).getOr(r);return d(gh(l,i,!1,"span",{id:"_end","data-mce-type":"bookmark"})),void h(!1)}n=hh(l,n,"span",{id:"_start","data-mce-type":"bookmark"}),r=hh(l,r,"span",{id:"_end","data-mce-type":"bookmark"}),d(n),d(r),n=h(!0),r=h()}else n=r=d(n);t.startContainer=n.parentNode?n.parentNode:n,t.startOffset=l.nodeIndex(n),t.endContainer=r.parentNode?r.parentNode:r,t.endOffset=l.nodeIndex(r)+1}xc.walk(l,t,(function(t){fh(t,(function(t){p(t),ne.isElement(t)&&"underline"===e.dom.getStyle(t,"text-decoration")&&t.parentNode&&"underline"===uc.getTextDecoration(l,t.parentNode)&&bh(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:"underline"}},null,t)}))}))};if(r)r.nodeType?((a=l.createRng()).setStartBefore(r),a.setEndAfter(r),g(a)):g(r);else if("false"!==l.getContentEditable(f.getNode()))f.isCollapsed()&&s.inline&&!l.select("td[data-mce-selected],th[data-mce-selected]").length?function(e,t,n,r){var o,i,a,u,s,c,l,f=e.dom,d=e.selection,p=[],m=d.getRng();for(o=m.startContainer,i=m.startOffset,s=o,3===o.nodeType&&(i!==o.nodeValue.length&&(u=!0),s=s.parentNode);s;){if(Tm.matchNode(e,s,t,n,r)){c=s;break}s.nextSibling&&(u=!0),p.push(s),s=s.parentNode}if(c)if(u){a=d.getBookmark(),m.collapse(!0);var h=yc(e,m,e.formatter.get(t),!0);h=Om(h),e.formatter.remove(t,n,h),d.moveToBookmark(a)}else{l=ju(e.getBody(),c);var g=Km(!1).dom(),v=th(p,g);Zm(e,g,l||c),Jm(e,l,!1),d.setCursorLocation(v,1),f.isEmpty(c)&&f.remove(c)}}(e,t,n,o):(i=Fu.getPersistentBookmark(e.selection,!0),g(f.getRng()),f.moveToBookmark(i),s.inline&&Tm.match(e,t,n,f.getStart())&&uc.moveStart(l,f,f.getRng()),e.nodeChanged());else{r=f.getNode();for(var v=0,b=u.length;v<b&&(!u[v].ceFalseOverride||!bh(e,u[v],n,r,r));v++);}},xh=cn.each,Ch=function(e){return e&&1===e.nodeType&&!rc.isBookmarkNode(e)&&!Hu(e)&&!ne.isBogus(e)},kh=function(e,t){var n;for(n=e;n;n=n[t]){if(3===n.nodeType&&0!==n.nodeValue.length)return e;if(1===n.nodeType&&!rc.isBookmarkNode(n))return n}return e},Sh=function(e,t,n){var r,o,i=new ch(e);if(t&&n&&(t=kh(t,"previousSibling"),n=kh(n,"nextSibling"),i.compare(t,n))){for(r=t.nextSibling;r&&r!==n;)o=r,r=r.nextSibling,t.appendChild(o);return e.remove(n),cn.each(cn.grep(n.childNodes),(function(e){t.appendChild(e)})),t}return n},Th=function(e,t,n){xh(e.childNodes,(function(e){Ch(e)&&(t(e)&&n(e),e.hasChildNodes()&&Th(e,t,n))}))},Eh=function(e,t){return u((function(t,n){return!(!n||!uc.getStyle(e,n,t))}),t)},Oh=function(e,t,n){return u((function(t,n,r){e.setStyle(r,t,n),""===r.getAttribute("style")&&r.removeAttribute("style"),_h(e,r)}),t,n)},_h=function(e,t){"SPAN"===t.nodeName&&0===e.getAttribs(t).length&&e.remove(t,!0)},Ah=function(e,t){var n;1===t.nodeType&&t.parentNode&&1===t.parentNode.nodeType&&(n=uc.getTextDecoration(e,t.parentNode),e.getStyle(t,"color")&&n?e.setStyle(t,"text-decoration",n):e.getStyle(t,"text-decoration")===n&&e.setStyle(t,"text-decoration",null))},Dh=function(e,t,n,r){xh(t,(function(t){xh(e.dom.select(t.inline,r),(function(r){Ch(r)&&yh(e,t,n,r,t.exact?r:null)})),function(e,t,n){if(t.clear_child_styles){var r=t.links?"*:not(a)":"*";xh(e.select(r,n),(function(n){Ch(n)&&xh(t.styles,(function(t,r){e.setStyle(n,r,"")}))}))}}(e.dom,t,r)}))},Nh=function(e,t,n,r){(t.styles.color||t.styles.textDecoration)&&(cn.walk(r,u(Ah,e),"childNodes"),Ah(e,r))},Mh=function(e,t,n,r){t.styles&&t.styles.backgroundColor&&Th(r,Eh(e,"fontSize"),Oh(e,"backgroundColor",uc.replaceVars(t.styles.backgroundColor,n)))},Rh=function(e,t,n,r){"sub"!==t.inline&&"sup"!==t.inline||(Th(r,Eh(e,"fontSize"),Oh(e,"fontSize","")),e.remove(e.select("sup"===t.inline?"sub":"sup",r),!0))},zh=function(e,t,n,r){r&&!1!==t.merge_siblings&&(r=Sh(e,uc.getNonWhiteSpaceSibling(r),r),r=Sh(e,r,uc.getNonWhiteSpaceSibling(r,!0)))},Ih=function(e,t,n,r,o){Tm.matchNode(e,o.parentNode,n,r)&&yh(e,t,r,o)||t.merge_with_parents&&e.dom.getParent(o.parentNode,(function(i){if(Tm.matchNode(e,i,n,r))return yh(e,t,r,o),!0}))},Bh=function(e){var t=bu.fromRangeStart(e),r=bu.fromRangeEnd(e),o=e.commonAncestorContainer;return Gs.fromPosition(!1,o,r).map((function(i){return!hs(t,r,o)&&hs(t,i,o)?function(e,t,r,o){var i=n.document.createRange();return i.setStart(e,t),i.setEnd(r,o),i}(t.container(),t.offset(),i.container(),i.offset()):e})).getOr(e)},Ph=function(e){return e.collapsed?e:Bh(e)},Lh=cn.each,Fh=function(e,t,n,r){var o,i,a=e.formatter.get(t),u=a[0],s=!r&&e.selection.isCollapsed(),c=e.dom,l=e.selection,f=function(e,t){if(t=t||u,e){if(t.onformat&&t.onformat(e,t,n,r),Lh(t.styles,(function(t,r){c.setStyle(e,r,uc.replaceVars(t,n))})),t.styles){var o=c.getAttrib(e,"style");o&&e.setAttribute("data-mce-style",o)}Lh(t.attributes,(function(t,r){c.setAttrib(e,r,uc.replaceVars(t,n))})),Lh(t.classes,(function(t){t=uc.replaceVars(t,n),c.hasClass(e,t)||c.addClass(e,t)}))}},d=function(e,t){var n=!1;return!!u.selector&&(Lh(e,(function(e){if(!("collapsed"in e&&e.collapsed!==s))return c.is(t,e.selector)&&!Hu(t)?(f(t,e),n=!0,!1):void 0})),n)},p=function(r,o,i,s){var c,l,p=[],m=!0;c=u.inline||u.block,l=r.create(c),f(l),xc.walk(r,o,(function(o){var i,h=function(o){var g,v,b,y;if(y=m,g=o.nodeName.toLowerCase(),v=o.parentNode.nodeName.toLowerCase(),1===o.nodeType&&r.getContentEditable(o)&&(y=m,m="true"===r.getContentEditable(o),b=!0),uc.isEq(g,"br"))return i=0,void(u.block&&r.remove(o));if(u.wrapper&&Tm.matchNode(e,o,t,n))i=0;else{if(m&&!b&&u.block&&!u.wrapper&&uc.isTextBlock(e,g)&&uc.isValid(e,v,c))return o=r.rename(o,c),f(o),p.push(o),void(i=0);if(u.selector){var w=d(a,o);if(!u.inline||w)return void(i=0)}!m||b||!uc.isValid(e,c,g)||!uc.isValid(e,v,c)||!s&&3===o.nodeType&&1===o.nodeValue.length&&65279===o.nodeValue.charCodeAt(0)||Hu(o)||u.inline&&r.isBlock(o)?(i=0,Lh(cn.grep(o.childNodes),h),b&&(m=y),i=0):(i||(i=r.clone(l,!1),o.parentNode.insertBefore(i,o),p.push(i)),i.appendChild(o))}};Lh(o,h)})),!0===u.links&&Lh(p,(function(e){var t=function(e){"A"===e.nodeName&&f(e,u),Lh(cn.grep(e.childNodes),t)};t(e)})),Lh(p,(function(o){var i,s=function(e){var t=!1;return Lh(e.childNodes,(function(e){if(function(e){return e&&1===e.nodeType&&!rc.isBookmarkNode(e)&&!Hu(e)&&!ne.isBogus(e)}(e))return t=e,!1})),t};i=function(e){var t=0;return Lh(e.childNodes,(function(e){uc.isWhiteSpaceNode(e)||rc.isBookmarkNode(e)||t++})),t}(o),!(p.length>1)&&r.isBlock(o)||0!==i?(u.inline||u.wrapper)&&(u.exact||1!==i||(o=function(e){var t,n;return(t=s(e))&&!rc.isBookmarkNode(t)&&Tm.matchName(r,t,u)&&(n=r.clone(t,!1),f(n),r.replace(n,e,!0),r.remove(t,1)),n||e}(o)),Dh(e,a,n,o),Ih(e,u,t,n,o),Mh(r,u,n,o),Rh(r,u,n,o),zh(r,u,n,o)):r.remove(o,1)}))};if("false"!==c.getContentEditable(l.getNode())){if(u){if(r)r.nodeType?d(a,r)||((i=c.createRng()).setStartBefore(r),i.setEndAfter(r),p(c,yc(e,i,a),0,!0)):p(c,r,0,!0);else if(s&&u.inline&&!c.select("td[data-mce-selected],th[data-mce-selected]").length)!function(e,t,n){var r,o,i,a,u,s,c=e.selection;a=(r=c.getRng()).startOffset,s=r.startContainer.nodeValue,(o=ju(e.getBody(),c.getStart()))&&(i=Gm(o));var l,f,d=/[^\s\u00a0\u00ad\u200b\ufeff]/;s&&a>0&&a<s.length&&d.test(s.charAt(a))&&d.test(s.charAt(a-1))?(u=c.getBookmark(),r.collapse(!0),r=yc(e,r,e.formatter.get(t)),r=Om(r),e.formatter.apply(t,n,r),c.moveToBookmark(u)):(o&&i.nodeValue===Ym?e.formatter.apply(t,n,o):(l=e.getDoc(),f=Km(!0).dom(),i=(o=l.importNode(f,!0)).firstChild,r.insertNode(o),a=1,e.formatter.apply(t,n,o)),c.setCursorLocation(i,a))}(e,t,n);else{var m=e.selection.getNode();e.settings.forced_root_block||!a[0].defaultBlock||c.getParent(m,c.isBlock)||Fh(e,a[0].defaultBlock),e.selection.setRng(Ph(e.selection.getRng())),o=Fu.getPersistentBookmark(e.selection,!0),p(c,yc(e,l.getRng(),a)),u.styles&&Nh(c,u,n,m),l.moveToBookmark(o),uc.moveStart(c,l,l.getRng()),e.nodeChanged()}uh(t,e)}}else{r=l.getNode();for(var h=0,g=a.length;h<g;h++)if(a[h].ceFalseOverride&&c.is(r,a[h].selector))return void f(r,a[h])}},Hh={applyFormat:Fh},jh=function(e,t,n,r){var o=Pe(n.get()),i={},a={},u=M(uc.getParents(e.dom,t),(function(e){return 1===e.nodeType&&!e.getAttribute("data-mce-bogus")}));Fe(r,(function(t,n){cn.each(u,(function(r){return e.formatter.matchNode(r,n,{},t.similar)?(-1===o.indexOf(n)&&(D(t.callbacks,(function(e){e(!0,{node:r,format:n,parents:u})})),i[n]=t.callbacks),a[n]=t.callbacks,!1):!Tm.matchesUnInheritedFormatSelector(e,r,n)&&void 0}))}));var s=Vh(n.get(),a,t,u);n.set(U(U({},i),s))},Vh=function(e,t,n,r){return Ve(e,(function(e,o){return!!$e(t,o)||(D(e,(function(e){e(!1,{node:n,format:o,parents:r})})),!1)})).t},Uh=function(e,t,n,r,o){return null===t.get()&&function(e,t){var n=re({});e.set({}),t.on("NodeChange",(function(r){jh(t,r.element,n,e.get())}))}(t,e),function(e,t,n,r){var o=e.get();D(t.split(","),(function(e){o[e]||(o[e]={similar:r,callbacks:[]}),o[e].callbacks.push(n)})),e.set(o)}(t,n,r,o),{unbind:function(){return function(e,t,n){var r=e.get();D(t.split(","),(function(e){r[e].callbacks=M(r[e].callbacks,(function(e){return e!==n})),0===r[e].callbacks.length&&delete r[e]})),e.set(r)}(t,n,r)}}},$h={get:function(e){var t={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return!0},onformat:function(t,n,r){cn.each(r,(function(n,r){e.setAttrib(t,r,n)}))}},removeformat:[{selector:"b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return cn.each("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),(function(e){t[e]={block:e,remove:"all"}})),t}};var qh=cn.each,Wh=Ei.DOM,Yh=function(e,t){var n,r,o,i=t&&t.schema||Gn({}),a=function(e){var t;return r="string"==typeof e?{name:e,classes:[],attrs:{}}:e,function(e,t){t.classes.length&&Wh.addClass(e,t.classes.join(" ")),Wh.setAttribs(e,t.attrs)}(t=Wh.create(r.name),r),t},u=function(e,t,n){var r,o,s,c=t.length>0&&t[0],l=c&&c.name;if(s=function(e,t){var n="string"!=typeof e?e.nodeName.toLowerCase():e,r=i.getElementRule(n),o=r&&r.parentsRequired;return!(!o||!o.length)&&(t&&-1!==cn.inArray(o,t)?t:o[0])}(e,l))l===s?(o=t[0],t=t.slice(1)):o=s;else if(c)o=t[0],t=t.slice(1);else if(!n)return e;return o&&(r=a(o)).appendChild(e),n&&(r||(r=Wh.create("div")).appendChild(e),cn.each(n,(function(t){var n=a(t);r.insertBefore(n,e)}))),u(r,t,o&&o.siblings)};return e&&e.length?(r=e[0],n=a(r),(o=Wh.create("div")).appendChild(u(n,e.slice(1),r.siblings)),o):""},Xh=function(e){var t,n={classes:[],attrs:{}};return"*"!==(e=n.selector=cn.trim(e))&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(function(e,t,r,o,i){switch(t){case"#":n.attrs.id=r;break;case".":n.classes.push(r);break;case":":-1!==cn.inArray("checked disabled enabled read-only required".split(" "),r)&&(n.attrs[r]=r)}if("["===o){var a=i.match(/([\w\-]+)(?:\=\"([^\"]+))?/);a&&(n.attrs[a[1]]=a[2])}return""}))),n.name=t||"div",n},Gh=function(e){return e&&"string"==typeof e?(e=(e=e.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),cn.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),(function(e){var t=cn.map(e.split(/(?:~\+|~|\+)/),Xh),n=t.pop();return t.length&&(n.siblings=t),n})).reverse()):[]},Kh=function(e,t){var n,r,o,i,a,u,s="";if(!1===(u=e.settings.preview_styles))return"";"string"!=typeof u&&(u="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow");var c=function(e){return e.replace(/%(\w+)/g,"")};if("string"==typeof t){if(!(t=e.formatter.get(t)))return;t=t[0]}return"preview"in t&&!1===(u=t.preview)?"":(n=t.block||t.inline||"span",(i=Gh(t.selector)).length?(i[0].name||(i[0].name=n),n=t.selector,r=Yh(i,e)):r=Yh([n],e),o=Wh.select(n,r)[0]||r.firstChild,qh(t.styles,(function(e,t){(e=c(e))&&Wh.setStyle(o,t,e)})),qh(t.attributes,(function(e,t){(e=c(e))&&Wh.setAttrib(o,t,e)})),qh(t.classes,(function(e){e=c(e),Wh.hasClass(o,e)||Wh.addClass(o,e)})),e.fire("PreviewFormats"),Wh.setStyles(r,{position:"absolute",left:-65535}),e.getBody().appendChild(r),a=Wh.getStyle(e.getBody(),"fontSize",!0),a=/px$/.test(a)?parseInt(a,10):0,qh(u.split(" "),(function(t){var n=Wh.getStyle(o,t,!0);if(!("background-color"===t&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(n)&&(n=Wh.getStyle(e.getBody(),t,!0),"#ffffff"===Wh.toHex(n).toLowerCase())||"color"===t&&"#000000"===Wh.toHex(n).toLowerCase())){if("font-size"===t&&/em|%$/.test(n)){if(0===a)return;n=parseFloat(n)/(/%$/.test(n)?100:1)*a+"px"}"border"===t&&n&&(s+="padding:0 2px;"),s+=t+":"+n+";"}})),e.fire("AfterPreviewFormats"),Wh.remove(r),s)},Jh=function(e,t,n,r,o){var i=t.get(n);!Tm.match(e,n,r,o)||"toggle"in i[0]&&!i[0].toggle?Hh.applyFormat(e,n,r,o):wh(e,n,r,o)},Qh=function(e){e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(var t=1;t<=6;t++)e.addShortcut("access+"+t,"",["FormatBlock",!1,"h"+t]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},Zh=function(e){var t=function(e){var t={},n=function(e,r){e&&("string"!=typeof e?cn.each(e,(function(e,t){n(t,e)})):(b(r)||(r=[r]),cn.each(r,(function(e){void 0===e.deep&&(e.deep=!e.selector),void 0===e.split&&(e.split=!e.selector||e.inline),void 0===e.remove&&e.selector&&!e.inline&&(e.remove="none"),e.selector&&e.inline&&(e.mixed=!0,e.block_expand=!0),"string"==typeof e.classes&&(e.classes=e.classes.split(/\s+/))})),t[e]=r))};return n($h.get(e.dom)),n(e.settings.formats),{get:function(e){return e?t[e]:t},has:function(e){return $e(t,e)},register:n,unregister:function(e){return e&&t[e]&&delete t[e],t}}}(e),n=re(null);return Qh(e),nh(e),{get:t.get,has:t.has,register:t.register,unregister:t.unregister,apply:u(Hh.applyFormat,e),remove:u(wh,e),toggle:u(Jh,e,t),match:u(Tm.match,e),matchAll:u(Tm.matchAll,e),matchNode:u(Tm.matchNode,e),canApply:u(Tm.canApply,e),formatChanged:u(Uh,e,n),getCssText:u(Kh,e)}},eg=function(e,t,n){e.addAttributeFilter("data-mce-tabindex",(function(e,t){for(var n,r=e.length;r--;)(n=e[r]).attr("tabindex",n.attr("data-mce-tabindex")),n.attr(t,null)})),e.addAttributeFilter("src,href,style",(function(e,r){for(var o,i,a=e.length,u="data-mce-"+r,s=t.url_converter,c=t.url_converter_scope;a--;)void 0!==(i=(o=e[a]).attr(u))?(o.attr(r,i.length>0?i:null),o.attr(u,null)):(i=o.attr(r),"style"===r?i=n.serializeStyle(n.parseStyle(i),o.name):s&&(i=s.call(c,i,r,o.name)),o.attr(r,i.length>0?i:null))})),e.addAttributeFilter("class",(function(e){for(var t,n,r=e.length;r--;)(n=(t=e[r]).attr("class"))&&(n=t.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),t.attr("class",n.length>0?n:null))})),e.addAttributeFilter("data-mce-type",(function(e,t,n){for(var r,o=e.length;o--;){if("bookmark"===(r=e[o]).attr("data-mce-type")&&!n.cleanup)m.from(r.firstChild).exists((function(e){return!fa(e.value)}))?r.unwrap():r.remove()}})),e.addNodeFilter("noscript",(function(e){for(var t,n=e.length;n--;)(t=e[n].firstChild)&&(t.value=Ln.decode(t.value))})),e.addNodeFilter("script,style",(function(e,n){for(var r,o,i,a=e.length,u=function(e){return e.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")};a--;)o=(r=e[a]).firstChild?r.firstChild.value:"","script"===n?((i=r.attr("type"))&&r.attr("type","mce-no/type"===i?null:i.replace(/^mce\-/,"")),"xhtml"===t.element_format&&o.length>0&&(r.firstChild.value="// <![CDATA[\n"+u(o)+"\n// ]]>")):"xhtml"===t.element_format&&o.length>0&&(r.firstChild.value="\x3c!--\n"+u(o)+"\n--\x3e")})),e.addNodeFilter("#comment",(function(e){for(var t,n=e.length;n--;)0===(t=e[n]).value.indexOf("[CDATA[")?(t.name="#cdata",t.type=4,t.value=t.value.replace(/^\[CDATA\[|\]\]$/g,"")):0===t.value.indexOf("mce:protected ")&&(t.name="#text",t.type=3,t.raw=!0,t.value=unescape(t.value).substr(14))})),e.addNodeFilter("xml:namespace,input",(function(e,t){for(var n,r=e.length;r--;)7===(n=e[r]).type?n.remove():1===n.type&&("input"!==t||n.attr("type")||n.attr("type","text"))})),e.addAttributeFilter("data-mce-type",(function(t){D(t,(function(t){"format-caret"===t.attr("data-mce-type")&&(t.isEmpty(e.schema.getNonEmptyElements())?t.remove():t.unwrap())}))})),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize",(function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)}))},tg=function(e){var t,n,r=function(e){return e&&"br"===e.name};r(t=e.lastChild)&&r(n=t.prev)&&(t.remove(),n.remove())},ng=function(e,t,r){return function(e,t){return e&&e.hasEventListeners("PreProcess")&&!t.no_events}(e,r)?function(e,t,r){var o,i,a,u=e.dom;return t=t.cloneNode(!0),(o=n.document.implementation).createHTMLDocument&&(i=o.createHTMLDocument(""),cn.each("BODY"===t.nodeName?t.childNodes:[t],(function(e){i.body.appendChild(i.importNode(e,!0))})),t="BODY"!==t.nodeName?i.body.firstChild:i.body,a=u.doc,u.doc=i),Sf(e,Lf(r,{node:t})),a&&(u.doc=a),t}(e,t,r):t},rg=function(e,t,n){e.addNodeFilter("font",(function(e){D(e,(function(e){var r=t.parse(e.attr("style")),o=e.attr("color"),i=e.attr("face"),a=e.attr("size");o&&(r.color=o),i&&(r["font-family"]=i),a&&(r["font-size"]=n[parseInt(e.attr("size"),10)-1]),e.name="span",e.attr("style",t.serialize(r)),function(e,t){D(t,(function(t){e.attr(t,null)}))}(e,["color","face","size"])}))}))},og=function(e,t){var n=hr();t.convert_fonts_to_spans&&rg(e,n,cn.explode(t.font_size_legacy_values)),function(e,t){e.addNodeFilter("strike",(function(e){D(e,(function(e){var n=t.parse(e.attr("style"));n["text-decoration"]="line-through",e.name="span",e.attr("style",t.serialize(n))}))}))}(e,n)},ig=function(e,t){t.inline_styles&&og(e,t)},ag=function(e,t,n,r){(e.padd_empty_with_br||t.insert)&&n[r.name]?r.empty().append(new Mc("br",1)).shortEnded=!0:r.empty().append(new Mc("#text",3)).value=" "},ug=function(e,t){return e&&e.firstChild&&e.firstChild===e.lastChild&&e.firstChild.name===t},sg=function(e,t,n,r){return r.isEmpty(t,n,(function(t){return function(e,t){var n=e.getElementRule(t.name);return n&&n.paddEmpty}(e,t)}))},cg=cn.makeMap,lg=cn.each,fg=cn.explode,dg=cn.extend,pg=function(e,t){void 0===t&&(t=Gn());var n={},r=[],o={},i={};(e=e||{}).validate=!("validate"in e)||e.validate,e.root_name=e.root_name||"body";var a=function(e){var t,a,u;(a=e.name)in n&&((u=o[a])?u.push(e):o[a]=[e]),t=r.length;for(;t--;)(a=r[t].name)in e.attributes.map&&((u=i[a])?u.push(e):i[a]=[e]);return e},u={schema:t,addAttributeFilter:function(e,t){lg(fg(e),(function(e){var n;for(n=0;n<r.length;n++)if(r[n].name===e)return void r[n].callbacks.push(t);r.push({name:e,callbacks:[t]})}))},getAttributeFilters:function(){return[].concat(r)},addNodeFilter:function(e,t){lg(fg(e),(function(e){var r=n[e];r||(n[e]=r=[]),r.push(t)}))},getNodeFilters:function(){var e=[];for(var t in n)n.hasOwnProperty(t)&&e.push({name:t,callbacks:n[t]});return e},filterNode:a,parse:function(u,s){var c,l,f,d,p,m,h,g,v,b,y,w=[];s=s||{},o={},i={},v=dg(cg("script,style,head,html,body,title,meta,param"),t.getBlockElements());var x=t.getNonEmptyElements(),C=t.children,k=e.validate,S=function(e){return!1===e?"":!0===e?"p":e}("forced_root_block"in s?s.forced_root_block:e.forced_root_block),T=t.getWhiteSpaceElements(),E=/^[ \t\r\n]+/,O=/[ \t\r\n]+$/,_=/[ \t\r\n]+/g,A=/^[ \t\r\n]+$/;b=T.hasOwnProperty(s.context)||T.hasOwnProperty(e.root_name);var D=function(e,t){var r,i=new Mc(e,t);return e in n&&((r=o[e])?r.push(i):o[e]=[i]),i},N=function(e){var n,r,o,i,a=t.getBlockElements();for(n=e.prev;n&&3===n.type;){if((o=n.value.replace(O,"")).length>0)return void(n.value=o);if(r=n.next){if(3===r.type&&r.value.length){n=n.prev;continue}if(!a[r.name]&&"script"!==r.name&&"style"!==r.name){n=n.prev;continue}}i=n.prev,n.remove(),n=i}};c=Hc({validate:k,allow_script_urls:e.allow_script_urls,allow_conditional_comments:e.allow_conditional_comments,self_closing_elements:function(e){var t,n={};for(t in e)"li"!==t&&"p"!==t&&(n[t]=e[t]);return n}(t.getSelfClosingElements()),cdata:function(e){y.append(D("#cdata",4)).value=e},text:function(e,t){var n;b||(e=e.replace(_," "),function(e,t){return e&&(t[e.name]||"br"===e.name)}(y.lastChild,v)&&(e=e.replace(E,""))),0!==e.length&&((n=D("#text",3)).raw=!!t,y.append(n).value=e)},comment:function(e){y.append(D("#comment",8)).value=e},pi:function(e,t){y.append(D(e,7)).value=t,N(y)},doctype:function(e){y.append(D("#doctype",10)).value=e,N(y)},start:function(e,n,o){var a,u,s,c,l;if(s=k?t.getElementRule(e):{}){for((a=D(s.outputName||e,1)).attributes=n,a.shortEnded=o,y.append(a),(l=C[y.name])&&C[a.name]&&!l[a.name]&&w.push(a),u=r.length;u--;)(c=r[u].name)in n.map&&((h=i[c])?h.push(a):i[c]=[a]);v[e]&&N(a),o||(y=a),!b&&T[e]&&(b=!0)}},end:function(n){var r,o,i,a,u;if(o=k?t.getElementRule(n):{}){if(v[n]&&!b){if((r=y.firstChild)&&3===r.type)if((i=r.value.replace(E,"")).length>0)r.value=i,r=r.next;else for(a=r.next,r.remove(),r=a;r&&3===r.type;)i=r.value,a=r.next,(0===i.length||A.test(i))&&(r.remove(),r=a),r=a;if((r=y.lastChild)&&3===r.type)if((i=r.value.replace(O,"")).length>0)r.value=i,r=r.prev;else for(a=r.prev,r.remove(),r=a;r&&3===r.type;)i=r.value,a=r.prev,(0===i.length||A.test(i))&&(r.remove(),r=a),r=a}if(b&&T[n]&&(b=!1),o.removeEmpty&&sg(t,x,T,y)&&!y.attr("name")&&!y.attr("id"))return u=y.parent,v[y.name]?y.empty().remove():y.unwrap(),void(y=u);o.paddEmpty&&(function(e){return ug(e,"#text")&&" "===e.firstChild.value}(y)||sg(t,x,T,y))&&ag(e,s,v,y),y=y.parent}}},t);var M=y=new Mc(s.context||e.root_name,11);if(c.parse(u),k&&w.length&&(s.context?s.invalid=!0:function(e){var n,r,o,i,u,s,c,l,f,d,p,m,h,g,v,b;for(m=cg("tr,td,th,tbody,thead,tfoot,table"),d=t.getNonEmptyElements(),p=t.getWhiteSpaceElements(),h=t.getTextBlockElements(),g=t.getSpecialElements(),n=0;n<e.length;n++)if((r=e[n]).parent&&!r.fixed)if(h[r.name]&&"li"===r.parent.name){for(v=r.next;v&&h[v.name];)v.name="li",v.fixed=!0,r.parent.insert(v,r.parent),v=v.next;r.unwrap(r)}else{for(i=[r],o=r.parent;o&&!t.isValidChild(o.name,r.name)&&!m[o.name];o=o.parent)i.push(o);if(o&&i.length>1){for(i.reverse(),u=s=a(i[0].clone()),f=0;f<i.length-1;f++){for(t.isValidChild(s.name,i[f].name)?(c=a(i[f].clone()),s.append(c)):c=s,l=i[f].firstChild;l&&l!==i[f+1];)b=l.next,c.append(l),l=b;s=c}sg(t,d,p,u)?o.insert(r,i[0],!0):(o.insert(u,i[0],!0),o.insert(r,u)),o=i[0],(sg(t,d,p,o)||ug(o,"br"))&&o.empty().remove()}else if(r.parent){if("li"===r.name){if((v=r.prev)&&("ul"===v.name||"ul"===v.name)){v.append(r);continue}if((v=r.next)&&("ul"===v.name||"ul"===v.name)){v.insert(r,v.firstChild,!0);continue}r.wrap(a(new Mc("ul",1)));continue}t.isValidChild(r.parent.name,"div")&&t.isValidChild("div",r.name)?r.wrap(a(new Mc("div",1))):g[r.name]?r.empty().remove():r.unwrap()}}}(w)),S&&("body"===M.name||s.isRootContent)&&function(){var n,r,o=M.firstChild,i=function(e){e&&((o=e.firstChild)&&3===o.type&&(o.value=o.value.replace(E,"")),(o=e.lastChild)&&3===o.type&&(o.value=o.value.replace(O,"")))};if(t.isValidChild(M.name,S.toLowerCase())){for(;o;)n=o.next,3===o.type||1===o.type&&"p"!==o.name&&!v[o.name]&&!o.attr("data-mce-type")?r?r.append(o):((r=D(S,1)).attr(e.forced_root_block_attrs),M.insert(r,o),r.append(o)):(i(r),r=null),o=n;i(r)}}(),!s.invalid){for(g in o)if(o.hasOwnProperty(g)){for(h=n[g],p=(l=o[g]).length;p--;)l[p].parent||l.splice(p,1);for(f=0,d=h.length;f<d;f++)h[f](l,g,s)}for(f=0,d=r.length;f<d;f++)if((h=r[f]).name in i){for(p=(l=i[h.name]).length;p--;)l[p].parent||l.splice(p,1);for(p=0,m=h.callbacks.length;p<m;p++)h.callbacks[p](l,h.name,s)}}return M}};return function(e,t){var n=e.schema;t.remove_trailing_brs&&e.addNodeFilter("br",(function(e,r,o){var i,a,u,s,c,l,f,d,p=e.length,m=cn.extend({},n.getBlockElements()),h=n.getNonEmptyElements(),g=n.getNonEmptyElements();for(m.body=1,i=0;i<p;i++)if(u=(a=e[i]).parent,m[a.parent.name]&&a===u.lastChild){for(c=a.prev;c;){if("span"!==(l=c.name)||"bookmark"!==c.attr("data-mce-type")){if("br"!==l)break;if("br"===l){a=null;break}}c=c.prev}a&&(a.remove(),sg(n,h,g,u)&&(f=n.getElementRule(u.name))&&(f.removeEmpty?u.remove():f.paddEmpty&&ag(t,o,m,u)))}else{for(s=a;u&&u.firstChild===s&&u.lastChild===s&&(s=u,!m[u.name]);)u=u.parent;s===u&&!0!==t.padd_empty_with_br&&((d=new Mc("#text",3)).value=" ",a.replace(d))}})),e.addAttributeFilter("href",(function(e){var n,r,o,i=e.length;if(!t.allow_unsafe_link_target)for(;i--;)"a"===(n=e[i]).name&&"_blank"===n.attr("target")&&n.attr("rel",(r=n.attr("rel"),o=void 0,o=r?cn.trim(r):"",/\b(noopener)\b/g.test(o)?o:function(e){return e.split(" ").filter((function(e){return e.length>0})).concat(["noopener"]).sort().join(" ")}(o)))})),t.allow_html_in_named_anchor||e.addAttributeFilter("id,name",(function(e){for(var t,n,r,o,i=e.length;i--;)if("a"===(o=e[i]).name&&o.firstChild&&!o.attr("href")){r=o.parent,t=o.lastChild;do{n=t.prev,r.insert(t,o),t=n}while(t)}})),t.fix_list_elements&&e.addNodeFilter("ul,ol",(function(e){for(var t,n,r=e.length;r--;)if("ul"===(n=(t=e[r]).parent).name||"ol"===n.name)if(t.prev&&"li"===t.prev.name)t.prev.append(t);else{var o=new Mc("li",1);o.attr("style","list-style-type: none"),t.wrap(o)}})),t.validate&&n.getValidClasses()&&e.addAttributeFilter("class",(function(e){for(var t,r,o,i,a,u,s,c=e.length,l=n.getValidClasses();c--;){for(r=(t=e[c]).attr("class").split(" "),a="",o=0;o<r.length;o++)i=r[o],s=!1,(u=l["*"])&&u[i]&&(s=!0),u=l[t.name],!s&&u&&u[i]&&(s=!0),s&&(a&&(a+=" "),a+=i);a.length||(a=null),t.attr("class",a)}}))}(u,e),ig(u,e),u},mg=function(e,t,n){-1===cn.inArray(t,n)&&(e.addAttributeFilter(n,(function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)})),t.push(n))},hg=function(e,t,n,r,o){return function(e,t,n){return!t.no_events&&e?Tf(e,Lf(t,{content:n})).content:n}(e,o,function(e,t,n){return _l(e,t).serialize(n)}(t,n,r))},gg=function(e,t){var n,r,o,i=["data-mce-selected"];n=t&&t.dom?t.dom:Ei.DOM,r=t&&t.schema?t.schema:Gn(e),e.entity_encoding=e.entity_encoding||"named",e.remove_trailing_brs=!("remove_trailing_brs"in e)||e.remove_trailing_brs,o=pg(e,r),eg(o,e,n);return{schema:r,addNodeFilter:o.addNodeFilter,addAttributeFilter:o.addAttributeFilter,serialize:function(i,a){var u=Lf({format:"html"},a||{}),s=ng(t,i,u),c=function(e,t,n){var r=pa(n.getInner?t.innerHTML:e.getOuterHTML(t));return n.selection||Sn(Ae.fromDom(t))?r:cn.trim(r)}(n,s,u),l=function(e,t,n){var r=n.selection?Lf({forced_root_block:!1},n):n,o=e.parse(t,r);return tg(o),o}(o,c,u);return"tree"===u.format?l:hg(t,e,r,l,u)},addRules:function(e){r.addValidElements(e)},setRules:function(e){r.setValidElements(e)},addTempAttr:u(mg,o,i),getTempAttrs:function(){return i}}},vg=function(e,t){var n=gg(e,t);return{schema:n.schema,addNodeFilter:n.addNodeFilter,addAttributeFilter:n.addAttributeFilter,serialize:n.serialize,addRules:n.addRules,setRules:n.setRules,addTempAttr:n.addTempAttr,getTempAttrs:n.getTempAttrs}};function bg(e){return{getBookmark:u(rc.getBookmark,e),moveToBookmark:u(rc.moveToBookmark,e)}}!function(e){e.isBookmarkNode=rc.isBookmarkNode}(bg||(bg={}));var yg=bg,wg=ne.isContentEditableFalse,xg=ne.isContentEditableTrue,Cg=function(e,t){var r,o,i,a,u,s,c,l,f,d,p,m,h,g,v,b,y,w=t.dom,x=cn.each,C=t.getDoc(),k=n.document,S=Math.abs,T=Math.round,E=t.getBody();a={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};var O=function(e){return e&&("IMG"===e.nodeName||t.dom.is(e,"figure.image"))},_=function(e){var n=e.target;(function(e,t){if("longpress"===e.type||0===e.type.indexOf("touch")){var n=e.touches[0];return O(e.target)&&!_p(n.clientX,n.clientY,t)}return O(e.target)&&!_p(e.clientX,e.clientY,t)})(e,t.selection.getRng())&&!e.isDefaultPrevented()&&t.selection.select(n)},A=function(e){return t.dom.is(e,"figure.image")?e.querySelector("img"):e},D=function(e){var n=t.settings.object_resizing;return!1!==n&&!Zt.iOS&&("string"!=typeof n&&(n="table,img,figure.image,div"),"false"!==e.getAttribute("data-mce-resize")&&(e!==t.getBody()&&ut(Ae.fromDom(e),n)))},N=function(e){var n,a,x,C;n=e.screenX-s,a=e.screenY-c,g=n*u[2]+d,v=a*u[3]+p,g=g<5?5:g,v=v<5?5:v,(O(r)&&!1!==t.settings.resize_img_proportional?!Jd.modifierPressed(e):Jd.modifierPressed(e)||O(r)&&u[2]*u[3]!=0)&&(S(n)>S(a)?(v=T(g*m),g=T(v/m)):(g=T(v/m),v=T(g*m))),w.setStyles(A(o),{width:g,height:v}),x=(x=u.startPos.x+n)>0?x:0,C=(C=u.startPos.y+a)>0?C:0,w.setStyles(i,{left:x,top:C,display:"block"}),i.innerHTML=g+" &times; "+v,u[2]<0&&o.clientWidth<=g&&w.setStyle(o,"left",l+(d-g)),u[3]<0&&o.clientHeight<=v&&w.setStyle(o,"top",f+(p-v)),(n=E.scrollWidth-b)+(a=E.scrollHeight-y)!==0&&w.setStyles(i,{left:x-n,top:C-a}),h||(Af(t,r,d,p),h=!0)},M=function(){h=!1;var e=function(e,n){n&&(r.style[e]||!t.schema.isValid(r.nodeName.toLowerCase(),e)?w.setStyle(A(r),e,n):w.setAttrib(A(r),e,n))};e("width",g),e("height",v),w.unbind(C,"mousemove",N),w.unbind(C,"mouseup",M),k!==C&&(w.unbind(k,"mousemove",N),w.unbind(k,"mouseup",M)),w.remove(o),w.remove(i),R(r),Df(t,r,g,v),w.setAttrib(r,"style",w.getAttrib(r,"style")),t.nodeChanged()},R=function(e){var n,h,S,T,O;z(),P(),n=w.getPos(e,E),l=n.x,f=n.y,O=e.getBoundingClientRect(),h=O.width||O.right-O.left,S=O.height||O.bottom-O.top,r!==e&&(r=e,g=v=0),T=t.fire("ObjectSelected",{target:e}),D(e)&&!T.isDefaultPrevented()?x(a,(function(e,t){var n;(n=w.get("mceResizeHandle"+t))&&w.remove(n),n=w.add(E,"div",{id:"mceResizeHandle"+t,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+t+"-resize; margin:0; padding:0"}),11===Zt.ie&&(n.contentEditable=!1),w.bind(n,"mousedown",(function(t){t.stopImmediatePropagation(),t.preventDefault(),function(t){s=t.screenX,c=t.screenY,d=A(r).clientWidth,p=A(r).clientHeight,m=p/d,u=e,e.startPos={x:h*e[0]+l,y:S*e[1]+f},b=E.scrollWidth,y=E.scrollHeight,o=r.cloneNode(!0),w.addClass(o,"mce-clonedresizable"),w.setAttrib(o,"data-mce-bogus","all"),o.contentEditable=!1,o.unSelectabe=!0,w.setStyles(o,{left:l,top:f,margin:0}),o.removeAttribute("data-mce-selected"),E.appendChild(o),w.bind(C,"mousemove",N),w.bind(C,"mouseup",M),k!==C&&(w.bind(k,"mousemove",N),w.bind(k,"mouseup",M)),i=w.add(E,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},d+" &times; "+p)}(t)})),e.elm=n,w.setStyles(n,{left:h*e[0]+l-n.offsetWidth/2,top:S*e[1]+f-n.offsetHeight/2})})):z(),r.setAttribute("data-mce-selected","1")},z=function(){var e,t;for(e in P(),r&&r.removeAttribute("data-mce-selected"),a)(t=w.get("mceResizeHandle"+e))&&(w.unbind(t),w.remove(t))},I=function(n){var r,o=function(e,t){if(e)do{if(e===t)return!0}while(e=e.parentNode)};h||t.removed||(x(w.select("img[data-mce-selected],hr[data-mce-selected]"),(function(e){e.removeAttribute("data-mce-selected")})),r="mousedown"===n.type?n.target:e.getNode(),o(r=w.$(r).closest("table,img,figure.image,hr")[0],E)&&(L(),o(e.getStart(!0),r)&&o(e.getEnd(!0),r))?R(r):z())},B=function(e){return wg(function(e,t){for(;t&&t!==e;){if(xg(t)||wg(t))return t;t=t.parentNode}return null}(t.getBody(),e))},P=function(){for(var e in a){var t=a[e];t.elm&&(w.unbind(t.elm),delete t.elm)}},L=function(){try{t.getDoc().execCommand("enableObjectResizing",!1,!1)}catch(e){}};t.on("init",(function(){L(),(Zt.browser.isIE()||Zt.browser.isEdge())&&(t.on("mousedown click",(function(e){var n=e.target,r=n.nodeName;h||!/^(TABLE|IMG|HR)$/.test(r)||B(n)||(2!==e.button&&t.selection.select(n,"TABLE"===r),"mousedown"===e.type&&t.nodeChanged())})),t.dom.bind(E,"mscontrolselect",(function(e){var n=function(e){$t.setEditorTimeout(t,(function(){t.selection.select(e)}))};if(B(e.target))return e.preventDefault(),void n(e.target);/^(TABLE|IMG|HR)$/.test(e.target.nodeName)&&(e.preventDefault(),"IMG"===e.target.tagName&&n(e.target))})));var e=$t.throttle((function(e){t.composing||I(e)}));t.on("nodechange ResizeEditor ResizeWindow drop FullscreenStateChanged",e),t.on("keyup compositionend",(function(t){r&&"TABLE"===r.nodeName&&e(t)})),t.on("hide blur",z),t.on("contextmenu longpress",_,!0)})),t.on("remove",P);return{isResizable:D,showResizeRect:R,hideResizeRect:z,updateResizeRect:I,destroy:function(){r=o=null}}};var kg=function(e,t){var n=function(n){var r=t(n);if(r<=0||null===r){var o=Qe(n,e);return parseFloat(o)||0}return r},r=function(e,t){return z(t,(function(t,n){var r=Qe(e,n),o=void 0===r?0:parseInt(r,10);return isNaN(o)?t:t+o}),0)};return{set:function(t,n){if(!C(n)&&!n.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+n);var r=t.dom();qe(r)&&(r.style[e]=n+"px")},get:n,getOuter:n,aggregate:r,max:function(e,t,n){var o=r(e,n);return t>o?t-o:0}}}("height",(function(e){var t=e.dom();return We(e)?t.getBoundingClientRect().height:t.offsetHeight})),Sg=function(e,t){return e.view(t).fold(i([]),(function(t){var n=e.owner(t),r=Sg(e,n);return[t].concat(r)}))},Tg=Object.freeze({view:function(e){return(e.dom()===n.document?m.none():m.from(e.dom().defaultView.frameElement)).map(Ae.fromDom)},owner:function(e){return ft(e)}}),Eg=function(e){var t=Ae.fromDom(n.document),r=di(t),o=function(e,t){var n=t.owner(e);return Sg(t,n)}(e,Tg),i=li(e),a=R(o,(function(e,t){var n=li(t);return{left:e.left+n.left(),top:e.top+n.top()}}),{left:0,top:0});return si(a.left+i.left()+r.left(),a.top+i.top()+r.top())},Og=function(e){return"textarea"===Re(e)},_g=function(e,t){var n=function(e){var t=e.dom().ownerDocument,n=t.body,r=t.defaultView,o=t.documentElement;if(n===e.dom())return si(n.offsetLeft,n.offsetTop);var i=ci(r.pageYOffset,o.scrollTop),a=ci(r.pageXOffset,o.scrollLeft),u=ci(o.clientTop,n.clientTop),s=ci(o.clientLeft,n.clientLeft);return li(e).translate(a-s,i-u)}(e),r=function(e){return kg.get(e)}(e);return{element:e,bottom:n.top()+r,pos:n,cleanup:t}},Ag=function(e,t){var n=function(e,t){var n=bt(e);if(0===n.length||Og(e))return{element:e,offset:t};if(t<n.length&&!Og(n[t]))return{element:n[t],offset:0};var r=n[n.length-1];return Og(r)?{element:e,offset:t}:"img"===Re(r)?{element:r,offset:1}:Be(r)?{element:r,offset:kc(r).length}:{element:r,offset:bt(r).length}}(e,t),r=Ae.fromHtml('<span data-mce-bogus="all">'+da+"</span>");return Zo(n.element,r),_g(r,(function(){return ii(r)}))},Dg=function(e){return _g(Ae.fromDom(e),r)},Ng=function(e,t,n,r){zg(e,(function(o,i){return Mg(e,t,n,r)}),n)},Mg=function(e,t,n,r){var o=Ae.fromDom(e.getBody()),i=Ae.fromDom(e.getDoc());o.dom().offsetWidth;var a=di(i).top(),u=Ag(Ae.fromDom(n.startContainer),n.startOffset);t(i,a,u,r),u.cleanup()},Rg=function(e,t,n,r){var o=Ae.fromDom(e.getDoc());n(o,di(o).top(),t,r)},zg=function(e,t,n){var r=n.startContainer,o=n.startOffset,i=n.endContainer,a=n.endOffset;t(Ae.fromDom(r),Ae.fromDom(i));var u=e.dom.createRng();u.setStart(r,o),u.setEnd(i,a),e.selection.setRng(n)},Ig=function(e,t,n,r){var o=e.pos;if(n)pi(o.left(),o.top(),r);else{var i=o.top()-t+(e.bottom-o.top());pi(o.left(),i,r)}},Bg=function(e,t,n,r,o){r.pos.top()<t?Ig(r,n,!1!==o,e):r.bottom>n+t&&Ig(r,n,!0===o,e)},Pg=function(e,t,n,r){var o=e.dom().defaultView.innerHeight;Bg(e,t,o,n,r)},Lg=function(e,t,r,o,i){var a=t.dom().defaultView.innerHeight;Bg(t,r,a,o,i);var u=Eg(o.element),s=gi(n.window);u.top()<s.y()?mi(o.element,!1!==i):u.top()>s.bottom()&&mi(o.element,!0===i)},Fg=function(e,t,n){return Ng(e,u(Pg),t,n)},Hg=function(e,t,n){return Rg(e,Dg(t),u(Pg),n)},jg=function(e,t,n){return Ng(e,u(Lg,e),t,n)},Vg=function(e,t,n){return Rg(e,Dg(t),u(Lg,e),n)},Ug=function(e,t,n){(function(e,t,n){return e.fire("ScrollIntoView",{elm:t,alignToTop:n}).isDefaultPrevented()})(e,t,n)||(e.inline?Hg:Vg)(e,t,n)},$g=function(e,t,n){(e.inline?Fg:jg)(e,t,n)},qg=function(e){return ne.isContentEditableTrue(e)||ne.isContentEditableFalse(e)},Wg=function(e,t,n){var r,o,i=n;if(i.caretPositionFromPoint)(o=i.caretPositionFromPoint(e,t))&&((r=n.createRange()).setStart(o.offsetNode,o.offset),r.collapse(!0));else if(n.caretRangeFromPoint)r=n.caretRangeFromPoint(e,t);else if(i.body.createTextRange){r=i.body.createTextRange();try{r.moveToPoint(e,t),r.collapse(!0)}catch(o){r=function(e,t,n){var r,o,i;if(r=n.elementFromPoint(e,t),o=n.body.createTextRange(),r&&"HTML"!==r.tagName||(r=n.body),o.moveToElementText(r),(i=(i=cn.toArray(o.getClientRects())).sort((function(e,n){return(e=Math.abs(Math.max(e.top-t,e.bottom-t)))-(n=Math.abs(Math.max(n.top-t,n.bottom-t)))}))).length>0){t=(i[0].bottom+i[0].top)/2;try{return o.moveToPoint(e,t),o.collapse(!0),o}catch(e){}}return null}(e,t,n)}return function(e,t){var n=e&&e.parentElement?e.parentElement():null;return ne.isContentEditableFalse(function(e,t,n){for(;e&&e!==t;){if(n(e))return e;e=e.parentNode}return null}(n,t,qg))?null:e}(r,n.body)}return r},Yg=function(e,t){return A(t,(function(t){var n=e.fire("GetSelectionRange",{range:t});return n.range!==t?n.range:t}))},Xg=function(e,t){var r=(t||n.document).createDocumentFragment();return D(e,(function(e){r.appendChild(e.dom())})),Ae.fromDom(r)},Gg=tt("element","width","rows"),Kg=tt("element","cells"),Jg=tt("x","y"),Qg=function(e,t){var n=parseInt(Ke(e,t),10);return isNaN(n)?1:n},Zg=function(e,t,n){var r=e.rows();return!!(r[n]?r[n].cells():[])[t]},ev=function(e){return z(e,(function(e,t){return t.cells().length>e?t.cells().length:e}),0)},tv=function(e,t){for(var n=e.rows(),r=0;r<n.length;r++)for(var o=n[r].cells(),i=0;i<o.length;i++)if(ct(o[i],t))return m.some(Jg(i,r));return m.none()},nv=function(e,t,n,r,o){for(var i=[],a=e.rows(),u=n;u<=o;u++){var s=a[u].cells(),c=t<r?s.slice(t,r+1):s.slice(r,t+1);i.push(Kg(a[u].element(),c))}return i},rv=function(e){var t=Gg(sa(e),0,[]);return D(Wi(e,"tr"),(function(e,n){D(Wi(e,"td,th"),(function(r,o){!function(e,t,n,r,o){for(var i=Qg(o,"rowspan"),a=Qg(o,"colspan"),u=e.rows(),s=n;s<n+i;s++){u[s]||(u[s]=Kg(ca(r),[]));for(var c=t;c<t+a;c++){u[s].cells()[c]=s===n&&c===t?o:sa(o)}}}(t,function(e,t,n){for(;Zg(e,t,n);)t++;return t}(t,o,n),n,e,r)}))})),Gg(t.element(),ev(t.rows()),t.rows())},ov=function(e){return function(e,t){var n=sa(e.element()),r=Ae.fromTag("tbody");return ri(r,t),ni(n,r),n}(e,function(e){return A(e.rows(),(function(e){var t=A(e.cells(),(function(e){var t=ca(e);return Je(t,"colspan"),Je(t,"rowspan"),t})),n=sa(e.element());return ri(n,t),n}))}(e))},iv=function(e,t,n){return tv(e,t).bind((function(t){return tv(e,n).map((function(n){return function(e,t,n){var r=t.x(),o=t.y(),i=n.x(),a=n.y(),u=o<a?nv(e,r,o,i,a):nv(e,r,a,i,o);return Gg(e.element(),ev(u),u)}(e,t,n)}))}))},av=function(e){var t=[];if(e)for(var n=0;n<e.rangeCount;n++)t.push(e.getRangeAt(n));return t},uv=av,sv=function(e){return P(e,(function(e){var t=$a(e);return t?[Ae.fromDom(t)]:[]}))},cv=function(e){return av(e).length>1},lv=function(e){return M(sv(e),kn)},fv=function(e){return Wi(e,"td[data-mce-selected],th[data-mce-selected]")},dv=function(e,t){var n=fv(t),r=lv(e);return n.length>0?n:r},pv=dv,mv=function(e){return dv(uv(e.selection.getSel()),Ae.fromDom(e.getBody()))},hv=function(e,t){return I(e,(function(e){return"li"===Re(e)&&Yd(e,t)})).fold(i([]),(function(t){return function(e){return I(e,(function(e){return"ul"===Re(e)||"ol"===Re(e)}))}(e).map((function(e){return[Ae.fromTag("li"),Ae.fromTag(Re(e))]})).getOr([])}))},gv=function(e,t){var n=Ae.fromDom(t.commonAncestorContainer),r=Ld(n,e),o=M(r,(function(e){return gn(e)||mn(e)})),a=hv(r,t),u=o.concat(a.length?a:function(e){return wn(e)?pt(e).filter(yn).fold(i([]),(function(t){return[e,t]})):yn(e)?[e]:[]}(n));return A(u,sa)},vv=function(){return Xg([])},bv=function(e,t){return n=Ae.fromDom(t.cloneContents()),r=gv(e,t),o=z(r,(function(e,t){return ni(t,e),t}),n),r.length>0?Xg([o]):o;var n,r,o},yv=function(e,t){return(n=e,r=t[0],Ki(r,"table",u(ct,n))).bind((function(e){var n=t[0],r=t[t.length-1],o=rv(e);return iv(o,n,r).map((function(e){return Xg([ov(e)])}))})).getOrThunk(vv);var n,r},wv=function(e,t){var n=pv(t,e);return n.length>0?yv(e,n):function(e,t){return t.length>0&&t[0].collapsed?vv():bv(e,t[0])}(e,t)},xv=function(e,t){if(void 0===t&&(t={}),t.get=!0,t.format=t.format||"html",t.selection=!0,(t=e.fire("BeforeGetContent",t)).isDefaultPrevented())return e.fire("GetContent",t),t.content;if("text"===t.format)return function(e){return m.from(e.selection.getRng()).map((function(t){var n=e.dom.add(e.getBody(),"div",{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},t.cloneContents()),r=pa(n.innerText);return e.dom.remove(n),r})).getOr("")}(e);t.getInner=!0;var n=function(e,t){var n,r=e.selection.getRng(),o=e.dom.create("body"),i=e.selection.getSel(),a=Yg(e,uv(i));return(n=t.contextual?wv(Ae.fromDom(e.getBody()),a).dom():r.cloneContents())&&o.appendChild(n),e.selection.serializer.serialize(o,t)}(e,t);return"tree"===t.format?n:(t.content=e.selection.isCollapsed()?"":n,e.fire("GetContent",t),t.content)},Cv=function(e,t,n){return null!==function(e,t,n){for(;e&&e!==t;){if(n(e))return e;e=e.parentNode}return null}(e,t,n)},kv=function(e,t,n){return Cv(e,t,(function(e){return e.nodeName===n}))},Sv=function(e){return e&&"TABLE"===e.nodeName},Tv=function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)},Ev=function(e,t){return ba(e)&&!1===Cv(e,t,Hu)},Ov=function(e,t,n){for(var r=new Qo(t,e.getParent(t.parentNode,e.isBlock)||e.getRoot());t=r[n?"prev":"next"]();)if(ne.isBr(t))return!0},_v=function(e,t,n,r,o){var i,a,u=e.getRoot(),s=e.schema.getNonEmptyElements(),c=e.getParent(o.parentNode,e.isBlock)||u;if(r&&ne.isBr(o)&&t&&e.isEmpty(c))return m.some(gu(o.parentNode,e.nodeIndex(o)));for(var l=new Qo(o,c);a=l[r?"prev":"next"]();){if("false"===e.getContentEditableParent(a)||Ev(a,u))return m.none();if(ne.isText(a)&&a.nodeValue.length>0)return!1===kv(a,u,"A")?m.some(gu(a,r?a.nodeValue.length:0)):m.none();if(e.isBlock(a)||s[a.nodeName.toLowerCase()])return m.none();i=a}return n&&i?m.some(gu(i,0)):m.none()},Av=function(e,t,n,r){var o,i,a,u,s,c,l=e.getRoot(),f=!1;if(o=r[(n?"start":"end")+"Container"],i=r[(n?"start":"end")+"Offset"],c=ne.isElement(o)&&i===o.childNodes.length,u=e.schema.getNonEmptyElements(),s=n,ba(o))return m.none();if(ne.isElement(o)&&i>o.childNodes.length-1&&(s=!1),ne.isDocument(o)&&(o=l,i=0),o===l){if(s&&(a=o.childNodes[i>0?i-1:0])){if(ba(a))return m.none();if(u[a.nodeName]||Sv(a))return m.none()}if(o.hasChildNodes()){if(i=Math.min(!s&&i>0?i-1:i,o.childNodes.length-1),o=o.childNodes[i],i=ne.isText(o)&&c?o.data.length:0,!t&&o===l.lastChild&&Sv(o))return m.none();if(function(e,t){for(;t&&t!==e;){if(ne.isContentEditableFalse(t))return!0;t=t.parentNode}return!1}(l,o)||ba(o))return m.none();if(o.hasChildNodes()&&!1===Sv(o)){a=o;var d=new Qo(o,l);do{if(ne.isContentEditableFalse(a)||ba(a)){f=!1;break}if(ne.isText(a)&&a.nodeValue.length>0){i=s?0:a.nodeValue.length,o=a,f=!0;break}if(u[a.nodeName.toLowerCase()]&&!Tv(a)){i=e.nodeIndex(a),o=a.parentNode,s||i++,f=!0;break}}while(a=s?d.next():d.prev())}}}return t&&(ne.isText(o)&&0===i&&_v(e,c,t,!0,o).each((function(e){o=e.container(),i=e.offset(),f=!0})),ne.isElement(o)&&((a=o.childNodes[i])||(a=o.childNodes[i-1]),!a||!ne.isBr(a)||function(e,t){return e.previousSibling&&e.previousSibling.nodeName===t}(a,"A")||Ov(e,a,!1)||Ov(e,a,!0)||_v(e,c,t,!0,a).each((function(e){o=e.container(),i=e.offset(),f=!0})))),s&&!t&&ne.isText(o)&&i===o.nodeValue.length&&_v(e,c,t,!1,o).each((function(e){o=e.container(),i=e.offset(),f=!0})),f?m.some(gu(o,i)):m.none()},Dv={normalize:function(e,t){var n=t.collapsed,r=t.cloneRange(),o=gu.fromRangeStart(t);return Av(e,n,!0,r).each((function(e){n&&gu.isAbove(o,e)||r.setStart(e.container(),e.offset())})),n||Av(e,n,!1,r).each((function(e){r.setEnd(e.container(),e.offset())})),n&&r.collapse(!0),$d.isEq(t,r)?m.none():m.some(r)}},Nv=function(e){return 0===e.dom().length?(ii(e),m.none()):m.some(e)},Mv=function(e,t,n){if((n=function(e,t){return(e=e||{format:"html"}).set=!0,e.selection=!0,e.content=t,e}(n,t)).no_events||!(n=e.fire("BeforeSetContent",n)).isDefaultPrevented()){var r=e.selection.getRng();!function(e,t){var n=m.from(t.firstChild).map(Ae.fromDom),r=m.from(t.lastChild).map(Ae.fromDom);e.deleteContents(),e.insertNode(t);var o=n.bind(mt).filter(Be).bind(Nv),i=r.bind(ht).filter(Be).bind(Nv);Xa(o,n.filter(Be),(function(e,t){!function(e,t){e.insertData(0,t)}(t.dom(),e.dom().data),ii(e)})),Xa(i,r.filter(Be),(function(t,n){var r=n.dom().length;n.dom().appendData(t.dom().data),e.setEnd(n.dom(),r),ii(t)})),e.collapse(!1)}(r,r.createContextualFragment(n.content)),e.selection.setRng(r),$g(e,r),n.no_events||e.fire("SetContent",n)}else e.fire("SetContent",n)},Rv=function(e,t,n,r,o){var i=n?t.startContainer:t.endContainer,a=n?t.startOffset:t.endOffset;return m.from(i).map(Ae.fromDom).map((function(e){return r&&t.collapsed?e:yt(e,o(e,a)).getOr(e)})).bind((function(e){return Ie(e)?m.some(e):pt(e)})).map((function(e){return e.dom()})).getOr(e)},zv=function(e,t,n){return Rv(e,t,!0,n,(function(e,t){return Math.min(e.dom().childNodes.length,t)}))},Iv=function(e,t,n){return Rv(e,t,!1,n,(function(e,t){return t>0?t-1:t}))},Bv=function(e,t){for(var n=e;e&&ne.isText(e)&&0===e.length;)e=t?e.nextSibling:e.previousSibling;return e||n},Pv=function(e,t,n){if(e&&e.hasOwnProperty(t)){var r=M(e[t],(function(e){return e!==n}));0===r.length?delete e[t]:e[t]=r}};var Lv,Fv=function(e){return!!e.select},Hv=function(e){return!(!e||!e.ownerDocument)&&lt(Ae.fromDom(e.ownerDocument),Ae.fromDom(e))},jv=function(e,t,n,r){var o,i,a,u,s=function(e,t){var n,r;return{selectorChangedWithUnbind:function(o,i){return n||(n={},r={},t.on("NodeChange",(function(t){var o=t.element,i=e.getParents(o,null,e.getRoot()),a={};cn.each(n,(function(t,n){cn.each(i,(function(o){if(e.is(o,n))return r[n]||(cn.each(t,(function(e){e(!0,{node:o,selector:n,parents:i})})),r[n]=t),a[n]=t,!1}))})),cn.each(r,(function(e,t){a[t]||(delete r[t],cn.each(e,(function(e){e(!1,{node:o,selector:t,parents:i})})))}))}))),n[o]||(n[o]=[]),n[o].push(i),{unbind:function(){Pv(n,o,i),Pv(r,o,i)}}}}}(e,r).selectorChangedWithUnbind,c=function(e,t){return Mv(r,e,t)},l=function(e){var t=d();t.collapse(!!e),p(t)},f=function(){return t.getSelection?t.getSelection():t.document.selection},d=function(){var n,o,i,s,c=function(e,t,n){try{return t.compareBoundaryPoints(e,n)}catch(e){return-1}};if(!t)return null;if(null==(s=t.document))return null;if(void 0!==r.bookmark&&!1===yf(r)){var l=Zl(r);if(l.isSome())return l.map((function(e){return Yg(r,[e])[0]})).getOr(s.createRange())}try{(n=f())&&!ne.isRestrictedNode(n.anchorNode)&&(o=n.rangeCount>0?n.getRangeAt(0):n.createRange?n.createRange():s.createRange())}catch(e){}return(o=Yg(r,[o])[0])||(o=s.createRange?s.createRange():s.body.createTextRange()),o.setStart&&9===o.startContainer.nodeType&&o.collapsed&&(i=e.getRoot(),o.setStart(i,0),o.setEnd(i,0)),a&&u&&(0===c(o.START_TO_START,o,a)&&0===c(o.END_TO_END,o,a)?o=u:(a=null,u=null)),o},p=function(e,t){var n,o;if(function(e){return!!e&&(!!Fv(e)||Hv(e.startContainer)&&Hv(e.endContainer))}(e)){var i=Fv(e)?e:null;if(i){u=null;try{i.select()}catch(e){}}else{if(n=f(),e=r.fire("SetSelectionRange",{range:e,forward:t}).range,n){u=e;try{n.removeAllRanges(),n.addRange(e)}catch(e){}!1===t&&n.extend&&(n.collapse(e.endContainer,e.endOffset),n.extend(e.startContainer,e.startOffset)),a=n.rangeCount>0?n.getRangeAt(0):null}e.collapsed||e.startContainer!==e.endContainer||!n.setBaseAndExtent||Zt.ie||e.endOffset-e.startOffset<2&&e.startContainer.hasChildNodes()&&(o=e.startContainer.childNodes[e.startOffset])&&"IMG"===o.tagName&&(n.setBaseAndExtent(e.startContainer,e.startOffset,e.endContainer,e.endOffset),n.anchorNode===e.startContainer&&n.focusNode===e.endContainer||n.setBaseAndExtent(o,0,o,1)),r.fire("AfterSetSelectionRange",{range:e,forward:t})}}},h=function(){var t,n,r=f();return!(r&&r.anchorNode&&r.focusNode)||((t=e.createRng()).setStart(r.anchorNode,r.anchorOffset),t.collapse(!0),(n=e.createRng()).setStart(r.focusNode,r.focusOffset),n.collapse(!0),t.compareBoundaryPoints(t.START_TO_START,n)<=0)},g={bookmarkManager:null,controlSelection:null,dom:e,win:t,serializer:n,editor:r,collapse:l,setCursorLocation:function(t,n){var o=e.createRng();t?(o.setStart(t,n),o.setEnd(t,n),p(o),l(!1)):(Xd(e,o,r.getBody(),!0),p(o))},getContent:function(e){return xv(r,e)},setContent:c,getBookmark:function(e,t){return o.getBookmark(e,t)},moveToBookmark:function(e){return o.moveToBookmark(e)},select:function(t,n){return function(e,t,n){return m.from(t).map((function(t){var r=e.nodeIndex(t),o=e.createRng();return o.setStart(t.parentNode,r),o.setEnd(t.parentNode,r+1),n&&(Xd(e,o,t,!0),Xd(e,o,t,!1)),o}))}(e,t,n).each(p),t},isCollapsed:function(){var e=d(),t=f();return!(!e||e.item)&&(e.compareEndPoints?0===e.compareEndPoints("StartToEnd",e):!t||e.collapsed)},isForward:h,setNode:function(t){return c(e.getOuterHTML(t)),t},getNode:function(){return e=r.getBody(),(t=d())?(o=t.startContainer,i=t.endContainer,a=t.startOffset,u=t.endOffset,n=t.commonAncestorContainer,!t.collapsed&&(o===i&&u-a<2&&o.hasChildNodes()&&(n=o.childNodes[a]),3===o.nodeType&&3===i.nodeType&&(o=o.length===a?Bv(o.nextSibling,!0):o.parentNode,i=0===u?Bv(i.previousSibling,!1):i.parentNode,o&&o===i))?o:n&&3===n.nodeType?n.parentNode:n):e;var e,t,n,o,i,a,u},getSel:f,setRng:p,getRng:d,getStart:function(e){return zv(r.getBody(),d(),e)},getEnd:function(e){return Iv(r.getBody(),d(),e)},getSelectedBlocks:function(t,n){return function(e,t,n,r){var o,i,a=[];if(i=e.getRoot(),n=e.getParent(n||zv(i,t,t.collapsed),e.isBlock),r=e.getParent(r||Iv(i,t,t.collapsed),e.isBlock),n&&n!==i&&a.push(n),n&&r&&n!==r){o=n;for(var u=new Qo(n,i);(o=u.next())&&o!==r;)e.isBlock(o)&&a.push(o)}return r&&n!==r&&r!==i&&a.push(r),a}(e,d(),t,n)},normalize:function(){var t=d(),n=f();if(!cv(n)&&Gd(r)){var o=Dv.normalize(e,t);return o.each((function(e){p(e,h())})),o.getOr(t)}return t},selectorChanged:function(e,t){return s(e,t),g},selectorChangedWithUnbind:s,getScrollContainer:function(){for(var t,n=e.getRoot();n&&"BODY"!==n.nodeName;){if(n.scrollHeight>n.clientHeight){t=n;break}n=n.parentNode}return t},scrollIntoView:function(e,t){return Ug(r,e,t)},placeCaretAt:function(e,t){return p(Wg(e,t,r.getDoc()))},getBoundingClientRect:function(){var e=d();return e.collapsed?bu.fromRangeStart(e).getClientRects()[0]:e.getBoundingClientRect()},destroy:function(){t=a=u=null,i.destroy()}};return o=yg(g),i=Cg(g,r),g.bookmarkManager=o,g.controlSelection=i,g},Vv=ne.isText,Uv=function(e){return Vv(e)&&e.data[0]===da},$v=function(e){return Vv(e)&&e.data[e.data.length-1]===da},qv=function(e){return e.ownerDocument.createTextNode(da)},Wv=function(e,t){return e?function(e){if(Vv(e.previousSibling))return $v(e.previousSibling)?e.previousSibling:(e.previousSibling.appendData(da),e.previousSibling);if(Vv(e))return Uv(e)?e:(e.insertData(0,da),e);var t=qv(e);return e.parentNode.insertBefore(t,e),t}(t):function(e){if(Vv(e.nextSibling))return Uv(e.nextSibling)?e.nextSibling:(e.nextSibling.insertData(0,da),e.nextSibling);if(Vv(e))return $v(e)?e:(e.appendData(da),e);var t=qv(e);return e.nextSibling?e.parentNode.insertBefore(t,e.nextSibling):e.parentNode.appendChild(t),t}(t)},Yv=u(Wv,!0),Xv=u(Wv,!1),Gv=function(e,t){return ne.isText(e.container())?Wv(t,e.container()):Wv(t,e.getNode())},Kv=function(e,t){var n=t.get();return n&&e.container()===n&&va(n)},Jv=function(e,t){return t.fold((function(t){Ju.remove(e.get());var n=Yv(t);return e.set(n),m.some(bu(n,n.length-1))}),(function(t){return Gs.firstPositionIn(t).map((function(t){if(Kv(t,e))return bu(e.get(),1);Ju.remove(e.get());var n=Gv(t,!0);return e.set(n),bu(n,1)}))}),(function(t){return Gs.lastPositionIn(t).map((function(t){if(Kv(t,e))return bu(e.get(),e.get().length-1);Ju.remove(e.get());var n=Gv(t,!1);return e.set(n),bu(n,n.length-1)}))}),(function(t){Ju.remove(e.get());var n=Xv(t);return e.set(n),m.some(bu(n,1))}))},Qv=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,Zv=function(e,t){if(!t)return t;var n=t.container(),r=t.offset();return e?va(n)?ne.isText(n.nextSibling)?bu(n.nextSibling,0):bu.after(n):wa(t)?bu(n,r+1):t:va(n)?ne.isText(n.previousSibling)?bu(n.previousSibling,n.previousSibling.data.length):bu.before(n):xa(t)?bu(n,r-1):t},eb={isInlineTarget:function(e,t){return ut(Ae.fromDom(t),Sl(e))},findRootInline:function(e,t,n){var r=function(e,t,n){return M(Ei.DOM.getParents(n.container(),"*",t),e)}(e,t,n);return m.from(r[r.length-1])},isRtl:function(e){return"rtl"===Ei.DOM.getStyle(e,"direction",!0)||(t=e.textContent,Qv.test(t));var t},isAtZwsp:function(e){return wa(e)||xa(e)},normalizePosition:Zv,normalizeForwards:u(Zv,!0),normalizeBackwards:u(Zv,!1),hasSameParentBlock:function(e,t,n){var r=ms(t,e),o=ms(n,e);return r&&r===o}},tb=function(e,t){for(var n=0;n<e.length;n++){var r=e[n].apply(null,t);if(r.isSome())return r}return m.none()},nb=Rl([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),rb=function(e,t){var n=ms(t,e);return n||e},ob=function(e,t,n){var r=eb.normalizeForwards(n),o=rb(t,r.container());return eb.findRootInline(e,o,r).fold((function(){return Gs.nextPosition(o,r).bind(u(eb.findRootInline,e,o)).map((function(e){return nb.before(e)}))}),m.none)},ib=function(e,t){return null===ju(e,t)},ab=function(e,t,n){return eb.findRootInline(e,t,n).filter(u(ib,t))},ub=function(e,t,n){var r=eb.normalizeBackwards(n);return ab(e,t,r).bind((function(e){return Gs.prevPosition(e,r).isNone()?m.some(nb.start(e)):m.none()}))},sb=function(e,t,n){var r=eb.normalizeForwards(n);return ab(e,t,r).bind((function(e){return Gs.nextPosition(e,r).isNone()?m.some(nb.end(e)):m.none()}))},cb=function(e,t,n){var r=eb.normalizeBackwards(n),o=rb(t,r.container());return eb.findRootInline(e,o,r).fold((function(){return Gs.prevPosition(o,r).bind(u(eb.findRootInline,e,o)).map((function(e){return nb.after(e)}))}),m.none)},lb=function(e){return!1===eb.isRtl(db(e))},fb=function(e,t,n){return tb([ob,ub,sb,cb],[e,t,n]).filter(lb)},db=function(e){return e.fold(a,a,a,a)},pb=function(e){return e.fold(i("before"),i("start"),i("end"),i("after"))},mb=function(e){return e.fold(nb.before,nb.before,nb.after,nb.after)},hb=function(e,t,n,r,o,i){return Xa(eb.findRootInline(t,n,r),eb.findRootInline(t,n,o),(function(t,r){return t!==r&&eb.hasSameParentBlock(n,t,r)?nb.after(e?t:r):i})).getOr(i)},gb=function(e,t){return e.fold(i(!0),(function(e){return r=t,!(pb(n=e)===pb(r)&&db(n)===db(r));var n,r}))},vb=function(e,t){return e?t.fold(o(m.some,nb.start),m.none,o(m.some,nb.after),m.none):t.fold(m.none,o(m.some,nb.before),m.none,o(m.some,nb.end))},bb=function(e,t,n,r){var o=eb.normalizePosition(e,r),i=fb(t,n,o);return fb(t,n,o).bind(u(vb,e)).orThunk((function(){return function(e,t,n,r,o){var i=eb.normalizePosition(e,o);return Gs.fromPosition(e,n,i).map(u(eb.normalizePosition,e)).fold((function(){return r.map(mb)}),(function(o){return fb(t,n,o).map(u(hb,e,t,n,i,o)).filter(u(gb,r))})).filter(lb)}(e,t,n,i,r)}))},yb=fb,wb=bb,xb=(u(bb,!1),u(bb,!0),mb),Cb=function(e){return e.fold(nb.start,nb.start,nb.end,nb.end)},kb=function(e){return x(e.selection.getSel().modify)},Sb=function(e,t,n){var r=e?1:-1;return t.setRng(bu(n.container(),n.offset()+r).toRange()),t.getSel().modify("move",e?"forward":"backward","word"),!0},Tb=function(e,t){var n=t.selection.getRng(),r=e?bu.fromRangeEnd(n):bu.fromRangeStart(n);return!!kb(t)&&(e&&wa(r)?Sb(!0,t.selection,r):!(e||!xa(r))&&Sb(!1,t.selection,r))},Eb=function(e,t){var n=e.dom.createRng();n.setStart(t.container(),t.offset()),n.setEnd(t.container(),t.offset()),e.selection.setRng(n)},Ob=function(e){return!1!==e.settings.inline_boundaries},_b=function(e,t){e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")},Ab=function(e,t,n){return Jv(t,n).map((function(t){return Eb(e,t),n}))},Db=function(e,t,n){return function(){return!!Ob(t)&&Tb(e,t)}},Nb={move:function(e,t,n){return function(){return!!Ob(e)&&function(e,t,n){var r=e.getBody(),o=bu.fromRangeStart(e.selection.getRng()),i=u(eb.isInlineTarget,e);return wb(n,i,r,o).bind((function(n){return Ab(e,t,n)}))}(e,t,n).isSome()}},moveNextWord:u(Db,!0),movePrevWord:u(Db,!1),setupSelectedState:function(e){var t=re(null),n=u(eb.isInlineTarget,e);return e.on("NodeChange",(function(r){Ob(e)&&(function(e,t,n){var r=M(t.select('*[data-mce-selected="inline-boundary"]'),e),o=M(n,e);D(F(r,o),u(_b,!1)),D(F(o,r),u(_b,!0))}(n,e.dom,r.parents),function(e,t){if(e.selection.isCollapsed()&&!0!==e.composing&&t.get()){var n=bu.fromRangeStart(e.selection.getRng());bu.isTextPosition(n)&&!1===eb.isAtZwsp(n)&&(Eb(e,Ju.removeAndReposition(t.get(),n)),t.set(null))}}(e,t),function(e,t,n,r){if(t.selection.isCollapsed()){var o=M(r,e);D(o,(function(r){var o=bu.fromRangeStart(t.selection.getRng());yb(e,t.getBody(),o).bind((function(e){return Ab(t,n,e)}))}))}}(n,e,t,r.parents))})),t},setCaretPosition:Eb};!function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"}(Lv||(Lv={}));var Mb,Rb,zb=function(e,t){return e===vu.Backwards?t.reverse():t},Ib=function(e,t,n){return e===vu.Forwards?t.next(n):t.prev(n)},Bb=function(e,t,n,r){return ne.isBr(r.getNode(t===vu.Forwards))?Lv.Br:!1===hs(n,r)?Lv.Block:Lv.Wrap},Pb=function(e,t,n,r){for(var o,i=Ls(n),a=r,u=[];a&&(o=Ib(t,i,a));){if(ne.isBr(o.getNode(!1)))return t===vu.Forwards?{positions:zb(t,u).concat([o]),breakType:Lv.Br,breakAt:m.some(o)}:{positions:zb(t,u),breakType:Lv.Br,breakAt:m.some(o)};if(o.isVisible()){if(e(a,o)){var s=Bb(0,t,a,o);return{positions:zb(t,u),breakType:s,breakAt:m.some(o)}}u.push(o),a=o}else a=o}return{positions:zb(t,u),breakType:Lv.Eol,breakAt:m.none()}},Lb=function(e,t,n,r){return t(n,r).breakAt.map((function(r){var o=t(n,r).positions;return e===vu.Backwards?o.concat(r):[r].concat(o)})).getOr([])},Fb=function(e,t){return z(e,(function(e,n){return e.fold((function(){return m.some(n)}),(function(r){return Xa(H(r.getClientRects()),H(n.getClientRects()),(function(e,o){var i=Math.abs(t-e.left);return Math.abs(t-o.left)<=i?n:r})).or(e)}))}),m.none())},Hb=function(e,t){return H(t.getClientRects()).bind((function(t){return Fb(e,t.left)}))},jb=u(Pb,gu.isAbove,-1),Vb=u(Pb,gu.isBelow,1),Ub=u(Lb,-1,jb),$b=u(Lb,1,Vb),qb=ne.isContentEditableFalse,Wb=$a,Yb=function(e,t,n,r){var o=e===vu.Forwards,i=o?dp:pp;if(!r.collapsed){var a=Wb(r);if(qb(a))return jp(e,t,a,e===vu.Backwards,!0)}var u=function(e){return ga(e.startContainer)}(r),s=Ss(e,t.getBody(),r);if(i(s))return Vp(t,s.getNode(!o));var c=eb.normalizePosition(o,n(s));if(!c)return u?r:null;if(i(c))return jp(e,t,c.getNode(!o),o,!0);var l=n(c);return l&&i(l)&&Os(c,l)?jp(e,t,l.getNode(!o),o,!0):u?$p(t,c.toRange(),!0):null},Xb=function(e,t,n,r){var o,i,a,u,s,c,l,f,d;if(d=Wb(r),o=Ss(e,t.getBody(),r),i=n(t.getBody(),bp(1),o),a=M(i,yp(1)),s=rn.last(o.getClientRects()),(dp(o)||lp(o))&&(d=o.getNode()),(pp(o)||fp(o))&&(d=o.getNode(!0)),!s)return null;if(c=s.left,(u=Tp(a,c))&&qb(u.node))return l=Math.abs(c-u.left),f=Math.abs(c-u.right),jp(e,t,u.node,l<f,!0);if(d){var p=function(e,t,n,r){var o,i,a,u,s,c,l=Ls(t),f=[],d=0,p=function(e){return rn.last(e.getClientRects())};1===e?(o=l.next,i=Va,a=ja,u=bu.after(r)):(o=l.prev,i=ja,a=Va,u=bu.before(r)),c=p(u);do{if(u.isVisible()&&!a(s=p(u),c)){if(f.length>0&&i(s,rn.last(f))&&d++,(s=La(s)).position=u,s.line=d,n(s))return f;f.push(s)}}while(u=o(u));return f}(e,t.getBody(),bp(1),d);if(u=Tp(M(p,yp(1)),c))return $p(t,u.position.toRange(),!0);if(u=rn.last(M(p,yp(0))))return $p(t,u.position.toRange(),!0)}},Gb=function(e,t,n){var r,o,i=Ls(e.getBody()),a=u(Es,i.next),s=u(Es,i.prev);if(n.collapsed&&e.settings.forced_root_block){if(!(r=e.dom.getParent(n.startContainer,"PRE")))return;(1===t?a(bu.fromRangeStart(n)):s(bu.fromRangeStart(n)))||(o=function(e){var t=e.dom.create(Qc(e));return(!Zt.ie||Zt.ie>=11)&&(t.innerHTML='<br data-mce-bogus="1">'),t}(e),1===t?e.$(r).after(o):e.$(r).before(o),e.selection.select(o,!0),e.selection.collapse())}},Kb=function(e,t){return function(){var n=function(e,t){var n,r=Ls(e.getBody()),o=u(Es,r.next),i=u(Es,r.prev),a=t?vu.Forwards:vu.Backwards,s=t?o:i,c=e.selection.getRng();return(n=Yb(a,e,s,c))?n:(n=Gb(e,a,c))||null}(e,t);return!!n&&(e.selection.setRng(n),!0)}},Jb=function(e,t){return function(){var n=function(e,t){var n,r=t?1:-1,o=t?vp:gp,i=e.selection.getRng();return(n=Xb(r,e,o,i))?n:(n=Gb(e,r,i))||null}(e,t);return!!n&&(e.selection.setRng(n),!0)}},Qb=function(e,t){return function(){var n=t?bu.fromRangeEnd(e.selection.getRng()):bu.fromRangeStart(e.selection.getRng()),r=t?Vb(e.getBody(),n):jb(e.getBody(),n);return(t?j(r.positions):H(r.positions)).filter(function(e){return function(t){return e?pp(t):dp(t)}}(t)).fold(i(!1),(function(t){return e.selection.setRng(t.toRange()),!0}))}},Zb=function(e,t,n,r,o){var i=Wi(Ae.fromDom(n),"td,th,caption").map((function(e){return e.dom()}));return function(e,t,n){return z(e,(function(e,r){return e.fold((function(){return m.some(r)}),(function(e){var o=Math.sqrt(Math.abs(e.x-t)+Math.abs(e.y-n)),i=Math.sqrt(Math.abs(r.x-t)+Math.abs(r.y-n));return m.some(i<o?r:e)}))}),m.none())}(M(function(e,t){return P(t,(function(t){var n=function(e,t){return{left:e.left-t,top:e.top-t,right:e.right+2*t,bottom:e.bottom+2*t,width:e.width+t,height:e.height+t}}(La(t.getBoundingClientRect()),-1);return[{x:n.left,y:e(n),cell:t},{x:n.right,y:e(n),cell:t}]}))}(e,i),(function(e){return t(e,o)})),r,o).map((function(e){return e.cell}))},ey=u(Zb,(function(e){return e.bottom}),(function(e,t){return e.y<t})),ty=u(Zb,(function(e){return e.top}),(function(e,t){return e.y>t})),ny=function(e,t){return H(t.getClientRects()).bind((function(t){return ey(e,t.left,t.top)})).bind((function(e){return Hb((n=e,Gs.lastPositionIn(n).map((function(e){return jb(n,e).positions.concat(e)})).getOr([])),t);var n}))},ry=function(e,t){return j(t.getClientRects()).bind((function(t){return ty(e,t.left,t.top)})).bind((function(e){return Hb((n=e,Gs.firstPositionIn(n).map((function(e){return[e].concat(Vb(n,e).positions)})).getOr([])),t);var n}))},oy=function(e,t){e.selection.setRng(t),$g(e,t)},iy=function(e,t,n){var r=e(t,n);return function(e){return e.breakType===Lv.Wrap&&0===e.positions.length}(r)||!ne.isBr(n.getNode())&&function(e){return e.breakType===Lv.Br&&1===e.positions.length}(r)?!function(e,t,n){return n.breakAt.map((function(n){return e(t,n).breakAt.isSome()})).getOr(!1)}(e,t,r):r.breakAt.isNone()},ay=u(iy,jb),uy=u(iy,Vb),sy=function(e,t,n,r){var o=e.selection.getRng(),i=t?1:-1;if(ns()&&function(e,t,n){var r=bu.fromRangeStart(t);return Gs.positionIn(!e,n).map((function(e){return e.isEqual(r)})).getOr(!1)}(t,o,n)){var a=jp(i,e,n,!t,!0);return oy(e,a),!0}return!1},cy=function(e,t){var n=t.getNode(e);return ne.isElement(n)&&"TABLE"===n.nodeName?m.some(n):m.none()},ly=function(e,t,n){var r=cy(!!t,n),o=!1===t;r.fold((function(){return oy(e,n.toRange())}),(function(r){return Gs.positionIn(o,e.getBody()).filter((function(e){return e.isEqual(n)})).fold((function(){return oy(e,n.toRange())}),(function(o){return function(e,t,n,r){var o=Qc(t);o?t.undoManager.transact((function(){var r=Ae.fromTag(o);Ge(r,Zc(t)),ni(r,Ae.fromTag("br")),e?ei(Ae.fromDom(n),r):Zo(Ae.fromDom(n),r);var i=t.dom.createRng();i.setStart(r.dom(),0),i.setEnd(r.dom(),0),oy(t,i)})):oy(t,r.toRange())}(t,e,r,n)}))}))},fy=function(e,t,n,r){var o=e.selection.getRng(),i=bu.fromRangeStart(o),a=e.getBody();if(!t&&ay(r,i)){var u=function(e,t,n){return ny(t,n).orThunk((function(){return H(n.getClientRects()).bind((function(n){return Fb(Ub(e,bu.before(t)),n.left)}))})).getOr(bu.before(t))}(a,n,i);return ly(e,t,u),!0}if(t&&uy(r,i)){u=function(e,t,n){return ry(t,n).orThunk((function(){return H(n.getClientRects()).bind((function(n){return Fb($b(e,bu.after(t)),n.left)}))})).getOr(bu.after(t))}(a,n,i);return ly(e,t,u),!0}return!1},dy=function(e,t){return function(){return m.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind((function(n){return m.from(e.dom.getParent(n,"table")).map((function(n){return sy(e,t,n)}))})).getOr(!1)}},py=function(e,t){return function(){return m.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind((function(n){return m.from(e.dom.getParent(n,"table")).map((function(r){return fy(e,t,r,n)}))})).getOr(!1)}},my=function(e){return O(["figcaption"],Re(e))},hy=function(e){var t=n.document.createRange();return t.setStartBefore(e.dom()),t.setEndBefore(e.dom()),t},gy=function(e,t,n){n?ni(e,t):ti(e,t)},vy=function(e,t,n,r){return""===t?function(e,t){var n=Ae.fromTag("br");return gy(e,n,t),hy(n)}(e,r):function(e,t,n,r){var o=Ae.fromTag(n),i=Ae.fromTag("br");return Ge(o,r),ni(o,i),gy(e,o,t),hy(i)}(e,r,t,n)},by=function(e,t,n){return t?function(e,t){return Vb(e,t).breakAt.isNone()}(e.dom(),n):function(e,t){return jb(e,t).breakAt.isNone()}(e.dom(),n)},yy=function(e,t){var n=Ae.fromDom(e.getBody()),r=bu.fromRangeStart(e.selection.getRng()),o=Qc(e),i=Zc(e);return function(e,t){var n=u(ct,t);return Gi(Ae.fromDom(e.container()),hn,n).filter(my)}(r,n).exists((function(){if(by(n,t,r)){var a=vy(n,o,i,t);return e.selection.setRng(a),!0}return!1}))},wy=function(e,t){return function(){return!!e.selection.isCollapsed()&&yy(e,t)}},xy=function(e,t){return P(function(e){return A(e,(function(e){return Lf({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:r},e)}))}(e),(function(e){return function(e,t){return t.keyCode===e.keyCode&&t.shiftKey===e.shiftKey&&t.altKey===e.altKey&&t.ctrlKey===e.ctrlKey&&t.metaKey===e.metaKey}(e,t)?[e]:[]}))},Cy=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,r)}},ky=function(e,t){return I(xy(e,t),(function(e){return e.action()}))},Sy=function(e,t){e.on("keydown",(function(n){!1===n.isDefaultPrevented()&&function(e,t,n){var r=Oe().os;ky([{keyCode:Jd.RIGHT,action:Kb(e,!0)},{keyCode:Jd.LEFT,action:Kb(e,!1)},{keyCode:Jd.UP,action:Jb(e,!1)},{keyCode:Jd.DOWN,action:Jb(e,!0)},{keyCode:Jd.RIGHT,action:dy(e,!0)},{keyCode:Jd.LEFT,action:dy(e,!1)},{keyCode:Jd.UP,action:py(e,!1)},{keyCode:Jd.DOWN,action:py(e,!0)},{keyCode:Jd.RIGHT,action:Nb.move(e,t,!0)},{keyCode:Jd.LEFT,action:Nb.move(e,t,!1)},{keyCode:Jd.RIGHT,ctrlKey:!r.isOSX(),altKey:r.isOSX(),action:Nb.moveNextWord(e,t)},{keyCode:Jd.LEFT,ctrlKey:!r.isOSX(),altKey:r.isOSX(),action:Nb.movePrevWord(e,t)},{keyCode:Jd.UP,action:wy(e,!1)},{keyCode:Jd.DOWN,action:wy(e,!0)}],n).each((function(e){n.preventDefault()}))}(e,t,n)}))},Ty=function(e,t){return lt(e,t)?Gi(t,(function(e){return bn(e)||wn(e)}),function(e){return function(t){return ct(e,Ae.fromDom(t.dom().parentNode))}}(e)):m.none()},Ey=function(e){e.dom.isEmpty(e.getBody())&&(e.setContent(""),function(e){var t=e.getBody(),n=t.firstChild&&e.dom.isBlock(t.firstChild)?t.firstChild:t;e.selection.setCursorLocation(n,0)}(e))},Oy=function(e,t,n){return Xa(Gs.firstPositionIn(n),Gs.lastPositionIn(n),(function(r,o){var i=eb.normalizePosition(!0,r),a=eb.normalizePosition(!1,o),u=eb.normalizePosition(!1,t);return e?Gs.nextPosition(n,u).map((function(e){return e.isEqual(a)&&t.isEqual(i)})).getOr(!1):Gs.prevPosition(n,u).map((function(e){return e.isEqual(i)&&t.isEqual(a)})).getOr(!1)})).getOr(!0)},_y=function(e,t){return{from:i(e),to:i(t)}},Ay=function(e,t){var n=Ae.fromDom(e),r=Ae.fromDom(t.container());return Ty(n,r).map((function(e){return function(e,t){return{block:i(e),position:i(t)}}(e,t)}))},Dy=function(e,t,n){var r=Ay(e,bu.fromRangeStart(n)),o=r.bind((function(n){return Gs.fromPosition(t,e,n.position()).bind((function(n){return Ay(e,n).map((function(n){return function(e,t,n){return ne.isBr(n.position().getNode())&&!1===Im(n.block())?Gs.positionIn(!1,n.block().dom()).bind((function(r){return r.isEqual(n.position())?Gs.fromPosition(t,e,r).bind((function(t){return Ay(e,t)})):m.some(n)})).getOr(n):n}(e,t,n)}))}))}));return Xa(r,o,_y).filter((function(e){return function(e){return!1===ct(e.from().block(),e.to().block())}(e)&&function(e){return pt(e.from().block()).bind((function(t){return pt(e.to().block()).filter((function(e){return ct(t,e)}))})).isSome()}(e)&&function(e){return!1===ne.isContentEditableFalse(e.from().block().dom())&&!1===ne.isContentEditableFalse(e.to().block().dom())}(e)}))},Ny=function(e,t,n){return n.collapsed?Dy(e,t,n):m.none()},My=function(e){var t=bt(e);return B(t,hn).fold((function(){return t}),(function(e){return t.slice(0,e)}))},Ry=function(e){var t=My(e);return D(t,ii),t},zy=function(e,t){var n=Ld(t,e);return I(n.reverse(),Im).each(ii)},Iy=function(e,t,n,r){if(Im(n))return vm(n),Gs.firstPositionIn(n.dom());0===M(gt(r),(function(e){return!Im(e)})).length&&Im(t)&&Zo(r,Ae.fromTag("br"));var o=Gs.prevPosition(n.dom(),bu.before(r.dom()));return D(Ry(t),(function(e){Zo(r,e)})),zy(e,t),o},By=function(e,t,n){if(Im(n))return ii(n),Im(t)&&vm(t),Gs.firstPositionIn(t.dom());var r=Gs.lastPositionIn(n.dom());return D(Ry(t),(function(e){ni(n,e)})),zy(e,t),r},Py=function(e,t){return lt(t,e)?function(e,t){var n=Ld(t,e);return m.from(n[n.length-1])}(t,e):m.none()},Ly=function(e,t){Gs.positionIn(e,t.dom()).map((function(e){return e.getNode()})).map(Ae.fromDom).filter(vn).each(ii)},Fy=function(e,t,n){return Ly(!0,t),Ly(!1,n),Py(t,n).fold(u(By,e,t,n),u(Iy,e,t,n))},Hy=function(e,t,n,r){return t?Fy(e,r,n):Fy(e,n,r)},jy=function(e,t){var n=Ae.fromDom(e.getBody()),r=Ny(n.dom(),t,e.selection.getRng()).bind((function(e){return Hy(n,t,e.from().block(),e.to().block())}));return r.each((function(t){e.selection.setRng(t.toRange())})),r.isSome()},Vy=function(e,t){var n=Ae.fromDom(t),r=u(ct,e);return Xi(n,kn,r).isSome()},Uy=function(e,t){var n=Gs.prevPosition(e.dom(),bu.fromRangeStart(t)).isNone(),r=Gs.nextPosition(e.dom(),bu.fromRangeEnd(t)).isNone();return!function(e,t){return Vy(e,t.startContainer)||Vy(e,t.endContainer)}(e,t)&&n&&r},$y=function(e){var t=Ae.fromDom(e.getBody()),n=e.selection.getRng();return Uy(t,n)?function(e){return e.setContent(""),e.selection.setCursorLocation(),!0}(e):function(e,t){var n=t.getRng();return Xa(Ty(e,Ae.fromDom(n.startContainer)),Ty(e,Ae.fromDom(n.endContainer)),(function(r,o){return!1===ct(r,o)&&(n.deleteContents(),Hy(e,!0,r,o).each((function(e){t.setRng(e.toRange())})),!0)})).getOr(!1)}(t,e.selection)},qy=function(e,t){return!e.selection.isCollapsed()&&$y(e)},Wy=function(e){return Ts(e).exists(vn)},Yy=function(e,t,n){var r=M(Ld(Ae.fromDom(n.container()),t),hn),o=H(r).getOr(t);return Gs.fromPosition(e,o.dom(),n).filter(Wy)},Xy=function(e,t){return Ts(t).exists(vn)||Yy(!0,e,t).isSome()},Gy=function(e,t){return function(e){return m.from(e.getNode(!0)).map(Ae.fromDom)}(t).exists(vn)||Yy(!1,e,t).isSome()},Ky=u(Yy,!1),Jy=u(Yy,!0),Qy=Rl([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),Zy=function(e,t,n,r){var o=r.getNode(!1===t);return Ty(Ae.fromDom(e),Ae.fromDom(n.getNode())).map((function(e){return Im(e)?Qy.remove(e.dom()):Qy.moveToElement(o)})).orThunk((function(){return m.some(Qy.moveToElement(o))}))},ew=function(e,t,n){return Gs.fromPosition(t,e,n).bind((function(r){return o=r.getNode(),kn(Ae.fromDom(o))||wn(Ae.fromDom(o))?m.none():function(e,t,n,r){var o=function(t){return gn(Ae.fromDom(t))&&!hs(n,r,e)};return ks(!t,n).fold((function(){return ks(t,r).fold(i(!1),o)}),o)}(e,t,n,r)?m.none():t&&ne.isContentEditableFalse(r.getNode())?Zy(e,t,n,r):!1===t&&ne.isContentEditableFalse(r.getNode(!0))?Zy(e,t,n,r):t&&pp(n)?m.some(Qy.moveToPosition(r)):!1===t&&dp(n)?m.some(Qy.moveToPosition(r)):m.none();var o}))},tw=function(e,t,n){return function(e,t){var n=t.getNode(!1===e),r=e?"after":"before";return ne.isElement(n)&&n.getAttribute("data-mce-caret")===r}(t,n)?function(e,t){return e&&ne.isContentEditableFalse(t.nextSibling)?m.some(Qy.moveToElement(t.nextSibling)):!1===e&&ne.isContentEditableFalse(t.previousSibling)?m.some(Qy.moveToElement(t.previousSibling)):m.none()}(t,n.getNode(!1===t)).fold((function(){return ew(e,t,n)}),m.some):ew(e,t,n).bind((function(t){return function(e,t,n){return n.fold((function(e){return m.some(Qy.remove(e))}),(function(e){return m.some(Qy.moveToElement(e))}),(function(n){return hs(t,n,e)?m.none():m.some(Qy.moveToPosition(n))}))}(e,n,t)}))},nw=function(e,t){return m.from(iw(e.getBody(),t))},rw=function(e,t){var n=e.selection.getNode();return nw(e,n).filter(ne.isContentEditableFalse).fold((function(){return function(e,t,n){var r=Cs(t?1:-1,e,n),o=bu.fromRangeStart(r),i=Ae.fromDom(e);return!1===t&&pp(o)?m.some(Qy.remove(o.getNode(!0))):t&&dp(o)?m.some(Qy.remove(o.getNode())):!1===t&&dp(o)&&Gy(i,o)?Ky(i,o).map((function(e){return Qy.remove(e.getNode())})):t&&pp(o)&&Xy(i,o)?Jy(i,o).map((function(e){return Qy.remove(e.getNode())})):tw(e,t,o)}(e.getBody(),t,e.selection.getRng()).map((function(n){return n.fold(function(e,t){return function(n){return e._selectionOverrides.hideFakeCaret(),Wm(e,t,Ae.fromDom(n)),!0}}(e,t),function(e,t){return function(n){var r=t?bu.before(n):bu.after(n);return e.selection.setRng(r.toRange()),!0}}(e,t),function(e){return function(t){return e.selection.setRng(t.toRange()),!0}}(e))})).getOr(!1)}),(function(){return!0}))},ow=function(e,t){var n=e.selection.getNode();return!!ne.isContentEditableFalse(n)&&nw(e,n.parentNode).filter(ne.isContentEditableFalse).fold((function(){var n;return n=Ae.fromDom(e.getBody()),D(Wi(n,".mce-offscreen-selection"),ii),Wm(e,t,Ae.fromDom(e.selection.getNode())),Ey(e),!0}),(function(){return!0}))},iw=function(e,t){for(;t&&t!==e;){if(ne.isContentEditableTrue(t)||ne.isContentEditableFalse(t))return t;t=t.parentNode}return null},aw=function(e,t){return e.selection.isCollapsed()?rw(e,t):ow(e,t)},uw=function(e){var t,n=iw(e.getBody(),e.selection.getNode());return ne.isContentEditableTrue(n)&&e.dom.isBlock(n)&&e.dom.isEmpty(n)&&(t=e.dom.create("br",{"data-mce-bogus":"1"}),e.dom.setHTML(n,""),n.appendChild(t),e.selection.setRng(bu.before(t).toRange())),!0},sw=function(e,t,n,r,o,i){var a=jp(r,e,i.getNode(!o),o,!0);if(t.collapsed){var u=t.cloneRange();o?u.setEnd(a.startContainer,a.startOffset):u.setStart(a.endContainer,a.endOffset),u.deleteContents()}else t.deleteContents();return e.selection.setRng(a),function(e,t){ne.isText(t)&&0===t.data.length&&e.remove(t)}(e.dom,n),!0},cw=function(e,t){return function(e,t){var n=e.selection.getRng();if(!ne.isText(n.commonAncestorContainer))return!1;var r=t?vu.Forwards:vu.Backwards,o=Ls(e.getBody()),i=u(Es,o.next),a=u(Es,o.prev),s=t?i:a,c=t?dp:pp,l=Ss(r,e.getBody(),n),f=eb.normalizePosition(t,s(l));if(!f||!Os(l,f))return!1;if(c(f))return sw(e,n,l.getNode(),r,t,f);var d=s(f);return!!(d&&c(d)&&Os(f,d))&&sw(e,n,l.getNode(),r,t,d)}(e,t)},lw=function(e,t){return function(n){return Jv(t,n).map((function(t){return Nb.setCaretPosition(e,t),!0})).getOr(!1)}},fw=function(e,t,r,o){var i=e.getBody(),a=u(eb.isInlineTarget,e);e.undoManager.ignore((function(){e.selection.setRng(function(e,t){var r=n.document.createRange();return r.setStart(e.container(),e.offset()),r.setEnd(t.container(),t.offset()),r}(r,o)),e.execCommand("Delete"),yb(a,i,bu.fromRangeStart(e.selection.getRng())).map(Cb).map(lw(e,t))})),e.nodeChanged()},dw=function(e,t,n,r){var o=function(e,t){var n=ms(t,e);return n||e}(e.getBody(),r.container()),a=u(eb.isInlineTarget,e),s=yb(a,o,r);return s.bind((function(e){return n?e.fold(i(m.some(Cb(e))),m.none,i(m.some(xb(e))),m.none):e.fold(m.none,i(m.some(xb(e))),m.none,i(m.some(Cb(e))))})).map(lw(e,t)).getOrThunk((function(){var i=Gs.navigate(n,o,r),u=i.bind((function(e){return yb(a,o,e)}));return s.isSome()&&u.isSome()?eb.findRootInline(a,o,r).map((function(t){return!!function(e){return Xa(Gs.firstPositionIn(e),Gs.lastPositionIn(e),(function(t,n){var r=eb.normalizePosition(!0,t),o=eb.normalizePosition(!1,n);return Gs.nextPosition(e,r).map((function(e){return e.isEqual(o)})).getOr(!0)})).getOr(!0)}(t)&&(Wm(e,n,Ae.fromDom(t)),!0)})).getOr(!1):u.bind((function(o){return i.map((function(o){return n?fw(e,t,r,o):fw(e,t,o,r),!0}))})).getOr(!1)}))},pw=function(e,t,n){if(e.selection.isCollapsed()&&function(e){return!1!==e.settings.inline_boundaries}(e)){var r=bu.fromRangeStart(e.selection.getRng());return dw(e,t,n,r)}return!1},mw=function(e){return 1===bt(e).length},hw=function(e,t,n,r){var o=u(rh,t),i=A(M(r,o),(function(e){return e.dom()}));if(0===i.length)Wm(t,e,n);else{var a=function(e,t){var n=Km(!1),r=th(t,n.dom());return Zo(Ae.fromDom(e),n),ii(Ae.fromDom(e)),bu(r,0)}(n.dom(),i);t.selection.setRng(a.toRange())}},gw=function(e,t){var n=Ae.fromDom(e.getBody()),r=Ae.fromDom(e.selection.getStart()),o=M(function(e,t){var n=Ld(t,e);return B(n,hn).fold(i(n),(function(e){return n.slice(0,e)}))}(n,r),mw);return j(o).map((function(n){var r,i=bu.fromRangeStart(e.selection.getRng());return!(!Oy(t,i,n.dom())||(r=n,Hu(r.dom())&&Xm(r.dom())))&&(hw(t,e,n,o),!0)})).getOr(!1)},vw=function(e,t){return!!e.selection.isCollapsed()&&gw(e,t)},bw=function(e,t){return{start:i(e),end:i(t)}},yw=Rl([{removeTable:["element"]},{emptyCells:["cells"]}]),ww=function(e,t){return Qi(Ae.fromDom(e),"td,th",t)},xw=function(e,t){return Ki(e,"table",t)},Cw=function(e){return!1===ct(e.start(),e.end())},kw=function(e,t){return xw(e.start(),t).bind((function(n){return xw(e.end(),t).bind((function(e){return t=ct(n,e),r=n,t?m.some(r):m.none();var t,r}))}))},Sw=function(e){return Wi(e,"td,th")},Tw=function(e,t){var n=ww(t.startContainer,e),r=ww(t.endContainer,e);return t.collapsed?m.none():Xa(n,r,bw).fold((function(){return n.fold((function(){return r.bind((function(t){return xw(t,e).bind((function(e){return H(Sw(e)).map((function(e){return bw(e,t)}))}))}))}),(function(t){return xw(t,e).bind((function(e){return j(Sw(e)).map((function(e){return bw(t,e)}))}))}))}),(function(t){return Ew(e,t)?m.none():function(e,t){return xw(e.start(),t).bind((function(t){return j(Sw(t)).map((function(t){return bw(e.start(),t)}))}))}(t,e)}))},Ew=function(e,t){return kw(t,e).isSome()},Ow=function(e,t){return kw(e,t).map((function(t){return function(e,t,n){return{rng:i(e),table:i(t),cells:i(n)}}(e,t,Sw(t))}))},_w=function(e,t){var n=function(e){return function(t){return ct(e,t)}}(e);return function(e,t){var n=ww(e.startContainer,t),r=ww(e.endContainer,t);return Xa(n,r,bw).filter(Cw).filter((function(e){return Ew(t,e)})).orThunk((function(){return Tw(t,e)}))}(t,n).bind((function(e){return Ow(e,n)}))},Aw=function(e,t){return B(e,(function(e){return ct(e,t)}))},Dw=function(e){return function(e){return Xa(Aw(e.cells(),e.rng().start()),Aw(e.cells(),e.rng().end()),(function(t,n){return e.cells().slice(t,n+1)}))}(e).map((function(t){var n=e.cells();return t.length===n.length?yw.removeTable(e.table()):yw.emptyCells(t)}))},Nw=function(e,t){return D(t,vm),e.selection.setCursorLocation(t[0].dom(),0),!0},Mw=function(e,t){return Wm(e,!1,t),!0},Rw=function(e,t,n){return function(e,t){return _w(e,t).bind(Dw)}(t,n).map((function(t){return t.fold(u(Mw,e),u(Nw,e))}))},zw=function(e,t,n,r){return Bw(t,r).fold((function(){return Rw(e,t,n)}),(function(t){return function(e,t){return Pw(e,t)}(e,t)})).getOr(!1)},Iw=function(e,t){return I(Ld(t,e),kn)},Bw=function(e,t){return I(Ld(t,e),(function(e){return"caption"===Re(e)}))},Pw=function(e,t){return vm(t),e.selection.setCursorLocation(t.dom(),0),m.some(!0)},Lw=function(e,t,n,r,o){return Gs.navigate(n,e.getBody(),o).bind((function(i){return function(e,t,n,r){return Gs.firstPositionIn(e.dom()).bind((function(o){return Gs.lastPositionIn(e.dom()).map((function(e){return t?n.isEqual(o)&&r.isEqual(e):n.isEqual(e)&&r.isEqual(o)}))})).getOr(!0)}(r,n,o,i)?function(e,t){return Pw(e,t)}(e,r):function(e,t,n){return Bw(e,Ae.fromDom(n.getNode())).map((function(e){return!1===ct(e,t)}))}(t,r,i)})).or(m.some(!0))},Fw=function(e,t,n,r){var o=bu.fromRangeStart(e.selection.getRng());return Iw(n,r).bind((function(r){return Im(r)?Pw(e,r):function(e,t,n,r,o){return Gs.navigate(n,e.getBody(),o).bind((function(e){return Iw(t,Ae.fromDom(e.getNode())).map((function(e){return!1===ct(e,r)}))}))}(e,n,t,r,o)})).getOr(!1)},Hw=function(e,t){return e?lp(t):fp(t)},jw=function(e,t,n){var r=Ae.fromDom(e.getBody());return Bw(r,n).fold((function(){return Fw(e,t,r,n)||function(e,t){var n=bu.fromRangeStart(e.selection.getRng());return Hw(t,n)||Gs.fromPosition(t,e.getBody(),n).map((function(e){return Hw(t,e)})).getOr(!1)}(e,t)}),(function(n){return function(e,t,n,r){var o=bu.fromRangeStart(e.selection.getRng());return Im(r)?Pw(e,r):Lw(e,n,t,r,o)}(e,t,r,n).getOr(!1)}))},Vw=function(e,t){var n=Ae.fromDom(e.selection.getStart(!0)),r=mv(e);return e.selection.isCollapsed()&&0===r.length?jw(e,t,n):function(e,t){var n=Ae.fromDom(e.getBody()),r=e.selection.getRng(),o=mv(e);return 0!==o.length?Nw(e,o):zw(e,n,r,t)}(e,n)},Uw=function(e,t){return!!e.selection.isCollapsed()&&function(e,t){var n=bu.fromRangeStart(e.selection.getRng());return Gs.fromPosition(t,e.getBody(),n).filter((function(e){return t?sp(e):cp(e)})).bind((function(e){return m.from(gs(t?0:-1,e))})).map((function(t){return e.selection.select(t),!0})).getOr(!1)}(e,t)},$w=function(e){var t=parseInt(e,10);return isNaN(t)?0:t},qw=function(e,t){return(e||"table"===Re(t)?"margin":"padding")+("rtl"===Qe(t,"direction")?"-right":"-left")},Ww=function(e){var t=Xw(e);return!0!==e.readonly&&(t.length>1||function(e,t){return L(t,(function(t){var n=qw(wl(e),t),r=et(t,n).map($w).getOr(0);return"false"!==e.dom.getContentEditable(t.dom())&&r>0}))}(e,t))},Yw=function(e){return yn(e)||wn(e)},Xw=function(e){return M(A(e.selection.getSelectedBlocks(),Ae.fromDom),(function(e){return!Yw(e)&&!function(e){return pt(e).map(Yw).getOr(!1)}(e)&&Gi(e,(function(e){return ne.isContentEditableTrue(e.dom())||ne.isContentEditableFalse(e.dom())})).exists((function(e){return ne.isContentEditableTrue(e.dom())}))}))},Gw=function(e,t){var n=e.dom,r=e.selection,o=e.formatter,i=xl(e),a=/[a-z%]+$/i.exec(i)[0],u=parseInt(i,10),s=wl(e),c=Qc(e);e.queryCommandState("InsertUnorderedList")||e.queryCommandState("InsertOrderedList")||""!==c||n.getParent(r.getNode(),n.isBlock)||o.apply("div"),D(Xw(e),(function(e){!function(e,t,n,r,o,i){var a=qw(n,Ae.fromDom(i));if("outdent"===t){var u=Math.max(0,$w(i.style[a])-r);e.setStyle(i,a,u?u+o:"")}else{u=$w(i.style[a])+r+o;e.setStyle(i,a,u)}}(n,t,s,u,a,e.dom())}))},Kw=function(e,t,n){return Gs.navigateIgnore(e,t,n,op)},Jw=function(e,t){return I(Ld(Ae.fromDom(t.container()),e),hn)},Qw=function(e,t,n){return Kw(e,t.dom(),n).forall((function(e){return Jw(t,n).fold((function(){return!1===hs(e,n,t.dom())}),(function(r){return!1===hs(e,n,t.dom())&&lt(r,Ae.fromDom(e.container()))}))}))},Zw=function(e,t,n){return Jw(t,n).fold((function(){return Kw(e,t.dom(),n).forall((function(e){return!1===hs(e,n,t.dom())}))}),(function(t){return Kw(e,t.dom(),n).isNone()}))},ex=u(Zw,!1),tx=u(Zw,!0),nx=u(Qw,!1),rx=u(Qw,!0),ox=function(e,t,n){if(e.selection.isCollapsed()&&Ww(e)){var r=e.dom,o=e.selection.getRng(),i=bu.fromRangeStart(o),a=r.getParent(o.startContainer,r.isBlock);if(null!==a&&ex(Ae.fromDom(a),i))return Gw(e,"outdent"),!0}return!1},ix=function(e,t){e.on("keydown",(function(n){!1===n.isDefaultPrevented()&&function(e,t,n){ky([{keyCode:Jd.BACKSPACE,action:Cy(ox,e,!1)},{keyCode:Jd.BACKSPACE,action:Cy(aw,e,!1)},{keyCode:Jd.DELETE,action:Cy(aw,e,!0)},{keyCode:Jd.BACKSPACE,action:Cy(cw,e,!1)},{keyCode:Jd.DELETE,action:Cy(cw,e,!0)},{keyCode:Jd.BACKSPACE,action:Cy(pw,e,t,!1)},{keyCode:Jd.DELETE,action:Cy(pw,e,t,!0)},{keyCode:Jd.BACKSPACE,action:Cy(Vw,e,!1)},{keyCode:Jd.DELETE,action:Cy(Vw,e,!0)},{keyCode:Jd.BACKSPACE,action:Cy(Uw,e,!1)},{keyCode:Jd.DELETE,action:Cy(Uw,e,!0)},{keyCode:Jd.BACKSPACE,action:Cy(qy,e,!1)},{keyCode:Jd.DELETE,action:Cy(qy,e,!0)},{keyCode:Jd.BACKSPACE,action:Cy(jy,e,!1)},{keyCode:Jd.DELETE,action:Cy(jy,e,!0)},{keyCode:Jd.BACKSPACE,action:Cy(vw,e,!1)},{keyCode:Jd.DELETE,action:Cy(vw,e,!0)}],n).each((function(e){n.preventDefault()}))}(e,t,n)})),e.on("keyup",(function(t){!1===t.isDefaultPrevented()&&function(e,t){ky([{keyCode:Jd.BACKSPACE,action:Cy(uw,e)},{keyCode:Jd.DELETE,action:Cy(uw,e)}],t)}(e,t)}))},ax=function(e){return m.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock))},ux=function(e,t){var n,r,o=t,i=e.dom,a=e.schema.getMoveCaretBeforeOnEnterElements();if(t){if(/^(LI|DT|DD)$/.test(t.nodeName)){var u=function(e){for(;e;){if(1===e.nodeType||3===e.nodeType&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}}(t.firstChild);u&&/^(UL|OL|DL)$/.test(u.nodeName)&&t.insertBefore(i.doc.createTextNode(" "),t.firstChild)}if(r=i.createRng(),t.normalize(),t.hasChildNodes()){for(var s=new Qo(t,t);n=s.current();){if(ne.isText(n)){r.setStart(n,0),r.setEnd(n,0);break}if(a[n.nodeName.toLowerCase()]){r.setStartBefore(n),r.setEndBefore(n);break}o=n,n=s.next()}n||(r.setStart(o,0),r.setEnd(o,0))}else ne.isBr(t)?t.nextSibling&&i.isBlock(t.nextSibling)?(r.setStartBefore(t),r.setEndBefore(t)):(r.setStartAfter(t),r.setEndAfter(t)):(r.setStart(t,0),r.setEnd(t,0));e.selection.setRng(r),e.selection.scrollIntoView(t)}},sx=function(e,t){var n,r,o=e.getRoot();for(n=t;n!==o&&"false"!==e.getContentEditable(n);)"true"===e.getContentEditable(n)&&(r=n),n=n.parentNode;return n!==o?r:o},cx=ax,lx=function(e){return ax(e).fold(i(""),(function(e){return e.nodeName.toUpperCase()}))},fx=function(e){return ax(e).filter((function(e){return wn(Ae.fromDom(e))})).isSome()},dx=function(e,t){return e&&e.parentNode&&e.parentNode.nodeName===t},px=function(e){return e&&/^(OL|UL|LI)$/.test(e.nodeName)},mx=function(e){var t=e.parentNode;return/^(LI|DT|DD)$/.test(t.nodeName)?t:e},hx=function(e,t,n){for(var r=e[n?"firstChild":"lastChild"];r&&!ne.isElement(r);)r=r[n?"nextSibling":"previousSibling"];return r===t},gx=function(e,t,n,r,o){var i=e.dom,a=e.selection.getRng();if(n!==e.getBody()){var u;px(u=n)&&px(u.parentNode)&&(o="LI");var s=o?t(o):i.create("BR");if(hx(n,r,!0)&&hx(n,r,!1))dx(n,"LI")?i.insertAfter(s,mx(n)):i.replace(s,n);else if(hx(n,r,!0))dx(n,"LI")?(i.insertAfter(s,mx(n)),s.appendChild(i.doc.createTextNode(" ")),s.appendChild(n)):n.parentNode.insertBefore(s,n);else if(hx(n,r,!1))i.insertAfter(s,mx(n));else{n=mx(n);var c=a.cloneRange();c.setStartAfter(r),c.setEndAfter(n);var l=c.extractContents();"LI"===o&&function(e,t){return e.firstChild&&e.firstChild.nodeName===t}(l,"LI")?(s=l.firstChild,i.insertAfter(l,n)):(i.insertAfter(l,n),i.insertAfter(s,n))}i.remove(r),ux(e,s)}},vx=function(e,t){return t&&"A"===t.nodeName&&e.isEmpty(t)},bx=function(e){e.innerHTML='<br data-mce-bogus="1">'},yx=function(e,t){return e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t},wx=function(e,t){return t&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&"true"!==e.getContentEditable(t)},xx=function(e,t,n){return!1===ne.isText(t)?n:e?1===n&&t.data.charAt(n-1)===da?0:n:n===t.data.length-1&&t.data.charAt(n)===da?t.data.length:n},Cx=function(e,t){var n,r,o=e.getRoot();for(n=t;n!==o&&"false"!==e.getContentEditable(n);)"true"===e.getContentEditable(n)&&(r=n),n=n.parentNode;return n!==o?r:o},kx=function(e,t){var n=Qc(e);n&&n.toLowerCase()===t.tagName.toLowerCase()&&e.dom.setAttribs(t,Zc(e))},Sx=function(e,t){var n,r,o,i,a,u,s,c,l,f,d,p,m,h=e.dom,g=e.schema,v=g.getNonEmptyElements(),b=e.selection.getRng(),y=function(t){var n,i,u,s=o,c=g.getTextInlineElements();if(t||"TABLE"===f||"HR"===f?(n=h.create(t||p),kx(e,n)):n=a.cloneNode(!1),u=n,!1===nl(e))h.setAttrib(n,"style",null),h.setAttrib(n,"class",null);else do{if(c[s.nodeName]){if(Hu(s)||rc.isBookmarkNode(s))continue;i=s.cloneNode(!1),h.setAttrib(i,"id",""),n.hasChildNodes()?(i.appendChild(n.firstChild),n.appendChild(i)):(u=i,n.appendChild(i))}}while((s=s.parentNode)&&s!==r);return bx(u),n},w=function(e){var t,n,r=xx(e,o,i);if(ne.isText(o)&&(e?r>0:r<o.nodeValue.length))return!1;if(o.parentNode===a&&m&&!e)return!0;if(e&&ne.isElement(o)&&o===a.firstChild)return!0;if(yx(o,"TABLE")||yx(o,"HR"))return m&&!e||!m&&e;var u=new Qo(o,a);for(ne.isText(o)&&(e&&0===r?u.prev():e||r!==o.nodeValue.length||u.next());t=u.current();){if(ne.isElement(t)){if(!t.getAttribute("data-mce-bogus")&&(n=t.nodeName.toLowerCase(),v[n]&&"br"!==n))return!1}else if(ne.isText(t)&&!/^[ \t\r\n]*$/.test(t.nodeValue))return!1;e?u.prev():u.next()}return!0},x=function(){s=/^(H[1-6]|PRE|FIGURE)$/.test(f)&&"HGROUP"!==d?y(p):y(),rl(e)&&wx(h,l)&&h.isEmpty(a)?s=h.split(l,a):h.insertAfter(s,a),ux(e,s)};Dv.normalize(h,b).each((function(e){b.setStart(e.startContainer,e.startOffset),b.setEnd(e.endContainer,e.endOffset)})),o=b.startContainer,i=b.startOffset,p=Qc(e),u=!(!t||!t.shiftKey);var C=!(!t||!t.ctrlKey);ne.isElement(o)&&o.hasChildNodes()&&(m=i>o.childNodes.length-1,o=o.childNodes[Math.min(i,o.childNodes.length-1)]||o,i=m&&ne.isText(o)?o.nodeValue.length:0),(r=Cx(h,o))&&((p&&!u||!p&&u)&&(o=function(e,t,n,r,o){var i,a,u,s,c,l,f=t||"P",d=e.dom,p=Cx(d,r);if(!(a=d.getParent(r,d.isBlock))||!wx(d,a)){if(l=(a=a||p)===e.getBody()||function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)}(a)?a.nodeName.toLowerCase():a.parentNode.nodeName.toLowerCase(),!a.hasChildNodes())return i=d.create(f),kx(e,i),a.appendChild(i),n.setStart(i,0),n.setEnd(i,0),i;for(s=r;s.parentNode!==a;)s=s.parentNode;for(;s&&!d.isBlock(s);)u=s,s=s.previousSibling;if(u&&e.schema.isValidChild(l,f.toLowerCase())){for(i=d.create(f),kx(e,i),u.parentNode.insertBefore(i,u),s=u;s&&!d.isBlock(s);)c=s.nextSibling,i.appendChild(s),s=c;n.setStart(r,o),n.setEnd(r,o)}}return r}(e,p,b,o,i)),a=h.getParent(o,h.isBlock),l=a?h.getParent(a.parentNode,h.isBlock):null,f=a?a.nodeName.toUpperCase():"","LI"!==(d=l?l.nodeName.toUpperCase():"")||C||(a=l,l=l.parentNode,f=d),/^(LI|DT|DD)$/.test(f)&&h.isEmpty(a)?gx(e,y,l,a,p):p&&a===e.getBody()||(p=p||"P",ga(a)?(s=Ta(a),h.isEmpty(a)&&bx(a),ux(e,s)):w()?x():w(!0)?(s=a.parentNode.insertBefore(y(),a),ux(e,yx(a,"HR")?s:a)):((n=function(e){var t=e.cloneRange();return t.setStart(e.startContainer,xx(!0,e.startContainer,e.startOffset)),t.setEnd(e.endContainer,xx(!1,e.endContainer,e.endOffset)),t}(b).cloneRange()).setEndAfter(a),function(e){D(qi(Ae.fromDom(e),Be),(function(e){var t=e.dom();t.nodeValue=pa(t.nodeValue)}))}(c=n.extractContents()),function(e){do{ne.isText(e)&&(e.nodeValue=e.nodeValue.replace(/^[\r\n]+/,"")),e=e.firstChild}while(e)}(c),s=c.firstChild,h.insertAfter(c,a),function(e,t,n){var r,o=n,i=[];if(o){for(;o=o.firstChild;){if(e.isBlock(o))return;ne.isElement(o)&&!t[o.nodeName.toLowerCase()]&&i.push(o)}for(r=i.length;r--;)!(o=i[r]).hasChildNodes()||o.firstChild===o.lastChild&&""===o.firstChild.nodeValue?e.remove(o):vx(e,o)&&e.remove(o)}}(h,v,s),function(e,t){var n;t.normalize(),(n=t.lastChild)&&!/^(left|right)$/gi.test(e.getStyle(n,"float",!0))||e.add(t,"br")}(h,a),h.isEmpty(a)&&bx(a),s.normalize(),h.isEmpty(s)?(h.remove(s),x()):ux(e,s)),h.setAttrib(s,"id",""),e.fire("NewBlock",{newBlock:s})))},Tx=function(e,t,n){var r=e.create("span",{},"&nbsp;");n.parentNode.insertBefore(r,n),t.scrollIntoView(r),e.remove(r)},Ex=function(e,t,n,r){var o=e.createRng();r?(o.setStartBefore(n),o.setEndBefore(n)):(o.setStartAfter(n),o.setEndAfter(n)),t.setRng(o)},Ox=function(e,t){var n,r,o=e.selection,i=e.dom,a=o.getRng();Dv.normalize(i,a).each((function(e){a.setStart(e.startContainer,e.startOffset),a.setEnd(e.endContainer,e.endOffset)}));var u=a.startOffset,s=a.startContainer;if(1===s.nodeType&&s.hasChildNodes()){var c=u>s.childNodes.length-1;s=s.childNodes[Math.min(u,s.childNodes.length-1)]||s,u=c&&3===s.nodeType?s.nodeValue.length:0}var l=i.getParent(s,i.isBlock),f=l?i.getParent(l.parentNode,i.isBlock):null,d=f?f.nodeName.toUpperCase():"",p=!(!t||!t.ctrlKey);"LI"!==d||p||(l=f),s&&3===s.nodeType&&u>=s.nodeValue.length&&(function(e,t,n){for(var r,o=new Qo(t,n),i=e.getNonEmptyElements();r=o.next();)if(i[r.nodeName.toLowerCase()]||r.length>0)return!0}(e.schema,s,l)||(n=i.create("br"),a.insertNode(n),a.setStartAfter(n),a.setEndAfter(n),r=!0)),n=i.create("br"),Au(i,a,n),Tx(i,o,n),Ex(i,o,n,r),e.undoManager.add()},_x=function(e,t){var n=Ae.fromTag("br");Zo(Ae.fromDom(t),n),e.undoManager.add()},Ax=function(e,t){Dx(e.getBody(),t)||ei(Ae.fromDom(t),Ae.fromTag("br"));var n=Ae.fromTag("br");ei(Ae.fromDom(t),n),Tx(e.dom,e.selection,n.dom()),Ex(e.dom,e.selection,n.dom(),!1),e.undoManager.add()},Dx=function(e,t){return n=bu.after(t),!!ne.isBr(n.getNode())||Gs.nextPosition(e,bu.after(t)).map((function(e){return ne.isBr(e.getNode())})).getOr(!1);var n},Nx=function(e){return e&&"A"===e.nodeName&&"href"in e},Mx=function(e){return e.fold(i(!1),Nx,Nx,i(!1))},Rx=function(e,t){t.fold(r,u(_x,e),u(Ax,e),r)},zx=function(e,t){var n=function(e){var t=u(eb.isInlineTarget,e),n=bu.fromRangeStart(e.selection.getRng());return yb(t,e.getBody(),n).filter(Mx)}(e);n.isSome()?n.each(u(Rx,e)):Ox(e,t)},Ix=function(e,t){return cx(e).filter((function(e){return t.length>0&&ut(Ae.fromDom(e),t)})).isSome()},Bx=function(e){return Ix(e,el(e))},Px=function(e){return Ix(e,tl(e))},Lx=Rl([{br:[]},{block:[]},{none:[]}]),Fx=function(e,t){return Px(e)},Hx=function(e){return function(t,n){return""===Qc(t)===e}},jx=function(e){return function(t,n){return fx(t)===e}},Vx=function(e,t){return function(n,r){return lx(n)===e.toUpperCase()===t}},Ux=function(e){return Vx("pre",e)},$x=function(e){return function(t,n){return Jc(t)===e}},qx=function(e,t){return Bx(e)},Wx=function(e,t){return t},Yx=function(e){var t=Qc(e),n=sx(e.dom,e.selection.getStart());return n&&e.schema.isValidChild(n.nodeName,t||"P")},Xx=function(e,t){return function(n,r){return z(e,(function(e,t){return e&&t(n,r)}),!0)?m.some(t):m.none()}},Gx=function(e,t){return tb([Xx([Fx],Lx.none()),Xx([Vx("summary",!0)],Lx.br()),Xx([Ux(!0),$x(!1),Wx],Lx.br()),Xx([Ux(!0),$x(!1)],Lx.block()),Xx([Ux(!0),$x(!0),Wx],Lx.block()),Xx([Ux(!0),$x(!0)],Lx.br()),Xx([jx(!0),Wx],Lx.br()),Xx([jx(!0)],Lx.block()),Xx([Hx(!0),Wx,Yx],Lx.block()),Xx([Hx(!0)],Lx.br()),Xx([qx],Lx.br()),Xx([Hx(!1),Wx],Lx.br()),Xx([Yx],Lx.block())],[e,!(!t||!t.shiftKey)]).getOr(Lx.none())},Kx=function(e,t){Gx(e,t).fold((function(){zx(e,t)}),(function(){Sx(e,t)}),r)},Jx=function(e){e.on("keydown",(function(t){t.keyCode===Jd.ENTER&&function(e,t){var n;t.isDefaultPrevented()||(t.preventDefault(),(n=e.undoManager).typing&&(n.typing=!1,n.add()),e.undoManager.transact((function(){!1===e.selection.isCollapsed()&&e.execCommand("Delete"),Kx(e,t)})))}(e,t)}))},Qx=function(e,t){var n=t.container(),r=t.offset();return ne.isText(n)?(n.insertData(r,e),m.some(gu(n,r+e.length))):Ts(t).map((function(n){var r=Ae.fromText(e);return t.isAtEnd()?ei(n,r):Zo(n,r),gu(r.dom(),e.length)}))},Zx=u(Qx," "),eC=u(Qx," "),tC=function(e){return gu.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd()},nC=function(e,t){var n=M(Ld(Ae.fromDom(t.container()),e),hn);return H(n).getOr(e)},rC=function(e,t){return tC(t)?rp(t):rp(t)||Gs.prevPosition(nC(e,t).dom(),t).exists(rp)},oC=function(e,t){return tC(t)?np(t):np(t)||Gs.nextPosition(nC(e,t).dom(),t).exists(np)},iC=function(e){return Ts(e).bind((function(e){return Gi(e,Ie)})).exists((function(e){return function(e){return O(["pre","pre-wrap"],e)}(Qe(e,"white-space"))}))},aC=function(e,t){return function(e,t){return Gs.prevPosition(e.dom(),t).isNone()}(e,t)||function(e,t){return Gs.nextPosition(e.dom(),t).isNone()}(e,t)||ex(e,t)||tx(e,t)||Gy(e,t)||Xy(e,t)},uC=function(e,t){var n=function(e){var t=e.container(),n=e.offset();return ne.isText(t)&&n<t.data.length?gu(t,n+1):e}(t);return!iC(n)&&(tx(e,n)||rx(e,n)||Xy(e,n)||oC(e,n))},sC=function(e,t){return function(e,t){return!iC(t)&&(ex(e,t)||nx(e,t)||Gy(e,t)||rC(e,t))}(e,t)||uC(e,t)},cC=function(e,t){return Qd(e.charAt(t))},lC=function(e){var t=e.container();return ne.isText(t)&&ge(t.data," ")},fC=function(e){var t=e.data,n=function(e){var t=e.split("");return A(t,(function(e,n){return Qd(e)&&n>0&&n<t.length-1&&ep(t[n-1])&&ep(t[n+1])?" ":e})).join("")}(t);return n!==t&&(e.data=n,!0)},dC=function(e,t){return m.some(t).filter(lC).bind((function(t){var n=t.container();return function(e,t){var n=t.data,r=gu(t,0);return!(!cC(n,0)||sC(e,r))&&(t.data=" "+n.slice(1),!0)}(e,n)||fC(n)||function(e,t){var n=t.data,r=gu(t,n.length-1);return!(!cC(n,n.length-1)||sC(e,r))&&(t.data=n.slice(0,-1)+" ",!0)}(e,n)?m.some(t):m.none()}))},pC=function(e){var t=Ae.fromDom(e.getBody());e.selection.isCollapsed()&&dC(t,gu.fromRangeStart(e.selection.getRng())).each((function(t){e.selection.setRng(t.toRange())}))},mC=function(e,t){return function(n){return function(e,t){return!iC(t)&&(aC(e,t)||rC(e,t)||oC(e,t))}(e,n)?Zx(t):eC(t)}},hC=function(e){var t=bu.fromRangeStart(e.selection.getRng()),n=Ae.fromDom(e.getBody());if(e.selection.isCollapsed()){var r=u(eb.isInlineTarget,e),o=bu.fromRangeStart(e.selection.getRng());return yb(r,e.getBody(),o).bind(function(e){return function(t){return t.fold((function(t){return Gs.prevPosition(e.dom(),bu.before(t))}),(function(e){return Gs.firstPositionIn(e)}),(function(e){return Gs.lastPositionIn(e)}),(function(t){return Gs.nextPosition(e.dom(),bu.after(t))}))}}(n)).bind(mC(n,t)).exists(function(e){return function(t){return e.selection.setRng(t.toRange()),e.nodeChanged(),!0}}(e))}return!1},gC=function(e){e.on("keydown",(function(t){!1===t.isDefaultPrevented()&&function(e,t){ky([{keyCode:Jd.SPACEBAR,action:Cy(hC,e)}],t).each((function(e){t.preventDefault()}))}(e,t)}))},vC=function(e,t){t.hasAttribute("data-mce-caret")&&(Ta(t),function(e){e.selection.setRng(e.selection.getRng())}(e),e.selection.scrollIntoView(t))},bC=function(e,t){var n=function(e){return Ji(Ae.fromDom(e.getBody()),"*[data-mce-caret]").fold(i(null),(function(e){return e.dom()}))}(e);if(n)return"compositionstart"===t.type?(t.preventDefault(),t.stopPropagation(),void vC(e,n)):void(ya(n)&&(vC(e,n),e.undoManager.add()))},yC=function(e){e.on("keyup compositionstart",u(bC,e))},wC=Oe().browser,xC=function(e){!function(e){var t=Pi((function(){e.composing||pC(e)}),0);wC.isIE()&&(e.on("keypress",(function(e){t.throttle()})),e.on("remove",(function(e){t.cancel()})))}(e),e.on("input",(function(t){!1===t.isComposing&&pC(e)}))},CC=function(e){e.on("keydown",(function(t){!1===t.isDefaultPrevented()&&function(e,t){ky([{keyCode:Jd.END,action:Qb(e,!0)},{keyCode:Jd.HOME,action:Qb(e,!1)}],t).each((function(e){t.preventDefault()}))}(e,t)}))},kC=function(e){var t=Nb.setupSelectedState(e);yC(e),Sy(e,t),ix(e,t),Jx(e),gC(e),xC(e),CC(e)},SC=function(e){var t,r,o,i=cn.each,a=Jd.BACKSPACE,u=Jd.DELETE,s=e.dom,c=e.selection,l=e.settings,f=e.parser,d=Zt.gecko,p=Zt.ie,m=Zt.webkit,h=p?"Text":"URL",g=function(t,n){try{e.getDoc().execCommand(t,!1,n)}catch(e){}},v=function(e){return e.isDefaultPrevented()},b=function(){e.shortcuts.add("meta+a",null,"SelectAll")},y=function(){e.on("keydown",(function(e){if(!v(e)&&e.keyCode===a&&c.isCollapsed()&&0===c.getRng().startOffset){var t=c.getNode().previousSibling;if(t&&t.nodeName&&"table"===t.nodeName.toLowerCase())return e.preventDefault(),!1}}))},w=function(){e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",(function(t){var n;if("HTML"===t.target.nodeName){if(Zt.ie>11)return void e.getBody().focus();n=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(n),e.selection.normalize(),e.nodeChanged()}})))};return e.on("keydown",(function(t){var n,r,o,i,a;if(!v(t)&&t.keyCode===Jd.BACKSPACE&&(r=(n=c.getRng()).startContainer,o=n.startOffset,i=s.getRoot(),a=r,n.collapsed&&0===o)){for(;a&&a.parentNode&&a.parentNode.firstChild===a&&a.parentNode!==i;)a=a.parentNode;"BLOCKQUOTE"===a.tagName&&(e.formatter.toggle("blockquote",null,a),(n=s.createRng()).setStart(r,0),n.setEnd(r,0),c.setRng(n))}})),t=function(e){var t=s.create("body"),n=e.cloneContents();return t.appendChild(n),c.serializer.serialize(t,{format:"html"})},e.on("keydown",(function(n){var r,o,i=n.keyCode;if(!v(n)&&(i===u||i===a)){if(r=e.selection.isCollapsed(),o=e.getBody(),r&&!s.isEmpty(o))return;if(!r&&!function(n){var r=t(n),o=s.createRng();return o.selectNode(e.getBody()),r===t(o)}(e.selection.getRng()))return;n.preventDefault(),e.setContent(""),o.firstChild&&s.isBlock(o.firstChild)?e.selection.setCursorLocation(o.firstChild,0):e.selection.setCursorLocation(o,0),e.nodeChanged()}})),Zt.windowsPhone||e.on("keyup focusin mouseup",(function(e){Jd.modifierPressed(e)||c.normalize()}),!0),m&&(e.inline||s.bind(e.getDoc(),"mousedown mouseup",(function(t){var n;if(t.target===e.getDoc().documentElement)if(n=c.getRng(),e.getBody().focus(),"mousedown"===t.type){if(ba(n.startContainer))return;c.placeCaretAt(t.clientX,t.clientY)}else c.setRng(n)})),e.on("click",(function(t){var n=t.target;/^(IMG|HR)$/.test(n.nodeName)&&"false"!==s.getContentEditableParent(n)&&(t.preventDefault(),e.selection.select(n),e.nodeChanged()),"A"===n.nodeName&&s.hasClass(n,"mce-item-anchor")&&(t.preventDefault(),c.select(n))})),l.forced_root_block&&e.on("init",(function(){g("DefaultParagraphSeparator",Qc(e))})),e.on("init",(function(){e.dom.bind(e.getBody(),"submit",(function(e){e.preventDefault()}))})),y(),f.addNodeFilter("br",(function(e){for(var t=e.length;t--;)"Apple-interchange-newline"===e[t].attr("class")&&e[t].remove()})),Zt.iOS?(e.inline||e.on("keydown",(function(){n.document.activeElement===n.document.body&&e.getWin().focus()})),w(),e.on("click",(function(e){var t=e.target;do{if("A"===t.tagName)return void e.preventDefault()}while(t=t.parentNode)})),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")):b()),Zt.ie>=11&&(w(),y()),Zt.ie&&(b(),g("AutoUrlDetect",!1),e.on("dragstart",(function(t){!function(t){var n,r;t.dataTransfer&&(e.selection.isCollapsed()&&"IMG"===t.target.tagName&&c.select(t.target),(n=e.selection.getContent()).length>0&&(r="data:text/mce-internal,"+escape(e.id)+","+escape(n),t.dataTransfer.setData(h,r)))}(t)})),e.on("drop",(function(t){if(!v(t)){var n=function(e){var t;return e.dataTransfer&&(t=e.dataTransfer.getData(h))&&t.indexOf("data:text/mce-internal,")>=0?(t=t.substr("data:text/mce-internal,".length).split(","),{id:unescape(t[0]),html:unescape(t[1])}):null}(t);if(n&&n.id!==e.id){t.preventDefault();var r=Wg(t.x,t.y,e.getDoc());c.setRng(r),o=n.html,i=!0,e.queryCommandSupported("mceInsertClipboardContent")?e.execCommand("mceInsertClipboardContent",!1,{content:o,internal:i}):e.execCommand("mceInsertContent",!1,o)}}var o,i}))),d&&(e.on("keydown",(function(t){if(!v(t)&&t.keyCode===a){if(!e.getBody().getElementsByTagName("hr").length)return;if(c.isCollapsed()&&0===c.getRng().startOffset){var n=c.getNode(),r=n.previousSibling;if("HR"===n.nodeName)return s.remove(n),void t.preventDefault();r&&r.nodeName&&"hr"===r.nodeName.toLowerCase()&&(s.remove(r),t.preventDefault())}}})),n.Range.prototype.getClientRects||e.on("mousedown",(function(t){if(!v(t)&&"HTML"===t.target.nodeName){var n=e.getBody();n.blur(),$t.setEditorTimeout(e,(function(){n.focus()}))}})),r=function(){var t=s.getAttribs(c.getStart().cloneNode(!1));return function(){var n=c.getStart();n!==e.getBody()&&(s.setAttrib(n,"style",null),i(t,(function(e){n.setAttributeNode(e.cloneNode(!0))})))}},o=function(){return!c.isCollapsed()&&s.getParent(c.getStart(),s.isBlock)!==s.getParent(c.getEnd(),s.isBlock)},e.on("keypress",(function(t){var n;if(!v(t)&&(8===t.keyCode||46===t.keyCode)&&o())return n=r(),e.getDoc().execCommand("delete",!1,null),n(),t.preventDefault(),!1})),s.bind(e.getDoc(),"cut",(function(t){var n;!v(t)&&o()&&(n=r(),$t.setEditorTimeout(e,(function(){n()})))})),l.readonly||e.on("BeforeExecCommand mousedown",(function(){g("StyleWithCSS",!1),g("enableInlineTableEditing",!1),l.object_resizing||g("enableObjectResizing",!1)})),e.on("SetContent ExecCommand",(function(e){"setcontent"!==e.type&&"mceInsertLink"!==e.command||i(s.select("a"),(function(e){var t=e.parentNode,n=s.getRoot();if(t.lastChild===e){for(;t&&!s.isBlock(t);){if(t.parentNode.lastChild!==t||t===n)return;t=t.parentNode}s.add(t,"br",{"data-mce-bogus":1})}}))})),e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}"),Zt.mac&&e.on("keydown",(function(t){!Jd.metaKeyPressed(t)||t.shiftKey||37!==t.keyCode&&39!==t.keyCode||(t.preventDefault(),e.selection.getSel().modify("move",37===t.keyCode?"backward":"forward","lineboundary"))})),y()),{refreshContentEditable:function(){},isHidden:function(){var t;return!(!d||e.removed)&&(!(t=e.selection.getSel())||!t.rangeCount||0===t.rangeCount)}}},TC=function(e){return ne.isElement(e)&&bn(Ae.fromDom(e))},EC=function(e){e.on("click",(function(t){t.detail>=3&&function(e){var t=e.selection.getRng(),n=gu.fromRangeStart(t),r=gu.fromRangeEnd(t);if(gu.isElementPosition(n)){var o=n.container();TC(o)&&Gs.firstPositionIn(o).each((function(e){return t.setStart(e.container(),e.offset())}))}if(gu.isElementPosition(r)){o=n.container();TC(o)&&Gs.lastPositionIn(o).each((function(e){return t.setEnd(e.container(),e.offset())}))}e.selection.setRng(Ph(t))}(e)}))},OC=function(e){!function(e){e.on("click",(function(t){e.dom.getParent(t.target,"details")&&t.preventDefault()}))}(e),function(e){e.parser.addNodeFilter("details",(function(e){D(e,(function(e){e.attr("data-mce-open",e.attr("open")),e.attr("open","open")}))})),e.serializer.addNodeFilter("details",(function(e){D(e,(function(e){var t=e.attr("data-mce-open");e.attr("open",g(t)?t:null),e.attr("data-mce-open",null)}))}))}(e)},_C=Ei.DOM,AC=function(e){e.bindPendingEventDelegates(),e.initialized=!0,e.fire("init"),e.focus(!0),e.nodeChanged({initial:!0}),e.execCallback("init_instance_callback",e),function(e){e.settings.auto_focus&&$t.setEditorTimeout(e,(function(){var t;(t=!0===e.settings.auto_focus?e:e.editorManager.get(e.settings.auto_focus)).destroyed||t.focus()}),100)}(e)},DC=function(e,t){var r,o,i=e.settings,a=e.getElement(),u=e.getDoc();i.inline||(e.getElement().style.visibility=e.orgVisibility),t||e.inline||(u.open(),u.write(e.iframeHTML),u.close()),e.inline&&(e.on("remove",(function(){var e=this.getBody();_C.removeClass(e,"mce-content-body"),_C.removeClass(e,"mce-edit-focus"),_C.setAttrib(e,"contentEditable",null)})),_C.addClass(a,"mce-content-body"),e.contentDocument=u=n.document,e.contentWindow=n.window,e.bodyElement=a,e.contentAreaContainer=a,i.root_name=a.nodeName.toLowerCase()),(r=e.getBody()).disabled=!0,e.readonly=i.readonly,e.readonly||(e.inline&&"static"===_C.getStyle(r,"position",!0)&&(r.style.position="relative"),r.contentEditable=e.getParam("content_editable_state",!0)),r.disabled=!1,e.editorUpload=zd(e),e.schema=Gn(i),e.dom=Ei(u,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,hex_colors:i.force_hex_style_colors,update_styles:!0,root_element:e.inline?e.getBody():null,collect:function(){return e.inline},schema:e.schema,contentCssCors:gl(e),referrerPolicy:vl(e),onSetAttrib:function(t){e.fire("SetAttrib",t)}}),e.parser=function(e){var t=pg(e.settings,e.schema);return t.addAttributeFilter("src,href,style,tabindex",(function(t,n){for(var r,o,i,a=t.length,u=e.dom;a--;)if(o=(r=t[a]).attr(n),i="data-mce-"+n,!r.attr(i)){if(0===o.indexOf("data:")||0===o.indexOf("blob:"))continue;"style"===n?((o=u.serializeStyle(u.parseStyle(o),r.name)).length||(o=null),r.attr(i,o),r.attr(n,o)):"tabindex"===n?(r.attr(i,o),r.attr(n,null)):r.attr(i,e.convertURL(o,n,r.name))}})),t.addNodeFilter("script",(function(e){for(var t,n,r=e.length;r--;)0!==(n=(t=e[r]).attr("type")||"no/type").indexOf("mce-")&&t.attr("type","mce-"+n)})),t.addNodeFilter("#cdata",(function(e){for(var t,n=e.length;n--;)(t=e[n]).type=8,t.name="#comment",t.value="[CDATA["+t.value+"]]"})),t.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",(function(t){for(var n,r=t.length,o=e.schema.getNonEmptyElements();r--;)(n=t[r]).isEmpty(o)&&0===n.getAll("br").length&&(n.append(new Mc("br",1)).shortEnded=!0)})),t}(e),e.serializer=vg(i,e),e.selection=jv(e.dom,e.getWin(),e.serializer,e),e.annotator=_c(e),e.formatter=Zh(e),e.undoManager=hm(e),e._nodeChangeDispatcher=new Kd(e),e._selectionOverrides=Gp(e),OC(e),EC(e),kC(e),Ud(e),e.fire("PreInit"),i.browser_spellcheck||i.gecko_spellcheck||(u.body.spellcheck=!1,_C.setAttrib(r,"spellcheck","false")),e.quirks=SC(e),e.fire("PostRender");var s=kl(e);void 0!==s&&(r.dir=s),i.protect&&e.on("BeforeSetContent",(function(e){cn.each(i.protect,(function(t){e.content=e.content.replace(t,(function(e){return"\x3c!--mce:protected "+escape(e)+"--\x3e"}))}))})),e.on("SetContent",(function(){e.addVisual(e.getBody())})),e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"}),e.on("compositionstart compositionend",(function(t){e.composing="compositionstart"===t.type})),e.contentStyles.length>0&&(o="",cn.each(e.contentStyles,(function(e){o+=e+"\r\n"})),e.dom.addStyle(o)),function(e){return e.inline?_C.styleSheetLoader:e.dom.styleSheetLoader}(e).loadAll(e.contentCSS,(function(t){AC(e)}),(function(t){AC(e)})),i.content_style&&function(e,t){var n=Ae.fromDom(e.getDoc().head),r=Ae.fromTag("style");Xe(r,"type","text/css"),ni(r,Ae.fromText(t)),ni(n,r)}(e,i.content_style)},NC=Ei.DOM,MC=function(e,t){var r=e.editorManager.translate("Rich Text Area. Press ALT-0 for help."),o=function(e,t,n,r){var o=Ae.fromTag("iframe");return Ge(o,r),Ge(o,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:t}),Vi(o,"tox-edit-area__iframe"),o}(e.id,r,t.height,qc(e)).dom();o.onload=function(){o.onload=null,e.fire("load")};var i=function(e,t){if(n.document.domain!==n.window.location.hostname&&Zt.browser.isIE()){var r=Nd("mce");e[r]=function(){DC(e)};var o='javascript:(function(){document.open();document.domain="'+n.document.domain+'";var ed = window.parent.tinymce.get("'+e.id+'");document.write(ed.iframeHTML);document.close();ed.'+r+"(true);})()";return NC.setAttrib(t,"src",o),!0}return!1}(e,o);return e.contentAreaContainer=t.iframeContainer,e.iframeElement=o,e.iframeHTML=function(e){var t,n,r;return r=Wc(e)+"<html><head>",Yc(e)!==e.documentBaseUrl&&(r+='<base href="'+e.documentBaseURI.getURI()+'" />'),r+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />',t=Xc(e),n=Gc(e),Kc(e)&&(r+='<meta http-equiv="Content-Security-Policy" content="'+Kc(e)+'" />'),r+='</head><body id="'+t+'" class="mce-content-body '+n+'" data-id="'+e.id+'"><br></body></html>'}(e),NC.add(t.iframeContainer,o),i},RC=function(e,t){var n=MC(e,t);t.editorContainer&&(NC.get(t.editorContainer).style.display=e.orgDisplay,e.hidden=NC.isHidden(t.editorContainer)),e.getElement().style.display="none",NC.setAttrib(e.id,"aria-hidden","true"),n||DC(e)},zC=function(e){e.contentCSS=e.contentCSS.concat(function(e){var t=Cl(e),n=e.editorManager.baseURL+"/skins/content",r="content"+e.editorManager.suffix+".css",o=!0===e.inline;return A(t,(function(t){return function(e){return/^[a-z0-9\-]+$/i.test(e)}(t)&&!o?n+"/"+t+"/"+r:e.documentBaseURI.toAbsolute(t)}))}(e))},IC=Ei.DOM,BC=function(e,t,n){var r=yd.get(n),o=yd.urls[n]||e.documentBaseUrl.replace(/\/$/,"");if(n=cn.trim(n),r&&-1===cn.inArray(t,n)){if(cn.each(yd.dependencies(n),(function(n){BC(e,t,n)})),e.plugins[n])return;try{var i=new r(e,o,e.$);e.plugins[n]=i,i.init&&(i.init(e,o),t.push(n))}catch(t){vd.pluginInitError(e,n,t)}}},PC=function(e){return e.replace(/^\-/,"")},LC=function(e){return{editorContainer:e,iframeContainer:e}},FC=function(e){var t=e.getElement();return e.inline?LC(null):function(e){var t=IC.create("div");return IC.insertAfter(t,e),LC(t)}(t)},HC=function(e){e.fire("ScriptsLoaded"),function(e){var t=cn.trim(e.settings.icons),n=e.ui.registry.getAll().icons,r=U(U({},{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1z" fill-rule="nonzero"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5L13 7H5a1 1 0 1 1 0-2h9.2zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 0 1 0-2h6.8zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 0 1 0-2h4.4zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2zM7 17l-1.2 2H5a1 1 0 0 1 0-2h2zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2zm5.2-13.5l1.3.7-9.7 16.3-1.3-.7 9.7-16.3z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="M5.6 13l12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="M18.5 13l-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1z" fill-rule="nonzero"/></svg>',"border-width":'<svg width="24" height="24"><path d="M5 14.8h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2zm-.5 3.7h15c.3 0 .5.2.5.5s-.2.5-.5.5h-15a.5.5 0 1 1 0-1zm.5-8.3h14c.6 0 1 .4 1 1v1c0 .5-.4 1-1 1H5a1 1 0 0 1-1-1v-1c0-.6.4-1 1-1zm0-5.7h14c.6 0 1 .4 1 1v2c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-2c0-.6.4-1 1-1z" fill-rule="evenodd"/></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3zm0-10a1 1 0 0 1-.7-.3A1 1 0 0 1 11 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-1a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1zM7 12c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H5a1 1 0 0 1-.7-.3A1 1 0 0 1 4 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7zm10 3.5l.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 0 1-.8.3 1 1 0 0 1-.6-.3l-.8-.7a1 1 0 0 1-.3-.8c0-.2.1-.5.3-.7a1 1 0 0 1 1.4 0zm-10-7l-.7-.8a1 1 0 0 1-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.8-.3zm10 0a1 1 0 0 1-.8.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 0 1 0 1.4l-.8.8a1 1 0 0 1-.6.3 1 1 0 0 1-.8-.3 1 1 0 0 1-.3-.8c0-.2.1-.5.3-.6l.7-.8zM12 8a4 4 0 0 1 3.7 2.4 4 4 0 0 1 0 3.2A4 4 0 0 1 12 16a4 4 0 0 1-3.7-2.4 4 4 0 0 1 0-3.2A4 4 0 0 1 12 8zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14zm-8 9.4l-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8zM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7z" fill-rule="nonzero"/></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 1 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5l-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1zm4.8-6.8V10H7.7V5.8h-1v-1h2zM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1zM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2v-.1-.2l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2zM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3L4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8L5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2L13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2zM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3L3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4zm-6 8a6 6 0 0 0 6 6V6a6 6 0 0 0-6 6z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7zm0 12V9h-7v10h7z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3zM9 9v5l5-5H9zm1 6h5v-5l-5 5z" fill-rule="evenodd"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8zm-8.5 2.2l.1-.4v-.3-.4a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4zm5.4 4l.2-.5v-.4-.3a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5zm0 4h2v2h-2V9zM9 9h2v2H9V9zm4 4h2v2h-2v-2zm-4 0h2v2H9v-2zm0 4h2v2H9v-2zm4 0h2v2h-2v-2zM9 5h2v2H9V5z" fill-rule="evenodd"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19.8 8.8l-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5zm-2-.2l1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5zm-1 1l-2.5-2.4-6 6 2.5 2.5 6-6zm-7 7.1l-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9zM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13zm3-5.3l1.3 2 3-4.7 3.7 6H7l2-3.3z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm4.8 2.6l5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5zM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13z" fill-rule="nonzero"/></svg>',fill:'<svg width="24" height="26"><path d="M16.6 12l-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2zM5.2 13L10 8.2l4.8 4.8H5.2zM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2zm4-8h2V9h-2v2zM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2zm14-2v2h2a2 2 0 0 0-2-2zm-7 16h2V3h-2v18zm7-6h2v-2h-2v2zm-4-8h2V5h-2v2zm4 12a2 2 0 0 0 2-2h-2v2z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5zm8 4v2h2v-2h-2zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2zm2 14h-2v2a2 2 0 0 0 2-2zM3 11v2h18v-2H3zm6 7v2h2v-2H9zm8-4v2h2v-2h-2zM5 18c0 1.1.9 2 2 2v-2H5z" fill-rule="nonzero"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3z" fill-rule="nonzero"/></svg>',fullscreen:'<svg width="24" height="24"><path d="M15.3 10l-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3zm0 4l3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2zM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3zM8.7 10L5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="M5 15.7l2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7zM5 18V19h3l1.8-1.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4zM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 0 0-.4-.8l-.1-.2H8 8v-1l.3-.1.3-.1h.7a1 1 0 0 1 .6.5l.1.3a8.5 8.5 0 0 1 .3.6l1.9 4.6 2-5.2a1 1 0 0 1 1-.6.5.5 0 0 1 .5.6L13 14v2.8a.7.7 0 0 1-1.4 0z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1zM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="M5 15.7l3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7zM5 18V19h3l2.8-2.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4zm-1 3v2h2V7h-2zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3L16.5 18a5.8 5.8 0 0 1-3.1 1.9 6.1 6.1 0 0 1-5.5-1.6A5.8 5.8 0 0 1 6 14v-.3l.1-1.2A13.9 13.9 0 0 1 7.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 0 0 .2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 0 0-3-4.2L12 6a26.1 26.1 0 0 0-2.2 2.5l-1-1a20.9 20.9 0 0 1 2.9-3.3L12 4l1 .8a22.2 22.2 0 0 1 4 5.4c.6 1.2 1 2.4 1 3.6z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="M16.7 4.7l-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8z" fill-rule="evenodd"/></svg>',line:'<svg width="24" height="24"><path d="M15 9l-8 8H4v-3l8-8 3 3zm1-1l-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1zM4 18h16v2H4v-2z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2.1 2a2 2 0 1 0 2.7 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6zM11 26a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6zM11 36a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8l-1.6 1v-1.1l1.6-1h1.2V17zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6zM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3zM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4zM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3zM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM37.1 34.6L34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3zM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33zm0 10v-1.2h-1.3V26H33zm0 10v-1.2h-1.3V36H33z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15zm0 10v-1.2h1.3V26H15zm0 10v-1.2h1.3V36H15z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M39.3 17l-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3zm-1.6-4.7l-.7 2.3h1.6l-.8-2.3zM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26zM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M12.6 17l-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3zM11 12.3l-.7 2.3h1.6l-.8-2.3zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3zm0 10v-1.2H33V27h-1.3zm0 10v-1.2H33V37h-1.3z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15zm0 10v-1.2h1.3V27H15zm0 10v-1.2h1.3V37H15z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3zM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5zM4.4 16.2L6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6z" fill-rule="evenodd"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="M15 13l2-2v8H5V7h8l-2 2H7v8h8v-4zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M17.8 9.8L15.4 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7l2.3 5.8zm0 0l2.2 5.7-2.3-5.8zM13 17v-2h-2v2h2zm0-4V7h-2v6h2z" fill-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19zm-1 8.8l.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2zM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6zm-1 8.8l.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4L1 13l6.4 6.5 6.5-6.5-6.5-6.5zM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7zM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2z" fill-rule="evenodd"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2zM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1zM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1z"/></g></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5L8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><g fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round" stroke="#000" stroke-width="2"><path d="M12 5v14M5 12h14"/></g></svg>',preferences:'<svg width="24" height="24"><path d="M20.1 13.5l-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1zM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5zm-2.4-1l.7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3zm-1 10H7v-4h10v4zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5zm.5-8H6v2h12V5z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M5 22.1l-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5zM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8zM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7zM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2zm0 2v2h14v-2H5zm10 0h2v2h-2v-2zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2a2 2 0 0 0-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8a2 2 0 0 0 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2zM7 17h10V7H7v10zm2-8h6v6H9V9z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6zM8 8h2V6H8v2zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6zM14 13h2v-2h-2v2zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6zM8 18h2v-2H8v2z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="M16 6l4 4-8 9-8-9 4-4h8zm-4 10.2l5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7zM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6zm0-3v2h2V5H6zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1zm-5 1.5l-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5zM13 10V8h-2v2h2zm0-3V5h-2v2h2zm3 5l1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="M10.4 10l4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10zM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4L10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11z" fill-rule="nonzero"/></svg>',"table-cell-properties":'<svg width="24" height="24"><path d="M4 5h16v14H4V5zm10 10h-4v3h4v-3zm0-8h-4v3h4V7zM9 7H5v3h4V7zm-4 4v3h4v-3H5zm10 0v3h4v-3h-4zm0-1h4V7h-4v3zM5 15v3h4v-3H5zm10 3h4v-3h-4v3z" fill-rule="evenodd"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><path d="M12.5 5.5v6h6v-6h-6zm-1 0h-6v6h6v-6zm1 13h6v-6h-6v6zm-1 0v-6h-6v6h6zm-7-14h15v15h-15v-15z" fill-rule="nonzero"/></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M5.5 5.5v13h13v-13h-13zm-1-1h15v15h-15v-15z" opacity=".2"/><path d="M11.5 11.5v-7h1v7h7v1h-7v7h-1v-7h-7v-1h7z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path d="M9 11.2l1 1v.2l-1 1v-2.2zm5 1l1-1v2.2l-1-1v-.2zM20 5v14H4V5h16zm-1 2h-4v.8l-.2-.2-.8.8V7h-4v1.4l-.8-.8-.2.2V7H5v11h4v-1.8l.5.5.5-.4V18h4v-1.8l.8.8.2-.3V18h4V7zm-3.9 3.4l-1.8 1.9 1.8 1.9c.4.3.4.9 0 1.2-.3.3-.8.3-1.2 0L12 13.5l-1.8 1.9a.8.8 0 0 1-1.2 0 .9.9 0 0 1 0-1.2l1.8-1.9-1.9-2a.9.9 0 0 1 1.2-1.2l2 2 1.8-1.8c.3-.4.9-.4 1.2 0a.8.8 0 0 1 0 1.1z" fill-rule="evenodd"/></svg>',"table-delete-row":'<svg width="24" height="24"><path d="M16.7 8.8l1.1 1.2-2.4 2.5L18 15l-1.2 1.2-2.5-2.5-2.4 2.5-1.3-1.2 2.5-2.5-2.5-2.5 1.2-1.3 2.6 2.6 2.4-2.5zM4 5h16v14H4V5zm15 5V7H5v3h4.8l1 1H5v3h5.8l-1 1H5v3h14v-3h-.4l-1-1H19v-3h-1.3l1-1h.3z" fill-rule="evenodd"/></svg>',"table-delete-table":'<svg width="24" height="26"><path d="M4 6h16v14H4V6zm1 2v11h14V8H5zm11.7 8.7l-1.5 1.5L12 15l-3.3 3.2-1.4-1.5 3.2-3.2-3.3-3.2 1.5-1.5L12 12l3.2-3.2 1.5 1.5-3.2 3.2 3.2 3.2z" fill-rule="evenodd"/></svg>',"table-insert-column-after":'<svg width="24" height="24"><path d="M14.3 9c.4 0 .7.3.7.6v2.2h2.1c.4 0 .7.3.7.7 0 .4-.3.7-.7.7H15v2.2c0 .3-.3.6-.7.6a.7.7 0 0 1-.6-.6v-2.2h-2.2a.7.7 0 0 1 0-1.4h2.2V9.6c0-.3.3-.6.6-.6zM4 5h16v14H4V5zm5 13v-3H5v3h4zm0-4v-3H5v3h4zm0-4V7H5v3h4zm10 8V7h-9v11h9z" fill-rule="evenodd"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path d="M9.7 16a.7.7 0 0 1-.7-.6v-2.2H6.9a.7.7 0 0 1 0-1.4H9V9.6c0-.3.3-.6.7-.6.3 0 .6.3.6.6v2.2h2.2c.4 0 .8.3.8.7 0 .4-.4.7-.8.7h-2.2v2.2c0 .3-.3.6-.6.6zM4 5h16v14H4V5zm10 13V7H5v11h9zm5 0v-3h-4v3h4zm0-4v-3h-4v3h4zm0-4V7h-4v3h4z" fill-rule="evenodd"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path d="M14.8 10.5c0 .3-.2.5-.5.5h-1.8v1.8c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.6V11H9.7a.5.5 0 0 1 0-1h1.8V8.3c0-.3.2-.6.5-.6s.5.3.5.6V10h1.8c.3 0 .5.2.5.5zM4 5h16v14H4V5zm5 13v-3H5v3h4zm5 0v-3h-4v3h4zm5 0v-3h-4v3h4zm0-4V7H5v7h14z" fill-rule="evenodd"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path d="M9.2 14.5c0-.3.2-.5.5-.5h1.8v-1.8c0-.3.2-.5.5-.5s.5.2.5.6V14h1.8c.3 0 .5.2.5.5s-.2.5-.5.5h-1.8v1.7c0 .3-.2.6-.5.6a.5.5 0 0 1-.5-.6V15H9.7a.5.5 0 0 1-.5-.5zM4 5h16v14H4V5zm6 2v3h4V7h-4zM5 7v3h4V7H5zm14 11v-7H5v7h14zm0-8V7h-4v3h4z" fill-rule="evenodd"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M4 5h16v13H4V5zm10 12v-3h-4v3h4zm0-4v-3h-4v3h4zm0-4V6h-4v3h4zm5 8v-3h-4v3h4zm0-4v-3h-4v3h4zm0-4V6h-4v3h4z" fill-rule="evenodd"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path d="M4 5h16v14H4V5zm6 13h9v-7h-9v7zm4-11h-4v3h4V7zM9 7H5v3h4V7zm-4 4v3h4v-3H5zm10-1h4V7h-4v3zM5 15v3h4v-3H5z" fill-rule="evenodd"/></svg>',"table-row-properties":'<svg width="24" height="24"><path d="M4 5h16v14H4V5zm10 10h-4v3h4v-3zm0-8h-4v3h4V7zM9 7H5v3h4V7zm6 3h4V7h-4v3zM5 15v3h4v-3H5zm10 3h4v-3h-4v3z" fill-rule="evenodd"/></svg>',"table-split-cells":'<svg width="24" height="24"><path d="M4 5h16v14H4V5zm6 2v3h4V7h-4zM9 18v-3H5v3h4zm0-4v-3H5v3h4zm0-4V7H5v3h4zm10 8v-7h-9v7h9zm0-8V7h-4v3h4zm-3.5 4.5l1.5 1.6c.3.2.3.7 0 1-.2.2-.7.2-1 0l-1.5-1.6-1.6 1.5c-.2.3-.7.3-1 0a.7.7 0 0 1 0-1l1.6-1.5-1.5-1.6a.7.7 0 0 1 1-1l1.5 1.6 1.6-1.5c.2-.3.7-.3 1 0 .2.2.2.7 0 1l-1.6 1.5z" fill-rule="evenodd"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M4 5h16v13H4V5zm5 12v-3H5v3h4zm0-4v-3H5v3h4zm5 4v-3h-4v3h4zm0-4v-3h-4v3h4zm5 4v-3h-4v3h4zm0-4v-3h-4v3h4z" fill-rule="evenodd"/></svg>',table:'<svg width="24" height="24"><path d="M4 5h16v14H4V5zm6 9h4v-3h-4v3zm4 1h-4v3h4v-3zm0-8h-4v3h4V7zM9 7H5v3h4V7zm-4 4v3h4v-3H5zm10 0v3h4v-3h-4zm0-1h4V7h-4v3zM5 15v3h4v-3H5zm10 3h4v-3h-4v3z" fill-rule="evenodd"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14zM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4zm2.6-7.6l-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4z"/></g></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="M12.7 14.3l-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8zm4.3-3l2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 1 1 2 0zm-2.2 4.4h2.4L16 12.5l-1.2 3.2z" fill-rule="evenodd"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1zM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2zM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1zM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12zM11 6.4L8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7zM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13z" fill-rule="nonzero"/></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2zm-4 0v2a2 2 0 0 1-2-2h2zm8 0v2h-2v-2h2zm8 0a2 2 0 0 1-2 2v-2h2zm-4 0v2h-2v-2h2zM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15zM5 15v2H3v-2h2zm16 0v2h-2v-2h2zM5 11v2H3v-2h2zm16 0v2h-2v-2h2zM5 7v2H3V7h2zm16 0v2h-2V7h2zM5 3v2H3c0-1.1.9-2 2-2zm8 0v2h-2V3h2zm6 0a2 2 0 0 1 2 2h-2V3zM9 3v2H7V3h2zm8 0v2h-2V3h2z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6zM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3zm.7-3l.3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8z" fill-rule="nonzero"/></svg>'}),bd.get(t).icons);Fe(r,(function(t,r){$e(n,r)||e.ui.registry.addIcon(r,t)}))}(e),function(e){var t=e.settings.theme;if(g(t)){e.settings.theme=PC(t);var n=wd.get(t);e.theme=new n(e,wd.urls[t]),e.theme.init&&e.theme.init(e,wd.urls[t]||e.documentBaseUrl.replace(/\/$/,""),e.$)}else e.theme={}}(e),function(e){var t=[];cn.each(e.settings.plugins.split(/[ ,]/),(function(n){BC(e,t,PC(n))}))}(e);var t=function(e){var t=e.getElement();return e.orgDisplay=t.style.display,g(e.settings.theme)?function(e){return e.theme.renderUI()}(e):x(e.settings.theme)?function(e){var t=e.getElement(),n=(0,e.settings.theme)(e,t);return n.editorContainer.nodeType&&(n.editorContainer.id=n.editorContainer.id||e.id+"_parent"),n.iframeContainer&&n.iframeContainer.nodeType&&(n.iframeContainer.id=n.iframeContainer.id||e.id+"_iframecontainer"),n.height=n.iframeHeight?n.iframeHeight:t.offsetHeight,n}(e):FC(e)}(e);return e.editorContainer=t.editorContainer?t.editorContainer:null,zC(e),e.inline?DC(e):RC(e,t)},jC=Ei.DOM,VC=function(e){return"-"===e.charAt(0)},UC=function(e,t){(function(e){return m.from(ul(e)).filter((function(e){return e.length>0})).map((function(e){return{url:e,name:m.none()}}))})(t).orThunk((function(){return function(e){return m.from(al(e)).filter((function(e){return e.length>0&&!bd.has(e)})).map((function(t){return{url:e.editorManager.baseURL+"/icons/"+t+"/icons.js",name:m.some(t)}}))}(t)})).each((function(t){e.add(t.url,r,void 0,(function(){vd.iconsLoadError(t.url,t.name.getOrUndefined())}))}))},$C=function(e,t){var n=Di.ScriptLoader;!function(e,t,n,r){var o=t.settings,i=o.theme;if(g(i)){if(!VC(i)&&!wd.urls.hasOwnProperty(i)){var a=o.theme_url;a?wd.load(i,t.documentBaseURI.toAbsolute(a)):wd.load(i,"themes/"+i+"/theme"+n+".js")}e.loadQueue((function(){wd.waitFor(i,r)}))}else r()}(n,e,t,(function(){!function(e,t){var n=bl(t),o=yl(t);if(!1===Ri.hasCode(n)&&"en"!==n){var i=""!==o?o:t.editorManager.baseURL+"/langs/"+n+".js";e.add(i,r,void 0,(function(){vd.languageLoadError(i,n)}))}}(n,e),UC(n,e),function(e,t){b(e.plugins)&&(e.plugins=e.plugins.join(" ")),cn.each(e.external_plugins,(function(t,n){yd.load(n,t,r,void 0,(function(){vd.pluginLoadError(n,t)})),e.plugins+=" "+n})),cn.each(e.plugins.split(/[ ,]/),(function(e){if((e=cn.trim(e))&&!yd.urls[e])if(VC(e)){e=e.substr(1,e.length);var n=yd.dependencies(e);cn.each(n,(function(e){var n={prefix:"plugins/",resource:e,suffix:"/plugin"+t+".js"};e=yd.createUrl(n,e),yd.load(e.resource,e,r,void 0,(function(){vd.pluginLoadError(e.prefix+e.resource+e.suffix,e.resource)}))}))}else{var o={prefix:"plugins/",resource:e,suffix:"/plugin"+t+".js"};yd.load(e,o,r,void 0,(function(){vd.pluginLoadError(o.prefix+o.resource+o.suffix,e)}))}}))}(e.settings,t),n.loadQueue((function(){e.removed||HC(e)}),e,(function(){e.removed||HC(e)}))}))},qC=function(e){var t=e.settings,r=e.id;Ri.setCode(bl(e));var o=function(){jC.unbind(n.window,"ready",o),e.render()};if(Tr.Event.domLoaded){if(e.getElement()&&Zt.contentEditable){t.inline?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");var i=e.getElement().form||jC.getParent(r,"form");i&&(e.formElement=i,t.hidden_input&&!ne.isTextareaOrInput(e.getElement())&&(jC.insertAfter(jC.create("input",{type:"hidden",name:r}),r),e.hasHiddenInput=!0),e.formEventDelegate=function(t){e.fire(t.type,t)},jC.bind(i,"submit reset",e.formEventDelegate),e.on("reset",(function(){e.resetContent()})),!t.submit_patch||i.submit.nodeType||i.submit.length||i._mceOldSubmit||(i._mceOldSubmit=i.submit,i.submit=function(){return e.editorManager.triggerSave(),e.setDirty(!1),i._mceOldSubmit(i)})),e.windowManager=fd(e),e.notificationManager=cd(e),"xml"===t.encoding&&e.on("GetContent",(function(e){e.save&&(e.content=jC.encode(e.content))})),t.add_form_submit_trigger&&e.on("submit",(function(){e.initialized&&e.save()})),t.add_unload_trigger&&(e._beforeUnload=function(){!e.initialized||e.destroyed||e.isHidden()||e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),$C(e,e.suffix)}}else jC.bind(n.window,"ready",o)},WC=function(e,t,n){$i(e,t)&&!1===n?function(e,t){Fi(e)?e.dom().classList.remove(t):ji(e,t);Ui(e)}(e,t):n&&Vi(e,t)},YC=function(e,t,n){try{e.getDoc().execCommand(t,!1,n)}catch(e){}},XC=function(e,t){e.dom().contentEditable=t?"true":"false"},GC=function(e,t){var n=Ae.fromDom(e.getBody());WC(n,"mce-content-readonly",t),t?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),function(e){m.from(e.selection.getNode()).each((function(e){e.removeAttribute("data-mce-selected")}))}(e),e.readonly=!0,XC(n,!1),D(Wi(n,'*[contenteditable="true"]'),(function(e){Xe(e,"data-mce-contenteditable","true"),XC(e,!1)}))):(e.readonly=!1,XC(n,!0),function(e){D(Wi(e,'*[data-mce-contenteditable="true"]'),(function(e){Je(e,"data-mce-contenteditable"),XC(e,!0)}))}(n),YC(e,"StyleWithCSS",!1),YC(e,"enableInlineTableEditing",!1),YC(e,"enableObjectResizing",!1),wf(e)&&e.focus(),function(e){e.selection.setRng(e.selection.getRng())}(e),e.nodeChanged())},KC=function(e){return!0===e.readonly},JC=function(e){e.parser.addAttributeFilter("contenteditable",(function(t){KC(e)&&D(t,(function(e){e.attr("data-mce-contenteditable",e.attr("contenteditable")),e.attr("contenteditable","false")}))})),e.serializer.addAttributeFilter("data-mce-contenteditable",(function(t){KC(e)&&D(t,(function(e){e.attr("contenteditable",e.attr("data-mce-contenteditable"))}))})),e.serializer.addTempAttr("data-mce-contenteditable")},QC=["design","readonly"],ZC=function(e,t,r,o){var i=r[t.get()],a=r[o];try{a.activate()}catch(e){return void n.console.error("problem while activating editor mode "+o+":",e)}i.deactivate(),i.editorReadOnly!==a.editorReadOnly&&GC(e,a.editorReadOnly),t.set(o),_f(e,o)},ek=function(e){var t=re("design"),o=re({design:{activate:r,deactivate:r,editorReadOnly:!1},readonly:{activate:r,deactivate:r,editorReadOnly:!0}});return function(e){e.serializer?JC(e):e.on("PreInit",(function(){JC(e)}))}(e),function(e){e.on("ShowCaret",(function(t){KC(e)&&t.preventDefault()})),e.on("ObjectSelected",(function(t){KC(e)&&t.preventDefault()}))}(e),{isReadOnly:function(){return KC(e)},set:function(n){return function(e,t,n,r){if(r!==n.get()){if(!$e(t,r))throw new Error("Editor mode '"+r+"' is invalid");e.initialized?ZC(e,n,t,r):e.on("init",(function(){return ZC(e,n,t,r)}))}}(e,o.get(),t,n)},get:function(){return t.get()},register:function(e,t){o.set(function(e,t,r){var o;if(O(QC,t))throw new Error("Cannot override default mode "+t);return U(U({},e),((o={})[t]=U(U({},r),{deactivate:function(){try{r.deactivate()}catch(e){n.console.error("problem while deactivating editor mode "+t+":",e)}}}),o))}(o.get(),e,t))}}},tk=function(e){return cn.grep(e.childNodes,(function(e){return"LI"===e.nodeName}))},nk=function(e){return e&&e.firstChild&&e.firstChild===e.lastChild&&function(e){return" "===e.data||ne.isBr(e)}(e.firstChild)},rk=function(e){return e.length>0&&(!(t=e[e.length-1]).firstChild||nk(t))?e.slice(0,-1):e;var t},ok=function(e,t){var n=e.getParent(t,e.isBlock);return n&&"LI"===n.nodeName?n:null},ik=function(e,t){var n=bu.after(e),r=Ls(t).prev(n);return r?r.toRange():null},ak=function(e,t,n){var r=e.parentNode;return cn.each(t,(function(t){r.insertBefore(t,e)})),function(e,t){var n=bu.before(e),r=Ls(t).next(n);return r?r.toRange():null}(e,n)},uk=function(e,t){var n=t.firstChild,r=t.lastChild;return n&&"meta"===n.name&&(n=n.next),r&&"mce_marker"===r.attr("id")&&(r=r.prev),function(e,t){var n=e.getNonEmptyElements();return t&&(t.isEmpty(n)||function(e,t){return e.getBlockElements()[t.name]&&function(e){return e.firstChild&&e.firstChild===e.lastChild}(t)&&function(e){return"br"===e.name||" "===e.value}(t.firstChild)}(e,t))}(e,r)&&(r=r.prev),!(!n||n!==r)&&("ul"===n.name||"ol"===n.name)},sk=function(e,t,n,r){var o=function(e,t,n){var r=t.serialize(n);return function(e){var t=e.firstChild,n=e.lastChild;return t&&"META"===t.nodeName&&t.parentNode.removeChild(t),n&&"mce_marker"===n.id&&n.parentNode.removeChild(n),e}(e.createFragment(r))}(t,e,r),i=ok(t,n.startContainer),a=rk(tk(o.firstChild)),u=t.getRoot(),s=function(e){var r=bu.fromRangeStart(n),o=Ls(t.getRoot()),a=1===e?o.prev(r):o.next(r);return!a||ok(t,a.getNode())!==i};return s(1)?ak(i,a,u):s(2)?function(e,t,n,r){return r.insertAfter(t.reverse(),e),ik(t[0],n)}(i,a,u,t):function(e,t,n,r){var o=function(e,t){var n=t.cloneRange(),r=t.cloneRange();return n.setStartBefore(e),r.setEndAfter(e),[n.cloneContents(),r.cloneContents()]}(e,r),i=e.parentNode;return i.insertBefore(o[0],e),cn.each(t,(function(t){i.insertBefore(t,e)})),i.insertBefore(o[1],e),i.removeChild(e),ik(t[t.length-1],n)}(i,a,u,n)},ck=function(e,t){return!!ok(e,t)},lk=ne.matchNodeNames(["td","th"]),fk=function(e,t){var n=e.selection.getRng(),r=n.startContainer,o=n.startOffset;n.collapsed&&function(e,t){return ne.isText(e)&&" "===e.nodeValue[t-1]}(r,o)&&ne.isText(r)&&(r.insertData(o-1," "),r.deleteData(o,1),n.setStart(r,o),n.setEnd(r,o),e.selection.setRng(n)),e.selection.setContent(t)},dk=function(e,t,n){var r,o,i,a,u,s,c,l,f,d,p,h=e.selection,g=e.dom;if(/^ | $/.test(t)&&(t=function(e,t){var n,r;n=e.startContainer,r=e.startOffset;var o=function(e){return n[e]&&3===n[e].nodeType};return 3===n.nodeType&&(r>0?t=t.replace(/^&nbsp;/," "):o("previousSibling")||(t=t.replace(/^ /,"&nbsp;")),r<n.length?t=t.replace(/&nbsp;(<br>|)$/," "):o("nextSibling")||(t=t.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;"))),t}(h.getRng(),t)),r=e.parser,p=n.merge,o=_l({validate:e.settings.validate},e.schema),d='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>',s={content:t,format:"html",selection:!0,paste:n.paste},(s=e.fire("BeforeSetContent",s)).isDefaultPrevented())e.fire("SetContent",{content:s.content,format:"html",selection:!0,paste:n.paste});else{-1===(t=s.content).indexOf("{$caret}")&&(t+="{$caret}"),t=t.replace(/\{\$caret\}/,d);var v=(l=h.getRng()).startContainer||(l.parentElement?l.parentElement():null),b=e.getBody();v===b&&h.isCollapsed()&&g.isBlock(b.firstChild)&&function(e,t){return t&&!e.schema.getShortEndedElements()[t.nodeName]}(e,b.firstChild)&&g.isEmpty(b.firstChild)&&((l=g.createRng()).setStart(b.firstChild,0),l.setEnd(b.firstChild,0),h.setRng(l)),h.isCollapsed()||(e.selection.setRng(Ph(e.selection.getRng())),e.getDoc().execCommand("Delete",!1,null),t=function(e,t){var n,r;return n=e.startContainer,r=e.startOffset,3===n.nodeType&&e.collapsed&&(" "===n.data[r]?(n.deleteData(r,1),/[\u00a0| ]$/.test(t)||(t+=" ")):" "===n.data[r-1]&&(n.deleteData(r-1,1),/[\u00a0| ]$/.test(t)||(t=" "+t))),t}(e.selection.getRng(),t));var y,w={context:(i=h.getNode()).nodeName.toLowerCase(),data:n.data,insert:!0};if(u=r.parse(t,w),!0===n.paste&&uk(e.schema,u)&&ck(g,i))return l=sk(o,g,e.selection.getRng(),u),e.selection.setRng(l),void e.fire("SetContent",s);if(function(e){for(var t=e;t=t.walk();)1===t.type&&t.attr("data-mce-fragment","1")}(u),"mce_marker"===(f=u.lastChild).attr("id"))for(c=f,f=f.prev;f;f=f.walk(!0))if(3===f.type||!g.isBlock(f.name)){e.schema.isValidChild(f.parent.name,"span")&&f.parent.insert(c,f,"br"===f.name);break}if(e._selectionOverrides.showBlockCaretContainer(i),w.invalid){for(fk(e,d),i=h.getNode(),a=e.getBody(),9===i.nodeType?i=f=a:f=i;f!==a;)i=f,f=f.parentNode;t=i===a?a.innerHTML:g.getOuterHTML(i),t=o.serialize(r.parse(t.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,(function(){return o.serialize(u)})))),i===a?g.setHTML(a,t):g.setOuterHTML(i,t)}else!function(e,t,n){if("all"===n.getAttribute("data-mce-bogus"))n.parentNode.insertBefore(e.dom.createFragment(t),n);else{var r=n.firstChild,o=n.lastChild;!r||r===o&&"BR"===r.nodeName?e.dom.setHTML(n,t):fk(e,t)}}(e,t=o.serialize(u),i);!function(e,t){var n=e.schema.getTextInlineElements(),r=e.dom;if(t){var o=e.getBody(),i=new ch(r);cn.each(r.select("*[data-mce-fragment]"),(function(e){for(var t=e.parentNode;t&&t!==o;t=t.parentNode)n[e.nodeName.toLowerCase()]&&i.compare(t,e)&&r.remove(e,!0)}))}}(e,p),function(e,t){var n,r,o,i,a,u=e.dom,s=e.selection;if(t){if(e.selection.scrollIntoView(t),n=function(t){for(var n=e.getBody();t&&t!==n;t=t.parentNode)if("false"===e.dom.getContentEditable(t))return t;return null}(t))return u.remove(t),void s.select(n);var c=u.createRng();(i=t.previousSibling)&&3===i.nodeType?(c.setStart(i,i.nodeValue.length),Zt.ie||(a=t.nextSibling)&&3===a.nodeType&&(i.appendData(a.data),a.parentNode.removeChild(a))):(c.setStartBefore(t),c.setEndBefore(t));r=u.getParent(t,u.isBlock),u.remove(t),r&&u.isEmpty(r)&&(e.$(r).empty(),c.setStart(r,0),c.setEnd(r,0),lk(r)||function(e){return!!e.getAttribute("data-mce-fragment")}(r)||!(o=function(t){var n=bu.fromRangeStart(t);if(n=Ls(e.getBody()).next(n))return n.toRange()}(c))?u.add(r,u.create("br",{"data-mce-bogus":"1"})):(c=o,u.remove(r))),s.setRng(c)}}(e,g.get("mce_marker")),y=e.getBody(),cn.each(y.getElementsByTagName("*"),(function(e){e.removeAttribute("data-mce-fragment")})),function(e,t){m.from(e.getParent(t,"td,th")).map(Ae.fromDom).each(bm)}(e.dom,e.selection.getStart()),e.fire("SetContent",s),e.addVisual()}},pk=function(e,t){var n=function(e){var t;return"string"!=typeof e?(t=cn.extend({paste:e.paste,data:{paste:e.paste}},e),{content:e.content,details:t}):{content:e,details:{}}}(t);dk(e,n.content,n.details)},mk=function(e,t){e.getDoc().execCommand(t,!1,null)},hk=function(e){ox(e,!1)||aw(e,!1)||cw(e,!1)||pw(e,!1)||jy(e,!1)||Vw(e)||qy(e,!1)||vw(e,!1)||(mk(e,"Delete"),Ey(e))},gk=function(e){aw(e,!0)||cw(e,!0)||pw(e,!0)||jy(e,!0)||Vw(e)||qy(e,!0)||vw(e,!0)||mk(e,"ForwardDelete")},vk=function(e){return function(t,n){return m.from(n).map(Ae.fromDom).filter(Ie).bind((function(n){return function(e,t,n){var r=function(t){return et(t,e)};return Gi(Ae.fromDom(n),(function(e){return r(e).isSome()}),(function(e){return ct(Ae.fromDom(t),e)})).bind(r)}(e,t,n.dom()).or(function(e,t){return m.from(Ei.DOM.getStyle(t,e,!0))}(e,n.dom()))})).getOr("")}},bk={getFontSize:vk("font-size"),getFontFamily:o((function(e){return e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")}),vk("font-family")),toPt:function(e,t){return/[0-9.]+px$/.test(e)?function(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n}(72*parseInt(e,10)/96,t||0)+"pt":e}},yk=function(e){return Gs.firstPositionIn(e.getBody()).map((function(e){var t=e.container();return ne.isText(t)?t.parentNode:t}))},wk=function(e){return m.from(e.selection.getRng()).bind((function(t){return function(e,t){return e.startContainer===t&&0===e.startOffset}(t,e.getBody())?m.none():m.from(e.selection.getStart(!0))}))},xk=function(e,t){if(/^[0-9\.]+$/.test(t)){var n=parseInt(t,10);if(n>=1&&n<=7){var r=ol(e),o=il(e);return o?o[n-1]||t:r[n-1]||t}return t}return t},Ck=function(e){var t=e.split(/\s*,\s*/);return A(t,(function(e){return-1===e.indexOf(" ")||ve(e,'"')||ve(e,"'")?e:"'"+e+"'"})).join(",")},kk=cn.each,Sk=cn.map,Tk=cn.inArray,Ek=function(){function e(e){this.commands={state:{},exec:{},value:{}},this.editor=e,this.setupCommands(e)}return e.prototype.execCommand=function(e,t,n,r){var o,i,a=!1,u=this;if(!u.editor.removed){if(/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(e)||r&&r.skip_focus?Ql(u.editor):u.editor.focus(),(r=u.editor.fire("BeforeExecCommand",{command:e,ui:t,value:n})).isDefaultPrevented())return!1;if(i=e.toLowerCase(),o=u.commands.exec[i])return o(i,t,n),u.editor.fire("ExecCommand",{command:e,ui:t,value:n}),!0;if(kk(this.editor.plugins,(function(r){if(r.execCommand&&r.execCommand(e,t,n))return u.editor.fire("ExecCommand",{command:e,ui:t,value:n}),a=!0,!1})),a)return a;if(u.editor.theme&&u.editor.theme.execCommand&&u.editor.theme.execCommand(e,t,n))return u.editor.fire("ExecCommand",{command:e,ui:t,value:n}),!0;try{a=u.editor.getDoc().execCommand(e,t,n)}catch(e){}return!!a&&(u.editor.fire("ExecCommand",{command:e,ui:t,value:n}),!0)}},e.prototype.queryCommandState=function(e){var t;if(!this.editor.quirks.isHidden()&&!this.editor.removed){if(e=e.toLowerCase(),t=this.commands.state[e])return t(e);try{return this.editor.getDoc().queryCommandState(e)}catch(e){}return!1}},e.prototype.queryCommandValue=function(e){var t;if(!this.editor.quirks.isHidden()&&!this.editor.removed){if(e=e.toLowerCase(),t=this.commands.value[e])return t(e);try{return this.editor.getDoc().queryCommandValue(e)}catch(e){}}},e.prototype.addCommands=function(e,t){var n=this;t=t||"exec",kk(e,(function(e,r){kk(r.toLowerCase().split(","),(function(r){n.commands[t][r]=e}))}))},e.prototype.addCommand=function(e,t,n){var r=this;e=e.toLowerCase(),this.commands.exec[e]=function(e,o,i,a){return t.call(n||r.editor,o,i,a)}},e.prototype.queryCommandSupported=function(e){if(e=e.toLowerCase(),this.commands.exec[e])return!0;try{return this.editor.getDoc().queryCommandSupported(e)}catch(e){}return!1},e.prototype.addQueryStateHandler=function(e,t,n){var r=this;e=e.toLowerCase(),this.commands.state[e]=function(){return t.call(n||r.editor)}},e.prototype.addQueryValueHandler=function(e,t,n){var r=this;e=e.toLowerCase(),this.commands.value[e]=function(){return t.call(n||r.editor)}},e.prototype.hasCustomCommand=function(e){return e=e.toLowerCase(),!!this.commands.exec[e]},e.prototype.execNativeCommand=function(e,t,n){return void 0===t&&(t=!1),void 0===n&&(n=null),this.editor.getDoc().execCommand(e,t,n)},e.prototype.isFormatMatch=function(e){return this.editor.formatter.match(e)},e.prototype.toggleFormat=function(e,t){this.editor.formatter.toggle(e,t?{value:t}:void 0),this.editor.nodeChanged()},e.prototype.storeSelection=function(e){this.selectionBookmark=this.editor.selection.getBookmark(e)},e.prototype.restoreSelection=function(){this.editor.selection.moveToBookmark(this.selectionBookmark)},e.prototype.setupCommands=function(e){var t=this;this.addCommands({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){e.undoManager.add()},"Cut,Copy,Paste":function(n){var r,o=e.getDoc();try{t.execNativeCommand(n)}catch(e){r=!0}if("paste"!==n||o.queryCommandEnabled(n)||(r=!0),r||!o.queryCommandSupported(n)){var i=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");Zt.mac&&(i=i.replace(/Ctrl\+/g,"⌘+")),e.notificationManager.open({text:i,type:"error"})}},unlink:function(){if(e.selection.isCollapsed()){var t=e.dom.getParent(e.selection.getStart(),"a");t&&e.dom.remove(t,!0)}else e.formatter.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(n){var r=n.substring(7);"full"===r&&(r="justify"),kk("left,center,right,justify".split(","),(function(t){r!==t&&e.formatter.remove("align"+t)})),"none"!==r&&t.toggleFormat("align"+r)},"InsertUnorderedList,InsertOrderedList":function(n){var r,o;t.execNativeCommand(n),(r=e.dom.getParent(e.selection.getNode(),"ol,ul"))&&(o=r.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(o.nodeName)&&(t.storeSelection(),e.dom.split(o,r),t.restoreSelection()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){t.toggleFormat(e)},"ForeColor,HiliteColor":function(e,n,r){t.toggleFormat(e,r)},FontName:function(t,n,r){!function(e,t){var n=xk(e,t);e.formatter.toggle("fontname",{value:Ck(n)}),e.nodeChanged()}(e,r)},FontSize:function(t,n,r){!function(e,t){e.formatter.toggle("fontsize",{value:xk(e,t)}),e.nodeChanged()}(e,r)},RemoveFormat:function(t){e.formatter.remove(t)},mceBlockQuote:function(){t.toggleFormat("blockquote")},FormatBlock:function(e,n,r){return t.toggleFormat(r||"p")},mceCleanup:function(){var t=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(t)},mceRemoveNode:function(n,r,o){var i=o||e.selection.getNode();i!==e.getBody()&&(t.storeSelection(),e.dom.remove(i,!0),t.restoreSelection())},mceSelectNodeDepth:function(t,n,r){var o=0;e.dom.getParent(e.selection.getNode(),(function(t){if(1===t.nodeType&&o++===r)return e.selection.select(t),!1}),e.getBody())},mceSelectNode:function(t,n,r){e.selection.select(r)},mceInsertContent:function(t,n,r){pk(e,r)},mceInsertRawHTML:function(t,n,r){e.selection.setContent("tiny_mce_marker");var o=e.getContent();e.setContent(o.replace(/tiny_mce_marker/g,(function(){return r})))},mceInsertNewLine:function(t,n,r){Kx(e,r)},mceToggleFormat:function(e,n,r){t.toggleFormat(r)},mceSetContent:function(t,n,r){e.setContent(r)},"Indent,Outdent":function(t){Gw(e,t)},mceRepaint:function(){},InsertHorizontalRule:function(){e.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){e.hasVisual=!e.hasVisual,e.addVisual()},mceReplaceContent:function(t,n,r){e.execCommand("mceInsertContent",!1,r.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceInsertLink:function(t,n,r){var o;"string"==typeof r&&(r={href:r}),o=e.dom.getParent(e.selection.getNode(),"a"),r.href=r.href.replace(/ /g,"%20"),o&&r.href||e.formatter.remove("link"),r.href&&e.formatter.apply("link",r,o)},selectAll:function(){var t=e.dom.getParent(e.selection.getStart(),ne.isContentEditableTrue);if(t){var n=e.dom.createRng();n.selectNodeContents(t),e.selection.setRng(n)}},delete:function(){hk(e)},forwardDelete:function(){gk(e)},mceNewDocument:function(){e.setContent("")},InsertLineBreak:function(t,n,r){return zx(e,r),!0}});var n=function(t){return function(){var n=e.selection.isCollapsed()?[e.dom.getParent(e.selection.getNode(),e.dom.isBlock)]:e.selection.getSelectedBlocks(),r=Sk(n,(function(n){return!!e.formatter.matchNode(n,t)}));return-1!==Tk(r,!0)}};t.addCommands({JustifyLeft:n("alignleft"),JustifyCenter:n("aligncenter"),JustifyRight:n("alignright"),JustifyFull:n("alignjustify"),"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){return t.isFormatMatch(e)},mceBlockQuote:function(){return t.isFormatMatch("blockquote")},Outdent:function(){return Ww(e)},"InsertUnorderedList,InsertOrderedList":function(t){var n=e.dom.getParent(e.selection.getNode(),"ul,ol");return n&&("insertunorderedlist"===t&&"UL"===n.tagName||"insertorderedlist"===t&&"OL"===n.tagName)}},"state"),t.addCommands({Undo:function(){e.undoManager.undo()},Redo:function(){e.undoManager.redo()}}),t.addQueryValueHandler("FontName",(function(){return function(e){return wk(e).fold((function(){return yk(e).map((function(t){return bk.getFontFamily(e.getBody(),t)})).getOr("")}),(function(t){return bk.getFontFamily(e.getBody(),t)}))}(e)}),this),t.addQueryValueHandler("FontSize",(function(){return function(e){return wk(e).fold((function(){return yk(e).map((function(t){return bk.getFontSize(e.getBody(),t)})).getOr("")}),(function(t){return bk.getFontSize(e.getBody(),t)}))}(e)}),this)},e}(),Ok=cn.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," "),_k=function(){function e(e){this.bindings={},this.settings=e||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||c}return e.isNative=function(e){return!!Ok[e.toLowerCase()]},e.prototype.fire=function(e,t){var n,r,o,i;if(e=e.toLowerCase(),(t=t||{}).type=e,t.target||(t.target=this.scope),t.preventDefault||(t.preventDefault=function(){t.isDefaultPrevented=l},t.stopPropagation=function(){t.isPropagationStopped=l},t.stopImmediatePropagation=function(){t.isImmediatePropagationStopped=l},t.isDefaultPrevented=c,t.isPropagationStopped=c,t.isImmediatePropagationStopped=c),this.settings.beforeFire&&this.settings.beforeFire(t),n=this.bindings[e])for(r=0,o=n.length;r<o;r++){if((i=n[r]).once&&this.off(e,i.func),t.isImmediatePropagationStopped())return t.stopPropagation(),t;if(!1===i.func.call(this.scope,t))return t.preventDefault(),t}return t},e.prototype.on=function(e,t,n,r){var o,i,a;if(!1===t&&(t=c),t){var u={func:t};for(r&&cn.extend(u,r),a=(i=e.toLowerCase().split(" ")).length;a--;)e=i[a],(o=this.bindings[e])||(o=this.bindings[e]=[],this.toggleEvent(e,!0)),n?o.unshift(u):o.push(u)}return this},e.prototype.off=function(e,t){var n,r,o,i,a;if(e)for(n=(i=e.toLowerCase().split(" ")).length;n--;){if(e=i[n],r=this.bindings[e],!e){for(o in this.bindings)this.toggleEvent(o,!1),delete this.bindings[o];return this}if(r){if(t)for(a=r.length;a--;)r[a].func===t&&(r=r.slice(0,a).concat(r.slice(a+1)),this.bindings[e]=r);else r.length=0;r.length||(this.toggleEvent(e,!1),delete this.bindings[e])}}else{for(e in this.bindings)this.toggleEvent(e,!1);this.bindings={}}return this},e.prototype.once=function(e,t,n){return this.on(e,t,n,{once:!0})},e.prototype.has=function(e){return e=e.toLowerCase(),!(!this.bindings[e]||0===this.bindings[e].length)},e}(),Ak=function(e){return e._eventDispatcher||(e._eventDispatcher=new _k({scope:e,toggleEvent:function(t,n){_k.isNative(t)&&e.toggleNativeEvent&&e.toggleNativeEvent(t,n)}})),e._eventDispatcher},Dk={fire:function(e,t,n){if(this.removed&&"remove"!==e&&"detach"!==e)return t;var r=Ak(this).fire(e,t);if(!1!==n&&this.parent)for(var o=this.parent();o&&!r.isPropagationStopped();)o.fire(e,r,!1),o=o.parent();return r},on:function(e,t,n){return Ak(this).on(e,t,n)},off:function(e,t){return Ak(this).off(e,t)},once:function(e,t){return Ak(this).once(e,t)},hasEventListeners:function(e){return Ak(this).has(e)}},Nk=Ei.DOM,Mk=function(e,t){return"selectionchange"===t?e.getDoc():!e.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(t)?e.getDoc().documentElement:e.settings.event_root?(e.eventRoot||(e.eventRoot=Nk.select(e.settings.event_root)[0]),e.eventRoot):e.getBody()},Rk=function(e,t,n){!function(e){return!e.hidden&&!KC(e)}(e)?KC(e)&&function(e){var t=e.target;(function(e){return"click"===e.type})(e)&&"A"===t.tagName&&!Jd.metaKeyPressed(e)&&e.preventDefault()}(n):e.fire(t,n)},zk=function(e,t){var n,r;if(e.delegates||(e.delegates={}),!e.delegates[t]&&!e.removed)if(n=Mk(e,t),e.settings.event_root){if(Mb||(Mb={},e.editorManager.on("removeEditor",(function(){var t;if(!e.editorManager.activeEditor&&Mb){for(t in Mb)e.dom.unbind(Mk(e,t));Mb=null}}))),Mb[t])return;r=function(n){for(var r=n.target,o=e.editorManager.get(),i=o.length;i--;){var a=o[i].getBody();(a===r||Nk.isChildOf(r,a))&&Rk(o[i],t,n)}},Mb[t]=r,Nk.bind(n,t,r)}else r=function(n){Rk(e,t,n)},Nk.bind(n,t,r),e.delegates[t]=r},Ik=U(U({},Dk),{bindPendingEventDelegates:function(){var e=this;cn.each(e._pendingNativeEvents,(function(t){zk(e,t)}))},toggleNativeEvent:function(e,t){"focus"!==e&&"blur"!==e&&(t?this.initialized?zk(this,e):this._pendingNativeEvents?this._pendingNativeEvents.push(e):this._pendingNativeEvents=[e]:this.initialized&&(this.dom.unbind(Mk(this,e),e,this.delegates[e]),delete this.delegates[e]))},unbindAllNativeEvents:function(){var e,t=this.getBody(),n=this.dom;if(this.delegates){for(e in this.delegates)this.dom.unbind(Mk(this,e),e,this.delegates[e]);delete this.delegates}!this.inline&&t&&n&&(t.onload=null,n.unbind(this.getWin()),n.unbind(this.getDoc())),n&&(n.unbind(t),n.unbind(this.getContainer()))}}),Bk=cn.each,Pk=cn.explode,Lk={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},Fk=cn.makeMap("alt,ctrl,shift,meta,access"),Hk=function(){function e(e){this.shortcuts={},this.pendingPatterns=[],this.editor=e;var t=this;e.on("keyup keypress keydown",(function(e){!t.hasModifier(e)&&!t.isFunctionKey(e)||e.isDefaultPrevented()||(Bk(t.shortcuts,(function(n){if(t.matchShortcut(e,n))return t.pendingPatterns=n.subpatterns.slice(0),"keydown"===e.type&&t.executeShortcutAction(n),!0})),t.matchShortcut(e,t.pendingPatterns[0])&&(1===t.pendingPatterns.length&&"keydown"===e.type&&t.executeShortcutAction(t.pendingPatterns[0]),t.pendingPatterns.shift()))}))}return e.prototype.add=function(e,t,n,r){var o,i=this;return o=n,"string"==typeof n?n=function(){i.editor.execCommand(o,!1,null)}:cn.isArray(o)&&(n=function(){i.editor.execCommand(o[0],o[1],o[2])}),Bk(Pk(cn.trim(e)),(function(e){var o=i.createShortcut(e,t,n,r);i.shortcuts[o.id]=o})),!0},e.prototype.remove=function(e){var t=this.createShortcut(e);return!!this.shortcuts[t.id]&&(delete this.shortcuts[t.id],!0)},e.prototype.parseShortcut=function(e){var t,n,r={};for(n in Bk(Pk(e.toLowerCase(),"+"),(function(e){e in Fk?r[e]=!0:/^[0-9]{2,}$/.test(e)?r.keyCode=parseInt(e,10):(r.charCode=e.charCodeAt(0),r.keyCode=Lk[e]||e.toUpperCase().charCodeAt(0))})),t=[r.keyCode],Fk)r[n]?t.push(n):r[n]=!1;return r.id=t.join(","),r.access&&(r.alt=!0,Zt.mac?r.ctrl=!0:r.shift=!0),r.meta&&(Zt.mac?r.meta=!0:(r.ctrl=!0,r.meta=!1)),r},e.prototype.createShortcut=function(e,t,n,r){var o;return(o=cn.map(Pk(e,">"),this.parseShortcut))[o.length-1]=cn.extend(o[o.length-1],{func:n,scope:r||this.editor}),cn.extend(o[0],{desc:this.editor.translate(t),subpatterns:o.slice(1)})},e.prototype.hasModifier=function(e){return e.altKey||e.ctrlKey||e.metaKey},e.prototype.isFunctionKey=function(e){return"keydown"===e.type&&e.keyCode>=112&&e.keyCode<=123},e.prototype.matchShortcut=function(e,t){return!!t&&(t.ctrl===e.ctrlKey&&t.meta===e.metaKey&&(t.alt===e.altKey&&t.shift===e.shiftKey&&(!!(e.keyCode===t.keyCode||e.charCode&&e.charCode===t.charCode)&&(e.preventDefault(),!0))))},e.prototype.executeShortcutAction=function(e){return e.func?e.func.call(e.scope):null},e}(),jk=cn.each,Vk=cn.trim,Uk="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),$k={ftp:21,http:80,https:443,mailto:25},qk=function(){function e(t,r){t=Vk(t),this.settings=r||{};var o=this.settings.base_uri,i=this;if(/^([\w\-]+):([^\/]{2})/i.test(t)||/^\s*#/.test(t))i.source=t;else{var a=0===t.indexOf("//");if(0!==t.indexOf("/")||a||(t=(o&&o.protocol||"http")+"://mce_host"+t),!/^[\w\-]*:?\/\//.test(t)){var u=this.settings.base_uri?this.settings.base_uri.path:new e(n.document.location.href).directory;if(this.settings.base_uri&&""==this.settings.base_uri.protocol)t="//mce_host"+i.toAbsPath(u,t);else{var s=/([^#?]*)([#?]?.*)/.exec(t);t=(o&&o.protocol||"http")+"://mce_host"+i.toAbsPath(u,s[1])+s[2]}}t=t.replace(/@@/g,"(mce_at)");var c=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t);jk(Uk,(function(e,t){var n=c[t];n&&(n=n.replace(/\(mce_at\)/g,"@@")),i[e]=n})),o&&(i.protocol||(i.protocol=o.protocol),i.userInfo||(i.userInfo=o.userInfo),i.port||"mce_host"!==i.host||(i.port=o.port),i.host&&"mce_host"!==i.host||(i.host=o.host),i.source=""),a&&(i.protocol="")}}return e.parseDataUri=function(e){var t,n=decodeURIComponent(e).split(","),r=/data:([^;]+)/.exec(n[0]);return r&&(t=r[1]),{type:t,data:n[1]}},e.getDocumentBaseUrl=function(e){var t;return t=0!==e.protocol.indexOf("http")&&"file:"!==e.protocol?e.href:e.protocol+"//"+e.host+e.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(t)&&(t=t.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(t)||(t+="/")),t},e.prototype.setPath=function(e){var t=/^(.*?)\/?(\w+)?$/.exec(e);this.path=t[0],this.directory=t[1],this.file=t[2],this.source="",this.getURI()},e.prototype.toRelative=function(t){var n;if("./"===t)return t;var r=new e(t,{base_uri:this});if("mce_host"!==r.host&&this.host!==r.host&&r.host||this.port!==r.port||this.protocol!==r.protocol&&""!==r.protocol)return r.getURI();var o=this.getURI(),i=r.getURI();return o===i||"/"===o.charAt(o.length-1)&&o.substr(0,o.length-1)===i?o:(n=this.toRelPath(this.path,r.path),r.query&&(n+="?"+r.query),r.anchor&&(n+="#"+r.anchor),n)},e.prototype.toAbsolute=function(t,n){var r=new e(t,{base_uri:this});return r.getURI(n&&this.isSameOrigin(r))},e.prototype.isSameOrigin=function(e){if(this.host==e.host&&this.protocol==e.protocol){if(this.port==e.port)return!0;var t=$k[this.protocol];if(t&&(this.port||t)==(e.port||t))return!0}return!1},e.prototype.toRelPath=function(e,t){var n,r,o,i=0,a="",u=e.substring(0,e.lastIndexOf("/")).split("/");if(n=t.split("/"),u.length>=n.length)for(r=0,o=u.length;r<o;r++)if(r>=n.length||u[r]!==n[r]){i=r+1;break}if(u.length<n.length)for(r=0,o=n.length;r<o;r++)if(r>=u.length||u[r]!==n[r]){i=r+1;break}if(1===i)return t;for(r=0,o=u.length-(i-1);r<o;r++)a+="../";for(r=i-1,o=n.length;r<o;r++)a+=r!==i-1?"/"+n[r]:n[r];return a},e.prototype.toAbsPath=function(e,t){var n,r,o,i=0,a=[];r=/\/$/.test(t)?"/":"";var u=e.split("/"),s=t.split("/");for(jk(u,(function(e){e&&a.push(e)})),u=a,n=s.length-1,a=[];n>=0;n--)0!==s[n].length&&"."!==s[n]&&(".."!==s[n]?i>0?i--:a.push(s[n]):i++);return 0!==(o=(n=u.length-i)<=0?a.reverse().join("/"):u.slice(0,n).join("/")+"/"+a.reverse().join("/")).indexOf("/")&&(o="/"+o),r&&o.lastIndexOf("/")!==o.length-1&&(o+=r),o},e.prototype.getURI=function(e){var t;return void 0===e&&(e=!1),this.source&&!e||(t="",e||(this.protocol?t+=this.protocol+"://":t+="//",this.userInfo&&(t+=this.userInfo+"@"),this.host&&(t+=this.host),this.port&&(t+=":"+this.port)),this.path&&(t+=this.path),this.query&&(t+="?"+this.query),this.anchor&&(t+="#"+this.anchor),this.source=t),this.source},e}(),Wk=function(){var e=function(){var e={},t={},n={},r={},o={},i={},a={},u=function(e,t){return function(n,r){return e[n.toLowerCase()]=U(U({},r),{type:t})}};return{addButton:u(e,"button"),addToggleButton:u(e,"togglebutton"),addMenuButton:u(e,"menubutton"),addSplitButton:u(e,"splitbutton"),addMenuItem:u(t,"menuitem"),addNestedMenuItem:u(t,"nestedmenuitem"),addToggleMenuItem:u(t,"togglemenuitem"),addAutocompleter:u(n,"autocompleter"),addContextMenu:u(o,"contextmenu"),addContextToolbar:u(i,"contexttoolbar"),addContextForm:u(i,"contextform"),addSidebar:u(a,"sidebar"),addIcon:function(e,t){return r[e.toLowerCase()]=t},getAll:function(){return{buttons:e,menuItems:t,icons:r,popups:n,contextMenus:o,contextToolbars:i,sidebars:a}}}}();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addToggleMenuItem:e.addToggleMenuItem,getAll:e.getAll}},Yk=Ei.DOM,Xk=cn.extend,Gk=cn.each,Kk=cn.resolve,Jk=Zt.ie,Qk=function(){function e(e,t,n){var r=this;this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.editorManager=n,this.documentBaseUrl=n.documentBaseURL,Xk(this,Ik),this.settings=Zf(this,e,this.documentBaseUrl,n.defaultSettings,t),this.settings.suffix&&(n.suffix=this.settings.suffix),this.suffix=n.suffix,this.settings.base_url&&n._setBaseUrl(this.settings.base_url),this.baseUri=n.baseURI,this.settings.referrer_policy&&(Di.ScriptLoader._setReferrerPolicy(this.settings.referrer_policy),Ei.DOM.styleSheetLoader._setReferrerPolicy(this.settings.referrer_policy)),Bi.languageLoad=this.settings.language_load,Bi.baseURL=n.baseURL,this.id=e,this.setDirty(!1),this.documentBaseURI=new qk(this.settings.document_base_url,{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=!!this.settings.inline,this.shortcuts=new Hk(this),this.editorCommands=new Ek(this),this.settings.cache_suffix&&(Zt.cacheSuffix=this.settings.cache_suffix.replace(/^[\?\&]+/,"")),this.ui={registry:Wk()};var o=ek(this);this.mode=o,this.setMode=o.set,n.fire("SetupEditor",{editor:this}),this.execCallback("setup",this),this.$=Jo.overrideDefaults((function(){return{context:r.inline?r.getBody():r.getDoc(),element:r.getBody()}}))}return e.prototype.render=function(){qC(this)},e.prototype.focus=function(e){bf(this,e)},e.prototype.hasFocus=function(){return yf(this)},e.prototype.execCallback=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r,o=this,i=o.settings[e];if(i)return o.callbackLookup&&(r=o.callbackLookup[e])&&(i=r.func,r=r.scope),"string"==typeof i&&(r=(r=i.replace(/\.\w+$/,""))?Kk(r):0,i=Kk(i),o.callbackLookup=o.callbackLookup||{},o.callbackLookup[e]={func:i,scope:r}),i.apply(r||o,Array.prototype.slice.call(arguments,1))},e.prototype.translate=function(e){return Ri.translate(e)},e.prototype.getParam=function(e,t,n){return td(this,e,t,n)},e.prototype.nodeChanged=function(e){this._nodeChangeDispatcher.nodeChanged(e)},e.prototype.addCommand=function(e,t,n){this.editorCommands.addCommand(e,t,n)},e.prototype.addQueryStateHandler=function(e,t,n){this.editorCommands.addQueryStateHandler(e,t,n)},e.prototype.addQueryValueHandler=function(e,t,n){this.editorCommands.addQueryValueHandler(e,t,n)},e.prototype.addShortcut=function(e,t,n,r){this.shortcuts.add(e,t,n,r)},e.prototype.execCommand=function(e,t,n,r){return this.editorCommands.execCommand(e,t,n,r)},e.prototype.queryCommandState=function(e){return this.editorCommands.queryCommandState(e)},e.prototype.queryCommandValue=function(e){return this.editorCommands.queryCommandValue(e)},e.prototype.queryCommandSupported=function(e){return this.editorCommands.queryCommandSupported(e)},e.prototype.show=function(){this.hidden&&(this.hidden=!1,this.inline?this.getBody().contentEditable="true":(Yk.show(this.getContainer()),Yk.hide(this.id)),this.load(),this.fire("show"))},e.prototype.hide=function(){var e=this.getDoc();this.hidden||(Jk&&e&&!this.inline&&e.execCommand("SelectAll"),this.save(),this.inline?(this.getBody().contentEditable="false",this===this.editorManager.focusedEditor&&(this.editorManager.focusedEditor=null)):(Yk.hide(this.getContainer()),Yk.setStyle(this.id,"display",this.orgDisplay)),this.hidden=!0,this.fire("hide"))},e.prototype.isHidden=function(){return!!this.hidden},e.prototype.setProgressState=function(e,t){this.fire("ProgressState",{state:e,time:t})},e.prototype.load=function(e){var t,n=this.getElement();if(this.removed)return"";if(n){(e=e||{}).load=!0;var r=ne.isTextareaOrInput(n)?n.value:n.innerHTML;return t=this.setContent(r,e),e.element=n,e.no_events||this.fire("LoadContent",e),e.element=n=null,t}},e.prototype.save=function(e){var t,n,r=this,o=r.getElement();if(o&&r.initialized&&!r.removed)return(e=e||{}).save=!0,e.element=o,e.content=r.getContent(e),e.no_events||r.fire("SaveContent",e),"raw"===e.format&&r.fire("RawSaveContent",e),t=e.content,ne.isTextareaOrInput(o)?o.value=t:(!e.is_removing&&r.inline||(o.innerHTML=t),(n=Yk.getParent(r.id,"form"))&&Gk(n.elements,(function(e){if(e.name===r.id)return e.value=t,!1}))),e.element=o=null,!1!==e.set_dirty&&r.setDirty(!1),t},e.prototype.setContent=function(e,t){return kf(this,e,t)},e.prototype.getContent=function(e){return function(e,t){return void 0===t&&(t={}),m.from(e.getBody()).fold(i("tree"===t.format?new Mc("body",11):""),(function(n){return Tl(e,t,n)}))}(this,e)},e.prototype.insertContent=function(e,t){t&&(e=Xk({content:e},t)),this.execCommand("mceInsertContent",!1,e)},e.prototype.resetContent=function(e){void 0===e?kf(this,this.startContent,{format:"raw"}):kf(this,e),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()},e.prototype.isDirty=function(){return!this.isNotDirty},e.prototype.setDirty=function(e){var t=!this.isNotDirty;this.isNotDirty=!e,e&&e!==t&&this.fire("dirty")},e.prototype.getContainer=function(){return this.container||(this.container=Yk.get(this.editorContainer||this.id+"_parent")),this.container},e.prototype.getContentAreaContainer=function(){return this.contentAreaContainer},e.prototype.getElement=function(){return this.targetElm||(this.targetElm=Yk.get(this.id)),this.targetElm},e.prototype.getWin=function(){var e;return this.contentWindow||(e=this.iframeElement)&&(this.contentWindow=e.contentWindow),this.contentWindow},e.prototype.getDoc=function(){var e;return this.contentDocument||(e=this.getWin())&&(this.contentDocument=e.document),this.contentDocument},e.prototype.getBody=function(){var e=this.getDoc();return this.bodyElement||(e?e.body:null)},e.prototype.convertURL=function(e,t,n){var r=this.settings;return r.urlconverter_callback?this.execCallback("urlconverter_callback",e,n,!0,t):!r.convert_urls||n&&"LINK"===n.nodeName||0===e.indexOf("file:")||0===e.length?e:r.relative_urls?this.documentBaseURI.toRelative(e):e=this.documentBaseURI.toAbsolute(e,r.remove_script_host)},e.prototype.addVisual=function(e){var t,n=this,r=n.settings,o=n.dom;e=e||n.getBody(),void 0===n.hasVisual&&(n.hasVisual=r.visual),Gk(o.select("table,a",e),(function(e){var i;switch(e.nodeName){case"TABLE":return t=r.visual_table_class||"mce-item-table",void((i=o.getAttrib(e,"border"))&&"0"!==i||!n.hasVisual?o.removeClass(e,t):o.addClass(e,t));case"A":return void(o.getAttrib(e,"href")||(i=o.getAttrib(e,"name")||e.id,t=r.visual_anchor_class||"mce-item-anchor",i&&n.hasVisual?o.addClass(e,t):o.removeClass(e,t)))}})),n.fire("VisualAid",{element:e,hasVisual:n.hasVisual})},e.prototype.remove=function(){Rf(this)},e.prototype.destroy=function(e){zf(this,e)},e.prototype.uploadImages=function(e){return this.editorUpload.uploadImages(e)},e.prototype._scanForImages=function(){return this.editorUpload.scanForImages()},e.prototype.addButton=function(){throw new Error("editor.addButton has been removed in tinymce 5x, use editor.ui.registry.addButton or editor.ui.registry.addToggleButton or editor.ui.registry.addSplitButton instead")},e.prototype.addSidebar=function(){throw new Error("editor.addSidebar has been removed in tinymce 5x, use editor.ui.registry.addSidebar instead")},e.prototype.addMenuItem=function(){throw new Error("editor.addMenuItem has been removed in tinymce 5x, use editor.ui.registry.addMenuItem instead")},e.prototype.addContextToolbar=function(){throw new Error("editor.addContextToolbar has been removed in tinymce 5x, use editor.ui.registry.addContextToolbar instead")},e}(),Zk=Ei.DOM,eS=cn.explode,tS=cn.each,nS=cn.extend,rS=0,oS=!1,iS=[],aS=[],uS=function(e){var t=e.type;tS(fS.get(),(function(n){switch(t){case"scroll":n.fire("ScrollWindow",e);break;case"resize":n.fire("ResizeWindow",e)}}))},sS=function(e){e!==oS&&(e?Jo(window).on("resize scroll",uS):Jo(window).off("resize scroll",uS),oS=e)},cS=function(e){var t=aS;delete iS[e.id];for(var n=0;n<iS.length;n++)if(iS[n]===e){iS.splice(n,1);break}return aS=M(aS,(function(t){return e!==t})),fS.activeEditor===e&&(fS.activeEditor=aS.length>0?aS[0]:null),fS.focusedEditor===e&&(fS.focusedEditor=null),t.length!==aS.length},lS="CSS1Compat"!==n.document.compatMode,fS=U(U({},Dk),{baseURI:null,baseURL:null,defaultSettings:{},documentBaseURL:null,suffix:null,$:Jo,majorVersion:"5",minorVersion:"1.5",releaseDate:"2019-12-19",editors:iS,i18n:Ri,activeEditor:null,focusedEditor:null,settings:{},setup:function(){var e,t,r="";t=qk.getDocumentBaseUrl(n.document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(t)&&(t=t.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(t)||(t+="/"));var o=window.tinymce||window.tinyMCEPreInit;if(o)e=o.base||o.baseURL,r=o.suffix;else{for(var i=n.document.getElementsByTagName("script"),a=0;a<i.length;a++){var u;if(""!==(u=i[a].src||"")){var s=u.substring(u.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(u)){-1!==s.indexOf(".min")&&(r=".min"),e=u.substring(0,u.lastIndexOf("/"));break}}}if(!e&&n.document.currentScript)-1!==(u=n.document.currentScript.src).indexOf(".min")&&(r=".min"),e=u.substring(0,u.lastIndexOf("/"))}this.baseURL=new qk(t).toAbsolute(e),this.documentBaseURL=t,this.baseURI=new qk(this.baseURL),this.suffix=r,cf(this)},overrideDefaults:function(e){var t,n;(t=e.base_url)&&this._setBaseUrl(t),n=e.suffix,e.suffix&&(this.suffix=n),this.defaultSettings=e;var r=e.plugin_base_urls;for(var o in r)Bi.PluginManager.urls[o]=r[o]},init:function(e){var t,r,o=this;r=cn.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," ");var i=function(e){var t=e.id;return t||(t=(t=e.name)&&!Zk.get(t)?e.name:Zk.uniqueId(),e.setAttribute("id",t)),t},a=function(e,t){return t.constructor===RegExp?t.test(e.className):Zk.hasClass(e,t)},u=function(e){t=e},s=function(){var t,c=0,l=[],f=function(e,n,r){var i=new Qk(e,n,o);l.push(i),i.on("init",(function(){++c===t.length&&u(l)})),i.targetElm=i.targetElm||r,i.render()};Zk.unbind(window,"ready",s),function(t){var n=e[t];if(n)n.apply(o,Array.prototype.slice.call(arguments,2))}("onpageload"),t=Jo.unique(function(e){var t,r=[];if(Zt.browser.isIE()&&Zt.browser.version.major<11)return vd.initError("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),[];if(lS)return vd.initError("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[];if(e.types)return tS(e.types,(function(e){r=r.concat(Zk.select(e.selector))})),r;if(e.selector)return Zk.select(e.selector);if(e.target)return[e.target];switch(e.mode){case"exact":(t=e.elements||"").length>0&&tS(eS(t),(function(e){var t;(t=Zk.get(e))?r.push(t):tS(n.document.forms,(function(t){tS(t.elements,(function(t){t.name===e&&(e="mce_editor_"+rS++,Zk.setAttrib(t,"id",e),r.push(t))}))}))}));break;case"textareas":case"specific_textareas":tS(Zk.select("textarea"),(function(t){e.editor_deselector&&a(t,e.editor_deselector)||e.editor_selector&&!a(t,e.editor_selector)||r.push(t)}))}return r}(e)),e.types?tS(e.types,(function(n){cn.each(t,(function(t){return!Zk.is(t,n.selector)||(f(i(t),nS({},e,n),t),!1)}))})):(cn.each(t,(function(e){var t;(t=o.get(e.id))&&t.initialized&&!(t.getContainer()||t.getBody()).parentNode&&(cS(t),t.unbindAllNativeEvents(),t.destroy(!0),t.removed=!0,t=null)})),0===(t=cn.grep(t,(function(e){return!o.get(e.id)}))).length?u([]):tS(t,(function(t){!function(e,t){return e.inline&&t.tagName.toLowerCase()in r}(e,t)?f(i(t),e,t):vd.initError("Could not initialize inline editor on invalid inline target element",t)})))};return o.settings=e,Zk.bind(window,"ready",s),new Ht((function(e){t?e(t):u=function(t){e(t)}}))},get:function(e){return 0===arguments.length?aS.slice(0):g(e)?I(aS,(function(t){return t.id===e})).getOr(null):C(e)&&aS[e]?aS[e]:null},add:function(e){var t=this;return iS[e.id]===e?e:(null===t.get(e.id)&&("length"!==e.id&&(iS[e.id]=e),iS.push(e),aS.push(e)),sS(!0),t.activeEditor=e,t.fire("AddEditor",{editor:e}),Rb||(Rb=function(e){var n=t.fire("BeforeUnload");if(n.returnValue)return e.preventDefault(),e.returnValue=n.returnValue,n.returnValue},window.addEventListener("beforeunload",Rb)),e)},createEditor:function(e,t){return this.add(new Qk(e,t,this))},remove:function(e){var t,n,r=this;if(e){if(!g(e))return n=e,y(r.get(n.id))?null:(cS(n)&&r.fire("RemoveEditor",{editor:n}),0===aS.length&&window.removeEventListener("beforeunload",Rb),n.remove(),sS(aS.length>0),n);tS(Zk.select(e),(function(e){(n=r.get(e.id))&&r.remove(n)}))}else for(t=aS.length-1;t>=0;t--)r.remove(aS[t])},execCommand:function(e,t,n){var r=this.get(n);switch(e){case"mceAddEditor":return this.get(n)||new Qk(n,this.settings,this).render(),!0;case"mceRemoveEditor":return r&&r.remove(),!0;case"mceToggleEditor":return r?(r.isHidden()?r.show():r.hide(),!0):(this.execCommand("mceAddEditor",0,n),!0)}return!!this.activeEditor&&this.activeEditor.execCommand(e,t,n)},triggerSave:function(){tS(aS,(function(e){e.save()}))},addI18n:function(e,t){Ri.add(e,t)},translate:function(e){return Ri.translate(e)},setActive:function(e){var t=this.activeEditor;this.activeEditor!==e&&(t&&t.fire("deactivate",{relatedTarget:e}),e.fire("activate",{relatedTarget:t})),this.activeEditor=e},_setBaseUrl:function(e){this.baseURL=new qk(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new qk(this.baseURL)}});function dS(e){return{walk:function(t,n){return xc.walk(e,t,n)},split:Om,normalize:function(t){return Dv.normalize(e,t).fold(i(!1),(function(e){return t.setStart(e.startContainer,e.startOffset),t.setEnd(e.endContainer,e.endOffset),!0}))}}}fS.setup(),function(e){e.compareRanges=$d.isEq,e.getCaretRangeFromPoint=Wg,e.getSelectedNode=$a,e.getNode=qa}(dS||(dS={}));var pS,mS,hS,gS,vS=dS,bS=(pS={},mS={},{load:function(e,t){var r='Script at URL "'+t+'" failed to load',o='Script at URL "'+t+"\" did not call `tinymce.Resource.add('"+e+"', data)` within 1 second";if(void 0!==pS[e])return pS[e];var i=new Ht((function(i,a){var u=function(e,t,r){void 0===r&&(r=1e3);var o=!1,i=null,a=function(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];o||(o=!0,null!==i&&(n.clearTimeout(i),i=null),e.apply(null,t))}},u=a(e),s=a(t);return{start:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];o||null!==i||(i=n.setTimeout((function(){return s.apply(null,e)}),r))},resolve:u,reject:s}}(i,a);mS[e]=u.resolve,Di.ScriptLoader.loadScript(t,(function(){return u.start(o)}),(function(){return u.reject(r)}))}));return pS[e]=i,i},add:function(e,t){void 0!==mS[e]&&(mS[e](t),delete mS[e]),pS[e]=Ht.resolve(t)}}),yS=Math.min,wS=Math.max,xS=Math.round,CS=function(e,t,n){var r,o,i,a,u,s;return r=t.x,o=t.y,i=e.w,a=e.h,u=t.w,s=t.h,"b"===(n=(n||"").split(""))[0]&&(o+=s),"r"===n[1]&&(r+=u),"c"===n[0]&&(o+=xS(s/2)),"c"===n[1]&&(r+=xS(u/2)),"b"===n[3]&&(o-=a),"r"===n[4]&&(r-=i),"c"===n[3]&&(o-=xS(a/2)),"c"===n[4]&&(r-=xS(i/2)),kS(r,o,i,a)},kS=function(e,t,n,r){return{x:e,y:t,w:n,h:r}},SS={inflate:function(e,t,n){return kS(e.x-t,e.y-n,e.w+2*t,e.h+2*n)},relativePosition:CS,findBestRelativePosition:function(e,t,n,r){var o,i;for(i=0;i<r.length;i++)if((o=CS(e,t,r[i])).x>=n.x&&o.x+o.w<=n.w+n.x&&o.y>=n.y&&o.y+o.h<=n.h+n.y)return r[i];return null},intersect:function(e,t){var n,r,o,i;return n=wS(e.x,t.x),r=wS(e.y,t.y),o=yS(e.x+e.w,t.x+t.w),i=yS(e.y+e.h,t.y+t.h),o-n<0||i-r<0?null:kS(n,r,o-n,i-r)},clamp:function(e,t,n){var r,o,i,a,u,s,c,l,f,d;return u=e.x,s=e.y,c=e.x+e.w,l=e.y+e.h,f=t.x+t.w,d=t.y+t.h,r=wS(0,t.x-u),o=wS(0,t.y-s),i=wS(0,c-f),a=wS(0,l-d),u+=r,s+=o,n&&(c+=r,l+=o,u-=i,s-=a),kS(u,s,(c-=i)-u,(l-=a)-s)},create:kS,fromClientRect:function(e){return kS(e.left,e.top,e.width,e.height)}},TS=cn.each,ES=cn.extend,OS=function(){};OS.extend=hS=function(e){var t,n,r,o=this.prototype,i=function(){var e,t,n,r=this;if(!gS&&(r.init&&r.init.apply(r,arguments),t=r.Mixins))for(e=t.length;e--;)(n=t[e]).init&&n.init.apply(r,arguments)},a=function(){return this},u=function(e,t){return function(){var n,r=this,i=r._super;return r._super=o[e],n=t.apply(r,arguments),r._super=i,n}};for(n in gS=!0,t=new this,gS=!1,e.Mixins&&(TS(e.Mixins,(function(t){for(var n in t)"init"!==n&&(e[n]=t[n])})),o.Mixins&&(e.Mixins=o.Mixins.concat(e.Mixins))),e.Methods&&TS(e.Methods.split(","),(function(t){e[t]=a})),e.Properties&&TS(e.Properties.split(","),(function(t){var n="_"+t;e[t]=function(e){return void 0!==e?(this[n]=e,this):this[n]}})),e.Statics&&TS(e.Statics,(function(e,t){i[t]=e})),e.Defaults&&o.Defaults&&(e.Defaults=ES({},o.Defaults,e.Defaults)),e)"function"==typeof(r=e[n])&&o[n]?t[n]=u(n,r):t[n]=r;return i.prototype=t,i.constructor=i,i.extend=hS,i};var _S,AS=Math.min,DS=Math.max,NS=Math.round,MS={serialize:function(e){var t=JSON.stringify(e);return g(t)?t.replace(/[\u0080-\uFFFF]/g,(function(e){var t=e.charCodeAt(0).toString(16);return"\\u"+"0000".substring(t.length)+t})):t},parse:function(e){try{return JSON.parse(e)}catch(e){}}},RS={callbacks:{},count:0,send:function(e){var t=this,n=Ei.DOM,r=void 0!==e.count?e.count:t.count,o="tinymce_jsonp_"+r;t.callbacks[r]=function(i){n.remove(o),delete t.callbacks[r],e.callback(i)},n.add(n.doc.body,"script",{id:o,src:e.url,type:"text/javascript"}),t.count++}},zS=U(U({},Dk),{send:function(e){var t,r=0,o=function(){!e.async||4===t.readyState||r++>1e4?(e.success&&r<1e4&&200===t.status?e.success.call(e.success_scope,""+t.responseText,t,e):e.error&&e.error.call(e.error_scope,r>1e4?"TIMED_OUT":"GENERAL",t,e),t=null):$t.setTimeout(o,10)};if(e.scope=e.scope||this,e.success_scope=e.success_scope||e.scope,e.error_scope=e.error_scope||e.scope,e.async=!1!==e.async,e.data=e.data||"",zS.fire("beforeInitialize",{settings:e}),t=new n.XMLHttpRequest){if(t.overrideMimeType&&t.overrideMimeType(e.content_type),t.open(e.type||(e.data?"POST":"GET"),e.url,e.async),e.crossDomain&&(t.withCredentials=!0),e.content_type&&t.setRequestHeader("Content-Type",e.content_type),e.requestheaders&&cn.each(e.requestheaders,(function(e){t.setRequestHeader(e.key,e.value)})),t.setRequestHeader("X-Requested-With","XMLHttpRequest"),(t=zS.fire("beforeSend",{xhr:t,settings:e}).xhr).send(e.data),!e.async)return o();$t.setTimeout(o,10)}}}),IS=cn.extend,BS=function(){function e(e){this.settings=IS({},e),this.count=0}return e.sendRPC=function(t){return(new e).send(t)},e.prototype.send=function(e){var t=e.error,n=e.success,r=IS(this.settings,e);r.success=function(e,o){void 0===(e=MS.parse(e))&&(e={error:"JSON Parse error."}),e.error?t.call(r.error_scope||r.scope,e.error,o):n.call(r.success_scope||r.scope,e.result)},r.error=function(e,n){t&&t.call(r.error_scope||r.scope,e,n)},r.data=MS.serialize({id:e.id||"c"+this.count++,method:e.method,params:e.params}),r.content_type="application/json",zS.send(r)},e}();try{_S=n.window.localStorage}catch(e){_S=function(){var e={},t=[],n={getItem:function(t){var n=e[t];return n||null},setItem:function(n,r){t.push(n),e[n]=String(r)},key:function(e){return t[e]},removeItem:function(n){t=t.filter((function(e){return e===n})),delete e[n]},clear:function(){t=[],e={}},length:0};return Object.defineProperty(n,"length",{get:function(){return t.length},configurable:!1,enumerable:!1}),n}()}var PS={geom:{Rect:SS},util:{Promise:Ht,Delay:$t,Tools:cn,VK:Jd,URI:qk,Class:OS,EventDispatcher:_k,Observable:Dk,I18n:Ri,XHR:zS,JSON:MS,JSONRequest:BS,JSONP:RS,LocalStorage:_S,Color:function(e){var t={},n=0,r=0,o=0,i=function(e){var i;return"object"==typeof e?"r"in e?(n=e.r,r=e.g,o=e.b):"v"in e&&function(e,t,i){var a,u,s,c;if(e=(parseInt(e,10)||0)%360,t=parseInt(t,10)/100,i=parseInt(i,10)/100,t=DS(0,AS(t,1)),i=DS(0,AS(i,1)),0!==t){switch(a=e/60,s=(u=i*t)*(1-Math.abs(a%2-1)),c=i-u,Math.floor(a)){case 0:n=u,r=s,o=0;break;case 1:n=s,r=u,o=0;break;case 2:n=0,r=u,o=s;break;case 3:n=0,r=s,o=u;break;case 4:n=s,r=0,o=u;break;case 5:n=u,r=0,o=s;break;default:n=r=o=0}n=NS(255*(n+c)),r=NS(255*(r+c)),o=NS(255*(o+c))}else n=r=o=NS(255*i)}(e.h,e.s,e.v):(i=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(e))?(n=parseInt(i[1],10),r=parseInt(i[2],10),o=parseInt(i[3],10)):(i=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(e))?(n=parseInt(i[1],16),r=parseInt(i[2],16),o=parseInt(i[3],16)):(i=/#([0-F])([0-F])([0-F])/gi.exec(e))&&(n=parseInt(i[1]+i[1],16),r=parseInt(i[2]+i[2],16),o=parseInt(i[3]+i[3],16)),n=n<0?0:n>255?255:n,r=r<0?0:r>255?255:r,o=o<0?0:o>255?255:o,t};return e&&i(e),t.toRgb=function(){return{r:n,g:r,b:o}},t.toHsv=function(){return function(e,t,n){var r,o,i,a;return 0,0,o=0,(i=AS(e/=255,AS(t/=255,n/=255)))===(a=DS(e,DS(t,n)))?{h:0,s:0,v:100*(o=i)}:(r=(a-i)/a,o=a,{h:NS(60*((e===i?3:n===i?1:5)-(e===i?t-n:n===i?e-t:n-e)/(a-i))),s:NS(100*r),v:NS(100*o)})}(n,r,o)},t.toHex=function(){var e=function(e){return(e=parseInt(e,10).toString(16)).length>1?e:"0"+e};return"#"+e(n)+e(r)+e(o)},t.parse=i,t}},dom:{EventUtils:Tr,Sizzle:so,DomQuery:Jo,TreeWalker:Qo,DOMUtils:Ei,ScriptLoader:Di,RangeUtils:vS,Serializer:vg,ControlSelection:Cg,BookmarkManager:yg,Selection:jv,Event:Tr.Event},html:{Styles:hr,Entities:Ln,Node:Mc,Schema:Gn,SaxParser:Hc,DomParser:pg,Writer:Ol,Serializer:_l},Env:Zt,AddOnManager:Bi,Annotator:_c,Formatter:Zh,UndoManager:hm,EditorCommands:Ek,WindowManager:fd,NotificationManager:cd,EditorObservable:Ik,Shortcuts:Hk,Editor:Qk,FocusManager:ef,EditorManager:fS,DOM:Ei.DOM,ScriptLoader:Di.ScriptLoader,PluginManager:Bi.PluginManager,ThemeManager:Bi.ThemeManager,IconManager:bd,Resource:bS,trim:cn.trim,isArray:cn.isArray,is:cn.is,toArray:cn.toArray,makeMap:cn.makeMap,each:cn.each,map:cn.map,grep:cn.grep,inArray:cn.inArray,extend:cn.extend,create:cn.create,walk:cn.walk,createNS:cn.createNS,resolve:cn.resolve,explode:cn.explode,_addCacheSuffix:cn._addCacheSuffix,isOpera:Zt.opera,isWebKit:Zt.webkit,isIE:Zt.ie,isGecko:Zt.gecko,isMac:Zt.mac},LS=cn.extend(fS,PS);!function(e){window.tinymce=e,window.tinyMCE=e}(LS),function(t){try{e.exports=t}catch(e){}}(LS)}(window)}).call(this,n(1))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return o}));var r=function(){return"undefined"!=typeof window?window:e},o=function(){var e=r();return e&&e.tinymce?e.tinymce:null}}).call(this,n(1))},function(e,t,n){"use strict";var r=n(9);r="default"in r?r.default:r;/^2\./.test(r.version)||r.util.warn("VueClickaway 2.2.2 only supports Vue 2.x, and does not support Vue "+r.version);var o="_vue_clickaway_handler";function i(e,t,n){a(e);var r=n.context,i=t.value;if("function"==typeof i){var u=!1;setTimeout((function(){u=!0}),0),e[o]=function(t){var n=t.path||(t.composedPath?t.composedPath():void 0);if(u&&(n?n.indexOf(e)<0:!e.contains(t.target)))return i.call(r,t)},document.documentElement.addEventListener("click",e[o],!1)}}function a(e){document.documentElement.removeEventListener("click",e[o],!1),delete e[o]}var u={bind:i,update:function(e,t){t.value!==t.oldValue&&i(e,t)},unbind:a},s={directives:{onClickaway:u}};t.version="2.2.2",t.directive=u,t.mixin=s},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="fb15")}({"02f4":function(e,t,n){var r=n("4588"),o=n("be13");e.exports=function(e){return function(t,n){var i,a,u=String(o(t)),s=r(n),c=u.length;return s<0||s>=c?e?"":void 0:(i=u.charCodeAt(s))<55296||i>56319||s+1===c||(a=u.charCodeAt(s+1))<56320||a>57343?e?u.charAt(s):i:e?u.slice(s,s+2):a-56320+(i-55296<<10)+65536}}},"0390":function(e,t,n){"use strict";var r=n("02f4")(!0);e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},"07e3":function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},"0bfb":function(e,t,n){"use strict";var r=n("cb7c");e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},"0fc9":function(e,t,n){var r=n("3a38"),o=Math.max,i=Math.min;e.exports=function(e,t){return(e=r(e))<0?o(e+t,0):i(e,t)}},1654:function(e,t,n){"use strict";var r=n("71c1")(!0);n("30f1")(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})}))},1691:function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},"1af6":function(e,t,n){var r=n("63b6");r(r.S,"Array",{isArray:n("9003")})},"1bc3":function(e,t,n){var r=n("f772");e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},"1ec9":function(e,t,n){var r=n("f772"),o=n("e53d").document,i=r(o)&&r(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},"20fd":function(e,t,n){"use strict";var r=n("d9f6"),o=n("aebd");e.exports=function(e,t,n){t in e?r.f(e,t,o(0,n)):e[t]=n}},"214f":function(e,t,n){"use strict";n("b0c5");var r=n("2aba"),o=n("32e9"),i=n("79e5"),a=n("be13"),u=n("2b4c"),s=n("520a"),c=u("species"),l=!i((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),f=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();e.exports=function(e,t,n){var d=u(e),p=!i((function(){var t={};return t[d]=function(){return 7},7!=""[e](t)})),m=p?!i((function(){var t=!1,n=/a/;return n.exec=function(){return t=!0,null},"split"===e&&(n.constructor={},n.constructor[c]=function(){return n}),n[d](""),!t})):void 0;if(!p||!m||"replace"===e&&!l||"split"===e&&!f){var h=/./[d],g=n(a,d,""[e],(function(e,t,n,r,o){return t.exec===s?p&&!o?{done:!0,value:h.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}})),v=g[0],b=g[1];r(String.prototype,e,v),o(RegExp.prototype,d,2==t?function(e,t){return b.call(e,this,t)}:function(e){return b.call(e,this)})}}},"230e":function(e,t,n){var r=n("d3f4"),o=n("7726").document,i=r(o)&&r(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},"23c6":function(e,t,n){var r=n("2d95"),o=n("2b4c")("toStringTag"),i="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),o))?n:i?r(t):"Object"==(a=r(t))&&"function"==typeof t.callee?"Arguments":a}},"241e":function(e,t,n){var r=n("25eb");e.exports=function(e){return Object(r(e))}},"25eb":function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},"294c":function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},"2aba":function(e,t,n){var r=n("7726"),o=n("32e9"),i=n("69a8"),a=n("ca5a")("src"),u=n("fa5b"),s=(""+u).split("toString");n("8378").inspectSource=function(e){return u.call(e)},(e.exports=function(e,t,n,u){var c="function"==typeof n;c&&(i(n,"name")||o(n,"name",t)),e[t]!==n&&(c&&(i(n,a)||o(n,a,e[t]?""+e[t]:s.join(String(t)))),e===r?e[t]=n:u?e[t]?e[t]=n:o(e,t,n):(delete e[t],o(e,t,n)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[a]||u.call(this)}))},"2b4c":function(e,t,n){var r=n("5537")("wks"),o=n("ca5a"),i=n("7726").Symbol,a="function"==typeof i;(e.exports=function(e){return r[e]||(r[e]=a&&i[e]||(a?i:o)("Symbol."+e))}).store=r},"2d00":function(e,t){e.exports=!1},"2d95":function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},"2fdb":function(e,t,n){"use strict";var r=n("5ca1"),o=n("d2c8");r(r.P+r.F*n("5147")("includes"),"String",{includes:function(e){return!!~o(this,e,"includes").indexOf(e,arguments.length>1?arguments[1]:void 0)}})},"30f1":function(e,t,n){"use strict";var r=n("b8e3"),o=n("63b6"),i=n("9138"),a=n("35e8"),u=n("481b"),s=n("8f60"),c=n("45f2"),l=n("53e2"),f=n("5168")("iterator"),d=!([].keys&&"next"in[].keys()),p=function(){return this};e.exports=function(e,t,n,m,h,g,v){s(n,t,m);var b,y,w,x=function(e){if(!d&&e in T)return T[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},C=t+" Iterator",k="values"==h,S=!1,T=e.prototype,E=T[f]||T["@@iterator"]||h&&T[h],O=E||x(h),_=h?k?x("entries"):O:void 0,A="Array"==t&&T.entries||E;if(A&&(w=l(A.call(new e)))!==Object.prototype&&w.next&&(c(w,C,!0),r||"function"==typeof w[f]||a(w,f,p)),k&&E&&"values"!==E.name&&(S=!0,O=function(){return E.call(this)}),r&&!v||!d&&!S&&T[f]||a(T,f,O),u[t]=O,u[C]=p,h)if(b={values:k?O:x("values"),keys:g?O:x("keys"),entries:_},v)for(y in b)y in T||i(T,y,b[y]);else o(o.P+o.F*(d||S),t,b);return b}},"32a6":function(e,t,n){var r=n("241e"),o=n("c3a1");n("ce7e")("keys",(function(){return function(e){return o(r(e))}}))},"32e9":function(e,t,n){var r=n("86cc"),o=n("4630");e.exports=n("9e1e")?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},"32fc":function(e,t,n){var r=n("e53d").document;e.exports=r&&r.documentElement},"335c":function(e,t,n){var r=n("6b4c");e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},"355d":function(e,t){t.f={}.propertyIsEnumerable},"35e8":function(e,t,n){var r=n("d9f6"),o=n("aebd");e.exports=n("8e60")?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},"36c3":function(e,t,n){var r=n("335c"),o=n("25eb");e.exports=function(e){return r(o(e))}},3702:function(e,t,n){var r=n("481b"),o=n("5168")("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||i[o]===e)}},"3a38":function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},"40c3":function(e,t,n){var r=n("6b4c"),o=n("5168")("toStringTag"),i="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),o))?n:i?r(t):"Object"==(a=r(t))&&"function"==typeof t.callee?"Arguments":a}},4588:function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},"45f2":function(e,t,n){var r=n("d9f6").f,o=n("07e3"),i=n("5168")("toStringTag");e.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,i)&&r(e,i,{configurable:!0,value:t})}},4630:function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},"469f":function(e,t,n){n("6c1c"),n("1654"),e.exports=n("7d7b")},"481b":function(e,t){e.exports={}},"4aa6":function(e,t,n){e.exports=n("dc62")},"4bf8":function(e,t,n){var r=n("be13");e.exports=function(e){return Object(r(e))}},"4ee1":function(e,t,n){var r=n("5168")("iterator"),o=!1;try{var i=[7][r]();i.return=function(){o=!0},Array.from(i,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var i=[7],a=i[r]();a.next=function(){return{done:n=!0}},i[r]=function(){return a},e(i)}catch(e){}return n}},"50ed":function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},5147:function(e,t,n){var r=n("2b4c")("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,!"/./"[e](t)}catch(e){}}return!0}},5168:function(e,t,n){var r=n("dbdb")("wks"),o=n("62a0"),i=n("e53d").Symbol,a="function"==typeof i;(e.exports=function(e){return r[e]||(r[e]=a&&i[e]||(a?i:o)("Symbol."+e))}).store=r},5176:function(e,t,n){e.exports=n("51b6")},"51b6":function(e,t,n){n("a3c3"),e.exports=n("584a").Object.assign},"520a":function(e,t,n){"use strict";var r,o,i=n("0bfb"),a=RegExp.prototype.exec,u=String.prototype.replace,s=a,c=(r=/a/,o=/b*/g,a.call(r,"a"),a.call(o,"a"),0!==r.lastIndex||0!==o.lastIndex),l=void 0!==/()??/.exec("")[1];(c||l)&&(s=function(e){var t,n,r,o,s=this;return l&&(n=new RegExp("^"+s.source+"$(?!\\s)",i.call(s))),c&&(t=s.lastIndex),r=a.call(s,e),c&&r&&(s.lastIndex=s.global?r.index+r[0].length:t),l&&r&&r.length>1&&u.call(r[0],n,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)})),r}),e.exports=s},"53e2":function(e,t,n){var r=n("07e3"),o=n("241e"),i=n("5559")("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=o(e),r(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},"549b":function(e,t,n){"use strict";var r=n("d864"),o=n("63b6"),i=n("241e"),a=n("b0dc"),u=n("3702"),s=n("b447"),c=n("20fd"),l=n("7cd6");o(o.S+o.F*!n("4ee1")((function(e){Array.from(e)})),"Array",{from:function(e){var t,n,o,f,d=i(e),p="function"==typeof this?this:Array,m=arguments.length,h=m>1?arguments[1]:void 0,g=void 0!==h,v=0,b=l(d);if(g&&(h=r(h,m>2?arguments[2]:void 0,2)),null==b||p==Array&&u(b))for(n=new p(t=s(d.length));t>v;v++)c(n,v,g?h(d[v],v):d[v]);else for(f=b.call(d),n=new p;!(o=f.next()).done;v++)c(n,v,g?a(f,h,[o.value,v],!0):o.value);return n.length=v,n}})},"54a1":function(e,t,n){n("6c1c"),n("1654"),e.exports=n("95d5")},5537:function(e,t,n){var r=n("8378"),o=n("7726"),i=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n("2d00")?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},5559:function(e,t,n){var r=n("dbdb")("keys"),o=n("62a0");e.exports=function(e){return r[e]||(r[e]=o(e))}},"584a":function(e,t){var n=e.exports={version:"2.6.5"};"number"==typeof __e&&(__e=n)},"5b4e":function(e,t,n){var r=n("36c3"),o=n("b447"),i=n("0fc9");e.exports=function(e){return function(t,n,a){var u,s=r(t),c=o(s.length),l=i(a,c);if(e&&n!=n){for(;c>l;)if((u=s[l++])!=u)return!0}else for(;c>l;l++)if((e||l in s)&&s[l]===n)return e||l||0;return!e&&-1}}},"5ca1":function(e,t,n){var r=n("7726"),o=n("8378"),i=n("32e9"),a=n("2aba"),u=n("9b43"),s=function(e,t,n){var c,l,f,d,p=e&s.F,m=e&s.G,h=e&s.S,g=e&s.P,v=e&s.B,b=m?r:h?r[t]||(r[t]={}):(r[t]||{}).prototype,y=m?o:o[t]||(o[t]={}),w=y.prototype||(y.prototype={});for(c in m&&(n=t),n)f=((l=!p&&b&&void 0!==b[c])?b:n)[c],d=v&&l?u(f,r):g&&"function"==typeof f?u(Function.call,f):f,b&&a(b,c,f,e&s.U),y[c]!=f&&i(y,c,d),g&&w[c]!=f&&(w[c]=f)};r.core=o,s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,e.exports=s},"5d73":function(e,t,n){e.exports=n("469f")},"5f1b":function(e,t,n){"use strict";var r=n("23c6"),o=RegExp.prototype.exec;e.exports=function(e,t){var n=e.exec;if("function"==typeof n){var i=n.call(e,t);if("object"!=typeof i)throw new TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==r(e))throw new TypeError("RegExp#exec called on incompatible receiver");return o.call(e,t)}},"626a":function(e,t,n){var r=n("2d95");e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},"62a0":function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},"63b6":function(e,t,n){var r=n("e53d"),o=n("584a"),i=n("d864"),a=n("35e8"),u=n("07e3"),s=function(e,t,n){var c,l,f,d=e&s.F,p=e&s.G,m=e&s.S,h=e&s.P,g=e&s.B,v=e&s.W,b=p?o:o[t]||(o[t]={}),y=b.prototype,w=p?r:m?r[t]:(r[t]||{}).prototype;for(c in p&&(n=t),n)(l=!d&&w&&void 0!==w[c])&&u(b,c)||(f=l?w[c]:n[c],b[c]=p&&"function"!=typeof w[c]?n[c]:g&&l?i(f,r):v&&w[c]==f?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(f):h&&"function"==typeof f?i(Function.call,f):f,h&&((b.virtual||(b.virtual={}))[c]=f,e&s.R&&y&&!y[c]&&a(y,c,f)))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,e.exports=s},6762:function(e,t,n){"use strict";var r=n("5ca1"),o=n("c366")(!0);r(r.P,"Array",{includes:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")("includes")},6821:function(e,t,n){var r=n("626a"),o=n("be13");e.exports=function(e){return r(o(e))}},"69a8":function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},"6a99":function(e,t,n){var r=n("d3f4");e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},"6b4c":function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},"6c1c":function(e,t,n){n("c367");for(var r=n("e53d"),o=n("35e8"),i=n("481b"),a=n("5168")("toStringTag"),u="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),s=0;s<u.length;s++){var c=u[s],l=r[c],f=l&&l.prototype;f&&!f[a]&&o(f,a,c),i[c]=i.Array}},"71c1":function(e,t,n){var r=n("3a38"),o=n("25eb");e.exports=function(e){return function(t,n){var i,a,u=String(o(t)),s=r(n),c=u.length;return s<0||s>=c?e?"":void 0:(i=u.charCodeAt(s))<55296||i>56319||s+1===c||(a=u.charCodeAt(s+1))<56320||a>57343?e?u.charAt(s):i:e?u.slice(s,s+2):a-56320+(i-55296<<10)+65536}}},7726:function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},"774e":function(e,t,n){e.exports=n("d2d5")},"77f1":function(e,t,n){var r=n("4588"),o=Math.max,i=Math.min;e.exports=function(e,t){return(e=r(e))<0?o(e+t,0):i(e,t)}},"794b":function(e,t,n){e.exports=!n("8e60")&&!n("294c")((function(){return 7!=Object.defineProperty(n("1ec9")("div"),"a",{get:function(){return 7}}).a}))},"79aa":function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},"79e5":function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},"7cd6":function(e,t,n){var r=n("40c3"),o=n("5168")("iterator"),i=n("481b");e.exports=n("584a").getIteratorMethod=function(e){if(null!=e)return e[o]||e["@@iterator"]||i[r(e)]}},"7d7b":function(e,t,n){var r=n("e4ae"),o=n("7cd6");e.exports=n("584a").getIterator=function(e){var t=o(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return r(t.call(e))}},"7e90":function(e,t,n){var r=n("d9f6"),o=n("e4ae"),i=n("c3a1");e.exports=n("8e60")?Object.defineProperties:function(e,t){o(e);for(var n,a=i(t),u=a.length,s=0;u>s;)r.f(e,n=a[s++],t[n]);return e}},8378:function(e,t){var n=e.exports={version:"2.6.5"};"number"==typeof __e&&(__e=n)},8436:function(e,t){e.exports=function(){}},"86cc":function(e,t,n){var r=n("cb7c"),o=n("c69a"),i=n("6a99"),a=Object.defineProperty;t.f=n("9e1e")?Object.defineProperty:function(e,t,n){if(r(e),t=i(t,!0),r(n),o)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},"8aae":function(e,t,n){n("32a6"),e.exports=n("584a").Object.keys},"8e60":function(e,t,n){e.exports=!n("294c")((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},"8f60":function(e,t,n){"use strict";var r=n("a159"),o=n("aebd"),i=n("45f2"),a={};n("35e8")(a,n("5168")("iterator"),(function(){return this})),e.exports=function(e,t,n){e.prototype=r(a,{next:o(1,n)}),i(e,t+" Iterator")}},9003:function(e,t,n){var r=n("6b4c");e.exports=Array.isArray||function(e){return"Array"==r(e)}},9138:function(e,t,n){e.exports=n("35e8")},9306:function(e,t,n){"use strict";var r=n("c3a1"),o=n("9aa9"),i=n("355d"),a=n("241e"),u=n("335c"),s=Object.assign;e.exports=!s||n("294c")((function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=s({},e)[n]||Object.keys(s({},t)).join("")!=r}))?function(e,t){for(var n=a(e),s=arguments.length,c=1,l=o.f,f=i.f;s>c;)for(var d,p=u(arguments[c++]),m=l?r(p).concat(l(p)):r(p),h=m.length,g=0;h>g;)f.call(p,d=m[g++])&&(n[d]=p[d]);return n}:s},9427:function(e,t,n){var r=n("63b6");r(r.S,"Object",{create:n("a159")})},"95d5":function(e,t,n){var r=n("40c3"),o=n("5168")("iterator"),i=n("481b");e.exports=n("584a").isIterable=function(e){var t=Object(e);return void 0!==t[o]||"@@iterator"in t||i.hasOwnProperty(r(t))}},"9aa9":function(e,t){t.f=Object.getOwnPropertySymbols},"9b43":function(e,t,n){var r=n("d8e8");e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},"9c6c":function(e,t,n){var r=n("2b4c")("unscopables"),o=Array.prototype;null==o[r]&&n("32e9")(o,r,{}),e.exports=function(e){o[r][e]=!0}},"9def":function(e,t,n){var r=n("4588"),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},"9e1e":function(e,t,n){e.exports=!n("79e5")((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},a159:function(e,t,n){var r=n("e4ae"),o=n("7e90"),i=n("1691"),a=n("5559")("IE_PROTO"),u=function(){},s=function(){var e,t=n("1ec9")("iframe"),r=i.length;for(t.style.display="none",n("32fc").appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),s=e.F;r--;)delete s.prototype[i[r]];return s()};e.exports=Object.create||function(e,t){var n;return null!==e?(u.prototype=r(e),n=new u,u.prototype=null,n[a]=e):n=s(),void 0===t?n:o(n,t)}},a352:function(e,t){e.exports=n(2)},a3c3:function(e,t,n){var r=n("63b6");r(r.S+r.F,"Object",{assign:n("9306")})},a481:function(e,t,n){"use strict";var r=n("cb7c"),o=n("4bf8"),i=n("9def"),a=n("4588"),u=n("0390"),s=n("5f1b"),c=Math.max,l=Math.min,f=Math.floor,d=/\$([$&`']|\d\d?|<[^>]*>)/g,p=/\$([$&`']|\d\d?)/g;n("214f")("replace",2,(function(e,t,n,m){return[function(r,o){var i=e(this),a=null==r?void 0:r[t];return void 0!==a?a.call(r,i,o):n.call(String(i),r,o)},function(e,t){var o=m(n,e,this,t);if(o.done)return o.value;var f=r(e),d=String(this),p="function"==typeof t;p||(t=String(t));var g=f.global;if(g){var v=f.unicode;f.lastIndex=0}for(var b=[];;){var y=s(f,d);if(null===y)break;if(b.push(y),!g)break;""===String(y[0])&&(f.lastIndex=u(d,i(f.lastIndex),v))}for(var w,x="",C=0,k=0;k<b.length;k++){y=b[k];for(var S=String(y[0]),T=c(l(a(y.index),d.length),0),E=[],O=1;O<y.length;O++)E.push(void 0===(w=y[O])?w:String(w));var _=y.groups;if(p){var A=[S].concat(E,T,d);void 0!==_&&A.push(_);var D=String(t.apply(void 0,A))}else D=h(S,d,T,E,_,t);T>=C&&(x+=d.slice(C,T)+D,C=T+S.length)}return x+d.slice(C)}];function h(e,t,r,i,a,u){var s=r+e.length,c=i.length,l=p;return void 0!==a&&(a=o(a),l=d),n.call(u,l,(function(n,o){var u;switch(o.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,r);case"'":return t.slice(s);case"<":u=a[o.slice(1,-1)];break;default:var l=+o;if(0===l)return n;if(l>c){var d=f(l/10);return 0===d?n:d<=c?void 0===i[d-1]?o.charAt(1):i[d-1]+o.charAt(1):n}u=i[l-1]}return void 0===u?"":u}))}}))},a4bb:function(e,t,n){e.exports=n("8aae")},a745:function(e,t,n){e.exports=n("f410")},aae3:function(e,t,n){var r=n("d3f4"),o=n("2d95"),i=n("2b4c")("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==o(e))}},aebd:function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},b0c5:function(e,t,n){"use strict";var r=n("520a");n("5ca1")({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},b0dc:function(e,t,n){var r=n("e4ae");e.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(t){var i=e.return;throw void 0!==i&&r(i.call(e)),t}}},b447:function(e,t,n){var r=n("3a38"),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},b8e3:function(e,t){e.exports=!0},be13:function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},c366:function(e,t,n){var r=n("6821"),o=n("9def"),i=n("77f1");e.exports=function(e){return function(t,n,a){var u,s=r(t),c=o(s.length),l=i(a,c);if(e&&n!=n){for(;c>l;)if((u=s[l++])!=u)return!0}else for(;c>l;l++)if((e||l in s)&&s[l]===n)return e||l||0;return!e&&-1}}},c367:function(e,t,n){"use strict";var r=n("8436"),o=n("50ed"),i=n("481b"),a=n("36c3");e.exports=n("30f1")(Array,"Array",(function(e,t){this._t=a(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,o(1)):o(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])}),"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},c3a1:function(e,t,n){var r=n("e6f3"),o=n("1691");e.exports=Object.keys||function(e){return r(e,o)}},c649:function(e,t,n){"use strict";(function(e){n.d(t,"c",(function(){return f})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return l}));n("a481");var r=n("4aa6"),o=n.n(r);var i="undefined"!=typeof window?window.console:e.console;var a,u,s=/-(\w)/g,c=(a=function(e){return e.replace(s,(function(e,t){return t?t.toUpperCase():""}))},u=o()(null),function(e){return u[e]||(u[e]=a(e))});function l(e){null!==e.parentElement&&e.parentElement.removeChild(e)}function f(e,t,n){var r=0===n?e.children[0]:e.children[n-1].nextSibling;e.insertBefore(t,r)}}).call(this,n("c8ba"))},c69a:function(e,t,n){e.exports=!n("9e1e")&&!n("79e5")((function(){return 7!=Object.defineProperty(n("230e")("div"),"a",{get:function(){return 7}}).a}))},c8ba:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},c8bb:function(e,t,n){e.exports=n("54a1")},ca5a:function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},cb7c:function(e,t,n){var r=n("d3f4");e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},ce7e:function(e,t,n){var r=n("63b6"),o=n("584a"),i=n("294c");e.exports=function(e,t){var n=(o.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*i((function(){n(1)})),"Object",a)}},d2c8:function(e,t,n){var r=n("aae3"),o=n("be13");e.exports=function(e,t,n){if(r(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(o(e))}},d2d5:function(e,t,n){n("1654"),n("549b"),e.exports=n("584a").Array.from},d3f4:function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},d864:function(e,t,n){var r=n("79aa");e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},d8e8:function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},d9f6:function(e,t,n){var r=n("e4ae"),o=n("794b"),i=n("1bc3"),a=Object.defineProperty;t.f=n("8e60")?Object.defineProperty:function(e,t,n){if(r(e),t=i(t,!0),r(n),o)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},dbdb:function(e,t,n){var r=n("584a"),o=n("e53d"),i=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n("b8e3")?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},dc62:function(e,t,n){n("9427");var r=n("584a").Object;e.exports=function(e,t){return r.create(e,t)}},e4ae:function(e,t,n){var r=n("f772");e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},e53d:function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},e6f3:function(e,t,n){var r=n("07e3"),o=n("36c3"),i=n("5b4e")(!1),a=n("5559")("IE_PROTO");e.exports=function(e,t){var n,u=o(e),s=0,c=[];for(n in u)n!=a&&r(u,n)&&c.push(n);for(;t.length>s;)r(u,n=t[s++])&&(~i(c,n)||c.push(n));return c}},f410:function(e,t,n){n("1af6"),e.exports=n("584a").Array.isArray},f559:function(e,t,n){"use strict";var r=n("5ca1"),o=n("9def"),i=n("d2c8"),a="".startsWith;r(r.P+r.F*n("5147")("startsWith"),"String",{startsWith:function(e){var t=i(this,e,"startsWith"),n=o(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return a?a.call(t,r,n):t.slice(n,n+r.length)===r}})},f772:function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},fa5b:function(e,t,n){e.exports=n("5537")("native-function-to-string",Function.toString)},fb15:function(e,t,n){"use strict";var r;(n.r(t),"undefined"!=typeof window)&&((r=window.document.currentScript)&&(r=r.src.match(/(.+\/)[^/]+\.js(\?.*)?$/))&&(n.p=r[1]));var o=n("5176"),i=n.n(o),a=(n("f559"),n("a4bb")),u=n.n(a),s=n("a745"),c=n.n(s);var l=n("5d73"),f=n.n(l);function d(e,t){return function(e){if(c()(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=f()(e);!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}n("6762"),n("2fdb");var p=n("774e"),m=n.n(p),h=n("c8bb"),g=n.n(h);function v(e){return function(e){if(c()(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(g()(Object(e))||"[object Arguments]"===Object.prototype.toString.call(e))return m()(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var b=n("a352"),y=n.n(b),w=n("c649");function x(e,t){var n=this;this.$nextTick((function(){return n.$emit(e.toLowerCase(),t)}))}function C(e){var t=this;return function(n){null!==t.realList&&t["onDrag"+e](n),x.call(t,e,n)}}function k(e){return["transition-group","TransitionGroup"].includes(e)}function S(e,t,n){return e[n]||(t[n]?t[n]():void 0)}var T=["Start","Add","Remove","Update","End"],E=["Choose","Unchoose","Sort","Filter","Clone"],O=["Move"].concat(T,E).map((function(e){return"on"+e})),_=null,A={name:"draggable",inheritAttrs:!1,props:{options:Object,list:{type:Array,required:!1,default:null},value:{type:Array,required:!1,default:null},noTransitionOnDrag:{type:Boolean,default:!1},clone:{type:Function,default:function(e){return e}},element:{type:String,default:"div"},tag:{type:String,default:null},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},data:function(){return{transitionMode:!1,noneFunctionalComponentMode:!1}},render:function(e){var t=this.$slots.default;this.transitionMode=function(e){if(!e||1!==e.length)return!1;var t=d(e,1)[0].componentOptions;return!!t&&k(t.tag)}(t);var n=function(e,t,n){var r=0,o=0,i=S(t,n,"header");i&&(r=i.length,e=e?[].concat(v(i),v(e)):v(i));var a=S(t,n,"footer");return a&&(o=a.length,e=e?[].concat(v(e),v(a)):v(a)),{children:e,headerOffset:r,footerOffset:o}}(t,this.$slots,this.$scopedSlots),r=n.children,o=n.headerOffset,a=n.footerOffset;this.headerOffset=o,this.footerOffset=a;var s=function(e,t){var n=null,r=function(e,t){n=function(e,t,n){return void 0===n?e:((e=e||{})[t]=n,e)}(n,e,t)};if(r("attrs",u()(e).filter((function(e){return"id"===e||e.startsWith("data-")})).reduce((function(t,n){return t[n]=e[n],t}),{})),!t)return n;var o=t.on,a=t.props,s=t.attrs;return r("on",o),r("props",a),i()(n.attrs,s),n}(this.$attrs,this.componentData);return e(this.getTag(),s,r)},created:function(){null!==this.list&&null!==this.value&&w.b.error("Value and list props are mutually exclusive! Please set one or another."),"div"!==this.element&&w.b.warn("Element props is deprecated please use tag props instead. See https://github.com/SortableJS/Vue.Draggable/blob/master/documentation/migrate.md#element-props"),void 0!==this.options&&w.b.warn("Options props is deprecated, add sortable options directly as vue.draggable item, or use v-bind. See https://github.com/SortableJS/Vue.Draggable/blob/master/documentation/migrate.md#options-props")},mounted:function(){var e=this;if(this.noneFunctionalComponentMode=this.getTag().toLowerCase()!==this.$el.nodeName.toLowerCase()&&!this.getIsFunctional(),this.noneFunctionalComponentMode&&this.transitionMode)throw new Error("Transition-group inside component is not supported. Please alter tag value or remove transition-group. Current tag value: ".concat(this.getTag()));var t={};T.forEach((function(n){t["on"+n]=C.call(e,n)})),E.forEach((function(n){t["on"+n]=x.bind(e,n)}));var n=u()(this.$attrs).reduce((function(t,n){return t[Object(w.a)(n)]=e.$attrs[n],t}),{}),r=i()({},this.options,n,t,{onMove:function(t,n){return e.onDragMove(t,n)}});!("draggable"in r)&&(r.draggable=">*"),this._sortable=new y.a(this.rootContainer,r),this.computeIndexes()},beforeDestroy:function(){void 0!==this._sortable&&this._sortable.destroy()},computed:{rootContainer:function(){return this.transitionMode?this.$el.children[0]:this.$el},realList:function(){return this.list?this.list:this.value}},watch:{options:{handler:function(e){this.updateOptions(e)},deep:!0},$attrs:{handler:function(e){this.updateOptions(e)},deep:!0},realList:function(){this.computeIndexes()}},methods:{getIsFunctional:function(){var e=this._vnode.fnOptions;return e&&e.functional},getTag:function(){return this.tag||this.element},updateOptions:function(e){for(var t in e){var n=Object(w.a)(t);-1===O.indexOf(n)&&this._sortable.option(n,e[t])}},getChildrenNodes:function(){if(this.noneFunctionalComponentMode)return this.$children[0].$slots.default;var e=this.$slots.default;return this.transitionMode?e[0].child.$slots.default:e},computeIndexes:function(){var e=this;this.$nextTick((function(){e.visibleIndexes=function(e,t,n,r){if(!e)return[];var o=e.map((function(e){return e.elm})),i=t.length-r,a=v(t).map((function(e,t){return t>=i?o.length:o.indexOf(e)}));return n?a.filter((function(e){return-1!==e})):a}(e.getChildrenNodes(),e.rootContainer.children,e.transitionMode,e.footerOffset)}))},getUnderlyingVm:function(e){var t=function(e,t){return e.map((function(e){return e.elm})).indexOf(t)}(this.getChildrenNodes()||[],e);return-1===t?null:{index:t,element:this.realList[t]}},getUnderlyingPotencialDraggableComponent:function(e){var t=e.__vue__;return t&&t.$options&&k(t.$options._componentTag)?t.$parent:!("realList"in t)&&1===t.$children.length&&"realList"in t.$children[0]?t.$children[0]:t},emitChanges:function(e){var t=this;this.$nextTick((function(){t.$emit("change",e)}))},alterList:function(e){if(this.list)e(this.list);else{var t=v(this.value);e(t),this.$emit("input",t)}},spliceList:function(){var e=arguments,t=function(t){return t.splice.apply(t,v(e))};this.alterList(t)},updatePosition:function(e,t){var n=function(n){return n.splice(t,0,n.splice(e,1)[0])};this.alterList(n)},getRelatedContextFromMoveEvent:function(e){var t=e.to,n=e.related,r=this.getUnderlyingPotencialDraggableComponent(t);if(!r)return{component:r};var o=r.realList,a={list:o,component:r};if(t!==n&&o&&r.getUnderlyingVm){var u=r.getUnderlyingVm(n);if(u)return i()(u,a)}return a},getVmIndex:function(e){var t=this.visibleIndexes,n=t.length;return e>n-1?n:t[e]},getComponent:function(){return this.$slots.default[0].componentInstance},resetTransitionData:function(e){if(this.noTransitionOnDrag&&this.transitionMode){this.getChildrenNodes()[e].data=null;var t=this.getComponent();t.children=[],t.kept=void 0}},onDragStart:function(e){this.context=this.getUnderlyingVm(e.item),e.item._underlying_vm_=this.clone(this.context.element),_=e.item},onDragAdd:function(e){var t=e.item._underlying_vm_;if(void 0!==t){Object(w.d)(e.item);var n=this.getVmIndex(e.newIndex);this.spliceList(n,0,t),this.computeIndexes();var r={element:t,newIndex:n};this.emitChanges({added:r})}},onDragRemove:function(e){if(Object(w.c)(this.rootContainer,e.item,e.oldIndex),"clone"!==e.pullMode){var t=this.context.index;this.spliceList(t,1);var n={element:this.context.element,oldIndex:t};this.resetTransitionData(t),this.emitChanges({removed:n})}else Object(w.d)(e.clone)},onDragUpdate:function(e){Object(w.d)(e.item),Object(w.c)(e.from,e.item,e.oldIndex);var t=this.context.index,n=this.getVmIndex(e.newIndex);this.updatePosition(t,n);var r={element:this.context.element,oldIndex:t,newIndex:n};this.emitChanges({moved:r})},updateProperty:function(e,t){e.hasOwnProperty(t)&&(e[t]+=this.headerOffset)},computeFutureIndex:function(e,t){if(!e.element)return 0;var n=v(t.to.children).filter((function(e){return"none"!==e.style.display})),r=n.indexOf(t.related),o=e.component.getVmIndex(r);return-1!==n.indexOf(_)||!t.willInsertAfter?o:o+1},onDragMove:function(e,t){var n=this.move;if(!n||!this.realList)return!0;var r=this.getRelatedContextFromMoveEvent(e),o=this.context,a=this.computeFutureIndex(r,e);return i()(o,{futureIndex:a}),n(i()({},e,{relatedContext:r,draggedContext:o}),t)},onDragEnd:function(){this.computeIndexes(),_=null}}};"undefined"!=typeof window&&"Vue"in window&&window.Vue.component("draggable",A);var D=A;t.default=D}}).default},function(e,t,n){e.exports=n(28)},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var o=(a=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),i=r.sources.map((function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"}));return[n].concat(i).concat([o]).join("\n")}var a;return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n})).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(r[i]=!0)}for(o=0;o<e.length;o++){var a=e[o];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(e,t,n){var r,o,i={},a=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=r.apply(this,arguments)),o}),u=function(e,t){return t?t.querySelector(e):document.querySelector(e)},s=function(e){var t={};return function(e,n){if("function"==typeof e)return e();if(void 0===t[e]){var r=u.call(this,e,n);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}t[e]=r}return t[e]}}(),c=null,l=0,f=[],d=n(35);function p(e,t){for(var n=0;n<e.length;n++){var r=e[n],o=i[r.id];if(o){o.refs++;for(var a=0;a<o.parts.length;a++)o.parts[a](r.parts[a]);for(;a<r.parts.length;a++)o.parts.push(y(r.parts[a],t))}else{var u=[];for(a=0;a<r.parts.length;a++)u.push(y(r.parts[a],t));i[r.id]={id:r.id,refs:1,parts:u}}}}function m(e,t){for(var n=[],r={},o=0;o<e.length;o++){var i=e[o],a=t.base?i[0]+t.base:i[0],u={css:i[1],media:i[2],sourceMap:i[3]};r[a]?r[a].parts.push(u):n.push(r[a]={id:a,parts:[u]})}return n}function h(e,t){var n=s(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=f[f.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),f.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=s(e.insertAt.before,n);n.insertBefore(t,o)}}function g(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=f.indexOf(e);t>=0&&f.splice(t,1)}function v(e){var t=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var r=function(){0;return n.nc}();r&&(e.attrs.nonce=r)}return b(t,e.attrs),h(e,t),t}function b(e,t){Object.keys(t).forEach((function(n){e.setAttribute(n,t[n])}))}function y(e,t){var n,r,o,i;if(t.transform&&e.css){if(!(i="function"==typeof t.transform?t.transform(e.css):t.transform.default(e.css)))return function(){};e.css=i}if(t.singleton){var a=l++;n=c||(c=v(t)),r=C.bind(null,n,a,!1),o=C.bind(null,n,a,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",b(t,e.attrs),h(e,t),t}(t),r=S.bind(null,n,t),o=function(){g(n),n.href&&URL.revokeObjectURL(n.href)}):(n=v(t),r=k.bind(null,n),o=function(){g(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=a()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=m(e,t);return p(n,t),function(e){for(var r=[],o=0;o<n.length;o++){var a=n[o];(u=i[a.id]).refs--,r.push(u)}e&&p(m(e,t),t);for(o=0;o<r.length;o++){var u;if(0===(u=r[o]).refs){for(var s=0;s<u.parts.length;s++)u.parts[s]();delete i[u.id]}}}};var w,x=(w=[],function(e,t){return w[e]=t,w.filter(Boolean).join("\n")});function C(e,t,n,r){var o=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=x(t,o);else{var i=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}function k(e,t){var n=t.css,r=t.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function S(e,t,n){var r=n.css,o=n.sourceMap,i=void 0===t.convertToAbsoluteUrls&&o;(t.convertToAbsoluteUrls||i)&&(r=d(r)),o&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var a=new Blob([r],{type:"text/css"}),u=e.href;e.href=URL.createObjectURL(a),u&&URL.revokeObjectURL(u)}},function(e,t,n){var r;!function(t,n){"use strict";"object"==typeof e.exports?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(t)}("undefined"!=typeof window?window:this,(function(n,o){"use strict";var i=[],a=n.document,u=Object.getPrototypeOf,s=i.slice,c=i.concat,l=i.push,f=i.indexOf,d={},p=d.toString,m=d.hasOwnProperty,h=m.toString,g=h.call(Object),v={},b=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},y=function(e){return null!=e&&e===e.window},w={type:!0,src:!0,nonce:!0,noModule:!0};function x(e,t,n){var r,o,i=(n=n||a).createElement("script");if(i.text=e,t)for(r in w)(o=t[r]||t.getAttribute&&t.getAttribute(r))&&i.setAttribute(r,o);n.head.appendChild(i).parentNode.removeChild(i)}function C(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?d[p.call(e)]||"object":typeof e}var k=function(e,t){return new k.fn.init(e,t)},S=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function T(e){var t=!!e&&"length"in e&&e.length,n=C(e);return!b(e)&&!y(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}k.fn=k.prototype={jquery:"3.4.1",constructor:k,length:0,toArray:function(){return s.call(this)},get:function(e){return null==e?s.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=k.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return k.each(this,e)},map:function(e){return this.pushStack(k.map(this,(function(t,n){return e.call(t,n,t)})))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:l,sort:i.sort,splice:i.splice},k.extend=k.fn.extend=function(){var e,t,n,r,o,i,a=arguments[0]||{},u=1,s=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[u]||{},u++),"object"==typeof a||b(a)||(a={}),u===s&&(a=this,u--);u<s;u++)if(null!=(e=arguments[u]))for(t in e)r=e[t],"__proto__"!==t&&a!==r&&(c&&r&&(k.isPlainObject(r)||(o=Array.isArray(r)))?(n=a[t],i=o&&!Array.isArray(n)?[]:o||k.isPlainObject(n)?n:{},o=!1,a[t]=k.extend(c,i,r)):void 0!==r&&(a[t]=r));return a},k.extend({expando:"jQuery"+("3.4.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==p.call(e))&&(!(t=u(e))||"function"==typeof(n=m.call(t,"constructor")&&t.constructor)&&h.call(n)===g)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t){x(e,{nonce:t&&t.nonce})},each:function(e,t){var n,r=0;if(T(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:function(e){return null==e?"":(e+"").replace(S,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(T(Object(e))?k.merge(n,"string"==typeof e?[e]:e):l.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:f.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,o=e.length;r<n;r++)e[o++]=t[r];return e.length=o,e},grep:function(e,t,n){for(var r=[],o=0,i=e.length,a=!n;o<i;o++)!t(e[o],o)!==a&&r.push(e[o]);return r},map:function(e,t,n){var r,o,i=0,a=[];if(T(e))for(r=e.length;i<r;i++)null!=(o=t(e[i],i,n))&&a.push(o);else for(i in e)null!=(o=t(e[i],i,n))&&a.push(o);return c.apply([],a)},guid:1,support:v}),"function"==typeof Symbol&&(k.fn[Symbol.iterator]=i[Symbol.iterator]),k.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){d["[object "+t+"]"]=t.toLowerCase()}));var E=function(e){var t,n,r,o,i,a,u,s,c,l,f,d,p,m,h,g,v,b,y,w="sizzle"+1*new Date,x=e.document,C=0,k=0,S=se(),T=se(),E=se(),O=se(),_=function(e,t){return e===t&&(f=!0),0},A={}.hasOwnProperty,D=[],N=D.pop,M=D.push,R=D.push,z=D.slice,I=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},B="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",P="[\\x20\\t\\r\\n\\f]",L="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",F="\\["+P+"*("+L+")(?:"+P+"*([*^$|!~]?=)"+P+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+L+"))|)"+P+"*\\]",H=":("+L+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+F+")*)|.*)\\)|)",j=new RegExp(P+"+","g"),V=new RegExp("^"+P+"+|((?:^|[^\\\\])(?:\\\\.)*)"+P+"+$","g"),U=new RegExp("^"+P+"*,"+P+"*"),$=new RegExp("^"+P+"*([>+~]|"+P+")"+P+"*"),q=new RegExp(P+"|>"),W=new RegExp(H),Y=new RegExp("^"+L+"$"),X={ID:new RegExp("^#("+L+")"),CLASS:new RegExp("^\\.("+L+")"),TAG:new RegExp("^("+L+"|[*])"),ATTR:new RegExp("^"+F),PSEUDO:new RegExp("^"+H),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+P+"*(even|odd|(([+-]|)(\\d*)n|)"+P+"*(?:([+-]|)"+P+"*(\\d+)|))"+P+"*\\)|)","i"),bool:new RegExp("^(?:"+B+")$","i"),needsContext:new RegExp("^"+P+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+P+"*((?:-\\d)?\\d*)"+P+"*\\)|)(?=[^-]|$)","i")},G=/HTML$/i,K=/^(?:input|select|textarea|button)$/i,J=/^h\d$/i,Q=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\([\\da-f]{1,6}"+P+"?|("+P+")|.)","ig"),ne=function(e,t,n){var r="0x"+t-65536;return r!=r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},re=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,oe=function(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},ie=function(){d()},ae=we((function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()}),{dir:"parentNode",next:"legend"});try{R.apply(D=z.call(x.childNodes),x.childNodes),D[x.childNodes.length].nodeType}catch(e){R={apply:D.length?function(e,t){M.apply(e,z.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function ue(e,t,r,o){var i,u,c,l,f,m,v,b=t&&t.ownerDocument,C=t?t.nodeType:9;if(r=r||[],"string"!=typeof e||!e||1!==C&&9!==C&&11!==C)return r;if(!o&&((t?t.ownerDocument||t:x)!==p&&d(t),t=t||p,h)){if(11!==C&&(f=Z.exec(e)))if(i=f[1]){if(9===C){if(!(c=t.getElementById(i)))return r;if(c.id===i)return r.push(c),r}else if(b&&(c=b.getElementById(i))&&y(t,c)&&c.id===i)return r.push(c),r}else{if(f[2])return R.apply(r,t.getElementsByTagName(e)),r;if((i=f[3])&&n.getElementsByClassName&&t.getElementsByClassName)return R.apply(r,t.getElementsByClassName(i)),r}if(n.qsa&&!O[e+" "]&&(!g||!g.test(e))&&(1!==C||"object"!==t.nodeName.toLowerCase())){if(v=e,b=t,1===C&&q.test(e)){for((l=t.getAttribute("id"))?l=l.replace(re,oe):t.setAttribute("id",l=w),u=(m=a(e)).length;u--;)m[u]="#"+l+" "+ye(m[u]);v=m.join(","),b=ee.test(e)&&ve(t.parentNode)||t}try{return R.apply(r,b.querySelectorAll(v)),r}catch(t){O(e,!0)}finally{l===w&&t.removeAttribute("id")}}}return s(e.replace(V,"$1"),t,r,o)}function se(){var e=[];return function t(n,o){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=o}}function ce(e){return e[w]=!0,e}function le(e){var t=p.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function fe(e,t){for(var n=e.split("|"),o=n.length;o--;)r.attrHandle[n[o]]=t}function de(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function pe(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function me(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function he(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&ae(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function ge(e){return ce((function(t){return t=+t,ce((function(n,r){for(var o,i=e([],n.length,t),a=i.length;a--;)n[o=i[a]]&&(n[o]=!(r[o]=n[o]))}))}))}function ve(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=ue.support={},i=ue.isXML=function(e){var t=e.namespaceURI,n=(e.ownerDocument||e).documentElement;return!G.test(t||n&&n.nodeName||"HTML")},d=ue.setDocument=function(e){var t,o,a=e?e.ownerDocument||e:x;return a!==p&&9===a.nodeType&&a.documentElement?(m=(p=a).documentElement,h=!i(p),x!==p&&(o=p.defaultView)&&o.top!==o&&(o.addEventListener?o.addEventListener("unload",ie,!1):o.attachEvent&&o.attachEvent("onunload",ie)),n.attributes=le((function(e){return e.className="i",!e.getAttribute("className")})),n.getElementsByTagName=le((function(e){return e.appendChild(p.createComment("")),!e.getElementsByTagName("*").length})),n.getElementsByClassName=Q.test(p.getElementsByClassName),n.getById=le((function(e){return m.appendChild(e).id=w,!p.getElementsByName||!p.getElementsByName(w).length})),n.getById?(r.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}},r.find.ID=function(e,t){if(void 0!==t.getElementById&&h){var n=t.getElementById(e);return n?[n]:[]}}):(r.filter.ID=function(e){var t=e.replace(te,ne);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},r.find.ID=function(e,t){if(void 0!==t.getElementById&&h){var n,r,o,i=t.getElementById(e);if(i){if((n=i.getAttributeNode("id"))&&n.value===e)return[i];for(o=t.getElementsByName(e),r=0;i=o[r++];)if((n=i.getAttributeNode("id"))&&n.value===e)return[i]}return[]}}),r.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],o=0,i=t.getElementsByTagName(e);if("*"===e){for(;n=i[o++];)1===n.nodeType&&r.push(n);return r}return i},r.find.CLASS=n.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&h)return t.getElementsByClassName(e)},v=[],g=[],(n.qsa=Q.test(p.querySelectorAll))&&(le((function(e){m.appendChild(e).innerHTML="<a id='"+w+"'></a><select id='"+w+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]="+P+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||g.push("\\["+P+"*(?:value|"+B+")"),e.querySelectorAll("[id~="+w+"-]").length||g.push("~="),e.querySelectorAll(":checked").length||g.push(":checked"),e.querySelectorAll("a#"+w+"+*").length||g.push(".#.+[+~]")})),le((function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=p.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&g.push("name"+P+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&g.push(":enabled",":disabled"),m.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&g.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),g.push(",.*:")}))),(n.matchesSelector=Q.test(b=m.matches||m.webkitMatchesSelector||m.mozMatchesSelector||m.oMatchesSelector||m.msMatchesSelector))&&le((function(e){n.disconnectedMatch=b.call(e,"*"),b.call(e,"[s!='']:x"),v.push("!=",H)})),g=g.length&&new RegExp(g.join("|")),v=v.length&&new RegExp(v.join("|")),t=Q.test(m.compareDocumentPosition),y=t||Q.test(m.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},_=t?function(e,t){if(e===t)return f=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(1&(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===r?e===p||e.ownerDocument===x&&y(x,e)?-1:t===p||t.ownerDocument===x&&y(x,t)?1:l?I(l,e)-I(l,t):0:4&r?-1:1)}:function(e,t){if(e===t)return f=!0,0;var n,r=0,o=e.parentNode,i=t.parentNode,a=[e],u=[t];if(!o||!i)return e===p?-1:t===p?1:o?-1:i?1:l?I(l,e)-I(l,t):0;if(o===i)return de(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)u.unshift(n);for(;a[r]===u[r];)r++;return r?de(a[r],u[r]):a[r]===x?-1:u[r]===x?1:0},p):p},ue.matches=function(e,t){return ue(e,null,null,t)},ue.matchesSelector=function(e,t){if((e.ownerDocument||e)!==p&&d(e),n.matchesSelector&&h&&!O[t+" "]&&(!v||!v.test(t))&&(!g||!g.test(t)))try{var r=b.call(e,t);if(r||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){O(t,!0)}return ue(t,p,null,[e]).length>0},ue.contains=function(e,t){return(e.ownerDocument||e)!==p&&d(e),y(e,t)},ue.attr=function(e,t){(e.ownerDocument||e)!==p&&d(e);var o=r.attrHandle[t.toLowerCase()],i=o&&A.call(r.attrHandle,t.toLowerCase())?o(e,t,!h):void 0;return void 0!==i?i:n.attributes||!h?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},ue.escape=function(e){return(e+"").replace(re,oe)},ue.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ue.uniqueSort=function(e){var t,r=[],o=0,i=0;if(f=!n.detectDuplicates,l=!n.sortStable&&e.slice(0),e.sort(_),f){for(;t=e[i++];)t===e[i]&&(o=r.push(i));for(;o--;)e.splice(r[o],1)}return l=null,e},o=ue.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=o(t);return n},(r=ue.selectors={cacheLength:50,createPseudo:ce,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ue.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ue.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return X.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&W.test(n)&&(t=a(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=S[e+" "];return t||(t=new RegExp("(^|"+P+")"+e+"("+P+"|$)"))&&S(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(r){var o=ue.attr(r,e);return null==o?"!="===t:!t||(o+="","="===t?o===n:"!="===t?o!==n:"^="===t?n&&0===o.indexOf(n):"*="===t?n&&o.indexOf(n)>-1:"$="===t?n&&o.slice(-n.length)===n:"~="===t?(" "+o.replace(j," ")+" ").indexOf(n)>-1:"|="===t&&(o===n||o.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,o){var i="nth"!==e.slice(0,3),a="last"!==e.slice(-4),u="of-type"===t;return 1===r&&0===o?function(e){return!!e.parentNode}:function(t,n,s){var c,l,f,d,p,m,h=i!==a?"nextSibling":"previousSibling",g=t.parentNode,v=u&&t.nodeName.toLowerCase(),b=!s&&!u,y=!1;if(g){if(i){for(;h;){for(d=t;d=d[h];)if(u?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;m=h="only"===e&&!m&&"nextSibling"}return!0}if(m=[a?g.firstChild:g.lastChild],a&&b){for(y=(p=(c=(l=(f=(d=g)[w]||(d[w]={}))[d.uniqueID]||(f[d.uniqueID]={}))[e]||[])[0]===C&&c[1])&&c[2],d=p&&g.childNodes[p];d=++p&&d&&d[h]||(y=p=0)||m.pop();)if(1===d.nodeType&&++y&&d===t){l[e]=[C,p,y];break}}else if(b&&(y=p=(c=(l=(f=(d=t)[w]||(d[w]={}))[d.uniqueID]||(f[d.uniqueID]={}))[e]||[])[0]===C&&c[1]),!1===y)for(;(d=++p&&d&&d[h]||(y=p=0)||m.pop())&&((u?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++y||(b&&((l=(f=d[w]||(d[w]={}))[d.uniqueID]||(f[d.uniqueID]={}))[e]=[C,y]),d!==t)););return(y-=o)===r||y%r==0&&y/r>=0}}},PSEUDO:function(e,t){var n,o=r.pseudos[e]||r.setFilters[e.toLowerCase()]||ue.error("unsupported pseudo: "+e);return o[w]?o(t):o.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?ce((function(e,n){for(var r,i=o(e,t),a=i.length;a--;)e[r=I(e,i[a])]=!(n[r]=i[a])})):function(e){return o(e,0,n)}):o}},pseudos:{not:ce((function(e){var t=[],n=[],r=u(e.replace(V,"$1"));return r[w]?ce((function(e,t,n,o){for(var i,a=r(e,null,o,[]),u=e.length;u--;)(i=a[u])&&(e[u]=!(t[u]=i))})):function(e,o,i){return t[0]=e,r(t,null,i,n),t[0]=null,!n.pop()}})),has:ce((function(e){return function(t){return ue(e,t).length>0}})),contains:ce((function(e){return e=e.replace(te,ne),function(t){return(t.textContent||o(t)).indexOf(e)>-1}})),lang:ce((function(e){return Y.test(e||"")||ue.error("unsupported lang: "+e),e=e.replace(te,ne).toLowerCase(),function(t){var n;do{if(n=h?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===m},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:he(!1),disabled:he(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return J.test(e.nodeName)},input:function(e){return K.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ge((function(){return[0]})),last:ge((function(e,t){return[t-1]})),eq:ge((function(e,t,n){return[n<0?n+t:n]})),even:ge((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:ge((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:ge((function(e,t,n){for(var r=n<0?n+t:n>t?t:n;--r>=0;)e.push(r);return e})),gt:ge((function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e}))}}).pseudos.nth=r.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=pe(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=me(t);function be(){}function ye(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function we(e,t,n){var r=t.dir,o=t.next,i=o||r,a=n&&"parentNode"===i,u=k++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||a)return e(t,n,o);return!1}:function(t,n,s){var c,l,f,d=[C,u];if(s){for(;t=t[r];)if((1===t.nodeType||a)&&e(t,n,s))return!0}else for(;t=t[r];)if(1===t.nodeType||a)if(l=(f=t[w]||(t[w]={}))[t.uniqueID]||(f[t.uniqueID]={}),o&&o===t.nodeName.toLowerCase())t=t[r]||t;else{if((c=l[i])&&c[0]===C&&c[1]===u)return d[2]=c[2];if(l[i]=d,d[2]=e(t,n,s))return!0}return!1}}function xe(e){return e.length>1?function(t,n,r){for(var o=e.length;o--;)if(!e[o](t,n,r))return!1;return!0}:e[0]}function Ce(e,t,n,r,o){for(var i,a=[],u=0,s=e.length,c=null!=t;u<s;u++)(i=e[u])&&(n&&!n(i,r,o)||(a.push(i),c&&t.push(u)));return a}function ke(e,t,n,r,o,i){return r&&!r[w]&&(r=ke(r)),o&&!o[w]&&(o=ke(o,i)),ce((function(i,a,u,s){var c,l,f,d=[],p=[],m=a.length,h=i||function(e,t,n){for(var r=0,o=t.length;r<o;r++)ue(e,t[r],n);return n}(t||"*",u.nodeType?[u]:u,[]),g=!e||!i&&t?h:Ce(h,d,e,u,s),v=n?o||(i?e:m||r)?[]:a:g;if(n&&n(g,v,u,s),r)for(c=Ce(v,p),r(c,[],u,s),l=c.length;l--;)(f=c[l])&&(v[p[l]]=!(g[p[l]]=f));if(i){if(o||e){if(o){for(c=[],l=v.length;l--;)(f=v[l])&&c.push(g[l]=f);o(null,v=[],c,s)}for(l=v.length;l--;)(f=v[l])&&(c=o?I(i,f):d[l])>-1&&(i[c]=!(a[c]=f))}}else v=Ce(v===a?v.splice(m,v.length):v),o?o(null,a,v,s):R.apply(a,v)}))}function Se(e){for(var t,n,o,i=e.length,a=r.relative[e[0].type],u=a||r.relative[" "],s=a?1:0,l=we((function(e){return e===t}),u,!0),f=we((function(e){return I(t,e)>-1}),u,!0),d=[function(e,n,r){var o=!a&&(r||n!==c)||((t=n).nodeType?l(e,n,r):f(e,n,r));return t=null,o}];s<i;s++)if(n=r.relative[e[s].type])d=[we(xe(d),n)];else{if((n=r.filter[e[s].type].apply(null,e[s].matches))[w]){for(o=++s;o<i&&!r.relative[e[o].type];o++);return ke(s>1&&xe(d),s>1&&ye(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(V,"$1"),n,s<o&&Se(e.slice(s,o)),o<i&&Se(e=e.slice(o)),o<i&&ye(e))}d.push(n)}return xe(d)}return be.prototype=r.filters=r.pseudos,r.setFilters=new be,a=ue.tokenize=function(e,t){var n,o,i,a,u,s,c,l=T[e+" "];if(l)return t?0:l.slice(0);for(u=e,s=[],c=r.preFilter;u;){for(a in n&&!(o=U.exec(u))||(o&&(u=u.slice(o[0].length)||u),s.push(i=[])),n=!1,(o=$.exec(u))&&(n=o.shift(),i.push({value:n,type:o[0].replace(V," ")}),u=u.slice(n.length)),r.filter)!(o=X[a].exec(u))||c[a]&&!(o=c[a](o))||(n=o.shift(),i.push({value:n,type:a,matches:o}),u=u.slice(n.length));if(!n)break}return t?u.length:u?ue.error(e):T(e,s).slice(0)},u=ue.compile=function(e,t){var n,o=[],i=[],u=E[e+" "];if(!u){for(t||(t=a(e)),n=t.length;n--;)(u=Se(t[n]))[w]?o.push(u):i.push(u);(u=E(e,function(e,t){var n=t.length>0,o=e.length>0,i=function(i,a,u,s,l){var f,m,g,v=0,b="0",y=i&&[],w=[],x=c,k=i||o&&r.find.TAG("*",l),S=C+=null==x?1:Math.random()||.1,T=k.length;for(l&&(c=a===p||a||l);b!==T&&null!=(f=k[b]);b++){if(o&&f){for(m=0,a||f.ownerDocument===p||(d(f),u=!h);g=e[m++];)if(g(f,a||p,u)){s.push(f);break}l&&(C=S)}n&&((f=!g&&f)&&v--,i&&y.push(f))}if(v+=b,n&&b!==v){for(m=0;g=t[m++];)g(y,w,a,u);if(i){if(v>0)for(;b--;)y[b]||w[b]||(w[b]=N.call(s));w=Ce(w)}R.apply(s,w),l&&!i&&w.length>0&&v+t.length>1&&ue.uniqueSort(s)}return l&&(C=S,c=x),y};return n?ce(i):i}(i,o))).selector=e}return u},s=ue.select=function(e,t,n,o){var i,s,c,l,f,d="function"==typeof e&&e,p=!o&&a(e=d.selector||e);if(n=n||[],1===p.length){if((s=p[0]=p[0].slice(0)).length>2&&"ID"===(c=s[0]).type&&9===t.nodeType&&h&&r.relative[s[1].type]){if(!(t=(r.find.ID(c.matches[0].replace(te,ne),t)||[])[0]))return n;d&&(t=t.parentNode),e=e.slice(s.shift().value.length)}for(i=X.needsContext.test(e)?0:s.length;i--&&(c=s[i],!r.relative[l=c.type]);)if((f=r.find[l])&&(o=f(c.matches[0].replace(te,ne),ee.test(s[0].type)&&ve(t.parentNode)||t))){if(s.splice(i,1),!(e=o.length&&ye(s)))return R.apply(n,o),n;break}}return(d||u(e,p))(o,t,!h,n,!t||ee.test(e)&&ve(t.parentNode)||t),n},n.sortStable=w.split("").sort(_).join("")===w,n.detectDuplicates=!!f,d(),n.sortDetached=le((function(e){return 1&e.compareDocumentPosition(p.createElement("fieldset"))})),le((function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")}))||fe("type|href|height|width",(function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)})),n.attributes&&le((function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")}))||fe("value",(function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue})),le((function(e){return null==e.getAttribute("disabled")}))||fe(B,(function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null})),ue}(n);k.find=E,k.expr=E.selectors,k.expr[":"]=k.expr.pseudos,k.uniqueSort=k.unique=E.uniqueSort,k.text=E.getText,k.isXMLDoc=E.isXML,k.contains=E.contains,k.escapeSelector=E.escape;var O=function(e,t,n){for(var r=[],o=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&k(e).is(n))break;r.push(e)}return r},_=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},A=k.expr.match.needsContext;function D(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var N=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function M(e,t,n){return b(t)?k.grep(e,(function(e,r){return!!t.call(e,r,e)!==n})):t.nodeType?k.grep(e,(function(e){return e===t!==n})):"string"!=typeof t?k.grep(e,(function(e){return f.call(t,e)>-1!==n})):k.filter(t,e,n)}k.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?k.find.matchesSelector(r,e)?[r]:[]:k.find.matches(e,k.grep(t,(function(e){return 1===e.nodeType})))},k.fn.extend({find:function(e){var t,n,r=this.length,o=this;if("string"!=typeof e)return this.pushStack(k(e).filter((function(){for(t=0;t<r;t++)if(k.contains(o[t],this))return!0})));for(n=this.pushStack([]),t=0;t<r;t++)k.find(e,o[t],n);return r>1?k.uniqueSort(n):n},filter:function(e){return this.pushStack(M(this,e||[],!1))},not:function(e){return this.pushStack(M(this,e||[],!0))},is:function(e){return!!M(this,"string"==typeof e&&A.test(e)?k(e):e||[],!1).length}});var R,z=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(k.fn.init=function(e,t,n){var r,o;if(!e)return this;if(n=n||R,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:z.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof k?t[0]:t,k.merge(this,k.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:a,!0)),N.test(r[1])&&k.isPlainObject(t))for(r in t)b(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(o=a.getElementById(r[2]))&&(this[0]=o,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):b(e)?void 0!==n.ready?n.ready(e):e(k):k.makeArray(e,this)}).prototype=k.fn,R=k(a);var I=/^(?:parents|prev(?:Until|All))/,B={children:!0,contents:!0,next:!0,prev:!0};function P(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}k.fn.extend({has:function(e){var t=k(e,this),n=t.length;return this.filter((function(){for(var e=0;e<n;e++)if(k.contains(this,t[e]))return!0}))},closest:function(e,t){var n,r=0,o=this.length,i=[],a="string"!=typeof e&&k(e);if(!A.test(e))for(;r<o;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&k.find.matchesSelector(n,e))){i.push(n);break}return this.pushStack(i.length>1?k.uniqueSort(i):i)},index:function(e){return e?"string"==typeof e?f.call(k(e),this[0]):f.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(k.uniqueSort(k.merge(this.get(),k(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),k.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return O(e,"parentNode")},parentsUntil:function(e,t,n){return O(e,"parentNode",n)},next:function(e){return P(e,"nextSibling")},prev:function(e){return P(e,"previousSibling")},nextAll:function(e){return O(e,"nextSibling")},prevAll:function(e){return O(e,"previousSibling")},nextUntil:function(e,t,n){return O(e,"nextSibling",n)},prevUntil:function(e,t,n){return O(e,"previousSibling",n)},siblings:function(e){return _((e.parentNode||{}).firstChild,e)},children:function(e){return _(e.firstChild)},contents:function(e){return void 0!==e.contentDocument?e.contentDocument:(D(e,"template")&&(e=e.content||e),k.merge([],e.childNodes))}},(function(e,t){k.fn[e]=function(n,r){var o=k.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(o=k.filter(r,o)),this.length>1&&(B[e]||k.uniqueSort(o),I.test(e)&&o.reverse()),this.pushStack(o)}}));var L=/[^\x20\t\r\n\f]+/g;function F(e){return e}function H(e){throw e}function j(e,t,n,r){var o;try{e&&b(o=e.promise)?o.call(e).done(t).fail(n):e&&b(o=e.then)?o.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}k.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return k.each(e.match(L)||[],(function(e,n){t[n]=!0})),t}(e):k.extend({},e);var t,n,r,o,i=[],a=[],u=-1,s=function(){for(o=o||e.once,r=t=!0;a.length;u=-1)for(n=a.shift();++u<i.length;)!1===i[u].apply(n[0],n[1])&&e.stopOnFalse&&(u=i.length,n=!1);e.memory||(n=!1),t=!1,o&&(i=n?[]:"")},c={add:function(){return i&&(n&&!t&&(u=i.length-1,a.push(n)),function t(n){k.each(n,(function(n,r){b(r)?e.unique&&c.has(r)||i.push(r):r&&r.length&&"string"!==C(r)&&t(r)}))}(arguments),n&&!t&&s()),this},remove:function(){return k.each(arguments,(function(e,t){for(var n;(n=k.inArray(t,i,n))>-1;)i.splice(n,1),n<=u&&u--})),this},has:function(e){return e?k.inArray(e,i)>-1:i.length>0},empty:function(){return i&&(i=[]),this},disable:function(){return o=a=[],i=n="",this},disabled:function(){return!i},lock:function(){return o=a=[],n||t||(i=n=""),this},locked:function(){return!!o},fireWith:function(e,n){return o||(n=[e,(n=n||[]).slice?n.slice():n],a.push(n),t||s()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},k.extend({Deferred:function(e){var t=[["notify","progress",k.Callbacks("memory"),k.Callbacks("memory"),2],["resolve","done",k.Callbacks("once memory"),k.Callbacks("once memory"),0,"resolved"],["reject","fail",k.Callbacks("once memory"),k.Callbacks("once memory"),1,"rejected"]],r="pending",o={state:function(){return r},always:function(){return i.done(arguments).fail(arguments),this},catch:function(e){return o.then(null,e)},pipe:function(){var e=arguments;return k.Deferred((function(n){k.each(t,(function(t,r){var o=b(e[r[4]])&&e[r[4]];i[r[1]]((function(){var e=o&&o.apply(this,arguments);e&&b(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[r[0]+"With"](this,o?[e]:arguments)}))})),e=null})).promise()},then:function(e,r,o){var i=0;function a(e,t,r,o){return function(){var u=this,s=arguments,c=function(){var n,c;if(!(e<i)){if((n=r.apply(u,s))===t.promise())throw new TypeError("Thenable self-resolution");c=n&&("object"==typeof n||"function"==typeof n)&&n.then,b(c)?o?c.call(n,a(i,t,F,o),a(i,t,H,o)):(i++,c.call(n,a(i,t,F,o),a(i,t,H,o),a(i,t,F,t.notifyWith))):(r!==F&&(u=void 0,s=[n]),(o||t.resolveWith)(u,s))}},l=o?c:function(){try{c()}catch(n){k.Deferred.exceptionHook&&k.Deferred.exceptionHook(n,l.stackTrace),e+1>=i&&(r!==H&&(u=void 0,s=[n]),t.rejectWith(u,s))}};e?l():(k.Deferred.getStackHook&&(l.stackTrace=k.Deferred.getStackHook()),n.setTimeout(l))}}return k.Deferred((function(n){t[0][3].add(a(0,n,b(o)?o:F,n.notifyWith)),t[1][3].add(a(0,n,b(e)?e:F)),t[2][3].add(a(0,n,b(r)?r:H))})).promise()},promise:function(e){return null!=e?k.extend(e,o):o}},i={};return k.each(t,(function(e,n){var a=n[2],u=n[5];o[n[1]]=a.add,u&&a.add((function(){r=u}),t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),a.add(n[3].fire),i[n[0]]=function(){return i[n[0]+"With"](this===i?void 0:this,arguments),this},i[n[0]+"With"]=a.fireWith})),o.promise(i),e&&e.call(i,i),i},when:function(e){var t=arguments.length,n=t,r=Array(n),o=s.call(arguments),i=k.Deferred(),a=function(e){return function(n){r[e]=this,o[e]=arguments.length>1?s.call(arguments):n,--t||i.resolveWith(r,o)}};if(t<=1&&(j(e,i.done(a(n)).resolve,i.reject,!t),"pending"===i.state()||b(o[n]&&o[n].then)))return i.then();for(;n--;)j(o[n],a(n),i.reject);return i.promise()}});var V=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;k.Deferred.exceptionHook=function(e,t){n.console&&n.console.warn&&e&&V.test(e.name)&&n.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},k.readyException=function(e){n.setTimeout((function(){throw e}))};var U=k.Deferred();function $(){a.removeEventListener("DOMContentLoaded",$),n.removeEventListener("load",$),k.ready()}k.fn.ready=function(e){return U.then(e).catch((function(e){k.readyException(e)})),this},k.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--k.readyWait:k.isReady)||(k.isReady=!0,!0!==e&&--k.readyWait>0||U.resolveWith(a,[k]))}}),k.ready.then=U.then,"complete"===a.readyState||"loading"!==a.readyState&&!a.documentElement.doScroll?n.setTimeout(k.ready):(a.addEventListener("DOMContentLoaded",$),n.addEventListener("load",$));var q=function(e,t,n,r,o,i,a){var u=0,s=e.length,c=null==n;if("object"===C(n))for(u in o=!0,n)q(e,t,u,n[u],!0,i,a);else if(void 0!==r&&(o=!0,b(r)||(a=!0),c&&(a?(t.call(e,r),t=null):(c=t,t=function(e,t,n){return c.call(k(e),n)})),t))for(;u<s;u++)t(e[u],n,a?r:r.call(e[u],u,t(e[u],n)));return o?e:c?t.call(e):s?t(e[0],n):i},W=/^-ms-/,Y=/-([a-z])/g;function X(e,t){return t.toUpperCase()}function G(e){return e.replace(W,"ms-").replace(Y,X)}var K=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function J(){this.expando=k.expando+J.uid++}J.uid=1,J.prototype={cache:function(e){var t=e[this.expando];return t||(t={},K(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,o=this.cache(e);if("string"==typeof t)o[G(t)]=n;else for(r in t)o[G(r)]=t[r];return o},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][G(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(G):(t=G(t))in r?[t]:t.match(L)||[]).length;for(;n--;)delete r[t[n]]}(void 0===t||k.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!k.isEmptyObject(t)}};var Q=new J,Z=new J,ee=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,te=/[A-Z]/g;function ne(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(te,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:ee.test(e)?JSON.parse(e):e)}(n)}catch(e){}Z.set(e,t,n)}else n=void 0;return n}k.extend({hasData:function(e){return Z.hasData(e)||Q.hasData(e)},data:function(e,t,n){return Z.access(e,t,n)},removeData:function(e,t){Z.remove(e,t)},_data:function(e,t,n){return Q.access(e,t,n)},_removeData:function(e,t){Q.remove(e,t)}}),k.fn.extend({data:function(e,t){var n,r,o,i=this[0],a=i&&i.attributes;if(void 0===e){if(this.length&&(o=Z.get(i),1===i.nodeType&&!Q.get(i,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&0===(r=a[n].name).indexOf("data-")&&(r=G(r.slice(5)),ne(i,r,o[r]));Q.set(i,"hasDataAttrs",!0)}return o}return"object"==typeof e?this.each((function(){Z.set(this,e)})):q(this,(function(t){var n;if(i&&void 0===t)return void 0!==(n=Z.get(i,e))?n:void 0!==(n=ne(i,e))?n:void 0;this.each((function(){Z.set(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){Z.remove(this,e)}))}}),k.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=Q.get(e,t),n&&(!r||Array.isArray(n)?r=Q.access(e,t,k.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=k.queue(e,t),r=n.length,o=n.shift(),i=k._queueHooks(e,t);"inprogress"===o&&(o=n.shift(),r--),o&&("fx"===t&&n.unshift("inprogress"),delete i.stop,o.call(e,(function(){k.dequeue(e,t)}),i)),!r&&i&&i.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Q.get(e,n)||Q.access(e,n,{empty:k.Callbacks("once memory").add((function(){Q.remove(e,[t+"queue",n])}))})}}),k.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?k.queue(this[0],e):void 0===t?this:this.each((function(){var n=k.queue(this,e,t);k._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&k.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){k.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,o=k.Deferred(),i=this,a=this.length,u=function(){--r||o.resolveWith(i,[i])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=Q.get(i[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(u));return u(),o.promise(t)}});var re=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,oe=new RegExp("^(?:([+-])=|)("+re+")([a-z%]*)$","i"),ie=["Top","Right","Bottom","Left"],ae=a.documentElement,ue=function(e){return k.contains(e.ownerDocument,e)},se={composed:!0};ae.getRootNode&&(ue=function(e){return k.contains(e.ownerDocument,e)||e.getRootNode(se)===e.ownerDocument});var ce=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&ue(e)&&"none"===k.css(e,"display")},le=function(e,t,n,r){var o,i,a={};for(i in t)a[i]=e.style[i],e.style[i]=t[i];for(i in o=n.apply(e,r||[]),t)e.style[i]=a[i];return o};function fe(e,t,n,r){var o,i,a=20,u=r?function(){return r.cur()}:function(){return k.css(e,t,"")},s=u(),c=n&&n[3]||(k.cssNumber[t]?"":"px"),l=e.nodeType&&(k.cssNumber[t]||"px"!==c&&+s)&&oe.exec(k.css(e,t));if(l&&l[3]!==c){for(s/=2,c=c||l[3],l=+s||1;a--;)k.style(e,t,l+c),(1-i)*(1-(i=u()/s||.5))<=0&&(a=0),l/=i;l*=2,k.style(e,t,l+c),n=n||[]}return n&&(l=+l||+s||0,o=n[1]?l+(n[1]+1)*n[2]:+n[2],r&&(r.unit=c,r.start=l,r.end=o)),o}var de={};function pe(e){var t,n=e.ownerDocument,r=e.nodeName,o=de[r];return o||(t=n.body.appendChild(n.createElement(r)),o=k.css(t,"display"),t.parentNode.removeChild(t),"none"===o&&(o="block"),de[r]=o,o)}function me(e,t){for(var n,r,o=[],i=0,a=e.length;i<a;i++)(r=e[i]).style&&(n=r.style.display,t?("none"===n&&(o[i]=Q.get(r,"display")||null,o[i]||(r.style.display="")),""===r.style.display&&ce(r)&&(o[i]=pe(r))):"none"!==n&&(o[i]="none",Q.set(r,"display",n)));for(i=0;i<a;i++)null!=o[i]&&(e[i].style.display=o[i]);return e}k.fn.extend({show:function(){return me(this,!0)},hide:function(){return me(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){ce(this)?k(this).show():k(this).hide()}))}});var he=/^(?:checkbox|radio)$/i,ge=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,ve=/^$|^module$|\/(?:java|ecma)script/i,be={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ye(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&D(e,t)?k.merge([e],n):n}function we(e,t){for(var n=0,r=e.length;n<r;n++)Q.set(e[n],"globalEval",!t||Q.get(t[n],"globalEval"))}be.optgroup=be.option,be.tbody=be.tfoot=be.colgroup=be.caption=be.thead,be.th=be.td;var xe,Ce,ke=/<|&#?\w+;/;function Se(e,t,n,r,o){for(var i,a,u,s,c,l,f=t.createDocumentFragment(),d=[],p=0,m=e.length;p<m;p++)if((i=e[p])||0===i)if("object"===C(i))k.merge(d,i.nodeType?[i]:i);else if(ke.test(i)){for(a=a||f.appendChild(t.createElement("div")),u=(ge.exec(i)||["",""])[1].toLowerCase(),s=be[u]||be._default,a.innerHTML=s[1]+k.htmlPrefilter(i)+s[2],l=s[0];l--;)a=a.lastChild;k.merge(d,a.childNodes),(a=f.firstChild).textContent=""}else d.push(t.createTextNode(i));for(f.textContent="",p=0;i=d[p++];)if(r&&k.inArray(i,r)>-1)o&&o.push(i);else if(c=ue(i),a=ye(f.appendChild(i),"script"),c&&we(a),n)for(l=0;i=a[l++];)ve.test(i.type||"")&&n.push(i);return f}xe=a.createDocumentFragment().appendChild(a.createElement("div")),(Ce=a.createElement("input")).setAttribute("type","radio"),Ce.setAttribute("checked","checked"),Ce.setAttribute("name","t"),xe.appendChild(Ce),v.checkClone=xe.cloneNode(!0).cloneNode(!0).lastChild.checked,xe.innerHTML="<textarea>x</textarea>",v.noCloneChecked=!!xe.cloneNode(!0).lastChild.defaultValue;var Te=/^key/,Ee=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Oe=/^([^.]*)(?:\.(.+)|)/;function _e(){return!0}function Ae(){return!1}function De(e,t){return e===function(){try{return a.activeElement}catch(e){}}()==("focus"===t)}function Ne(e,t,n,r,o,i){var a,u;if("object"==typeof t){for(u in"string"!=typeof n&&(r=r||n,n=void 0),t)Ne(e,u,n,r,t[u],i);return e}if(null==r&&null==o?(o=n,r=n=void 0):null==o&&("string"==typeof n?(o=r,r=void 0):(o=r,r=n,n=void 0)),!1===o)o=Ae;else if(!o)return e;return 1===i&&(a=o,(o=function(e){return k().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=k.guid++)),e.each((function(){k.event.add(this,t,o,r,n)}))}function Me(e,t,n){n?(Q.set(e,t,!1),k.event.add(e,t,{namespace:!1,handler:function(e){var r,o,i=Q.get(this,t);if(1&e.isTrigger&&this[t]){if(i.length)(k.event.special[t]||{}).delegateType&&e.stopPropagation();else if(i=s.call(arguments),Q.set(this,t,i),r=n(this,t),this[t](),i!==(o=Q.get(this,t))||r?Q.set(this,t,!1):o={},i!==o)return e.stopImmediatePropagation(),e.preventDefault(),o.value}else i.length&&(Q.set(this,t,{value:k.event.trigger(k.extend(i[0],k.Event.prototype),i.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===Q.get(e,t)&&k.event.add(e,t,_e)}k.event={global:{},add:function(e,t,n,r,o){var i,a,u,s,c,l,f,d,p,m,h,g=Q.get(e);if(g)for(n.handler&&(n=(i=n).handler,o=i.selector),o&&k.find.matchesSelector(ae,o),n.guid||(n.guid=k.guid++),(s=g.events)||(s=g.events={}),(a=g.handle)||(a=g.handle=function(t){return void 0!==k&&k.event.triggered!==t.type?k.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match(L)||[""]).length;c--;)p=h=(u=Oe.exec(t[c])||[])[1],m=(u[2]||"").split(".").sort(),p&&(f=k.event.special[p]||{},p=(o?f.delegateType:f.bindType)||p,f=k.event.special[p]||{},l=k.extend({type:p,origType:h,data:r,handler:n,guid:n.guid,selector:o,needsContext:o&&k.expr.match.needsContext.test(o),namespace:m.join(".")},i),(d=s[p])||((d=s[p]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(e,r,m,a)||e.addEventListener&&e.addEventListener(p,a)),f.add&&(f.add.call(e,l),l.handler.guid||(l.handler.guid=n.guid)),o?d.splice(d.delegateCount++,0,l):d.push(l),k.event.global[p]=!0)},remove:function(e,t,n,r,o){var i,a,u,s,c,l,f,d,p,m,h,g=Q.hasData(e)&&Q.get(e);if(g&&(s=g.events)){for(c=(t=(t||"").match(L)||[""]).length;c--;)if(p=h=(u=Oe.exec(t[c])||[])[1],m=(u[2]||"").split(".").sort(),p){for(f=k.event.special[p]||{},d=s[p=(r?f.delegateType:f.bindType)||p]||[],u=u[2]&&new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=i=d.length;i--;)l=d[i],!o&&h!==l.origType||n&&n.guid!==l.guid||u&&!u.test(l.namespace)||r&&r!==l.selector&&("**"!==r||!l.selector)||(d.splice(i,1),l.selector&&d.delegateCount--,f.remove&&f.remove.call(e,l));a&&!d.length&&(f.teardown&&!1!==f.teardown.call(e,m,g.handle)||k.removeEvent(e,p,g.handle),delete s[p])}else for(p in s)k.event.remove(e,p+t[c],n,r,!0);k.isEmptyObject(s)&&Q.remove(e,"handle events")}},dispatch:function(e){var t,n,r,o,i,a,u=k.event.fix(e),s=new Array(arguments.length),c=(Q.get(this,"events")||{})[u.type]||[],l=k.event.special[u.type]||{};for(s[0]=u,t=1;t<arguments.length;t++)s[t]=arguments[t];if(u.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,u)){for(a=k.event.handlers.call(this,u,c),t=0;(o=a[t++])&&!u.isPropagationStopped();)for(u.currentTarget=o.elem,n=0;(i=o.handlers[n++])&&!u.isImmediatePropagationStopped();)u.rnamespace&&!1!==i.namespace&&!u.rnamespace.test(i.namespace)||(u.handleObj=i,u.data=i.data,void 0!==(r=((k.event.special[i.origType]||{}).handle||i.handler).apply(o.elem,s))&&!1===(u.result=r)&&(u.preventDefault(),u.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,u),u.result}},handlers:function(e,t){var n,r,o,i,a,u=[],s=t.delegateCount,c=e.target;if(s&&c.nodeType&&!("click"===e.type&&e.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(i=[],a={},n=0;n<s;n++)void 0===a[o=(r=t[n]).selector+" "]&&(a[o]=r.needsContext?k(o,this).index(c)>-1:k.find(o,this,null,[c]).length),a[o]&&i.push(r);i.length&&u.push({elem:c,handlers:i})}return c=this,s<t.length&&u.push({elem:c,handlers:t.slice(s)}),u},addProp:function(e,t){Object.defineProperty(k.Event.prototype,e,{enumerable:!0,configurable:!0,get:b(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[k.expando]?e:new k.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return he.test(t.type)&&t.click&&D(t,"input")&&Me(t,"click",_e),!1},trigger:function(e){var t=this||e;return he.test(t.type)&&t.click&&D(t,"input")&&Me(t,"click"),!0},_default:function(e){var t=e.target;return he.test(t.type)&&t.click&&D(t,"input")&&Q.get(t,"click")||D(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},k.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},k.Event=function(e,t){if(!(this instanceof k.Event))return new k.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?_e:Ae,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&k.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[k.expando]=!0},k.Event.prototype={constructor:k.Event,isDefaultPrevented:Ae,isPropagationStopped:Ae,isImmediatePropagationStopped:Ae,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=_e,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=_e,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=_e,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},k.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&Te.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&Ee.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},k.event.addProp),k.each({focus:"focusin",blur:"focusout"},(function(e,t){k.event.special[e]={setup:function(){return Me(this,e,De),!1},trigger:function(){return Me(this,e),!0},delegateType:t}})),k.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){k.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,o=e.relatedTarget,i=e.handleObj;return o&&(o===r||k.contains(r,o))||(e.type=i.origType,n=i.handler.apply(this,arguments),e.type=t),n}}})),k.fn.extend({on:function(e,t,n,r){return Ne(this,e,t,n,r)},one:function(e,t,n,r){return Ne(this,e,t,n,r,1)},off:function(e,t,n){var r,o;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,k(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(o in e)this.off(o,t,e[o]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Ae),this.each((function(){k.event.remove(this,e,n,t)}))}});var Re=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,ze=/<script|<style|<link/i,Ie=/checked\s*(?:[^=]|=\s*.checked.)/i,Be=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Pe(e,t){return D(e,"table")&&D(11!==t.nodeType?t:t.firstChild,"tr")&&k(e).children("tbody")[0]||e}function Le(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Fe(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function He(e,t){var n,r,o,i,a,u,s,c;if(1===t.nodeType){if(Q.hasData(e)&&(i=Q.access(e),a=Q.set(t,i),c=i.events))for(o in delete a.handle,a.events={},c)for(n=0,r=c[o].length;n<r;n++)k.event.add(t,o,c[o][n]);Z.hasData(e)&&(u=Z.access(e),s=k.extend({},u),Z.set(t,s))}}function je(e,t){var n=t.nodeName.toLowerCase();"input"===n&&he.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function Ve(e,t,n,r){t=c.apply([],t);var o,i,a,u,s,l,f=0,d=e.length,p=d-1,m=t[0],h=b(m);if(h||d>1&&"string"==typeof m&&!v.checkClone&&Ie.test(m))return e.each((function(o){var i=e.eq(o);h&&(t[0]=m.call(this,o,i.html())),Ve(i,t,n,r)}));if(d&&(i=(o=Se(t,e[0].ownerDocument,!1,e,r)).firstChild,1===o.childNodes.length&&(o=i),i||r)){for(u=(a=k.map(ye(o,"script"),Le)).length;f<d;f++)s=o,f!==p&&(s=k.clone(s,!0,!0),u&&k.merge(a,ye(s,"script"))),n.call(e[f],s,f);if(u)for(l=a[a.length-1].ownerDocument,k.map(a,Fe),f=0;f<u;f++)s=a[f],ve.test(s.type||"")&&!Q.access(s,"globalEval")&&k.contains(l,s)&&(s.src&&"module"!==(s.type||"").toLowerCase()?k._evalUrl&&!s.noModule&&k._evalUrl(s.src,{nonce:s.nonce||s.getAttribute("nonce")}):x(s.textContent.replace(Be,""),s,l))}return e}function Ue(e,t,n){for(var r,o=t?k.filter(t,e):e,i=0;null!=(r=o[i]);i++)n||1!==r.nodeType||k.cleanData(ye(r)),r.parentNode&&(n&&ue(r)&&we(ye(r,"script")),r.parentNode.removeChild(r));return e}k.extend({htmlPrefilter:function(e){return e.replace(Re,"<$1></$2>")},clone:function(e,t,n){var r,o,i,a,u=e.cloneNode(!0),s=ue(e);if(!(v.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||k.isXMLDoc(e)))for(a=ye(u),r=0,o=(i=ye(e)).length;r<o;r++)je(i[r],a[r]);if(t)if(n)for(i=i||ye(e),a=a||ye(u),r=0,o=i.length;r<o;r++)He(i[r],a[r]);else He(e,u);return(a=ye(u,"script")).length>0&&we(a,!s&&ye(e,"script")),u},cleanData:function(e){for(var t,n,r,o=k.event.special,i=0;void 0!==(n=e[i]);i++)if(K(n)){if(t=n[Q.expando]){if(t.events)for(r in t.events)o[r]?k.event.remove(n,r):k.removeEvent(n,r,t.handle);n[Q.expando]=void 0}n[Z.expando]&&(n[Z.expando]=void 0)}}}),k.fn.extend({detach:function(e){return Ue(this,e,!0)},remove:function(e){return Ue(this,e)},text:function(e){return q(this,(function(e){return void 0===e?k.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return Ve(this,arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Pe(this,e).appendChild(e)}))},prepend:function(){return Ve(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Pe(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return Ve(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return Ve(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(k.cleanData(ye(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return k.clone(this,e,t)}))},html:function(e){return q(this,(function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!ze.test(e)&&!be[(ge.exec(e)||["",""])[1].toLowerCase()]){e=k.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(k.cleanData(ye(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return Ve(this,arguments,(function(t){var n=this.parentNode;k.inArray(this,e)<0&&(k.cleanData(ye(this)),n&&n.replaceChild(t,this))}),e)}}),k.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){k.fn[e]=function(e){for(var n,r=[],o=k(e),i=o.length-1,a=0;a<=i;a++)n=a===i?this:this.clone(!0),k(o[a])[t](n),l.apply(r,n.get());return this.pushStack(r)}}));var $e=new RegExp("^("+re+")(?!px)[a-z%]+$","i"),qe=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=n),t.getComputedStyle(e)},We=new RegExp(ie.join("|"),"i");function Ye(e,t,n){var r,o,i,a,u=e.style;return(n=n||qe(e))&&(""!==(a=n.getPropertyValue(t)||n[t])||ue(e)||(a=k.style(e,t)),!v.pixelBoxStyles()&&$e.test(a)&&We.test(t)&&(r=u.width,o=u.minWidth,i=u.maxWidth,u.minWidth=u.maxWidth=u.width=a,a=n.width,u.width=r,u.minWidth=o,u.maxWidth=i)),void 0!==a?a+"":a}function Xe(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(l){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ae.appendChild(c).appendChild(l);var e=n.getComputedStyle(l);r="1%"!==e.top,s=12===t(e.marginLeft),l.style.right="60%",u=36===t(e.right),o=36===t(e.width),l.style.position="absolute",i=12===t(l.offsetWidth/3),ae.removeChild(c),l=null}}function t(e){return Math.round(parseFloat(e))}var r,o,i,u,s,c=a.createElement("div"),l=a.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",v.clearCloneStyle="content-box"===l.style.backgroundClip,k.extend(v,{boxSizingReliable:function(){return e(),o},pixelBoxStyles:function(){return e(),u},pixelPosition:function(){return e(),r},reliableMarginLeft:function(){return e(),s},scrollboxSize:function(){return e(),i}}))}();var Ge=["Webkit","Moz","ms"],Ke=a.createElement("div").style,Je={};function Qe(e){var t=k.cssProps[e]||Je[e];return t||(e in Ke?e:Je[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=Ge.length;n--;)if((e=Ge[n]+t)in Ke)return e}(e)||e)}var Ze=/^(none|table(?!-c[ea]).+)/,et=/^--/,tt={position:"absolute",visibility:"hidden",display:"block"},nt={letterSpacing:"0",fontWeight:"400"};function rt(e,t,n){var r=oe.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function ot(e,t,n,r,o,i){var a="width"===t?1:0,u=0,s=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(s+=k.css(e,n+ie[a],!0,o)),r?("content"===n&&(s-=k.css(e,"padding"+ie[a],!0,o)),"margin"!==n&&(s-=k.css(e,"border"+ie[a]+"Width",!0,o))):(s+=k.css(e,"padding"+ie[a],!0,o),"padding"!==n?s+=k.css(e,"border"+ie[a]+"Width",!0,o):u+=k.css(e,"border"+ie[a]+"Width",!0,o));return!r&&i>=0&&(s+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-i-s-u-.5))||0),s}function it(e,t,n){var r=qe(e),o=(!v.boxSizingReliable()||n)&&"border-box"===k.css(e,"boxSizing",!1,r),i=o,a=Ye(e,t,r),u="offset"+t[0].toUpperCase()+t.slice(1);if($e.test(a)){if(!n)return a;a="auto"}return(!v.boxSizingReliable()&&o||"auto"===a||!parseFloat(a)&&"inline"===k.css(e,"display",!1,r))&&e.getClientRects().length&&(o="border-box"===k.css(e,"boxSizing",!1,r),(i=u in e)&&(a=e[u])),(a=parseFloat(a)||0)+ot(e,t,n||(o?"border":"content"),i,r,a)+"px"}function at(e,t,n,r,o){return new at.prototype.init(e,t,n,r,o)}k.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Ye(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,i,a,u=G(t),s=et.test(t),c=e.style;if(s||(t=Qe(u)),a=k.cssHooks[t]||k.cssHooks[u],void 0===n)return a&&"get"in a&&void 0!==(o=a.get(e,!1,r))?o:c[t];"string"===(i=typeof n)&&(o=oe.exec(n))&&o[1]&&(n=fe(e,t,o),i="number"),null!=n&&n==n&&("number"!==i||s||(n+=o&&o[3]||(k.cssNumber[u]?"":"px")),v.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(s?c.setProperty(t,n):c[t]=n))}},css:function(e,t,n,r){var o,i,a,u=G(t);return et.test(t)||(t=Qe(u)),(a=k.cssHooks[t]||k.cssHooks[u])&&"get"in a&&(o=a.get(e,!0,n)),void 0===o&&(o=Ye(e,t,r)),"normal"===o&&t in nt&&(o=nt[t]),""===n||n?(i=parseFloat(o),!0===n||isFinite(i)?i||0:o):o}}),k.each(["height","width"],(function(e,t){k.cssHooks[t]={get:function(e,n,r){if(n)return!Ze.test(k.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?it(e,t,r):le(e,tt,(function(){return it(e,t,r)}))},set:function(e,n,r){var o,i=qe(e),a=!v.scrollboxSize()&&"absolute"===i.position,u=(a||r)&&"border-box"===k.css(e,"boxSizing",!1,i),s=r?ot(e,t,r,u,i):0;return u&&a&&(s-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(i[t])-ot(e,t,"border",!1,i)-.5)),s&&(o=oe.exec(n))&&"px"!==(o[3]||"px")&&(e.style[t]=n,n=k.css(e,t)),rt(0,n,s)}}})),k.cssHooks.marginLeft=Xe(v.reliableMarginLeft,(function(e,t){if(t)return(parseFloat(Ye(e,"marginLeft"))||e.getBoundingClientRect().left-le(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+"px"})),k.each({margin:"",padding:"",border:"Width"},(function(e,t){k.cssHooks[e+t]={expand:function(n){for(var r=0,o={},i="string"==typeof n?n.split(" "):[n];r<4;r++)o[e+ie[r]+t]=i[r]||i[r-2]||i[0];return o}},"margin"!==e&&(k.cssHooks[e+t].set=rt)})),k.fn.extend({css:function(e,t){return q(this,(function(e,t,n){var r,o,i={},a=0;if(Array.isArray(t)){for(r=qe(e),o=t.length;a<o;a++)i[t[a]]=k.css(e,t[a],!1,r);return i}return void 0!==n?k.style(e,t,n):k.css(e,t)}),e,t,arguments.length>1)}}),k.Tween=at,at.prototype={constructor:at,init:function(e,t,n,r,o,i){this.elem=e,this.prop=n,this.easing=o||k.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=i||(k.cssNumber[n]?"":"px")},cur:function(){var e=at.propHooks[this.prop];return e&&e.get?e.get(this):at.propHooks._default.get(this)},run:function(e){var t,n=at.propHooks[this.prop];return this.options.duration?this.pos=t=k.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):at.propHooks._default.set(this),this}},at.prototype.init.prototype=at.prototype,at.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=k.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){k.fx.step[e.prop]?k.fx.step[e.prop](e):1!==e.elem.nodeType||!k.cssHooks[e.prop]&&null==e.elem.style[Qe(e.prop)]?e.elem[e.prop]=e.now:k.style(e.elem,e.prop,e.now+e.unit)}}},at.propHooks.scrollTop=at.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},k.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},k.fx=at.prototype.init,k.fx.step={};var ut,st,ct=/^(?:toggle|show|hide)$/,lt=/queueHooks$/;function ft(){st&&(!1===a.hidden&&n.requestAnimationFrame?n.requestAnimationFrame(ft):n.setTimeout(ft,k.fx.interval),k.fx.tick())}function dt(){return n.setTimeout((function(){ut=void 0})),ut=Date.now()}function pt(e,t){var n,r=0,o={height:e};for(t=t?1:0;r<4;r+=2-t)o["margin"+(n=ie[r])]=o["padding"+n]=e;return t&&(o.opacity=o.width=e),o}function mt(e,t,n){for(var r,o=(ht.tweeners[t]||[]).concat(ht.tweeners["*"]),i=0,a=o.length;i<a;i++)if(r=o[i].call(n,t,e))return r}function ht(e,t,n){var r,o,i=0,a=ht.prefilters.length,u=k.Deferred().always((function(){delete s.elem})),s=function(){if(o)return!1;for(var t=ut||dt(),n=Math.max(0,c.startTime+c.duration-t),r=1-(n/c.duration||0),i=0,a=c.tweens.length;i<a;i++)c.tweens[i].run(r);return u.notifyWith(e,[c,r,n]),r<1&&a?n:(a||u.notifyWith(e,[c,1,0]),u.resolveWith(e,[c]),!1)},c=u.promise({elem:e,props:k.extend({},t),opts:k.extend(!0,{specialEasing:{},easing:k.easing._default},n),originalProperties:t,originalOptions:n,startTime:ut||dt(),duration:n.duration,tweens:[],createTween:function(t,n){var r=k.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(r),r},stop:function(t){var n=0,r=t?c.tweens.length:0;if(o)return this;for(o=!0;n<r;n++)c.tweens[n].run(1);return t?(u.notifyWith(e,[c,1,0]),u.resolveWith(e,[c,t])):u.rejectWith(e,[c,t]),this}}),l=c.props;for(!function(e,t){var n,r,o,i,a;for(n in e)if(o=t[r=G(n)],i=e[n],Array.isArray(i)&&(o=i[1],i=e[n]=i[0]),n!==r&&(e[r]=i,delete e[n]),(a=k.cssHooks[r])&&"expand"in a)for(n in i=a.expand(i),delete e[r],i)n in e||(e[n]=i[n],t[n]=o);else t[r]=o}(l,c.opts.specialEasing);i<a;i++)if(r=ht.prefilters[i].call(c,e,l,c.opts))return b(r.stop)&&(k._queueHooks(c.elem,c.opts.queue).stop=r.stop.bind(r)),r;return k.map(l,mt,c),b(c.opts.start)&&c.opts.start.call(e,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),k.fx.timer(k.extend(s,{elem:e,anim:c,queue:c.opts.queue})),c}k.Animation=k.extend(ht,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return fe(n.elem,e,oe.exec(t),n),n}]},tweener:function(e,t){b(e)?(t=e,e=["*"]):e=e.match(L);for(var n,r=0,o=e.length;r<o;r++)n=e[r],ht.tweeners[n]=ht.tweeners[n]||[],ht.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,o,i,a,u,s,c,l,f="width"in t||"height"in t,d=this,p={},m=e.style,h=e.nodeType&&ce(e),g=Q.get(e,"fxshow");for(r in n.queue||(null==(a=k._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,u=a.empty.fire,a.empty.fire=function(){a.unqueued||u()}),a.unqueued++,d.always((function(){d.always((function(){a.unqueued--,k.queue(e,"fx").length||a.empty.fire()}))}))),t)if(o=t[r],ct.test(o)){if(delete t[r],i=i||"toggle"===o,o===(h?"hide":"show")){if("show"!==o||!g||void 0===g[r])continue;h=!0}p[r]=g&&g[r]||k.style(e,r)}if((s=!k.isEmptyObject(t))||!k.isEmptyObject(p))for(r in f&&1===e.nodeType&&(n.overflow=[m.overflow,m.overflowX,m.overflowY],null==(c=g&&g.display)&&(c=Q.get(e,"display")),"none"===(l=k.css(e,"display"))&&(c?l=c:(me([e],!0),c=e.style.display||c,l=k.css(e,"display"),me([e]))),("inline"===l||"inline-block"===l&&null!=c)&&"none"===k.css(e,"float")&&(s||(d.done((function(){m.display=c})),null==c&&(l=m.display,c="none"===l?"":l)),m.display="inline-block")),n.overflow&&(m.overflow="hidden",d.always((function(){m.overflow=n.overflow[0],m.overflowX=n.overflow[1],m.overflowY=n.overflow[2]}))),s=!1,p)s||(g?"hidden"in g&&(h=g.hidden):g=Q.access(e,"fxshow",{display:c}),i&&(g.hidden=!h),h&&me([e],!0),d.done((function(){for(r in h||me([e]),Q.remove(e,"fxshow"),p)k.style(e,r,p[r])}))),s=mt(h?g[r]:0,r,d),r in g||(g[r]=s.start,h&&(s.end=s.start,s.start=0))}],prefilter:function(e,t){t?ht.prefilters.unshift(e):ht.prefilters.push(e)}}),k.speed=function(e,t,n){var r=e&&"object"==typeof e?k.extend({},e):{complete:n||!n&&t||b(e)&&e,duration:e,easing:n&&t||t&&!b(t)&&t};return k.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in k.fx.speeds?r.duration=k.fx.speeds[r.duration]:r.duration=k.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){b(r.old)&&r.old.call(this),r.queue&&k.dequeue(this,r.queue)},r},k.fn.extend({fadeTo:function(e,t,n,r){return this.filter(ce).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var o=k.isEmptyObject(e),i=k.speed(t,n,r),a=function(){var t=ht(this,k.extend({},e),i);(o||Q.get(this,"finish"))&&t.stop(!0)};return a.finish=a,o||!1===i.queue?this.each(a):this.queue(i.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each((function(){var t=!0,o=null!=e&&e+"queueHooks",i=k.timers,a=Q.get(this);if(o)a[o]&&a[o].stop&&r(a[o]);else for(o in a)a[o]&&a[o].stop&&lt.test(o)&&r(a[o]);for(o=i.length;o--;)i[o].elem!==this||null!=e&&i[o].queue!==e||(i[o].anim.stop(n),t=!1,i.splice(o,1));!t&&n||k.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,n=Q.get(this),r=n[e+"queue"],o=n[e+"queueHooks"],i=k.timers,a=r?r.length:0;for(n.finish=!0,k.queue(this,e,[]),o&&o.stop&&o.stop.call(this,!0),t=i.length;t--;)i[t].elem===this&&i[t].queue===e&&(i[t].anim.stop(!0),i.splice(t,1));for(t=0;t<a;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish}))}}),k.each(["toggle","show","hide"],(function(e,t){var n=k.fn[t];k.fn[t]=function(e,r,o){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(pt(t,!0),e,r,o)}})),k.each({slideDown:pt("show"),slideUp:pt("hide"),slideToggle:pt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){k.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}})),k.timers=[],k.fx.tick=function(){var e,t=0,n=k.timers;for(ut=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||k.fx.stop(),ut=void 0},k.fx.timer=function(e){k.timers.push(e),k.fx.start()},k.fx.interval=13,k.fx.start=function(){st||(st=!0,ft())},k.fx.stop=function(){st=null},k.fx.speeds={slow:600,fast:200,_default:400},k.fn.delay=function(e,t){return e=k.fx&&k.fx.speeds[e]||e,t=t||"fx",this.queue(t,(function(t,r){var o=n.setTimeout(t,e);r.stop=function(){n.clearTimeout(o)}}))},function(){var e=a.createElement("input"),t=a.createElement("select").appendChild(a.createElement("option"));e.type="checkbox",v.checkOn=""!==e.value,v.optSelected=t.selected,(e=a.createElement("input")).value="t",e.type="radio",v.radioValue="t"===e.value}();var gt,vt=k.expr.attrHandle;k.fn.extend({attr:function(e,t){return q(this,k.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){k.removeAttr(this,e)}))}}),k.extend({attr:function(e,t,n){var r,o,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return void 0===e.getAttribute?k.prop(e,t,n):(1===i&&k.isXMLDoc(e)||(o=k.attrHooks[t.toLowerCase()]||(k.expr.match.bool.test(t)?gt:void 0)),void 0!==n?null===n?void k.removeAttr(e,t):o&&"set"in o&&void 0!==(r=o.set(e,n,t))?r:(e.setAttribute(t,n+""),n):o&&"get"in o&&null!==(r=o.get(e,t))?r:null==(r=k.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!v.radioValue&&"radio"===t&&D(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,o=t&&t.match(L);if(o&&1===e.nodeType)for(;n=o[r++];)e.removeAttribute(n)}}),gt={set:function(e,t,n){return!1===t?k.removeAttr(e,n):e.setAttribute(n,n),n}},k.each(k.expr.match.bool.source.match(/\w+/g),(function(e,t){var n=vt[t]||k.find.attr;vt[t]=function(e,t,r){var o,i,a=t.toLowerCase();return r||(i=vt[a],vt[a]=o,o=null!=n(e,t,r)?a:null,vt[a]=i),o}}));var bt=/^(?:input|select|textarea|button)$/i,yt=/^(?:a|area)$/i;function wt(e){return(e.match(L)||[]).join(" ")}function xt(e){return e.getAttribute&&e.getAttribute("class")||""}function Ct(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(L)||[]}k.fn.extend({prop:function(e,t){return q(this,k.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[k.propFix[e]||e]}))}}),k.extend({prop:function(e,t,n){var r,o,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return 1===i&&k.isXMLDoc(e)||(t=k.propFix[t]||t,o=k.propHooks[t]),void 0!==n?o&&"set"in o&&void 0!==(r=o.set(e,n,t))?r:e[t]=n:o&&"get"in o&&null!==(r=o.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=k.find.attr(e,"tabindex");return t?parseInt(t,10):bt.test(e.nodeName)||yt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),v.optSelected||(k.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),k.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){k.propFix[this.toLowerCase()]=this})),k.fn.extend({addClass:function(e){var t,n,r,o,i,a,u,s=0;if(b(e))return this.each((function(t){k(this).addClass(e.call(this,t,xt(this)))}));if((t=Ct(e)).length)for(;n=this[s++];)if(o=xt(n),r=1===n.nodeType&&" "+wt(o)+" "){for(a=0;i=t[a++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");o!==(u=wt(r))&&n.setAttribute("class",u)}return this},removeClass:function(e){var t,n,r,o,i,a,u,s=0;if(b(e))return this.each((function(t){k(this).removeClass(e.call(this,t,xt(this)))}));if(!arguments.length)return this.attr("class","");if((t=Ct(e)).length)for(;n=this[s++];)if(o=xt(n),r=1===n.nodeType&&" "+wt(o)+" "){for(a=0;i=t[a++];)for(;r.indexOf(" "+i+" ")>-1;)r=r.replace(" "+i+" "," ");o!==(u=wt(r))&&n.setAttribute("class",u)}return this},toggleClass:function(e,t){var n=typeof e,r="string"===n||Array.isArray(e);return"boolean"==typeof t&&r?t?this.addClass(e):this.removeClass(e):b(e)?this.each((function(n){k(this).toggleClass(e.call(this,n,xt(this),t),t)})):this.each((function(){var t,o,i,a;if(r)for(o=0,i=k(this),a=Ct(e);t=a[o++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else void 0!==e&&"boolean"!==n||((t=xt(this))&&Q.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":Q.get(this,"__className__")||""))}))},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+wt(xt(n))+" ").indexOf(t)>-1)return!0;return!1}});var kt=/\r/g;k.fn.extend({val:function(e){var t,n,r,o=this[0];return arguments.length?(r=b(e),this.each((function(n){var o;1===this.nodeType&&(null==(o=r?e.call(this,n,k(this).val()):e)?o="":"number"==typeof o?o+="":Array.isArray(o)&&(o=k.map(o,(function(e){return null==e?"":e+""}))),(t=k.valHooks[this.type]||k.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,o,"value")||(this.value=o))}))):o?(t=k.valHooks[o.type]||k.valHooks[o.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(o,"value"))?n:"string"==typeof(n=o.value)?n.replace(kt,""):null==n?"":n:void 0}}),k.extend({valHooks:{option:{get:function(e){var t=k.find.attr(e,"value");return null!=t?t:wt(k.text(e))}},select:{get:function(e){var t,n,r,o=e.options,i=e.selectedIndex,a="select-one"===e.type,u=a?null:[],s=a?i+1:o.length;for(r=i<0?s:a?i:0;r<s;r++)if(((n=o[r]).selected||r===i)&&!n.disabled&&(!n.parentNode.disabled||!D(n.parentNode,"optgroup"))){if(t=k(n).val(),a)return t;u.push(t)}return u},set:function(e,t){for(var n,r,o=e.options,i=k.makeArray(t),a=o.length;a--;)((r=o[a]).selected=k.inArray(k.valHooks.option.get(r),i)>-1)&&(n=!0);return n||(e.selectedIndex=-1),i}}}}),k.each(["radio","checkbox"],(function(){k.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=k.inArray(k(e).val(),t)>-1}},v.checkOn||(k.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})})),v.focusin="onfocusin"in n;var St=/^(?:focusinfocus|focusoutblur)$/,Tt=function(e){e.stopPropagation()};k.extend(k.event,{trigger:function(e,t,r,o){var i,u,s,c,l,f,d,p,h=[r||a],g=m.call(e,"type")?e.type:e,v=m.call(e,"namespace")?e.namespace.split("."):[];if(u=p=s=r=r||a,3!==r.nodeType&&8!==r.nodeType&&!St.test(g+k.event.triggered)&&(g.indexOf(".")>-1&&(v=g.split("."),g=v.shift(),v.sort()),l=g.indexOf(":")<0&&"on"+g,(e=e[k.expando]?e:new k.Event(g,"object"==typeof e&&e)).isTrigger=o?2:3,e.namespace=v.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=r),t=null==t?[e]:k.makeArray(t,[e]),d=k.event.special[g]||{},o||!d.trigger||!1!==d.trigger.apply(r,t))){if(!o&&!d.noBubble&&!y(r)){for(c=d.delegateType||g,St.test(c+g)||(u=u.parentNode);u;u=u.parentNode)h.push(u),s=u;s===(r.ownerDocument||a)&&h.push(s.defaultView||s.parentWindow||n)}for(i=0;(u=h[i++])&&!e.isPropagationStopped();)p=u,e.type=i>1?c:d.bindType||g,(f=(Q.get(u,"events")||{})[e.type]&&Q.get(u,"handle"))&&f.apply(u,t),(f=l&&u[l])&&f.apply&&K(u)&&(e.result=f.apply(u,t),!1===e.result&&e.preventDefault());return e.type=g,o||e.isDefaultPrevented()||d._default&&!1!==d._default.apply(h.pop(),t)||!K(r)||l&&b(r[g])&&!y(r)&&((s=r[l])&&(r[l]=null),k.event.triggered=g,e.isPropagationStopped()&&p.addEventListener(g,Tt),r[g](),e.isPropagationStopped()&&p.removeEventListener(g,Tt),k.event.triggered=void 0,s&&(r[l]=s)),e.result}},simulate:function(e,t,n){var r=k.extend(new k.Event,n,{type:e,isSimulated:!0});k.event.trigger(r,null,t)}}),k.fn.extend({trigger:function(e,t){return this.each((function(){k.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var n=this[0];if(n)return k.event.trigger(e,t,n,!0)}}),v.focusin||k.each({focus:"focusin",blur:"focusout"},(function(e,t){var n=function(e){k.event.simulate(t,e.target,k.event.fix(e))};k.event.special[t]={setup:function(){var r=this.ownerDocument||this,o=Q.access(r,t);o||r.addEventListener(e,n,!0),Q.access(r,t,(o||0)+1)},teardown:function(){var r=this.ownerDocument||this,o=Q.access(r,t)-1;o?Q.access(r,t,o):(r.removeEventListener(e,n,!0),Q.remove(r,t))}}}));var Et=n.location,Ot=Date.now(),_t=/\?/;k.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new n.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||k.error("Invalid XML: "+e),t};var At=/\[\]$/,Dt=/\r?\n/g,Nt=/^(?:submit|button|image|reset|file)$/i,Mt=/^(?:input|select|textarea|keygen)/i;function Rt(e,t,n,r){var o;if(Array.isArray(t))k.each(t,(function(t,o){n||At.test(e)?r(e,o):Rt(e+"["+("object"==typeof o&&null!=o?t:"")+"]",o,n,r)}));else if(n||"object"!==C(t))r(e,t);else for(o in t)Rt(e+"["+o+"]",t[o],n,r)}k.param=function(e,t){var n,r=[],o=function(e,t){var n=b(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!k.isPlainObject(e))k.each(e,(function(){o(this.name,this.value)}));else for(n in e)Rt(n,e[n],t,o);return r.join("&")},k.fn.extend({serialize:function(){return k.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=k.prop(this,"elements");return e?k.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!k(this).is(":disabled")&&Mt.test(this.nodeName)&&!Nt.test(e)&&(this.checked||!he.test(e))})).map((function(e,t){var n=k(this).val();return null==n?null:Array.isArray(n)?k.map(n,(function(e){return{name:t.name,value:e.replace(Dt,"\r\n")}})):{name:t.name,value:n.replace(Dt,"\r\n")}})).get()}});var zt=/%20/g,It=/#.*$/,Bt=/([?&])_=[^&]*/,Pt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Lt=/^(?:GET|HEAD)$/,Ft=/^\/\//,Ht={},jt={},Vt="*/".concat("*"),Ut=a.createElement("a");function $t(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,o=0,i=t.toLowerCase().match(L)||[];if(b(n))for(;r=i[o++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function qt(e,t,n,r){var o={},i=e===jt;function a(u){var s;return o[u]=!0,k.each(e[u]||[],(function(e,u){var c=u(t,n,r);return"string"!=typeof c||i||o[c]?i?!(s=c):void 0:(t.dataTypes.unshift(c),a(c),!1)})),s}return a(t.dataTypes[0])||!o["*"]&&a("*")}function Wt(e,t){var n,r,o=k.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((o[n]?e:r||(r={}))[n]=t[n]);return r&&k.extend(!0,e,r),e}Ut.href=Et.href,k.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Et.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Et.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Vt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":k.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Wt(Wt(e,k.ajaxSettings),t):Wt(k.ajaxSettings,e)},ajaxPrefilter:$t(Ht),ajaxTransport:$t(jt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var r,o,i,u,s,c,l,f,d,p,m=k.ajaxSetup({},t),h=m.context||m,g=m.context&&(h.nodeType||h.jquery)?k(h):k.event,v=k.Deferred(),b=k.Callbacks("once memory"),y=m.statusCode||{},w={},x={},C="canceled",S={readyState:0,getResponseHeader:function(e){var t;if(l){if(!u)for(u={};t=Pt.exec(i);)u[t[1].toLowerCase()+" "]=(u[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=u[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return l?i:null},setRequestHeader:function(e,t){return null==l&&(e=x[e.toLowerCase()]=x[e.toLowerCase()]||e,w[e]=t),this},overrideMimeType:function(e){return null==l&&(m.mimeType=e),this},statusCode:function(e){var t;if(e)if(l)S.always(e[S.status]);else for(t in e)y[t]=[y[t],e[t]];return this},abort:function(e){var t=e||C;return r&&r.abort(t),T(0,t),this}};if(v.promise(S),m.url=((e||m.url||Et.href)+"").replace(Ft,Et.protocol+"//"),m.type=t.method||t.type||m.method||m.type,m.dataTypes=(m.dataType||"*").toLowerCase().match(L)||[""],null==m.crossDomain){c=a.createElement("a");try{c.href=m.url,c.href=c.href,m.crossDomain=Ut.protocol+"//"+Ut.host!=c.protocol+"//"+c.host}catch(e){m.crossDomain=!0}}if(m.data&&m.processData&&"string"!=typeof m.data&&(m.data=k.param(m.data,m.traditional)),qt(Ht,m,t,S),l)return S;for(d in(f=k.event&&m.global)&&0==k.active++&&k.event.trigger("ajaxStart"),m.type=m.type.toUpperCase(),m.hasContent=!Lt.test(m.type),o=m.url.replace(It,""),m.hasContent?m.data&&m.processData&&0===(m.contentType||"").indexOf("application/x-www-form-urlencoded")&&(m.data=m.data.replace(zt,"+")):(p=m.url.slice(o.length),m.data&&(m.processData||"string"==typeof m.data)&&(o+=(_t.test(o)?"&":"?")+m.data,delete m.data),!1===m.cache&&(o=o.replace(Bt,"$1"),p=(_t.test(o)?"&":"?")+"_="+Ot+++p),m.url=o+p),m.ifModified&&(k.lastModified[o]&&S.setRequestHeader("If-Modified-Since",k.lastModified[o]),k.etag[o]&&S.setRequestHeader("If-None-Match",k.etag[o])),(m.data&&m.hasContent&&!1!==m.contentType||t.contentType)&&S.setRequestHeader("Content-Type",m.contentType),S.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+Vt+"; q=0.01":""):m.accepts["*"]),m.headers)S.setRequestHeader(d,m.headers[d]);if(m.beforeSend&&(!1===m.beforeSend.call(h,S,m)||l))return S.abort();if(C="abort",b.add(m.complete),S.done(m.success),S.fail(m.error),r=qt(jt,m,t,S)){if(S.readyState=1,f&&g.trigger("ajaxSend",[S,m]),l)return S;m.async&&m.timeout>0&&(s=n.setTimeout((function(){S.abort("timeout")}),m.timeout));try{l=!1,r.send(w,T)}catch(e){if(l)throw e;T(-1,e)}}else T(-1,"No Transport");function T(e,t,a,u){var c,d,p,w,x,C=t;l||(l=!0,s&&n.clearTimeout(s),r=void 0,i=u||"",S.readyState=e>0?4:0,c=e>=200&&e<300||304===e,a&&(w=function(e,t,n){for(var r,o,i,a,u=e.contents,s=e.dataTypes;"*"===s[0];)s.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(o in u)if(u[o]&&u[o].test(r)){s.unshift(o);break}if(s[0]in n)i=s[0];else{for(o in n){if(!s[0]||e.converters[o+" "+s[0]]){i=o;break}a||(a=o)}i=i||a}if(i)return i!==s[0]&&s.unshift(i),n[i]}(m,S,a)),w=function(e,t,n,r){var o,i,a,u,s,c={},l=e.dataTypes.slice();if(l[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(i=l.shift();i;)if(e.responseFields[i]&&(n[e.responseFields[i]]=t),!s&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),s=i,i=l.shift())if("*"===i)i=s;else if("*"!==s&&s!==i){if(!(a=c[s+" "+i]||c["* "+i]))for(o in c)if((u=o.split(" "))[1]===i&&(a=c[s+" "+u[0]]||c["* "+u[0]])){!0===a?a=c[o]:!0!==c[o]&&(i=u[0],l.unshift(u[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+s+" to "+i}}}return{state:"success",data:t}}(m,w,S,c),c?(m.ifModified&&((x=S.getResponseHeader("Last-Modified"))&&(k.lastModified[o]=x),(x=S.getResponseHeader("etag"))&&(k.etag[o]=x)),204===e||"HEAD"===m.type?C="nocontent":304===e?C="notmodified":(C=w.state,d=w.data,c=!(p=w.error))):(p=C,!e&&C||(C="error",e<0&&(e=0))),S.status=e,S.statusText=(t||C)+"",c?v.resolveWith(h,[d,C,S]):v.rejectWith(h,[S,C,p]),S.statusCode(y),y=void 0,f&&g.trigger(c?"ajaxSuccess":"ajaxError",[S,m,c?d:p]),b.fireWith(h,[S,C]),f&&(g.trigger("ajaxComplete",[S,m]),--k.active||k.event.trigger("ajaxStop")))}return S},getJSON:function(e,t,n){return k.get(e,t,n,"json")},getScript:function(e,t){return k.get(e,void 0,t,"script")}}),k.each(["get","post"],(function(e,t){k[t]=function(e,n,r,o){return b(n)&&(o=o||r,r=n,n=void 0),k.ajax(k.extend({url:e,type:t,dataType:o,data:n,success:r},k.isPlainObject(e)&&e))}})),k._evalUrl=function(e,t){return k.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){k.globalEval(e,t)}})},k.fn.extend({wrapAll:function(e){var t;return this[0]&&(b(e)&&(e=e.call(this[0])),t=k(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this},wrapInner:function(e){return b(e)?this.each((function(t){k(this).wrapInner(e.call(this,t))})):this.each((function(){var t=k(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)}))},wrap:function(e){var t=b(e);return this.each((function(n){k(this).wrapAll(t?e.call(this,n):e)}))},unwrap:function(e){return this.parent(e).not("body").each((function(){k(this).replaceWith(this.childNodes)})),this}}),k.expr.pseudos.hidden=function(e){return!k.expr.pseudos.visible(e)},k.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},k.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(e){}};var Yt={0:200,1223:204},Xt=k.ajaxSettings.xhr();v.cors=!!Xt&&"withCredentials"in Xt,v.ajax=Xt=!!Xt,k.ajaxTransport((function(e){var t,r;if(v.cors||Xt&&!e.crossDomain)return{send:function(o,i){var a,u=e.xhr();if(u.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)u[a]=e.xhrFields[a];for(a in e.mimeType&&u.overrideMimeType&&u.overrideMimeType(e.mimeType),e.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest"),o)u.setRequestHeader(a,o[a]);t=function(e){return function(){t&&(t=r=u.onload=u.onerror=u.onabort=u.ontimeout=u.onreadystatechange=null,"abort"===e?u.abort():"error"===e?"number"!=typeof u.status?i(0,"error"):i(u.status,u.statusText):i(Yt[u.status]||u.status,u.statusText,"text"!==(u.responseType||"text")||"string"!=typeof u.responseText?{binary:u.response}:{text:u.responseText},u.getAllResponseHeaders()))}},u.onload=t(),r=u.onerror=u.ontimeout=t("error"),void 0!==u.onabort?u.onabort=r:u.onreadystatechange=function(){4===u.readyState&&n.setTimeout((function(){t&&r()}))},t=t("abort");try{u.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}})),k.ajaxPrefilter((function(e){e.crossDomain&&(e.contents.script=!1)})),k.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return k.globalEval(e),e}}}),k.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),k.ajaxTransport("script",(function(e){var t,n;if(e.crossDomain||e.scriptAttrs)return{send:function(r,o){t=k("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&o("error"===e.type?404:200,e.type)}),a.head.appendChild(t[0])},abort:function(){n&&n()}}}));var Gt,Kt=[],Jt=/(=)\?(?=&|$)|\?\?/;k.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Kt.pop()||k.expando+"_"+Ot++;return this[e]=!0,e}}),k.ajaxPrefilter("json jsonp",(function(e,t,r){var o,i,a,u=!1!==e.jsonp&&(Jt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Jt.test(e.data)&&"data");if(u||"jsonp"===e.dataTypes[0])return o=e.jsonpCallback=b(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,u?e[u]=e[u].replace(Jt,"$1"+o):!1!==e.jsonp&&(e.url+=(_t.test(e.url)?"&":"?")+e.jsonp+"="+o),e.converters["script json"]=function(){return a||k.error(o+" was not called"),a[0]},e.dataTypes[0]="json",i=n[o],n[o]=function(){a=arguments},r.always((function(){void 0===i?k(n).removeProp(o):n[o]=i,e[o]&&(e.jsonpCallback=t.jsonpCallback,Kt.push(o)),a&&b(i)&&i(a[0]),a=i=void 0})),"script"})),v.createHTMLDocument=((Gt=a.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Gt.childNodes.length),k.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(v.createHTMLDocument?((r=(t=a.implementation.createHTMLDocument("")).createElement("base")).href=a.location.href,t.head.appendChild(r)):t=a),i=!n&&[],(o=N.exec(e))?[t.createElement(o[1])]:(o=Se([e],t,i),i&&i.length&&k(i).remove(),k.merge([],o.childNodes)));var r,o,i},k.fn.load=function(e,t,n){var r,o,i,a=this,u=e.indexOf(" ");return u>-1&&(r=wt(e.slice(u)),e=e.slice(0,u)),b(t)?(n=t,t=void 0):t&&"object"==typeof t&&(o="POST"),a.length>0&&k.ajax({url:e,type:o||"GET",dataType:"html",data:t}).done((function(e){i=arguments,a.html(r?k("<div>").append(k.parseHTML(e)).find(r):e)})).always(n&&function(e,t){a.each((function(){n.apply(this,i||[e.responseText,t,e])}))}),this},k.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){k.fn[t]=function(e){return this.on(t,e)}})),k.expr.pseudos.animated=function(e){return k.grep(k.timers,(function(t){return e===t.elem})).length},k.offset={setOffset:function(e,t,n){var r,o,i,a,u,s,c=k.css(e,"position"),l=k(e),f={};"static"===c&&(e.style.position="relative"),u=l.offset(),i=k.css(e,"top"),s=k.css(e,"left"),("absolute"===c||"fixed"===c)&&(i+s).indexOf("auto")>-1?(a=(r=l.position()).top,o=r.left):(a=parseFloat(i)||0,o=parseFloat(s)||0),b(t)&&(t=t.call(e,n,k.extend({},u))),null!=t.top&&(f.top=t.top-u.top+a),null!=t.left&&(f.left=t.left-u.left+o),"using"in t?t.using.call(e,f):l.css(f)}},k.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){k.offset.setOffset(this,e,t)}));var t,n,r=this[0];return r?r.getClientRects().length?(t=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],o={top:0,left:0};if("fixed"===k.css(r,"position"))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===k.css(e,"position");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&((o=k(e).offset()).top+=k.css(e,"borderTopWidth",!0),o.left+=k.css(e,"borderLeftWidth",!0))}return{top:t.top-o.top-k.css(r,"marginTop",!0),left:t.left-o.left-k.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&"static"===k.css(e,"position");)e=e.offsetParent;return e||ae}))}}),k.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var n="pageYOffset"===t;k.fn[e]=function(r){return q(this,(function(e,r,o){var i;if(y(e)?i=e:9===e.nodeType&&(i=e.defaultView),void 0===o)return i?i[t]:e[r];i?i.scrollTo(n?i.pageXOffset:o,n?o:i.pageYOffset):e[r]=o}),e,r,arguments.length)}})),k.each(["top","left"],(function(e,t){k.cssHooks[t]=Xe(v.pixelPosition,(function(e,n){if(n)return n=Ye(e,t),$e.test(n)?k(e).position()[t]+"px":n}))})),k.each({Height:"height",Width:"width"},(function(e,t){k.each({padding:"inner"+e,content:t,"":"outer"+e},(function(n,r){k.fn[r]=function(o,i){var a=arguments.length&&(n||"boolean"!=typeof o),u=n||(!0===o||!0===i?"margin":"border");return q(this,(function(t,n,o){var i;return y(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===o?k.css(t,n,u):k.style(t,n,o,u)}),t,a?o:void 0,a)}}))})),k.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(e,t){k.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}})),k.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),k.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),k.proxy=function(e,t){var n,r,o;if("string"==typeof t&&(n=e[t],t=e,e=n),b(e))return r=s.call(arguments,2),(o=function(){return e.apply(t||this,r.concat(s.call(arguments)))}).guid=e.guid=e.guid||k.guid++,o},k.holdReady=function(e){e?k.readyWait++:k.ready(!0)},k.isArray=Array.isArray,k.parseJSON=JSON.parse,k.nodeName=D,k.isFunction=b,k.isWindow=y,k.camelCase=G,k.type=C,k.now=Date.now,k.isNumeric=function(e){var t=k.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},void 0===(r=function(){return k}.apply(t,[]))||(e.exports=r);var Qt=n.jQuery,Zt=n.$;return k.noConflict=function(e){return n.$===k&&(n.$=Zt),e&&n.jQuery===k&&(n.jQuery=Qt),k},o||(n.jQuery=n.$=k),k}))},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var s,c=[],l=!1,f=-1;function d(){l&&s&&(l=!1,s.length?c=s.concat(c):f=-1,c.length&&p())}function p(){if(!l){var e=u(d);l=!0;for(var t=c.length;t;){for(s=c,c=[];++f<t;)s&&s[f].run();f=-1,t=c.length}s=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function h(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new m(e,t)),1!==c.length||l||u(p)},m.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=h,o.addListener=h,o.once=h,o.off=h,o.removeListener=h,o.removeAllListeners=h,o.emit=h,o.prependListener=h,o.prependOnceListener=h,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t){!function(e){"use strict";var t,n,r=tinymce.util.Tools.resolve("tinymce.PluginManager"),o=function(){},i=function(e){return function(){return e}},a=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return!e.apply(null,t)}},u=i(!1),s=i(!0),c=function(){return l},l=function(){var e=function(e){return e.isNone()},t=function(e){return e()},n=function(e){return e},r={fold:function(e,t){return e()},is:u,isSome:u,isNone:s,getOr:n,getOrThunk:t,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:i(null),getOrUndefined:i(void 0),or:n,orThunk:t,map:c,each:o,bind:c,exists:u,forall:s,filter:c,equals:e,equals_:e,toArray:function(){return[]},toString:i("none()")};return Object.freeze&&Object.freeze(r),r}(),f=function(e){var t=i(e),n=function(){return o},r=function(t){return t(e)},o={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:s,isNone:u,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return f(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:l},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(u,(function(t){return n(e,t)}))}};return o},d={some:f,none:c,from:function(e){return null==e?l:f(e)}},p=function(e){return function(t){return function(e){if(null===e)return"null";var t=typeof e;return"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t}(t)===e}},m=p("string"),h=p("array"),g=p("boolean"),v=p("function"),b=p("number"),y=Array.prototype.slice,w=Array.prototype.push,x=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o)}return r},C=function(e,t){for(var n=0,r=e.length;n<r;n++){t(e[n],n)}},k=function(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];t(i,r)&&n.push(i)}return n},S=function(e,t,n){return C(e,(function(e){n=t(n,e)})),n},T=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];if(t(o,n))return d.some(o)}return d.none()},E=function(e,t){return function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!h(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);w.apply(t,e[n])}return t}(x(e,t))},O=function(e){return 0===e.length?d.none():d.some(e[0])},_=function(e){return 0===e.length?d.none():d.some(e[e.length-1])},A=(v(Array.from)&&Array.from,function(e,t,n){return 0!=(e.compareDocumentPosition(t)&n)}),D=function(t,n){return A(t,n,e.Node.DOCUMENT_POSITION_CONTAINED_BY)},N=function(e){var t=e,n=function(){return t};return{get:n,set:function(e){t=e},clone:function(){return N(n())}}},M=function(){return R(0,0)},R=function(e,t){return{major:e,minor:t}},z={nu:R,detect:function(e,t){var n=String(t).toLowerCase();return 0===e.length?M():function(e,t){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t))return r}}(e,t);if(!n)return{major:0,minor:0};var r=function(e){return Number(t.replace(n,"$"+e))};return R(r(1),r(2))}(e,n)},unknown:M},I=function(e,t){return function(){return t===e}},B=function(e){var t=e.current;return{current:t,version:e.version,isEdge:I("Edge",t),isChrome:I("Chrome",t),isIE:I("IE",t),isOpera:I("Opera",t),isFirefox:I("Firefox",t),isSafari:I("Safari",t)}},P={unknown:function(){return B({current:void 0,version:z.unknown()})},nu:B,edge:i("Edge"),chrome:i("Chrome"),ie:i("IE"),opera:i("Opera"),firefox:i("Firefox"),safari:i("Safari")},L=function(e,t){return function(){return t===e}},F=function(e){var t=e.current;return{current:t,version:e.version,isWindows:L("Windows",t),isiOS:L("iOS",t),isAndroid:L("Android",t),isOSX:L("OSX",t),isLinux:L("Linux",t),isSolaris:L("Solaris",t),isFreeBSD:L("FreeBSD",t)}},H={unknown:function(){return F({current:void 0,version:z.unknown()})},nu:F,windows:i("Windows"),ios:i("iOS"),android:i("Android"),linux:i("Linux"),osx:i("OSX"),solaris:i("Solaris"),freebsd:i("FreeBSD")},j=function(e,t){var n=String(t).toLowerCase();return T(e,(function(e){return e.search(n)}))},V=function(e,t){return j(e,t).map((function(e){var n=z.detect(e.versionRegexes,t);return{current:e.name,version:n}}))},U=function(e,t){return j(e,t).map((function(e){var n=z.detect(e.versionRegexes,t);return{current:e.name,version:n}}))},$=function(e,t){return-1!==e.indexOf(t)},q=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,W=function(e){return function(t){return $(t,e)}},Y=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return $(e,"edge/")&&$(e,"chrome")&&$(e,"safari")&&$(e,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,q],search:function(e){return $(e,"chrome")&&!$(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return $(e,"msie")||$(e,"trident")}},{name:"Opera",versionRegexes:[q,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:W("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:W("firefox")},{name:"Safari",versionRegexes:[q,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return($(e,"safari")||$(e,"mobile/"))&&$(e,"applewebkit")}}],X=[{name:"Windows",search:W("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return $(e,"iphone")||$(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:W("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:W("os x"),versionRegexes:[/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:W("linux"),versionRegexes:[]},{name:"Solaris",search:W("sunos"),versionRegexes:[]},{name:"FreeBSD",search:W("freebsd"),versionRegexes:[]}],G={browsers:i(Y),oses:i(X)},K=function(e,t){var n=G.browsers(),r=G.oses(),o=V(n,e).fold(P.unknown,P.nu),a=U(r,e).fold(H.unknown,H.nu),u=function(e,t,n,r){var o=e.isiOS()&&!0===/ipad/i.test(n),a=e.isiOS()&&!o,u=e.isiOS()||e.isAndroid(),s=u||r("(pointer:coarse)"),c=o||!a&&u&&r("(min-device-width:768px)"),l=a||u&&!c,f=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n),d=!l&&!c&&!f;return{isiPad:i(o),isiPhone:i(a),isTablet:i(c),isPhone:i(l),isTouch:i(s),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:i(f),isDesktop:i(d)}}(a,o,e,t);return{browser:o,os:a,deviceType:u}},J=N(K(e.navigator.userAgent,(function(t){return e.window.matchMedia(t).matches}))),Q=function(e){if(null==e)throw new Error("Node cannot be null or undefined");return{dom:i(e)}},Z={fromHtml:function(t,n){var r=(n||e.document).createElement("div");if(r.innerHTML=t,!r.hasChildNodes()||r.childNodes.length>1)throw e.console.error("HTML does not have a single root node",t),new Error("HTML must have a single root node");return Q(r.childNodes[0])},fromTag:function(t,n){var r=(n||e.document).createElement(t);return Q(r)},fromText:function(t,n){var r=(n||e.document).createTextNode(t);return Q(r)},fromDom:Q,fromPoint:function(e,t,n){var r=e.dom();return d.from(r.elementFromPoint(t,n)).map(Q)}},ee=(e.Node.ATTRIBUTE_NODE,e.Node.CDATA_SECTION_NODE,e.Node.COMMENT_NODE,e.Node.DOCUMENT_NODE,e.Node.DOCUMENT_TYPE_NODE,e.Node.DOCUMENT_FRAGMENT_NODE,e.Node.ELEMENT_NODE),te=(e.Node.TEXT_NODE,e.Node.PROCESSING_INSTRUCTION_NODE,e.Node.ENTITY_REFERENCE_NODE,e.Node.ENTITY_NODE,e.Node.NOTATION_NODE,ee),ne=function(e,t){return e.dom()===t.dom()},re=J.get().browser,oe=re.isIE()?function(e,t){return D(e.dom(),t.dom())}:function(e,t){var n=e.dom(),r=t.dom();return n!==r&&n.contains(r)},ie=function(e,t){var n=e.dom();if(n.nodeType!==te)return!1;var r=n;if(void 0!==r.matches)return r.matches(t);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(t);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(t);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},ae=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),ue=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),se=tinymce.util.Tools.resolve("tinymce.util.VK"),ce=function(e,t,n){return e.isSome()&&t.isSome()?d.some(n(e.getOrDie(),t.getOrDie())):d.none()},le=Object.keys,fe=function(e){return d.from(e.dom().parentNode).map(Z.fromDom)},de=function(e){return x(e.dom().childNodes,Z.fromDom)},pe=function(e,t){var n=e.dom().childNodes;return d.from(n[t]).map(Z.fromDom)},me=function(e){return pe(e,0)},he=function(e){return pe(e,e.dom().childNodes.length-1)},ge=(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]}("element","offset"),function(e,t){fe(e).each((function(n){n.dom().insertBefore(t.dom(),e.dom())}))}),ve=function(e,t){e.dom().appendChild(t.dom())},be=function(e,t){C(t,(function(t){ve(e,t)}))},ye=function(e){var t=e.dom();null!==t.parentNode&&t.parentNode.removeChild(t)},we=function(e,t,n){return e.fire("ListMutation",{action:t,element:n})},xe=void 0!==e.window?e.window:Function("return this;")(),Ce=function(e,t){return function(e,t){for(var n=null!=t?t:xe,r=0;r<e.length&&null!=n;++r)n=n[e[r]];return n}(e.split("."),t)},ke=function(e,t){var n=function(e,t){return Ce(e,t)}(e,t);if(null==n)throw new Error(e+" not available on this browser");return n},Se=function(e){return function(e){return ke("HTMLElement",e)}(Ce("ownerDocument.defaultView",e)).prototype.isPrototypeOf(e)},Te=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),Ee=tinymce.util.Tools.resolve("tinymce.util.Tools"),Oe=function(e){return e&&"BR"===e.nodeName},_e=function(e){return e&&3===e.nodeType},Ae=function(e){return e&&/^(OL|UL|DL)$/.test(e.nodeName)},De=function(e){return e&&/^(OL|UL)$/.test(e.nodeName)},Ne=function(e){return e&&/^(DT|DD)$/.test(e.nodeName)},Me=function(e){return e&&/^(LI|DT|DD)$/.test(e.nodeName)},Re=function(e){return e&&/^(TH|TD)$/.test(e.nodeName)},ze=Oe,Ie=function(e){return e.parentNode.firstChild===e},Be=function(e,t){return t&&!!e.schema.getTextBlockElements()[t.nodeName]},Pe=function(e,t){return e&&e.nodeName in t},Le=function(e,t){return!!Oe(t)&&!(!e.isBlock(t.nextSibling)||Oe(t.previousSibling))},Fe=function(e,t,n){var r=e.isEmpty(t);return!(n&&e.select("span[data-mce-type=bookmark]",t).length>0)&&r},He=function(e,t){return e.isChildOf(t,e.getRoot())},je=function(e){var t=e.selection.getStart(!0);return e.dom.getParent(t,"OL,UL,DL",Ue(e,t))},Ve=function(e){var t=e.selection.getSelectedBlocks();return Ee.grep(function(e,t){var n=Ee.map(t,(function(t){var n=e.dom.getParent(t,"li,dd,dt",Ue(e,t));return n||t}));return Te.unique(n)}(e,t),(function(e){return Me(e)}))},Ue=function(e,t){var n=e.dom.getParents(t,"TD,TH");return n.length>0?n[0]:e.getBody()},$e=function(e,t){var n=e.dom.getParents(t,"ol,ul",Ue(e,t));return _(n)},qe=function(e,t){var n=x(t,(function(t){return $e(e,t).getOr(t)}));return Te.unique(n)},We={isList:function(e){var t=je(e);return Se(t)},getParentList:je,getSelectedSubLists:function(e){var t=je(e),n=e.selection.getSelectedBlocks();return function(e,t){return e&&1===t.length&&t[0]===e}(t,n)?function(e){return Ee.grep(e.querySelectorAll("ol,ul,dl"),(function(e){return Ae(e)}))}(t):Ee.grep(n,(function(e){return Ae(e)&&t!==e}))},getSelectedListItems:Ve,getClosestListRootElm:Ue,getSelectedDlItems:function(e){return k(Ve(e),Ne)},getSelectedListRoots:function(e){var t=function(e){var t=$e(e,e.selection.getStart()),n=k(e.selection.getSelectedBlocks(),De);return t.toArray().concat(n)}(e);return qe(e,t)}},Ye=function(e,t){var n,r,o,i,a=e.dom,u=e.schema.getBlockElements(),s=a.createFragment();if(e.settings.forced_root_block&&(o=e.settings.forced_root_block),o&&((r=a.create(o)).tagName===e.settings.forced_root_block&&a.setAttribs(r,e.settings.forced_root_block_attrs),Pe(t.firstChild,u)||s.appendChild(r)),t)for(;n=t.firstChild;){var c=n.nodeName;i||"SPAN"===c&&"bookmark"===n.getAttribute("data-mce-type")||(i=!0),Pe(n,u)?(s.appendChild(n),r=null):o?(r||(r=a.create(o),s.appendChild(r)),r.appendChild(n)):s.appendChild(n)}return e.settings.forced_root_block?i||r.appendChild(a.create("br",{"data-mce-bogus":"1"})):s.appendChild(a.create("br")),s},Xe=function(e){return e.dom().nodeName.toLowerCase()},Ge=(t=ee,function(e){return function(e){return e.dom().nodeType}(e)===t}),Ke=function(t,n){var r=t.dom();!function(e,t){for(var n=le(e),r=0,o=n.length;r<o;r++){var i=n[r];t(e[i],i)}}(n,(function(t,n){!function(t,n,r){if(!(m(r)||g(r)||b(r)))throw e.console.error("Invalid call to Attr.set. Key ",n,":: Value ",r,":: Element ",t),new Error("Attribute value was not simple");t.setAttribute(n,r+"")}(r,n,t)}))},Je=function(e){return S(e.dom().attributes,(function(e,t){return e[t.name]=t.value,e}),{})},Qe=function(t,n,r){if(!m(r))throw e.console.error("Invalid call to CSS.set. Property ",n,":: Value ",r,":: Element ",t),new Error("CSS value must be a string: "+r);(function(e){return void 0!==e.style&&v(e.style.getPropertyValue)})(t)&&t.style.setProperty(n,r)},Ze=function(e){return function(e,t){return Z.fromDom(e.dom().cloneNode(t))}(e,!0)},et=function(e,t){var n=function(e,t){var n=Z.fromTag(t),r=Je(e);return Ke(n,r),n}(e,t);ge(e,n);var r=de(e);return be(n,r),ye(e),n},tt=function(e,t){ve(e.item,t.list)},nt=function(e,t){var n={list:Z.fromTag(t,e),item:Z.fromTag("li",e)};return ve(n.list,n.item),n},rt=function(e,t,n){var r=t.slice(0,n.depth);return _(r).each((function(t){!function(e,t){ve(e.list,t),e.item=t}(t,function(e,t,n){var r=Z.fromTag("li",e);return Ke(r,t),be(r,n),r}(e,n.itemAttributes,n.content)),function(e,t){Xe(e.list)!==t.listType&&(e.list=et(e.list,t.listType)),Ke(e.list,t.listAttributes)}(t,n)})),r},ot=function(e,t,n){var r,o=function(e,t,n){for(var r=[],o=0;o<n;o++)r.push(nt(e,t.listType));return r}(e,n,n.depth-t.length);return function(e){for(var t=1;t<e.length;t++)tt(e[t-1],e[t])}(o),function(e,t){for(var n=0;n<e.length-1;n++)r=e[n].item,o="list-style-type",i="none",a=void 0,a=r.dom(),Qe(a,o,i);var r,o,i,a;_(e).each((function(e){Ke(e.list,t.listAttributes),Ke(e.item,t.itemAttributes),be(e.item,t.content)}))}(o,n),r=o,ce(_(t),O(r),tt),t.concat(o)},it=function(e){return ie(e,"OL,UL")},at=function(e){return me(e).map(it).getOr(!1)},ut=function(e){return e.depth>0},st=function(e){return e.isSelected},ct=function(e){var t=de(e),n=he(e).map(it).getOr(!1)?t.slice(0,-1):t;return x(n,Ze)},lt=Object.prototype.hasOwnProperty,ft=(n=function(e,t){return t},function(){for(var e=new Array(arguments.length),t=0;t<e.length;t++)e[t]=arguments[t];if(0===e.length)throw new Error("Can't merge zero objects");for(var r={},o=0;o<e.length;o++){var i=e[o];for(var a in i)lt.call(i,a)&&(r[a]=n(r[a],i[a]))}return r}),dt=function(e){C(e,(function(t,n){(function(e,t){for(var n=e[t].depth,r=t-1;r>=0;r--){if(e[r].depth===n)return d.some(e[r]);if(e[r].depth<n)break}return d.none()})(e,n).each((function(e){var n,r;r=e,(n=t).listType=r.listType,n.listAttributes=ft({},r.listAttributes)}))}))},pt=function(e,t,n,r){return me(r).filter(it).fold((function(){t.each((function(e){ne(e.start,r)&&n.set(!0)}));var o=function(e,t,n){return fe(e).filter(Ge).map((function(r){return{depth:t,isSelected:n,content:ct(e),itemAttributes:Je(e),listAttributes:Je(r),listType:Xe(r)}}))}(r,e,n.get());t.each((function(e){ne(e.end,r)&&n.set(!1)}));var i=he(r).filter(it).map((function(r){return mt(e,t,n,r)})).getOr([]);return o.toArray().concat(i)}),(function(r){return mt(e,t,n,r)}))},mt=function(e,t,n,r){return E(de(r),(function(r){return(it(r)?mt:pt)(e+1,t,n,r)}))},ht=function(t,n){return x(n,(function(n){var r,o,i,a=(r=n.content,i=(o||e.document).createDocumentFragment(),C(r,(function(e){i.appendChild(e.dom())})),Z.fromDom(i));return Z.fromDom(Ye(t,a.dom()))}))},gt=function(e,t){return dt(t),function(e,t){var n=S(t,(function(t,n){return n.depth>t.length?ot(e,t,n):rt(e,t,n)}),[]);return O(n).map((function(e){return e.list}))}(e.contentDocument,t).toArray()},vt=function(e){var t,n,r=x(We.getSelectedListItems(e),Z.fromDom);return ce(T(r,a(at)),T((t=r,(n=y.call(t,0)).reverse(),n),a(at)),(function(e,t){return{start:e,end:t}}))},bt=function(e,t,n){var r=function(e,t){var n=N(!1);return x(e,(function(e){return{sourceList:e,entries:mt(0,t,n,e)}}))}(t,vt(e));C(r,(function(t){!function(e,t){C(k(e,st),(function(e){return function(e,t){switch(e){case"Indent":t.depth++;break;case"Outdent":t.depth--;break;case"Flatten":t.depth=0}}(t,e)}))}(t.entries,n);var r,o=function(e,t){return E(function(e,t){if(0===e.length)return[];for(var n=t(e[0]),r=[],o=[],i=0,a=e.length;i<a;i++){var u=e[i],s=t(u);s!==n&&(r.push(o),o=[]),n=s,o.push(u)}return 0!==o.length&&r.push(o),r}(t,ut),(function(t){return O(t).map(ut).getOr(!1)?gt(e,t):ht(e,t)}))}(e,t.entries);C(o,(function(t){we(e,"Indent"===n?"IndentList":"OutdentList",t.dom())})),r=t.sourceList,C(o,(function(e){ge(r,e)})),ye(t.sourceList)}))},yt=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),wt=yt.DOM,xt=function(e,t,n){var r,o,i,a,u,s;for(i=wt.select('span[data-mce-type="bookmark"]',t),u=Ye(e,n),(r=wt.createRng()).setStartAfter(n),r.setEndAfter(t),a=(o=r.extractContents()).firstChild;a;a=a.firstChild)if("LI"===a.nodeName&&e.dom.isEmpty(a)){wt.remove(a);break}e.dom.isEmpty(o)||wt.insertAfter(o,t),wt.insertAfter(u,t),Fe(e.dom,n.parentNode)&&(s=n.parentNode,Ee.each(i,(function(e){s.parentNode.insertBefore(e,n.parentNode)})),wt.remove(s)),wt.remove(n),Fe(e.dom,t)&&wt.remove(t)},Ct=function(e){ie(e,"dt")&&et(e,"dd")},kt=function(e,t,n){C(n,"Indent"===t?Ct:function(t){return function(e,t){ie(t,"dd")?et(t,"dt"):ie(t,"dt")&&fe(t).each((function(n){return xt(e,n.dom(),t.dom())}))}(e,t)})},St=function(e,t){if(_e(e))return{container:e,offset:t};var n=ae.getNode(e,t);return _e(n)?{container:n,offset:t>=e.childNodes.length?n.data.length:0}:n.previousSibling&&_e(n.previousSibling)?{container:n.previousSibling,offset:n.previousSibling.data.length}:n.nextSibling&&_e(n.nextSibling)?{container:n.nextSibling,offset:0}:{container:e,offset:t}},Tt=function(e){var t=e.cloneRange(),n=St(e.startContainer,e.startOffset);t.setStart(n.container,n.offset);var r=St(e.endContainer,e.endOffset);return t.setEnd(r.container,r.offset),t},Et=function(e,t){var n=x(We.getSelectedListRoots(e),Z.fromDom),r=x(We.getSelectedDlItems(e),Z.fromDom),o=!1;if(n.length||r.length){var i=e.selection.getBookmark();bt(e,n,t),kt(e,t,r),e.selection.moveToBookmark(i),e.selection.setRng(Tt(e.selection.getRng())),e.nodeChanged(),o=!0}return o},Ot=function(e){return Et(e,"Indent")},_t=function(e){return Et(e,"Outdent")},At=function(e){return Et(e,"Flatten")},Dt=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager"),Nt=yt.DOM,Mt=function(e){var t={},n=function(n){var r,o,i;o=e[n?"startContainer":"endContainer"],i=e[n?"startOffset":"endOffset"],1===o.nodeType&&(r=Nt.create("span",{"data-mce-type":"bookmark"}),o.hasChildNodes()?(i=Math.min(i,o.childNodes.length-1),n?o.insertBefore(r,o.childNodes[i]):Nt.insertAfter(r,o.childNodes[i])):o.appendChild(r),o=r,i=0),t[n?"startContainer":"endContainer"]=o,t[n?"startOffset":"endOffset"]=i};return n(!0),e.collapsed||n(),t},Rt=function(e){function t(t){var n,r,o;n=o=e[t?"startContainer":"endContainer"],r=e[t?"startOffset":"endOffset"],n&&(1===n.nodeType&&(r=function(e){for(var t=e.parentNode.firstChild,n=0;t;){if(t===e)return n;1===t.nodeType&&"bookmark"===t.getAttribute("data-mce-type")||n++,t=t.nextSibling}return-1}(n),n=n.parentNode,Nt.remove(o),!n.hasChildNodes()&&Nt.isBlock(n)&&n.appendChild(Nt.create("br"))),e[t?"startContainer":"endContainer"]=n,e[t?"startOffset":"endOffset"]=r)}t(!0),t();var n=Nt.createRng();return n.setStart(e.startContainer,e.startOffset),e.endContainer&&n.setEnd(e.endContainer,e.endOffset),Tt(n)},zt=function(e){return/\btox\-/.test(e.className)},It=function(e){switch(e){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},Bt=function(e,t){Ee.each(t,(function(t,n){e.setAttribute(n,t)}))},Pt=function(e,t,n){!function(e,t,n){var r=n["list-style-type"]?n["list-style-type"]:null;e.setStyle(t,"list-style-type",r)}(e,t,n),function(e,t,n){Bt(t,n["list-attributes"]),Ee.each(e.select("li",t),(function(e){Bt(e,n["list-item-attributes"])}))}(e,t,n)},Lt=function(e,t,n,r){var o,i;for(o=t[n?"startContainer":"endContainer"],i=t[n?"startOffset":"endOffset"],1===o.nodeType&&(o=o.childNodes[Math.min(i,o.childNodes.length-1)]||o),!n&&ze(o.nextSibling)&&(o=o.nextSibling);o.parentNode!==r;){if(Be(e,o))return o;if(/^(TD|TH)$/.test(o.parentNode.nodeName))return o;o=o.parentNode}return o},Ft=function(e,t,n){void 0===n&&(n={});var r,o=e.selection.getRng(!0),i="LI",a=We.getClosestListRootElm(e,e.selection.getStart(!0)),u=e.dom;"false"!==u.getContentEditable(e.selection.getNode())&&("DL"===(t=t.toUpperCase())&&(i="DT"),r=Mt(o),Ee.each(function(e,t,n){for(var r,o=[],i=e.dom,a=Lt(e,t,!0,n),u=Lt(e,t,!1,n),s=[],c=a;c&&(s.push(c),c!==u);c=c.nextSibling);return Ee.each(s,(function(t){if(Be(e,t))return o.push(t),void(r=null);if(i.isBlock(t)||ze(t))return ze(t)&&i.remove(t),void(r=null);var a=t.nextSibling;Dt.isBookmarkNode(t)&&(Be(e,a)||!a&&t.parentNode===n)?r=null:(r||(r=i.create("p"),t.parentNode.insertBefore(r,t),o.push(r)),r.appendChild(t))})),o}(e,o,a),(function(r){var o,a;(a=r.previousSibling)&&Ae(a)&&a.nodeName===t&&function(e,t,n){var r=e.getStyle(t,"list-style-type"),o=n?n["list-style-type"]:"";return r===(o=null===o?"":o)}(u,a,n)?(o=a,r=u.rename(r,i),a.appendChild(r)):(o=u.create(t),r.parentNode.insertBefore(o,r),o.appendChild(r),r=u.rename(r,i)),function(e,t,n){Ee.each(n,(function(n){var r;return e.setStyle(t,((r={})[n]="",r))}))}(u,r,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),Pt(u,o,n),jt(e.dom,o)})),e.selection.setRng(Rt(r)))},Ht=function(e,t,n){return function(e,t){return e&&t&&Ae(e)&&e.nodeName===t.nodeName}(t,n)&&function(e,t,n){return e.getStyle(t,"list-style-type",!0)===e.getStyle(n,"list-style-type",!0)}(e,t,n)&&(r=n,t.className===r.className);var r},jt=function(e,t){var n,r;if(n=t.nextSibling,Ht(e,t,n)){for(;r=n.firstChild;)t.appendChild(r);e.remove(n)}if(n=t.previousSibling,Ht(e,t,n)){for(;r=n.lastChild;)t.insertBefore(r,t.firstChild);e.remove(n)}},Vt=function(e,t,n,r,o){if(t.nodeName!==r||Ut(o)){var i=Mt(e.selection.getRng(!0));Ee.each([t].concat(n),(function(t){!function(e,t,n,r){if(t.nodeName!==n){var o=e.dom.rename(t,n);Pt(e.dom,o,r),we(e,It(n),o)}else Pt(e.dom,t,r),we(e,It(n),t)}(e,t,r,o)})),e.selection.setRng(Rt(i))}else At(e)},Ut=function(e){return"list-style-type"in e},$t={toggleList:function(e,t,n){var r=We.getParentList(e),o=We.getSelectedSubLists(e);n=n||{},r&&o.length>0?Vt(e,r,o,t,n):function(e,t,n,r){if(t!==e.getBody())if(t)if(t.nodeName!==n||Ut(r)||zt(t)){var o=Mt(e.selection.getRng(!0));Pt(e.dom,t,r);var i=e.dom.rename(t,n);jt(e.dom,i),e.selection.setRng(Rt(o)),we(e,It(n),i)}else At(e);else Ft(e,n,r),we(e,It(n),t)}(e,r,t,n)},mergeWithAdjacentLists:jt},qt=yt.DOM,Wt=function(e,t){var n,r=t.parentNode;"LI"===r.nodeName&&r.firstChild===t&&((n=r.previousSibling)&&"LI"===n.nodeName?(n.appendChild(t),Fe(e,r)&&qt.remove(r)):qt.setStyle(r,"listStyleType","none")),Ae(r)&&(n=r.previousSibling)&&"LI"===n.nodeName&&n.appendChild(t)},Yt=function(e,t){Ee.each(Ee.grep(e.select("ol,ul",t)),(function(t){Wt(e,t)}))},Xt=function(e,t,n,r){var o=t.startContainer,i=t.startOffset;if(_e(o)&&(n?i<o.data.length:i>0))return o;var a=e.schema.getNonEmptyElements();1===o.nodeType&&(o=ae.getNode(o,i));var u=new ue(o,r);for(n&&Le(e.dom,o)&&u.next();o=u[n?"next":"prev2"]();){if("LI"===o.nodeName&&!o.hasChildNodes())return o;if(a[o.nodeName])return o;if(_e(o)&&o.data.length>0)return o}},Gt=function(e,t){var n=t.childNodes;return 1===n.length&&!Ae(n[0])&&e.isBlock(n[0])},Kt=function(e,t,n){var r,o;if(o=Gt(e,n)?n.firstChild:n,function(e,t){Gt(e,t)&&e.remove(t.firstChild,!0)}(e,t),!Fe(e,t,!0))for(;r=t.firstChild;)o.appendChild(r)},Jt=function(e,t,n){var r,o,i=t.parentNode;if(He(e,t)&&He(e,n)){Ae(n.lastChild)&&(o=n.lastChild),i===n.lastChild&&ze(i.previousSibling)&&e.remove(i.previousSibling),(r=n.lastChild)&&ze(r)&&t.hasChildNodes()&&e.remove(r),Fe(e,n,!0)&&e.$(n).empty(),Kt(e,t,n),o&&n.appendChild(o);var a=oe(Z.fromDom(n),Z.fromDom(t))?e.getParents(t,Ae,n):[];e.remove(t),C(a,(function(t){Fe(e,t)&&t!==e.getRoot()&&e.remove(t)}))}},Qt=function(e,t,n,r){var o=e.dom;if(o.isEmpty(r))!function(e,t,n){e.dom.$(n).empty(),Jt(e.dom,t,n),e.selection.setCursorLocation(n)}(e,n,r);else{var i=Mt(t);Jt(o,n,r),e.selection.setRng(Rt(i))}},Zt=function(e,t){var n=e.dom,r=e.selection,o=r.getStart(),i=We.getClosestListRootElm(e,o),a=n.getParent(r.getStart(),"LI",i);if(a){var u=a.parentNode;if(u===e.getBody()&&Fe(n,u))return!0;var s=Tt(r.getRng()),c=n.getParent(Xt(e,s,t,i),"LI",i);if(c&&c!==a)return e.undoManager.transact((function(){t?Qt(e,s,c,a):Ie(a)?_t(e):function(e,t,n,r){var o=Mt(t);Jt(e.dom,n,r);var i=Rt(o);e.selection.setRng(i)}(e,s,a,c)})),!0;if(!c&&!t&&0===s.startOffset&&0===s.endOffset)return e.undoManager.transact((function(){At(e)})),!0}return!1},en=function(e,t){return Zt(e,t)||function(e,t){var n=e.dom,r=e.selection.getStart(),o=We.getClosestListRootElm(e,r),i=n.getParent(r,n.isBlock,o);if(i&&n.isEmpty(i)){var a=Tt(e.selection.getRng()),u=n.getParent(Xt(e,a,t,o),"LI",o);if(u)return e.undoManager.transact((function(){!function(e,t,n){var r=e.getParent(t.parentNode,e.isBlock,n);e.remove(t),r&&e.isEmpty(r)&&e.remove(r)}(n,i,o),$t.mergeWithAdjacentLists(n,u.parentNode),e.selection.select(u,!0),e.selection.collapse(t)})),!0}return!1}(e,t)},tn=function(e,t){return e.selection.isCollapsed()?en(e,t):function(e){var t=e.selection.getStart(),n=We.getClosestListRootElm(e,t);return!!(e.dom.getParent(t,"LI,DT,DD",n)||We.getSelectedListItems(e).length>0)&&(e.undoManager.transact((function(){e.execCommand("Delete"),Yt(e.dom,e.getBody())})),!0)}(e)},nn=function(e){e.on("keydown",(function(t){t.keyCode===se.BACKSPACE?tn(e,!1)&&t.preventDefault():t.keyCode===se.DELETE&&tn(e,!0)&&t.preventDefault()}))},rn=tn,on={get:function(e){return{backspaceDelete:function(t){rn(e,t)}}}},an=function(e,t){return function(){var n=e.dom.getParent(e.selection.getStart(),"UL,OL,DL");return n&&n.nodeName===t}},un={register:function(e){e.on("BeforeExecCommand",(function(t){var n=t.command.toLowerCase();"indent"===n?Ot(e):"outdent"===n&&_t(e)})),e.addCommand("InsertUnorderedList",(function(t,n){$t.toggleList(e,"UL",n)})),e.addCommand("InsertOrderedList",(function(t,n){$t.toggleList(e,"OL",n)})),e.addCommand("InsertDefinitionList",(function(t,n){$t.toggleList(e,"DL",n)})),e.addCommand("RemoveList",(function(){At(e)})),e.addQueryStateHandler("InsertUnorderedList",an(e,"UL")),e.addQueryStateHandler("InsertOrderedList",an(e,"OL")),e.addQueryStateHandler("InsertDefinitionList",an(e,"DL"))}},sn=function(e){return e.getParam("lists_indent_on_tab",!0)},cn={setup:function(e){sn(e)&&function(e){e.on("keydown",(function(t){t.keyCode!==se.TAB||se.metaKeyPressed(t)||e.undoManager.transact((function(){(t.shiftKey?_t(e):Ot(e))&&t.preventDefault()}))}))}(e),nn(e)}},ln=function(e,t){return function(n){var r=function(e){var r=function(e,t){for(var n=0;n<e.length;n++){if(t(e[n]))return n}return-1}(e.parents,Re),o=-1!==r?e.parents.slice(0,r):e.parents,i=Ee.grep(o,Ae);n.setActive(i.length>0&&i[0].nodeName===t&&!zt(i[0]))};return e.on("NodeChange",r),function(){return e.off("NodeChange",r)}}},fn={register:function(e){var t=function(t){return function(){return e.execCommand(t)}};(function(e,t){var n=e.settings.plugins?e.settings.plugins:"";return-1!==Ee.inArray(n.split(/[ ,]/),t)})(e,"advlist")||(e.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:t("InsertOrderedList"),onSetup:ln(e,"OL")}),e.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:t("InsertUnorderedList"),onSetup:ln(e,"UL")}))}};r.add("lists",(function(e){return cn.setup(e),fn.register(e),un.register(e),on.get(e)}))}(window)},function(e,t,n){(function(e){!function(t){"use strict";var n,r,o,i,a=tinymce.util.Tools.resolve("tinymce.PluginManager"),u=tinymce.util.Tools.resolve("tinymce.util.VK"),s=function(e){return function(t){return function(e){if(null===e)return"null";var t=typeof e;return"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t}(t)===e}},c=s("string"),l=s("array"),f=s("boolean"),d=s("function"),p=function(e){var t=e.getParam("link_assume_external_targets",!1);return f(t)&&t?1:!c(t)||"http"!==t&&"https"!==t?0:t},m=function(e){return e.getParam("link_context_toolbar",!1,"boolean")},h=function(e){return e.getParam("link_list")},g=function(e){return e.getParam("default_link_target")},v=function(e){return e.getParam("target_list",!0)},b=function(e){return e.getParam("rel_list",[],"array")},y=function(e){return e.getParam("link_class_list",[],"array")},w=function(e){return e.getParam("link_title",!0,"boolean")},x=function(e){return e.getParam("allow_unsafe_link_target",!1,"boolean")},C=function(e){return e.getParam("link_quicklink",!1,"boolean")},k=function(e){var n=t.document.createElement("a");n.target="_blank",n.href=e,n.rel="noreferrer noopener";var r=t.document.createEvent("MouseEvents");r.initMouseEvent("click",!0,!0,t.window,0,0,0,0,0,!1,!1,!1,!1,0,null),function(e,n){t.document.body.appendChild(e),e.dispatchEvent(n),t.document.body.removeChild(e)}(n,r)},S=function(){return(S=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},T=function(){},E=function(e){return function(){return e}},O=E(!1),_=E(!0),A=function(){return D},D=(n=function(e){return e.isNone()},i={fold:function(e,t){return e()},is:O,isSome:O,isNone:_,getOr:o=function(e){return e},getOrThunk:r=function(e){return e()},getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:E(null),getOrUndefined:E(void 0),or:o,orThunk:r,map:A,each:T,bind:A,exists:O,forall:_,filter:A,equals:n,equals_:n,toArray:function(){return[]},toString:E("none()")},Object.freeze&&Object.freeze(i),i),N=function(e){var t=E(e),n=function(){return o},r=function(t){return t(e)},o={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:_,isNone:O,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return N(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:D},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(O,(function(t){return n(e,t)}))}};return o},M={some:N,none:A,from:function(e){return null==e?D:N(e)}},R=Array.prototype.slice,z=Array.prototype.indexOf,I=Array.prototype.push,B=function(e,t){return n=e,r=t,z.call(n,r)>-1;var n,r},P=function(e,t){for(var n=0,r=e.length;n<r;n++){t(e[n],n)}},L=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!l(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);I.apply(t,e[n])}return t},F=function(e,t){var n=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o)}return r}(e,t);return L(n)},H=(d(Array.from)&&Array.from,tinymce.util.Tools.resolve("tinymce.util.Tools")),j=function(e){return/^\w+:/i.test(e)},V=function(e,t){var n=["noopener"],r=e?e.split(/\s+/):[],o=function(e){return e.filter((function(e){return-1===H.inArray(n,e)}))},i=t?function(e){return(e=o(e)).length>0?e.concat(n):n}(r):o(r);return i.length>0?function(e){return H.trim(e.sort().join(" "))}(i):""},U=function(e,t){return t=t||e.selection.getNode(),q(t)?e.dom.select("a[href]",t)[0]:e.dom.getParent(t,"a[href]")},$=function(e){return e&&"A"===e.nodeName&&!!e.href},q=function(e){return e&&"FIGURE"===e.nodeName&&/\bimage\b/i.test(e.className)},W=function(e){return function(e,t,n){return P(e,(function(e){n=t(n,e)})),n}(["title","rel","class","target"],(function(t,n){return e[n].each((function(e){t[n]=e.length>0?e:null})),t}),{href:e.href})},Y=function(e,t){var n=S({},t);if(!(b(e).length>0)&&!1===x(e)){var r=V(n.rel,"_blank"===n.target);n.rel=r||null}return M.from(n.target).isNone()&&!1===v(e)&&(n.target=g(e)),n.href=function(e,t){return"http"!==t&&"https"!==t||j(e)?e:t+"://"+e}(n.href,p(e)),n},X=function(e,t){var n=e.dom.select("img",t)[0];if(n){var r=e.dom.getParents(n,"a[href]",t)[0];r&&(r.parentNode.insertBefore(n,r),e.dom.remove(r))}},G=function(e,t,n){var r=e.dom.select("img",t)[0];if(r){var o=e.dom.create("a",n);r.parentNode.insertBefore(o,r),o.appendChild(r)}},K=function(e,t,n){var r=e.selection.getNode(),o=U(e,r),i=Y(e,W(n));e.undoManager.transact((function(){n.href===t.href&&t.attach(),o?(e.focus(),function(e,t,n,r){n.each((function(e){t.hasOwnProperty("innerText")?t.innerText=e:t.textContent=e})),e.dom.setAttribs(t,r),e.selection.select(t)}(e,o,n.text,i)):function(e,t,n,r){q(t)?G(e,t,r):n.fold((function(){e.execCommand("mceInsertLink",!1,r)}),(function(t){e.insertContent(e.dom.createHTML("a",r,e.dom.encode(t)))}))}(e,r,n.text,i)}))},J=function(e){e.undoManager.transact((function(){var t=e.selection.getNode();if(q(t))X(e,t);else{var n=e.dom.getParent(t,"a[href]",e.getBody());n&&e.dom.remove(n,!0)}e.focus()}))},Q=$,Z=function(e){return H.grep(e,$).length>0},ee=function(e){var t=e.getAttribute("data-mce-href");return t||e.getAttribute("href")},te=function(e){return!(/</.test(e)&&(!/^<a [^>]+>[^<]+<\/a>$/.test(e)||-1===e.indexOf("href=")))},ne=U,re=function(e,t){return function(e){return e.replace(/\uFEFF/g,"")}(t?t.innerText||t.textContent:e.getContent({format:"text"}))},oe=V,ie=j,ae=function(e){for(var t=[],n=function(e){t.push(e)},r=0;r<e.length;r++)e[r].each(n);return t},ue=function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n],n);if(r.isSome())return r}return M.none()},se=function(e){return c(e.value)?e.value:""},ce=function(e){return void 0===e&&(e=se),function(t){return M.from(t).map((function(t){return function(e,t){var n=[];return H.each(e,(function(e){var r=c(e.text)?e.text:c(e.title)?e.title:"";if(void 0!==e.menu);else{var o=t(e);n.push({text:r,value:o})}})),n}(t,e)}))}},le={sanitize:function(e){return ce(se)(e)},sanitizeWith:ce,createUi:function(e,t){return function(n){return{name:e,type:"selectbox",label:t,items:n}}},getValue:se},fe=function(e){var t=e,n=function(){return t};return{get:n,set:function(e){t=e},clone:function(){return fe(n())}}},de=function(e,t,n,r){var o=r[t],i=e.length>0;return void 0!==o?function(e,t){return ue(t,(function(t){return M.some(t).filter((function(t){return t.value===e}))}))}(o,n).map((function(t){return{url:{value:t.value,meta:{text:i?e:t.text,attach:T}},text:i?e:t.text}})):M.none()},pe=function(e,t){var n=fe(e.text),r=function(e,r){var o,i,a=(o=t,i=r.name,"link"===i?o.catalogs.link:"anchor"===i?o.catalogs.anchor:M.none()).getOr([]);return de(n.get(),r.name,a,e)};return{onChange:function(e,t){return"url"===t.name?function(e){if(n.get().length<=0){var t=void 0!==e.url.meta.text?e.url.meta.text:e.url.value;return M.some({text:t})}return M.none()}(e()):B(["anchor","link"],t.name)?r(e(),t):"text"===t.name?(n.set(e().text),M.none()):M.none()}}},me={},he={exports:me};!function(t,n,r,o){!function(o){if("object"==typeof n&&void 0!==r)r.exports=o();else if("function"==typeof t&&t.amd)t([],o);else{("undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:this).EphoxContactWrapper=o()}}((function(){return function e(t,n,r){function i(u,s){if(!n[u]){if(!t[u]){var c="function"==typeof o&&o;if(!s&&c)return c(u,!0);if(a)return a(u,!0);var l=new Error("Cannot find module '"+u+"'");throw l.code="MODULE_NOT_FOUND",l}var f=n[u]={exports:{}};t[u][0].call(f.exports,(function(e){return i(t[u][1][e]||e)}),f,f.exports,e,t,n,r)}return n[u].exports}for(var a="function"==typeof o&&o,u=0;u<r.length;u++)i(r[u]);return i}({1:[function(e,t,n){var r,o,i=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:a}catch(e){r=a}try{o="function"==typeof clearTimeout?clearTimeout:u}catch(e){o=u}}();var c,l=[],f=!1,d=-1;function p(){f&&c&&(f=!1,c.length?l=c.concat(l):d=-1,l.length&&m())}function m(){if(!f){var e=s(p);f=!0;for(var t=l.length;t;){for(c=l,l=[];++d<t;)c&&c[d].run();d=-1,t=l.length}c=null,f=!1,function(e){if(o===clearTimeout)return clearTimeout(e);if((o===u||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(e);try{o(e)}catch(t){try{return o.call(null,e)}catch(t){return o.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function g(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new h(e,t)),1!==l.length||f||s(m)},h.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],2:[function(e,t,n){(function(e){!function(n){var r=setTimeout;function o(){}function i(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],f(e,this)}function a(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,i._immediateFn((function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var r;try{r=n(e._value)}catch(e){return void s(t.promise,e)}u(t.promise,r)}else(1===e._state?u:s)(t.promise,e._value)}))):e._deferreds.push(t)}function u(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof i)return e._state=3,e._value=t,void c(e);if("function"==typeof n)return void f((r=n,o=t,function(){r.apply(o,arguments)}),e)}e._state=1,e._value=t,c(e)}catch(t){s(e,t)}var r,o}function s(e,t){e._state=2,e._value=t,c(e)}function c(e){2===e._state&&0===e._deferreds.length&&i._immediateFn((function(){e._handled||i._unhandledRejectionFn(e._value)}));for(var t=0,n=e._deferreds.length;t<n;t++)a(e,e._deferreds[t]);e._deferreds=null}function l(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function f(e,t){var n=!1;try{e((function(e){n||(n=!0,u(t,e))}),(function(e){n||(n=!0,s(t,e))}))}catch(e){if(n)return;n=!0,s(t,e)}}i.prototype.catch=function(e){return this.then(null,e)},i.prototype.then=function(e,t){var n=new this.constructor(o);return a(this,new l(e,t,n)),n},i.all=function(e){var t=Array.prototype.slice.call(e);return new i((function(e,n){if(0===t.length)return e([]);var r=t.length;function o(i,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var u=a.then;if("function"==typeof u)return void u.call(a,(function(e){o(i,e)}),n)}t[i]=a,0==--r&&e(t)}catch(e){n(e)}}for(var i=0;i<t.length;i++)o(i,t[i])}))},i.resolve=function(e){return e&&"object"==typeof e&&e.constructor===i?e:new i((function(t){t(e)}))},i.reject=function(e){return new i((function(t,n){n(e)}))},i.race=function(e){return new i((function(t,n){for(var r=0,o=e.length;r<o;r++)e[r].then(t,n)}))},i._immediateFn="function"==typeof e?function(t){e(t)}:function(e){r(e,0)},i._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},i._setImmediateFn=function(e){i._immediateFn=e},i._setUnhandledRejectionFn=function(e){i._unhandledRejectionFn=e},void 0!==t&&t.exports?t.exports=i:n.Promise||(n.Promise=i)}(this)}).call(this,e("timers").setImmediate)},{timers:3}],3:[function(e,t,n){(function(t,r){var o=e("process/browser.js").nextTick,i=Function.prototype.apply,a=Array.prototype.slice,u={},s=0;function c(e,t){this._id=e,this._clearFn=t}n.setTimeout=function(){return new c(i.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new c(i.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(e){e.close()},c.prototype.unref=c.prototype.ref=function(){},c.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},n.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},n._unrefActive=n.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n.setImmediate="function"==typeof t?t:function(e){var t=s++,r=!(arguments.length<2)&&a.call(arguments,1);return u[t]=!0,o((function(){u[t]&&(r?e.apply(null,r):e.call(null),n.clearImmediate(t))})),t},n.clearImmediate="function"==typeof r?r:function(e){delete u[e]}}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":1,timers:3}],4:[function(e,t,n){var r=e("promise-polyfill"),o="undefined"!=typeof window?window:Function("return this;")();t.exports={boltExport:o.Promise||r}},{"promise-polyfill":2}]},{},[4])(4)}))}(void 0,me,he,void 0);var ge=he.exports.boltExport,ve=function(e){var n=M.none(),r=[],o=function(e){i()?u(e):r.push(e)},i=function(){return n.isSome()},a=function(e){P(e,u)},u=function(e){n.each((function(n){t.setTimeout((function(){e(n)}),0)}))};return e((function(e){n=M.some(e),a(r),r=[]})),{get:o,map:function(e){return ve((function(t){o((function(n){t(e(n))}))}))},isReady:i}},be={nu:ve,pure:function(e){return ve((function(t){t(e)}))}},ye=function(e){t.setTimeout((function(){throw e}),0)},we=function(e){var t=function(t){e().then(t,ye)};return{map:function(t){return we((function(){return e().then(t)}))},bind:function(t){return we((function(){return e().then((function(e){return t(e).toPromise()}))}))},anonBind:function(t){return we((function(){return e().then((function(){return t.toPromise()}))}))},toLazy:function(){return be.nu(t)},toCached:function(){var t=null;return we((function(){return null===t&&(t=e()),t}))},toPromise:e,get:t}},xe=function(e){return we((function(){return new ge(e)}))},Ce=function(e){return we((function(){return ge.resolve(e)}))},ke=tinymce.util.Tools.resolve("tinymce.util.Delay"),Se=function(e){var t=e.href;return t.indexOf("@")>0&&-1===t.indexOf("//")&&-1===t.indexOf("mailto:")?M.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:function(e){return S(S({},e),{href:"mailto:"+t})}}):M.none()},Te=function(e){return function(t){var n=t.href;return 1===e&&!ie(n)||0===e&&/^\s*www[\.|\d\.]/i.test(n)?M.some({message:"The URL you entered seems to be an external link. Do you want to add the required http:// prefix?",preprocess:function(e){return S(S({},e),{href:"http://"+n})}}):M.none()}},Ee=function(e,t,n){return ue([Se,Te(t)],(function(e){return e(n)})).fold((function(){return Ce(n)}),(function(t){return xe((function(r){!function(e,t,n){var r=e.selection.getRng();ke.setEditorTimeout(e,(function(){e.windowManager.confirm(t,(function(t){e.selection.setRng(r),n(t)}))}))}(e,t.message,(function(e){r(e?t.preprocess(n):n)}))}))}))},Oe=function(e){var t=e.dom.select("a:not([href])"),n=F(t,(function(e){var t=e.name||e.id;return t?[{text:t,value:"#"+t}]:[]}));return n.length>0?M.some([{text:"None",value:""}].concat(n)):M.none()},_e=function(e){var t=y(e);return t.length>0?le.sanitize(t):M.none()},Ae=tinymce.util.Tools.resolve("tinymce.util.XHR"),De=function(e){var t=function(t){return e.convertURL(t.value||t.url,"href")},n=h(e);return xe((function(e){c(n)?Ae.send({url:n,success:function(t){return e(function(e){try{return M.some(JSON.parse(e))}catch(e){return M.none()}}(t))},error:function(t){return e(M.none())}}):d(n)?n((function(t){return e(M.some(t))})):e(M.from(n))})).map((function(e){return e.bind(le.sanitizeWith(t)).map((function(e){return e.length>0?[{text:"None",value:""}].concat(e):e}))}))},Ne=function(e,t){var n=b(e);if(n.length>0){var r=t.is("_blank");return(!1===x(e)?le.sanitizeWith((function(e){return oe(le.getValue(e),r)})):le.sanitize)(n)}return M.none()},Me=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],Re=function(e){var t=v(e);return l(t)?le.sanitize(t).orThunk((function(){return M.some(Me)})):!1===t?M.none():M.some(Me)},ze=function(e,t,n){var r=e.getAttrib(t,n);return null!==r&&r.length>0?M.some(r):M.none()},Ie=function(e,t){return De(e).map((function(n){var r=function(e,t){var n=e.dom,r=te(e.selection.getContent())?M.some(re(e.selection,t)):M.none(),o=t?M.some(n.getAttrib(t,"href")):M.none(),i=t?M.from(n.getAttrib(t,"target")):M.none(),a=ze(n,t,"rel"),u=ze(n,t,"class");return{url:o,text:r,title:ze(n,t,"title"),target:i,rel:a,linkClass:u}}(e,t);return{anchor:r,catalogs:{targets:Re(e),rels:Ne(e,r.target),classes:_e(e),anchor:Oe(e),link:n},optNode:M.from(t),flags:{titleEnabled:w(e)}}}))},Be=function(e){(function(e){var t=ne(e);return Ie(e,t)})(e).map((function(t){var n=function(e,t,n){return function(r){var o=r.getData();if(!o.url.value)return J(e),void r.close();var i=function(e){return M.from(o[e]).filter((function(n){return!t.anchor[e].is(n)}))},a={href:o.url.value,text:i("text"),target:i("target"),rel:i("rel"),class:i("linkClass"),title:i("title")},u={href:o.url.value,attach:void 0!==o.url.meta&&o.url.meta.attach?o.url.meta.attach:function(){}};Ee(e,n,a).get((function(t){K(e,u,t)})),r.close()}}(e,t,p(e));return function(e,t,n){var r=e.anchor.text.map((function(){return{name:"text",type:"input",label:"Text to display"}})).toArray(),o=e.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],i=function(e,t){return{url:{value:e.anchor.url.getOr(""),meta:{attach:function(){},text:e.anchor.url.fold((function(){return""}),(function(){return e.anchor.text.getOr("")})),original:{value:e.anchor.url.getOr("")}}},text:e.anchor.text.getOr(""),title:e.anchor.title.getOr(""),anchor:e.anchor.url.getOr(""),link:e.anchor.url.getOr(""),rel:e.anchor.rel.getOr(""),target:e.anchor.target.or(t).getOr(""),linkClass:e.anchor.linkClass.getOr("")}}(e,M.from(g(n))),a=pe(i,e),u=e.catalogs;return{title:"Insert/Edit Link",size:"normal",body:{type:"panel",items:L([[{name:"url",type:"urlinput",filetype:"file",label:"URL"}],r,o,ae([u.anchor.map(le.createUi("anchor","Anchors")),u.rels.map(le.createUi("rel","Rel")),u.targets.map(le.createUi("target","Open link in...")),u.link.map(le.createUi("link","Link list")),u.classes.map(le.createUi("linkClass","Class"))])])},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:i,onChange:function(e,t){var n=t.name;a.onChange(e.getData,{name:n}).each((function(t){e.setData(t)}))},onSubmit:t}}(t,n,e)})).get((function(t){e.windowManager.open(t)}))},Pe=function(e,t){return e.dom.getParent(t,"a[href]")},Le=function(e){return Pe(e,e.selection.getStart())},Fe=function(e,t){if(t){var n=ee(t);if(/^#/.test(n)){var r=e.$(n);r.length&&e.selection.scrollIntoView(r[0],!0)}else k(t.href)}},He={openDialog:function(e){return function(){Be(e)}},gotoSelectedLink:function(e){return function(){Fe(e,Le(e))}},leftClickedOnAHref:function(e){return function(t){var n,r,o;return!!(m(e)&&Q(t)&&3===(o=(r=(n=e.selection).getRng()).startContainer).nodeType&&n.isCollapsed()&&r.startOffset>0&&r.startOffset<o.data.length)}},setupGotoLinks:function(e){e.on("click",(function(t){var n=Pe(e,t.target);n&&u.metaKeyPressed(t)&&(t.preventDefault(),Fe(e,n))})),e.on("keydown",(function(t){var n=Le(e);n&&13===t.keyCode&&function(e){return!0===e.altKey&&!1===e.shiftKey&&!1===e.ctrlKey&&!1===e.metaKey}(t)&&(t.preventDefault(),Fe(e,n))}))},toggleActiveState:function(e){return function(t){var n=function(n){return t.setActive(!e.readonly&&!!ne(e,n.element))};return e.on("NodeChange",n),function(){return e.off("NodeChange",n)}}},toggleEnabledState:function(e){return function(t){t.setDisabled(!Z(e.dom.getParents(e.selection.getStart())));var n=function(e){return t.setDisabled(!Z(e.parents))};return e.on("NodeChange",n),function(){return e.off("NodeChange",n)}}}},je={register:function(e){e.addCommand("mceLink",(function(){C(e)?e.fire("contexttoolbar-show",{toolbarKey:"quicklink"}):He.openDialog(e)()}))}},Ve={setup:function(e){e.addShortcut("Meta+K","",(function(){e.execCommand("mceLink")}))}},Ue={setupButtons:function(e){e.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",onAction:He.openDialog(e),onSetup:He.toggleActiveState(e)}),e.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:He.gotoSelectedLink(e),onSetup:He.toggleEnabledState(e)}),e.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:function(){return J(e)},onSetup:He.toggleEnabledState(e)})},setupMenuItems:function(e){e.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:He.gotoSelectedLink(e),onSetup:He.toggleEnabledState(e)}),e.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onAction:He.openDialog(e)}),e.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:function(){return J(e)},onSetup:He.toggleEnabledState(e)})},setupContextMenu:function(e){e.ui.registry.addContextMenu("link",{update:function(t){return Z(e.dom.getParents(t,"a"))?"link unlink openlink":"link"}})},setupContextToolbars:function(e){var t=function(t){var n=e.selection.getNode();return t.setDisabled(!ne(e,n)),function(){}};e.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:He.toggleActiveState(e)},label:"Link",predicate:function(t){return!!ne(e,t)&&m(e)},initValue:function(){var t=ne(e);return t?ee(t):""},commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:function(t){var n=e.selection.getNode();return t.setActive(!!ne(e,n)),He.toggleActiveState(e)(t)},onAction:function(t){var n=ne(e),r=t.getValue();if(n)e.dom.setAttrib(n,"href",r),function(e){e.selection.collapse(!1)}(e),t.hide();else{var o={href:r,attach:function(){}},i=te(e.selection.getContent())?M.some(re(e.selection,n)).filter((function(e){return e.length>0})).or(M.from(r)):M.none();K(e,o,{href:r,text:i,title:M.none(),rel:M.none(),target:M.none(),class:M.none()}),t.hide()}}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:t,onAction:function(t){J(e),t.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:t,onAction:function(t){He.gotoSelectedLink(e)(),t.hide()}}]})}};a.add("link",(function(e){Ue.setupButtons(e),Ue.setupMenuItems(e),Ue.setupContextMenu(e),Ue.setupContextToolbars(e),He.setupGotoLinks(e),je.register(e),Ve.setup(e)}))}(window)}).call(this,n(1))},function(e,t){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=function(e){return/^[A-Za-z][A-Za-z0-9\-:._]*$/.test(e)},n=function(e){var t=e.selection.getNode();return"A"===t.tagName&&""===e.dom.getAttrib(t,"href")?t.getAttribute("id")||t.getAttribute("name"):""},r=function(e,t){var n=e.selection.getNode();"A"===n.tagName&&""===e.dom.getAttrib(n,"href")?(n.removeAttribute("name"),n.id=t,e.undoManager.add()):(e.focus(),e.selection.collapse(!0),e.execCommand("mceInsertContent",!1,e.dom.createHTML("a",{id:t})))},o=function(e){var o=n(e);e.windowManager.open({title:"Anchor",size:"normal",body:{type:"panel",items:[{name:"id",type:"input",label:"ID",placeholder:"example"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{id:o},onSubmit:function(n){(function(e,n){return t(n)?(r(e,n),!1):(e.windowManager.alert("Id should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores."),!0)})(e,n.getData().id)||n.close()}})},i={register:function(e){e.addCommand("mceAnchor",(function(){o(e)}))}},a=function(e){return function(t){for(var n=0;n<t.length;n++)(r=t[n]).attr("href")||!r.attr("id")&&!r.attr("name")||r.firstChild||t[n].attr("contenteditable",e);var r}},u={setup:function(e){e.on("PreInit",(function(){e.parser.addNodeFilter("a",a("false")),e.serializer.addNodeFilter("a",a(null))}))}},s={register:function(e){e.ui.registry.addToggleButton("anchor",{icon:"bookmark",tooltip:"Anchor",onAction:function(){return e.execCommand("mceAnchor")},onSetup:function(t){return e.selection.selectorChangedWithUnbind("a:not([href])",t.setActive).unbind}}),e.ui.registry.addMenuItem("anchor",{icon:"bookmark",text:"Anchor...",onAction:function(){return e.execCommand("mceAnchor")}})}};e.add("anchor",(function(e){u.setup(e),i.register(e),s.register(e)}))}()},function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},function(e,t,n){"use strict";var r=n(0);function o(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var i;if(n)i=n(t);else if(r.isURLSearchParams(t))i=t.toString();else{var a=[];r.forEach(t,(function(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),a.push(o(t)+"="+o(e))})))})),i=a.join("&")}if(i){var u=e.indexOf("#");-1!==u&&(e=e.slice(0,u)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,n){"use strict";(function(t){var r=n(0),o=n(71),i={"Content-Type":"application/x-www-form-urlencoded"};function a(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var u,s={adapter:(void 0!==t&&"[object process]"===Object.prototype.toString.call(t)?u=n(21):"undefined"!=typeof XMLHttpRequest&&(u=n(21)),u),transformRequest:[function(e,t){return o(t,"Accept"),o(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(a(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)?(a(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};s.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],(function(e){s.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){s.headers[e]=r.merge(i)})),e.exports=s}).call(this,n(13))},function(e,t,n){"use strict";var r=n(0),o=n(72),i=n(18),a=n(74),u=n(75),s=n(22);e.exports=function(e){return new Promise((function(t,c){var l=e.data,f=e.headers;r.isFormData(l)&&delete f["Content-Type"];var d=new XMLHttpRequest;if(e.auth){var p=e.auth.username||"",m=e.auth.password||"";f.Authorization="Basic "+btoa(p+":"+m)}if(d.open(e.method.toUpperCase(),i(e.url,e.params,e.paramsSerializer),!0),d.timeout=e.timeout,d.onreadystatechange=function(){if(d&&4===d.readyState&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in d?a(d.getAllResponseHeaders()):null,r={data:e.responseType&&"text"!==e.responseType?d.response:d.responseText,status:d.status,statusText:d.statusText,headers:n,config:e,request:d};o(t,c,r),d=null}},d.onabort=function(){d&&(c(s("Request aborted",e,"ECONNABORTED",d)),d=null)},d.onerror=function(){c(s("Network Error",e,null,d)),d=null},d.ontimeout=function(){c(s("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",d)),d=null},r.isStandardBrowserEnv()){var h=n(76),g=(e.withCredentials||u(e.url))&&e.xsrfCookieName?h.read(e.xsrfCookieName):void 0;g&&(f[e.xsrfHeaderName]=g)}if("setRequestHeader"in d&&r.forEach(f,(function(e,t){void 0===l&&"content-type"===t.toLowerCase()?delete f[t]:d.setRequestHeader(t,e)})),e.withCredentials&&(d.withCredentials=!0),e.responseType)try{d.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&d.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){d&&(d.abort(),c(e),d=null)})),void 0===l&&(l=null),d.send(l)}))}},function(e,t,n){"use strict";var r=n(73);e.exports=function(e,t,n,o,i){var a=new Error(e);return r(a,t,n,o,i)}},function(e,t,n){"use strict";var r=n(0);e.exports=function(e,t){t=t||{};var n={};return r.forEach(["url","method","params","data"],(function(e){void 0!==t[e]&&(n[e]=t[e])})),r.forEach(["headers","auth","proxy"],(function(o){r.isObject(t[o])?n[o]=r.deepMerge(e[o],t[o]):void 0!==t[o]?n[o]=t[o]:r.isObject(e[o])?n[o]=r.deepMerge(e[o]):void 0!==e[o]&&(n[o]=e[o])})),r.forEach(["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"],(function(r){void 0!==t[r]?n[r]=t[r]:void 0!==e[r]&&(n[r]=e[r])})),n}},function(e,t,n){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},function(e,t,n){e.exports=function(){"use strict";var e,t=(function(e){var t=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(){r(this,e)}return t(e,[{key:"on",value:function(e,t){return this._callbacks=this._callbacks||{},this._callbacks[e]||(this._callbacks[e]=[]),this._callbacks[e].push(t),this}},{key:"emit",value:function(e){this._callbacks=this._callbacks||{};var t=this._callbacks[e];if(t){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];for(var i=0,a=a=t;!(i>=a.length);)a[i++].apply(this,r)}return this}},{key:"off",value:function(e,t){if(!this._callbacks||0===arguments.length)return this._callbacks={},this;var n=this._callbacks[e];if(!n)return this;if(1===arguments.length)return delete this._callbacks[e],this;for(var r=0;r<n.length;r++)if(n[r]===t){n.splice(r,1);break}return this}}]),e}(),i=function(e){function i(e,t){r(this,i);var o,a=n(this,(i.__proto__||Object.getPrototypeOf(i)).call(this)),u=void 0;if(a.element=e,a.version=i.version,a.defaultOptions.previewTemplate=a.defaultOptions.previewTemplate.replace(/\n*/g,""),a.clickableElements=[],a.listeners=[],a.files=[],"string"==typeof a.element&&(a.element=document.querySelector(a.element)),!a.element||null==a.element.nodeType)throw new Error("Invalid dropzone element.");if(a.element.dropzone)throw new Error("Dropzone already attached.");i.instances.push(a),a.element.dropzone=a;var s,c=null!=(o=i.optionsForElement(a.element))?o:{};if(a.options=i.extend({},a.defaultOptions,c,null!=t?t:{}),a.options.forceFallback||!i.isBrowserSupported())return s=a.options.fallback.call(a),n(a,s);if(null==a.options.url&&(a.options.url=a.element.getAttribute("action")),!a.options.url)throw new Error("No URL provided.");if(a.options.acceptedFiles&&a.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");if(a.options.uploadMultiple&&a.options.chunking)throw new Error("You cannot set both: uploadMultiple and chunking.");return a.options.acceptedMimeTypes&&(a.options.acceptedFiles=a.options.acceptedMimeTypes,delete a.options.acceptedMimeTypes),null!=a.options.renameFilename&&(a.options.renameFile=function(e){return a.options.renameFilename.call(a,e.name,e)}),a.options.method=a.options.method.toUpperCase(),(u=a.getExistingFallback())&&u.parentNode&&u.parentNode.removeChild(u),!1!==a.options.previewsContainer&&(a.options.previewsContainer?a.previewsContainer=i.getElement(a.options.previewsContainer,"previewsContainer"):a.previewsContainer=a.element),a.options.clickable&&(!0===a.options.clickable?a.clickableElements=[a.element]:a.clickableElements=i.getElements(a.options.clickable,"clickable")),a.init(),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,o),t(i,null,[{key:"initClass",value:function(){this.prototype.Emitter=o,this.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],this.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,timeout:3e4,parallelUploads:2,uploadMultiple:!1,chunking:!1,forceChunking:!1,chunkSize:2e6,parallelChunkUploads:!1,retryChunks:!1,retryChunksLimit:3,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,thumbnailMethod:"crop",resizeWidth:null,resizeHeight:null,resizeMimeType:null,resizeQuality:.8,resizeMethod:"contain",filesizeBase:1e3,maxFiles:null,headers:null,clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,hiddenInputContainer:"body",capture:null,renameFilename:null,renameFile:null,forceFallback:!1,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictUploadCanceled:"Upload canceled.",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",dictFileSizeUnits:{tb:"TB",gb:"GB",mb:"MB",kb:"KB",b:"b"},init:function(){},params:function(e,t,n){if(n)return{dzuuid:n.file.upload.uuid,dzchunkindex:n.index,dztotalfilesize:n.file.size,dzchunksize:this.options.chunkSize,dztotalchunkcount:n.file.upload.totalChunkCount,dzchunkbyteoffset:n.index*this.options.chunkSize}},accept:function(e,t){return t()},chunksUploaded:function(e,t){t()},fallback:function(){var e=void 0;this.element.className=this.element.className+" dz-browser-not-supported";for(var t=0,n=n=this.element.getElementsByTagName("div");!(t>=n.length);){var r=n[t++];if(/(^| )dz-message($| )/.test(r.className)){e=r,r.className="dz-message";break}}e||(e=i.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(e));var o=e.getElementsByTagName("span")[0];return o&&(null!=o.textContent?o.textContent=this.options.dictFallbackMessage:null!=o.innerText&&(o.innerText=this.options.dictFallbackMessage)),this.element.appendChild(this.getFallbackForm())},resize:function(e,t,n,r){var o={srcX:0,srcY:0,srcWidth:e.width,srcHeight:e.height},i=e.width/e.height;null==t&&null==n?(t=o.srcWidth,n=o.srcHeight):null==t?t=n*i:null==n&&(n=t/i);var a=(t=Math.min(t,o.srcWidth))/(n=Math.min(n,o.srcHeight));if(o.srcWidth>t||o.srcHeight>n)if("crop"===r)i>a?(o.srcHeight=e.height,o.srcWidth=o.srcHeight*a):(o.srcWidth=e.width,o.srcHeight=o.srcWidth/a);else{if("contain"!==r)throw new Error("Unknown resizeMethod '"+r+"'");i>a?n=t/i:t=n*i}return o.srcX=(e.width-o.srcWidth)/2,o.srcY=(e.height-o.srcHeight)/2,o.trgWidth=t,o.trgHeight=n,o},transformFile:function(e,t){return(this.options.resizeWidth||this.options.resizeHeight)&&e.type.match(/image.*/)?this.resizeImage(e,this.options.resizeWidth,this.options.resizeHeight,this.options.resizeMethod,t):t(e)},previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail /></div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size></span></div>\n    <div class="dz-filename"><span data-dz-name></span></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Check</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>\n      </g>\n    </svg>\n  </div>\n  <div class="dz-error-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Error</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="Check-+-Oval-2" sketch:type="MSLayerGroup" stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">\n          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" sketch:type="MSShapeGroup"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>',drop:function(e){return this.element.classList.remove("dz-drag-hover")},dragstart:function(e){},dragend:function(e){return this.element.classList.remove("dz-drag-hover")},dragenter:function(e){return this.element.classList.add("dz-drag-hover")},dragover:function(e){return this.element.classList.add("dz-drag-hover")},dragleave:function(e){return this.element.classList.remove("dz-drag-hover")},paste:function(e){},reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(e){var t=this;if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer){e.previewElement=i.createElement(this.options.previewTemplate.trim()),e.previewTemplate=e.previewElement,this.previewsContainer.appendChild(e.previewElement);for(var n=0,r=r=e.previewElement.querySelectorAll("[data-dz-name]");!(n>=r.length);){var o=r[n++];o.textContent=e.name}for(var a=0,u=u=e.previewElement.querySelectorAll("[data-dz-size]");!(a>=u.length);)(o=u[a++]).innerHTML=this.filesize(e.size);this.options.addRemoveLinks&&(e._removeLink=i.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"</a>"),e.previewElement.appendChild(e._removeLink));for(var s=function(n){return n.preventDefault(),n.stopPropagation(),e.status===i.UPLOADING?i.confirm(t.options.dictCancelUploadConfirmation,(function(){return t.removeFile(e)})):t.options.dictRemoveFileConfirmation?i.confirm(t.options.dictRemoveFileConfirmation,(function(){return t.removeFile(e)})):t.removeFile(e)},c=0,l=l=e.previewElement.querySelectorAll("[data-dz-remove]");!(c>=l.length);)l[c++].addEventListener("click",s)}},removedfile:function(e){return null!=e.previewElement&&null!=e.previewElement.parentNode&&e.previewElement.parentNode.removeChild(e.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(e,t){if(e.previewElement){e.previewElement.classList.remove("dz-file-preview");for(var n=0,r=r=e.previewElement.querySelectorAll("[data-dz-thumbnail]");!(n>=r.length);){var o=r[n++];o.alt=e.name,o.src=t}return setTimeout((function(){return e.previewElement.classList.add("dz-image-preview")}),1)}},error:function(e,t){if(e.previewElement){e.previewElement.classList.add("dz-error"),"String"!=typeof t&&t.error&&(t=t.error);for(var n=0,r=r=e.previewElement.querySelectorAll("[data-dz-errormessage]");!(n>=r.length);)r[n++].textContent=t}},errormultiple:function(){},processing:function(e){if(e.previewElement&&(e.previewElement.classList.add("dz-processing"),e._removeLink))return e._removeLink.innerHTML=this.options.dictCancelUpload},processingmultiple:function(){},uploadprogress:function(e,t,n){if(e.previewElement)for(var r=0,o=o=e.previewElement.querySelectorAll("[data-dz-uploadprogress]");!(r>=o.length);){var i=o[r++];"PROGRESS"===i.nodeName?i.value=t:i.style.width=t+"%"}},totaluploadprogress:function(){},sending:function(){},sendingmultiple:function(){},success:function(e){if(e.previewElement)return e.previewElement.classList.add("dz-success")},successmultiple:function(){},canceled:function(e){return this.emit("error",e,this.options.dictUploadCanceled)},canceledmultiple:function(){},complete:function(e){if(e._removeLink&&(e._removeLink.innerHTML=this.options.dictRemoveFile),e.previewElement)return e.previewElement.classList.add("dz-complete")},completemultiple:function(){},maxfilesexceeded:function(){},maxfilesreached:function(){},queuecomplete:function(){},addedfiles:function(){}},this.prototype._thumbnailQueue=[],this.prototype._processingThumbnail=!1}},{key:"extend",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var o=0,i=i=n;!(o>=i.length);){var a=i[o++];for(var u in a){var s=a[u];e[u]=s}}return e}}]),t(i,[{key:"getAcceptedFiles",value:function(){return this.files.filter((function(e){return e.accepted})).map((function(e){return e}))}},{key:"getRejectedFiles",value:function(){return this.files.filter((function(e){return!e.accepted})).map((function(e){return e}))}},{key:"getFilesWithStatus",value:function(e){return this.files.filter((function(t){return t.status===e})).map((function(e){return e}))}},{key:"getQueuedFiles",value:function(){return this.getFilesWithStatus(i.QUEUED)}},{key:"getUploadingFiles",value:function(){return this.getFilesWithStatus(i.UPLOADING)}},{key:"getAddedFiles",value:function(){return this.getFilesWithStatus(i.ADDED)}},{key:"getActiveFiles",value:function(){return this.files.filter((function(e){return e.status===i.UPLOADING||e.status===i.QUEUED})).map((function(e){return e}))}},{key:"init",value:function(){var e=this;"form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(i.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>")),this.clickableElements.length&&function t(){return e.hiddenFileInput&&e.hiddenFileInput.parentNode.removeChild(e.hiddenFileInput),e.hiddenFileInput=document.createElement("input"),e.hiddenFileInput.setAttribute("type","file"),(null===e.options.maxFiles||e.options.maxFiles>1)&&e.hiddenFileInput.setAttribute("multiple","multiple"),e.hiddenFileInput.className="dz-hidden-input",null!==e.options.acceptedFiles&&e.hiddenFileInput.setAttribute("accept",e.options.acceptedFiles),null!==e.options.capture&&e.hiddenFileInput.setAttribute("capture",e.options.capture),e.hiddenFileInput.style.visibility="hidden",e.hiddenFileInput.style.position="absolute",e.hiddenFileInput.style.top="0",e.hiddenFileInput.style.left="0",e.hiddenFileInput.style.height="0",e.hiddenFileInput.style.width="0",i.getElement(e.options.hiddenInputContainer,"hiddenInputContainer").appendChild(e.hiddenFileInput),e.hiddenFileInput.addEventListener("change",(function(){var n=e.hiddenFileInput.files;if(n.length)for(var r=0,o=o=n;!(r>=o.length);){var i=o[r++];e.addFile(i)}return e.emit("addedfiles",n),t()}))}(),this.URL=null!==window.URL?window.URL:window.webkitURL;for(var t=0,n=n=this.events;!(t>=n.length);){var r=n[t++];this.on(r,this.options[r])}this.on("uploadprogress",(function(){return e.updateTotalUploadProgress()})),this.on("removedfile",(function(){return e.updateTotalUploadProgress()})),this.on("canceled",(function(t){return e.emit("complete",t)})),this.on("complete",(function(t){if(0===e.getAddedFiles().length&&0===e.getUploadingFiles().length&&0===e.getQueuedFiles().length)return setTimeout((function(){return e.emit("queuecomplete")}),0)}));var o=function(e){return e.stopPropagation(),e.preventDefault?e.preventDefault():e.returnValue=!1};return this.listeners=[{element:this.element,events:{dragstart:function(t){return e.emit("dragstart",t)},dragenter:function(t){return o(t),e.emit("dragenter",t)},dragover:function(t){var n=void 0;try{n=t.dataTransfer.effectAllowed}catch(e){}return t.dataTransfer.dropEffect="move"===n||"linkMove"===n?"move":"copy",o(t),e.emit("dragover",t)},dragleave:function(t){return e.emit("dragleave",t)},drop:function(t){return o(t),e.drop(t)},dragend:function(t){return e.emit("dragend",t)}}}],this.clickableElements.forEach((function(t){return e.listeners.push({element:t,events:{click:function(n){return(t!==e.element||n.target===e.element||i.elementInside(n.target,e.element.querySelector(".dz-message")))&&e.hiddenFileInput.click(),!0}}})})),this.enable(),this.options.init.call(this)}},{key:"destroy",value:function(){return this.disable(),this.removeAllFiles(!0),(null!=this.hiddenFileInput?this.hiddenFileInput.parentNode:void 0)&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,i.instances.splice(i.instances.indexOf(this),1)}},{key:"updateTotalUploadProgress",value:function(){var e=void 0,t=0,n=0;if(this.getActiveFiles().length){for(var r=0,o=o=this.getActiveFiles();!(r>=o.length);){var i=o[r++];t+=i.upload.bytesSent,n+=i.upload.total}e=100*t/n}else e=100;return this.emit("totaluploadprogress",e,n,t)}},{key:"_getParamName",value:function(e){return"function"==typeof this.options.paramName?this.options.paramName(e):this.options.paramName+(this.options.uploadMultiple?"["+e+"]":"")}},{key:"_renameFile",value:function(e){return"function"!=typeof this.options.renameFile?e.name:this.options.renameFile(e)}},{key:"getFallbackForm",value:function(){var e,t=void 0;if(e=this.getExistingFallback())return e;var n='<div class="dz-fallback">';this.options.dictFallbackText&&(n+="<p>"+this.options.dictFallbackText+"</p>"),n+='<input type="file" name="'+this._getParamName(0)+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><input type="submit" value="Upload!"></div>';var r=i.createElement(n);return"FORM"!==this.element.tagName?(t=i.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>')).appendChild(r):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),null!=t?t:r}},{key:"getExistingFallback",value:function(){for(var e=function(e){for(var t=0,n=n=e;!(t>=n.length);){var r=n[t++];if(/(^| )fallback($| )/.test(r.className))return r}},t=["div","form"],n=0;n<t.length;n++){var r,o=t[n];if(r=e(this.element.getElementsByTagName(o)))return r}}},{key:"setupEventListeners",value:function(){return this.listeners.map((function(e){return function(){var t=[];for(var n in e.events){var r=e.events[n];t.push(e.element.addEventListener(n,r,!1))}return t}()}))}},{key:"removeEventListeners",value:function(){return this.listeners.map((function(e){return function(){var t=[];for(var n in e.events){var r=e.events[n];t.push(e.element.removeEventListener(n,r,!1))}return t}()}))}},{key:"disable",value:function(){var e=this;return this.clickableElements.forEach((function(e){return e.classList.remove("dz-clickable")})),this.removeEventListeners(),this.disabled=!0,this.files.map((function(t){return e.cancelUpload(t)}))}},{key:"enable",value:function(){return delete this.disabled,this.clickableElements.forEach((function(e){return e.classList.add("dz-clickable")})),this.setupEventListeners()}},{key:"filesize",value:function(e){var t=0,n="b";if(e>0){for(var r=["tb","gb","mb","kb","b"],o=0;o<r.length;o++){var i=r[o];if(e>=Math.pow(this.options.filesizeBase,4-o)/10){t=e/Math.pow(this.options.filesizeBase,4-o),n=i;break}}t=Math.round(10*t)/10}return"<strong>"+t+"</strong> "+this.options.dictFileSizeUnits[n]}},{key:"_updateMaxFilesReachedClass",value:function(){return null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")}},{key:"drop",value:function(e){if(e.dataTransfer){this.emit("drop",e);for(var t=[],n=0;n<e.dataTransfer.files.length;n++)t[n]=e.dataTransfer.files[n];if(this.emit("addedfiles",t),t.length){var r=e.dataTransfer.items;r&&r.length&&null!=r[0].webkitGetAsEntry?this._addFilesFromItems(r):this.handleFiles(t)}}}},{key:"paste",value:function(e){if(null!=(null!=(t=null!=e?e.clipboardData:void 0)?function(e){return e.items}(t):void 0)){var t;this.emit("paste",e);var n=e.clipboardData.items;return n.length?this._addFilesFromItems(n):void 0}}},{key:"handleFiles",value:function(e){for(var t=0,n=n=e;!(t>=n.length);){var r=n[t++];this.addFile(r)}}},{key:"_addFilesFromItems",value:function(e){var t=this;return function(){for(var n=[],r=0,o=o=e;!(r>=o.length);){var i,a=o[r++];null!=a.webkitGetAsEntry&&(i=a.webkitGetAsEntry())?i.isFile?n.push(t.addFile(a.getAsFile())):i.isDirectory?n.push(t._addFilesFromDirectory(i,i.name)):n.push(void 0):null==a.getAsFile||null!=a.kind&&"file"!==a.kind?n.push(void 0):n.push(t.addFile(a.getAsFile()))}return n}()}},{key:"_addFilesFromDirectory",value:function(e,t){var n=this,r=e.createReader(),o=function(e){return n=function(t){return t.log(e)},null!=(t=console)&&"function"==typeof t.log?n(t):void 0;var t,n};return function e(){return r.readEntries((function(r){if(r.length>0){for(var o=0,i=i=r;!(o>=i.length);){var a=i[o++];a.isFile?a.file((function(e){if(!n.options.ignoreHiddenFiles||"."!==e.name.substring(0,1))return e.fullPath=t+"/"+e.name,n.addFile(e)})):a.isDirectory&&n._addFilesFromDirectory(a,t+"/"+a.name)}e()}return null}),o)}()}},{key:"accept",value:function(e,t){return this.options.maxFilesize&&e.size>1024*this.options.maxFilesize*1024?t(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(e.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):i.isValidFile(e,this.options.acceptedFiles)?null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(t(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",e)):this.options.accept.call(this,e,t):t(this.options.dictInvalidFileType)}},{key:"addFile",value:function(e){var t=this;return e.upload={uuid:i.uuidv4(),progress:0,total:e.size,bytesSent:0,filename:this._renameFile(e),chunked:this.options.chunking&&(this.options.forceChunking||e.size>this.options.chunkSize),totalChunkCount:Math.ceil(e.size/this.options.chunkSize)},this.files.push(e),e.status=i.ADDED,this.emit("addedfile",e),this._enqueueThumbnail(e),this.accept(e,(function(n){return n?(e.accepted=!1,t._errorProcessing([e],n)):(e.accepted=!0,t.options.autoQueue&&t.enqueueFile(e)),t._updateMaxFilesReachedClass()}))}},{key:"enqueueFiles",value:function(e){for(var t=0,n=n=e;!(t>=n.length);){var r=n[t++];this.enqueueFile(r)}return null}},{key:"enqueueFile",value:function(e){var t=this;if(e.status!==i.ADDED||!0!==e.accepted)throw new Error("This file can't be queued because it has already been processed or was rejected.");if(e.status=i.QUEUED,this.options.autoProcessQueue)return setTimeout((function(){return t.processQueue()}),0)}},{key:"_enqueueThumbnail",value:function(e){var t=this;if(this.options.createImageThumbnails&&e.type.match(/image.*/)&&e.size<=1024*this.options.maxThumbnailFilesize*1024)return this._thumbnailQueue.push(e),setTimeout((function(){return t._processThumbnailQueue()}),0)}},{key:"_processThumbnailQueue",value:function(){var e=this;if(!this._processingThumbnail&&0!==this._thumbnailQueue.length){this._processingThumbnail=!0;var t=this._thumbnailQueue.shift();return this.createThumbnail(t,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,!0,(function(n){return e.emit("thumbnail",t,n),e._processingThumbnail=!1,e._processThumbnailQueue()}))}}},{key:"removeFile",value:function(e){if(e.status===i.UPLOADING&&this.cancelUpload(e),this.files=a(this.files,e),this.emit("removedfile",e),0===this.files.length)return this.emit("reset")}},{key:"removeAllFiles",value:function(e){null==e&&(e=!1);for(var t=0,n=n=this.files.slice();!(t>=n.length);){var r=n[t++];(r.status!==i.UPLOADING||e)&&this.removeFile(r)}return null}},{key:"resizeImage",value:function(e,t,n,r,o){var a=this;return this.createThumbnail(e,t,n,r,!0,(function(t,n){if(null==n)return o(e);var r=a.options.resizeMimeType;null==r&&(r=e.type);var u=n.toDataURL(r,a.options.resizeQuality);return"image/jpeg"!==r&&"image/jpg"!==r||(u=c.restore(e.dataURL,u)),o(i.dataURItoBlob(u))}))}},{key:"createThumbnail",value:function(e,t,n,r,o,i){var a=this,u=new FileReader;return u.onload=function(){if(e.dataURL=u.result,"image/svg+xml"!==e.type)return a.createThumbnailFromUrl(e,t,n,r,o,i);null!=i&&i(u.result)},u.readAsDataURL(e)}},{key:"createThumbnailFromUrl",value:function(e,t,n,r,o,i,a){var u=this,c=document.createElement("img");return a&&(c.crossOrigin=a),c.onload=function(){var a=function(e){return e(1)};return"undefined"!=typeof EXIF&&null!==EXIF&&o&&(a=function(e){return EXIF.getData(c,(function(){return e(EXIF.getTag(this,"Orientation"))}))}),a((function(o){e.width=c.width,e.height=c.height;var a=u.options.resize.call(u,e,t,n,r),l=document.createElement("canvas"),f=l.getContext("2d");switch(l.width=a.trgWidth,l.height=a.trgHeight,o>4&&(l.width=a.trgHeight,l.height=a.trgWidth),o){case 2:f.translate(l.width,0),f.scale(-1,1);break;case 3:f.translate(l.width,l.height),f.rotate(Math.PI);break;case 4:f.translate(0,l.height),f.scale(1,-1);break;case 5:f.rotate(.5*Math.PI),f.scale(1,-1);break;case 6:f.rotate(.5*Math.PI),f.translate(0,-l.width);break;case 7:f.rotate(.5*Math.PI),f.translate(l.height,-l.width),f.scale(-1,1);break;case 8:f.rotate(-.5*Math.PI),f.translate(-l.height,0)}s(f,c,null!=a.srcX?a.srcX:0,null!=a.srcY?a.srcY:0,a.srcWidth,a.srcHeight,null!=a.trgX?a.trgX:0,null!=a.trgY?a.trgY:0,a.trgWidth,a.trgHeight);var d=l.toDataURL("image/png");if(null!=i)return i(d,l)}))},null!=i&&(c.onerror=i),c.src=e.dataURL}},{key:"processQueue",value:function(){var e=this.options.parallelUploads,t=this.getUploadingFiles().length,n=t;if(!(t>=e)){var r=this.getQueuedFiles();if(r.length>0){if(this.options.uploadMultiple)return this.processFiles(r.slice(0,e-t));for(;n<e;){if(!r.length)return;this.processFile(r.shift()),n++}}}}},{key:"processFile",value:function(e){return this.processFiles([e])}},{key:"processFiles",value:function(e){for(var t=0,n=n=e;!(t>=n.length);){var r=n[t++];r.processing=!0,r.status=i.UPLOADING,this.emit("processing",r)}return this.options.uploadMultiple&&this.emit("processingmultiple",e),this.uploadFiles(e)}},{key:"_getFilesWithXhr",value:function(e){return this.files.filter((function(t){return t.xhr===e})).map((function(e){return e}))}},{key:"cancelUpload",value:function(e){if(e.status===i.UPLOADING){for(var t=this._getFilesWithXhr(e.xhr),n=0,r=r=t;!(n>=r.length);)r[n++].status=i.CANCELED;void 0!==e.xhr&&e.xhr.abort();for(var o=0,a=a=t;!(o>=a.length);){var u=a[o++];this.emit("canceled",u)}this.options.uploadMultiple&&this.emit("canceledmultiple",t)}else e.status!==i.ADDED&&e.status!==i.QUEUED||(e.status=i.CANCELED,this.emit("canceled",e),this.options.uploadMultiple&&this.emit("canceledmultiple",[e]));if(this.options.autoProcessQueue)return this.processQueue()}},{key:"resolveOption",value:function(e){if("function"==typeof e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.apply(this,n)}return e}},{key:"uploadFile",value:function(e){return this.uploadFiles([e])}},{key:"uploadFiles",value:function(e){var t=this;this._transformFiles(e,(function(n){if(e[0].upload.chunked){var r=e[0],o=n[0];r.upload.chunks=[];var a=function(){for(var n=0;void 0!==r.upload.chunks[n];)n++;if(!(n>=r.upload.totalChunkCount)){var a=n*t.options.chunkSize,u=Math.min(a+t.options.chunkSize,r.size),s={name:t._getParamName(0),data:o.webkitSlice?o.webkitSlice(a,u):o.slice(a,u),filename:r.upload.filename,chunkIndex:n};r.upload.chunks[n]={file:r,index:n,dataBlock:s,status:i.UPLOADING,progress:0,retries:0},t._uploadData(e,[s])}};if(r.upload.finishedChunkUpload=function(n){var o=!0;n.status=i.SUCCESS,n.dataBlock=null,n.xhr=null;for(var u=0;u<r.upload.totalChunkCount;u++){if(void 0===r.upload.chunks[u])return a();r.upload.chunks[u].status!==i.SUCCESS&&(o=!1)}o&&t.options.chunksUploaded(r,(function(){t._finished(e,"",null)}))},t.options.parallelChunkUploads)for(var u=0;u<r.upload.totalChunkCount;u++)a();else a()}else{for(var s=[],c=0;c<e.length;c++)s[c]={name:t._getParamName(c),data:n[c],filename:e[c].upload.filename};t._uploadData(e,s)}}))}},{key:"_getChunk",value:function(e,t){for(var n=0;n<e.upload.totalChunkCount;n++)if(void 0!==e.upload.chunks[n]&&e.upload.chunks[n].xhr===t)return e.upload.chunks[n]}},{key:"_uploadData",value:function(e,t){for(var n=this,r=new XMLHttpRequest,o=0,a=a=e;!(o>=a.length);)a[o++].xhr=r;e[0].upload.chunked&&(e[0].upload.chunks[t[0].chunkIndex].xhr=r);var u=this.resolveOption(this.options.method,e),s=this.resolveOption(this.options.url,e);r.open(u,s,!0),r.timeout=this.resolveOption(this.options.timeout,e),r.withCredentials=!!this.options.withCredentials,r.onload=function(t){n._finishedUploading(e,r,t)},r.onerror=function(){n._handleUploadError(e,r)},(null!=r.upload?r.upload:r).onprogress=function(t){return n._updateFilesUploadProgress(e,r,t)};var c={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"};for(var l in this.options.headers&&i.extend(c,this.options.headers),c){var f=c[l];f&&r.setRequestHeader(l,f)}var d=new FormData;if(this.options.params){var p=this.options.params;for(var m in"function"==typeof p&&(p=p.call(this,e,r,e[0].upload.chunked?this._getChunk(e[0],r):null)),p){var h=p[m];d.append(m,h)}}for(var g=0,v=v=e;!(g>=v.length);){var b=v[g++];this.emit("sending",b,r,d)}this.options.uploadMultiple&&this.emit("sendingmultiple",e,r,d),this._addFormElementData(d);for(var y=0;y<t.length;y++){var w=t[y];d.append(w.name,w.data,w.filename)}this.submitRequest(r,d,e)}},{key:"_transformFiles",value:function(e,t){for(var n=this,r=[],o=0,i=function(i){n.options.transformFile.call(n,e[i],(function(n){r[i]=n,++o===e.length&&t(r)}))},a=0;a<e.length;a++)i(a)}},{key:"_addFormElementData",value:function(e){if("FORM"===this.element.tagName)for(var t=0,n=n=this.element.querySelectorAll("input, textarea, select, button");!(t>=n.length);){var r=n[t++],o=r.getAttribute("name"),i=r.getAttribute("type");if(i&&(i=i.toLowerCase()),null!=o)if("SELECT"===r.tagName&&r.hasAttribute("multiple"))for(var a=0,u=u=r.options;!(a>=u.length);){var s=u[a++];s.selected&&e.append(o,s.value)}else(!i||"checkbox"!==i&&"radio"!==i||r.checked)&&e.append(o,r.value)}}},{key:"_updateFilesUploadProgress",value:function(e,t,n){var r=void 0;if(void 0!==n){if(r=100*n.loaded/n.total,e[0].upload.chunked){var o=e[0],i=this._getChunk(o,t);i.progress=r,i.total=n.total,i.bytesSent=n.loaded,o.upload.progress=0,o.upload.total=0,o.upload.bytesSent=0;for(var a=0;a<o.upload.totalChunkCount;a++)void 0!==o.upload.chunks[a]&&void 0!==o.upload.chunks[a].progress&&(o.upload.progress+=o.upload.chunks[a].progress,o.upload.total+=o.upload.chunks[a].total,o.upload.bytesSent+=o.upload.chunks[a].bytesSent);o.upload.progress=o.upload.progress/o.upload.totalChunkCount}else for(var u=0,s=s=e;!(u>=s.length);){var c=s[u++];c.upload.progress=r,c.upload.total=n.total,c.upload.bytesSent=n.loaded}for(var l=0,f=f=e;!(l>=f.length);){var d=f[l++];this.emit("uploadprogress",d,d.upload.progress,d.upload.bytesSent)}}else{var p=!0;r=100;for(var m=0,h=h=e;!(m>=h.length);){var g=h[m++];100===g.upload.progress&&g.upload.bytesSent===g.upload.total||(p=!1),g.upload.progress=r,g.upload.bytesSent=g.upload.total}if(p)return;for(var v=0,b=b=e;!(v>=b.length);){var y=b[v++];this.emit("uploadprogress",y,r,y.upload.bytesSent)}}}},{key:"_finishedUploading",value:function(e,t,n){var r=void 0;if(e[0].status!==i.CANCELED&&4===t.readyState){if("arraybuffer"!==t.responseType&&"blob"!==t.responseType&&(r=t.responseText,t.getResponseHeader("content-type")&&~t.getResponseHeader("content-type").indexOf("application/json")))try{r=JSON.parse(r)}catch(e){n=e,r="Invalid JSON response from server."}this._updateFilesUploadProgress(e),200<=t.status&&t.status<300?e[0].upload.chunked?e[0].upload.finishedChunkUpload(this._getChunk(e[0],t)):this._finished(e,r,n):this._handleUploadError(e,t,r)}}},{key:"_handleUploadError",value:function(e,t,n){if(e[0].status!==i.CANCELED){if(e[0].upload.chunked&&this.options.retryChunks){var r=this._getChunk(e[0],t);if(r.retries++<this.options.retryChunksLimit)return void this._uploadData(e,[r.dataBlock]);console.warn("Retried this chunk too often. Giving up.")}for(var o=0,a=a=e;!(o>=a.length);)a[o++],this._errorProcessing(e,n||this.options.dictResponseError.replace("{{statusCode}}",t.status),t)}}},{key:"submitRequest",value:function(e,t,n){e.send(t)}},{key:"_finished",value:function(e,t,n){for(var r=0,o=o=e;!(r>=o.length);){var a=o[r++];a.status=i.SUCCESS,this.emit("success",a,t,n),this.emit("complete",a)}if(this.options.uploadMultiple&&(this.emit("successmultiple",e,t,n),this.emit("completemultiple",e)),this.options.autoProcessQueue)return this.processQueue()}},{key:"_errorProcessing",value:function(e,t,n){for(var r=0,o=o=e;!(r>=o.length);){var a=o[r++];a.status=i.ERROR,this.emit("error",a,t,n),this.emit("complete",a)}if(this.options.uploadMultiple&&(this.emit("errormultiple",e,t,n),this.emit("completemultiple",e)),this.options.autoProcessQueue)return this.processQueue()}}],[{key:"uuidv4",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}}]),i}();i.initClass(),i.version="5.5.1",i.options={},i.optionsForElement=function(e){return e.getAttribute("id")?i.options[u(e.getAttribute("id"))]:void 0},i.instances=[],i.forElement=function(e){if("string"==typeof e&&(e=document.querySelector(e)),null==(null!=e?e.dropzone:void 0))throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return e.dropzone},i.autoDiscover=!0,i.discover=function(){var e=void 0;if(document.querySelectorAll)e=document.querySelectorAll(".dropzone");else{e=[];var t=function(t){return function(){for(var n=[],r=0,o=o=t;!(r>=o.length);){var i=o[r++];/(^| )dropzone($| )/.test(i.className)?n.push(e.push(i)):n.push(void 0)}return n}()};t(document.getElementsByTagName("div")),t(document.getElementsByTagName("form"))}return function(){for(var t=[],n=0,r=r=e;!(n>=r.length);){var o=r[n++];!1!==i.optionsForElement(o)?t.push(new i(o)):t.push(void 0)}return t}()},i.blacklistedBrowsers=[/opera.*(Macintosh|Windows Phone).*version\/12/i],i.isBrowserSupported=function(){var e=!0;if(window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a"))for(var t=0,n=n=i.blacklistedBrowsers;!(t>=n.length);)n[t++].test(navigator.userAgent)&&(e=!1);else e=!1;else e=!1;return e},i.dataURItoBlob=function(e){for(var t=atob(e.split(",")[1]),n=e.split(",")[0].split(":")[1].split(";")[0],r=new ArrayBuffer(t.length),o=new Uint8Array(r),i=0,a=t.length,u=0<=a;u?i<=a:i>=a;u?i++:i--)o[i]=t.charCodeAt(i);return new Blob([r],{type:n})};var a=function(e,t){return e.filter((function(e){return e!==t})).map((function(e){return e}))},u=function(e){return e.replace(/[\-_](\w)/g,(function(e){return e.charAt(1).toUpperCase()}))};i.createElement=function(e){var t=document.createElement("div");return t.innerHTML=e,t.childNodes[0]},i.elementInside=function(e,t){if(e===t)return!0;for(;e=e.parentNode;)if(e===t)return!0;return!1},i.getElement=function(e,t){var n=void 0;if("string"==typeof e?n=document.querySelector(e):null!=e.nodeType&&(n=e),null==n)throw new Error("Invalid `"+t+"` option provided. Please provide a CSS selector or a plain HTML element.");return n},i.getElements=function(e,t){var n=void 0,r=void 0;if(e instanceof Array){r=[];try{for(var o=0,i=i=e;!(o>=i.length);)n=i[o++],r.push(this.getElement(n,t))}catch(e){r=null}}else if("string"==typeof e){r=[];for(var a=0,u=u=document.querySelectorAll(e);!(a>=u.length);)n=u[a++],r.push(n)}else null!=e.nodeType&&(r=[e]);if(null==r||!r.length)throw new Error("Invalid `"+t+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.");return r},i.confirm=function(e,t,n){return window.confirm(e)?t():null!=n?n():void 0},i.isValidFile=function(e,t){if(!t)return!0;t=t.split(",");for(var n=e.type,r=n.replace(/\/.*$/,""),o=0,i=i=t;!(o>=i.length);){var a=i[o++];if("."===(a=a.trim()).charAt(0)){if(-1!==e.name.toLowerCase().indexOf(a.toLowerCase(),e.name.length-a.length))return!0}else if(/\/\*$/.test(a)){if(r===a.replace(/\/.*$/,""))return!0}else if(n===a)return!0}return!1},"undefined"!=typeof jQuery&&null!==jQuery&&(jQuery.fn.dropzone=function(e){return this.each((function(){return new i(this,e)}))}),null!==e?e.exports=i:window.Dropzone=i,i.ADDED="added",i.QUEUED="queued",i.ACCEPTED=i.QUEUED,i.UPLOADING="uploading",i.PROCESSING=i.UPLOADING,i.CANCELED="canceled",i.ERROR="error",i.SUCCESS="success";var s=function(e,t,n,r,o,i,a,u,s,c){var l=function(e){e.naturalWidth;var t=e.naturalHeight,n=document.createElement("canvas");n.width=1,n.height=t;var r=n.getContext("2d");r.drawImage(e,0,0);for(var o=r.getImageData(1,0,1,t).data,i=0,a=t,u=t;u>i;)0===o[4*(u-1)+3]?a=u:i=u,u=a+i>>1;var s=u/t;return 0===s?1:s}(t);return e.drawImage(t,n,r,o,i,a,u,s,c/l)},c=function(){function e(){r(this,e)}return t(e,null,[{key:"initClass",value:function(){this.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}},{key:"encode64",value:function(e){for(var t="",n=void 0,r=void 0,o="",i=void 0,a=void 0,u=void 0,s="",c=0;i=(n=e[c++])>>2,a=(3&n)<<4|(r=e[c++])>>4,u=(15&r)<<2|(o=e[c++])>>6,s=63&o,isNaN(r)?u=s=64:isNaN(o)&&(s=64),t=t+this.KEY_STR.charAt(i)+this.KEY_STR.charAt(a)+this.KEY_STR.charAt(u)+this.KEY_STR.charAt(s),n=r=o="",i=a=u=s="",c<e.length;);return t}},{key:"restore",value:function(e,t){if(!e.match("data:image/jpeg;base64,"))return t;var n=this.decode64(e.replace("data:image/jpeg;base64,","")),r=this.slice2Segments(n),o=this.exifManipulation(t,r);return"data:image/jpeg;base64,"+this.encode64(o)}},{key:"exifManipulation",value:function(e,t){var n=this.getExifArray(t),r=this.insertExif(e,n);return new Uint8Array(r)}},{key:"getExifArray",value:function(e){for(var t=void 0,n=0;n<e.length;){if(255===(t=e[n])[0]&225===t[1])return t;n++}return[]}},{key:"insertExif",value:function(e,t){var n=e.replace("data:image/jpeg;base64,",""),r=this.decode64(n),o=r.indexOf(255,3),i=r.slice(0,o),a=r.slice(o),u=i;return(u=u.concat(t)).concat(a)}},{key:"slice2Segments",value:function(e){for(var t=0,n=[];!(255===e[t]&218===e[t+1]);){if(255===e[t]&216===e[t+1])t+=2;else{var r=t+(256*e[t+2]+e[t+3])+2,o=e.slice(t,r);n.push(o),t=r}if(t>e.length)break}return n}},{key:"decode64",value:function(e){var t=void 0,n=void 0,r="",o=void 0,i=void 0,a="",u=0,s=[];for(/[^A-Za-z0-9\+\/\=]/g.exec(e)&&console.warn("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\nExpect errors in decoding."),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");t=this.KEY_STR.indexOf(e.charAt(u++))<<2|(o=this.KEY_STR.indexOf(e.charAt(u++)))>>4,n=(15&o)<<4|(i=this.KEY_STR.indexOf(e.charAt(u++)))>>2,r=(3&i)<<6|(a=this.KEY_STR.indexOf(e.charAt(u++))),s.push(t),64!==i&&s.push(n),64!==a&&s.push(r),t=n=r="",o=i=a="",u<e.length;);return s}}]),e}();c.initClass(),i._autoDiscoverFunction=function(){if(i.autoDiscover)return i.discover()},function(e,t){var n=!1,r=!0,o=e.document,i=o.documentElement,a=o.addEventListener?"addEventListener":"attachEvent",u=o.addEventListener?"removeEventListener":"detachEvent",s=o.addEventListener?"":"on",c=function r(i){if("readystatechange"!==i.type||"complete"===o.readyState)return("load"===i.type?e:o)[u](s+i.type,r,!1),!n&&(n=!0)?t.call(e,i.type||i):void 0};if("complete"!==o.readyState){if(o.createEventObject&&i.doScroll){try{r=!e.frameElement}catch(e){}r&&function e(){try{i.doScroll("left")}catch(t){return void setTimeout(e,50)}return c("poll")}()}o[a](s+"DOMContentLoaded",c,!1),o[a](s+"readystatechange",c,!1),e[a](s+"load",c,!1)}}(window,i._autoDiscoverFunction)}(e={exports:{}}),e.exports),n={getSignedURL(e,t){let n={filePath:e.name,contentType:e.type};return new Promise((r,o)=>{var i=new FormData;let a=new XMLHttpRequest,u="function"==typeof t.signingURL?t.signingURL(e):t.signingURL;a.open("POST",u),a.onload=function(){200==a.status?r(JSON.parse(a.response)):o(a.statusText)},a.onerror=function(e){console.error("Network Error : Could not send request to AWS (Maybe CORS errors)"),o(e)},!0===t.withCredentials&&(a.withCredentials=!0),Object.entries(t.headers||{}).forEach(([e,t])=>{a.setRequestHeader(e,t)}),n=Object.assign(n,t.params||{}),Object.entries(n).forEach(([e,t])=>{i.append(e,t)}),a.send(i)})},sendFile(e,t,n){var r=n?this.setResponseHandler:this.sendS3Handler;return this.getSignedURL(e,t).then(t=>r(t,e)).catch(e=>e)},setResponseHandler(e,t){t.s3Signature=e.signature,t.s3Url=e.postEndpoint},sendS3Handler(e,t){let n=new FormData,r=e.signature;return Object.keys(r).forEach((function(e){n.append(e,r[e])})),n.append("file",t),new Promise((t,r)=>{let o=new XMLHttpRequest;o.open("POST",e.postEndpoint),o.onload=function(){if(201==o.status){var e=(new window.DOMParser).parseFromString(o.response,"text/xml").firstChild.children[0].innerHTML;t({success:!0,message:e})}else{var n=(new window.DOMParser).parseFromString(o.response,"text/xml").firstChild.children[0].innerHTML;r({success:!1,message:n+". Request is marked as resolved when returns as status 201"})}},o.onerror=function(e){var t=(new window.DOMParser).parseFromString(o.response,"text/xml").firstChild.children[1].innerHTML;r({success:!1,message:t})},o.send(n)})}};return t.autoDiscover=!1,function(e,t,n,r,o,i,a,u,s,c){"boolean"!=typeof a&&(a,a=!1);var l,f="function"==typeof n?n.options:n;if(e&&e.render&&(f.render=e.render,f.staticRenderFns=e.staticRenderFns,f._compiled=!0),l)if(f.functional){var d=f.render;f.render=function(e,t){return l.call(t),d(e,t)}}else{var p=f.beforeCreate;f.beforeCreate=p?[].concat(p,l):[l]}return n}({render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{ref:"dropzoneElement",class:{"vue-dropzone dropzone":this.includeStyling},attrs:{id:this.id}},[this.useCustomSlot?t("div",{staticClass:"dz-message"},[this._t("default",[this._v("Drop files here to upload")])],2):this._e()])},staticRenderFns:[]},0,{props:{id:{type:String,required:!0,default:"dropzone"},options:{type:Object,required:!0},includeStyling:{type:Boolean,default:!0,required:!1},awss3:{type:Object,required:!1,default:null},destroyDropzone:{type:Boolean,default:!0,required:!1},duplicateCheck:{type:Boolean,default:!1,required:!1},useCustomSlot:{type:Boolean,default:!1,required:!1}},data:()=>({isS3:!1,isS3OverridesServerPropagation:!1,wasQueueAutoProcess:!0}),computed:{dropzoneSettings(){let e={thumbnailWidth:200,thumbnailHeight:200};return Object.keys(this.options).forEach((function(t){e[t]=this.options[t]}),this),null!==this.awss3&&(e.autoProcessQueue=!1,this.isS3=!0,this.isS3OverridesServerPropagation=!1===this.awss3.sendFileToServer,void 0!==this.options.autoProcessQueue&&(this.wasQueueAutoProcess=this.options.autoProcessQueue),this.isS3OverridesServerPropagation&&(e.url=e=>e[0].s3Url)),e}},mounted(){if(this.$isServer&&this.hasBeenMounted)return;this.hasBeenMounted=!0,this.dropzone=new t(this.$refs.dropzoneElement,this.dropzoneSettings);let e=this;this.dropzone.on("thumbnail",(function(t,n){e.$emit("vdropzone-thumbnail",t,n)})),this.dropzone.on("addedfile",(function(t){var n,r;if(e.duplicateCheck&&this.files.length)for(n=0,r=this.files.length;n<r-1;n++)this.files[n].name===t.name&&this.files[n].size===t.size&&this.files[n].lastModifiedDate.toString()===t.lastModifiedDate.toString()&&(this.removeFile(t),e.$emit("vdropzone-duplicate-file",t));e.$emit("vdropzone-file-added",t),e.isS3&&e.wasQueueAutoProcess&&!t.manuallyAdded&&e.getSignedAndUploadToS3(t)})),this.dropzone.on("addedfiles",(function(t){e.$emit("vdropzone-files-added",t)})),this.dropzone.on("removedfile",(function(t){e.$emit("vdropzone-removed-file",t),t.manuallyAdded&&null!==e.dropzone.options.maxFiles&&e.dropzone.options.maxFiles++})),this.dropzone.on("success",(function(t,n){if(e.$emit("vdropzone-success",t,n),e.isS3){if(e.isS3OverridesServerPropagation){var r=(new window.DOMParser).parseFromString(n,"text/xml").firstChild.children[0].innerHTML;e.$emit("vdropzone-s3-upload-success",r)}e.wasQueueAutoProcess&&e.setOption("autoProcessQueue",!1)}})),this.dropzone.on("successmultiple",(function(t,n){e.$emit("vdropzone-success-multiple",t,n)})),this.dropzone.on("error",(function(t,n,r){e.$emit("vdropzone-error",t,n,r),this.isS3&&e.$emit("vdropzone-s3-upload-error")})),this.dropzone.on("errormultiple",(function(t,n,r){e.$emit("vdropzone-error-multiple",t,n,r)})),this.dropzone.on("sending",(function(t,n,r){if(e.isS3)if(e.isS3OverridesServerPropagation){let e=t.s3Signature;Object.keys(e).forEach((function(t){r.append(t,e[t])}))}else r.append("s3ObjectLocation",t.s3ObjectLocation);e.$emit("vdropzone-sending",t,n,r)})),this.dropzone.on("sendingmultiple",(function(t,n,r){e.$emit("vdropzone-sending-multiple",t,n,r)})),this.dropzone.on("complete",(function(t){e.$emit("vdropzone-complete",t)})),this.dropzone.on("completemultiple",(function(t){e.$emit("vdropzone-complete-multiple",t)})),this.dropzone.on("canceled",(function(t){e.$emit("vdropzone-canceled",t)})),this.dropzone.on("canceledmultiple",(function(t){e.$emit("vdropzone-canceled-multiple",t)})),this.dropzone.on("maxfilesreached",(function(t){e.$emit("vdropzone-max-files-reached",t)})),this.dropzone.on("maxfilesexceeded",(function(t){e.$emit("vdropzone-max-files-exceeded",t)})),this.dropzone.on("processing",(function(t){e.$emit("vdropzone-processing",t)})),this.dropzone.on("processingmultiple",(function(t){e.$emit("vdropzone-processing-multiple",t)})),this.dropzone.on("uploadprogress",(function(t,n,r){e.$emit("vdropzone-upload-progress",t,n,r)})),this.dropzone.on("totaluploadprogress",(function(t,n,r){e.$emit("vdropzone-total-upload-progress",t,n,r)})),this.dropzone.on("reset",(function(){e.$emit("vdropzone-reset")})),this.dropzone.on("queuecomplete",(function(){e.$emit("vdropzone-queue-complete")})),this.dropzone.on("drop",(function(t){e.$emit("vdropzone-drop",t)})),this.dropzone.on("dragstart",(function(t){e.$emit("vdropzone-drag-start",t)})),this.dropzone.on("dragend",(function(t){e.$emit("vdropzone-drag-end",t)})),this.dropzone.on("dragenter",(function(t){e.$emit("vdropzone-drag-enter",t)})),this.dropzone.on("dragover",(function(t){e.$emit("vdropzone-drag-over",t)})),this.dropzone.on("dragleave",(function(t){e.$emit("vdropzone-drag-leave",t)})),e.$emit("vdropzone-mounted")},beforeDestroy(){this.destroyDropzone&&this.dropzone.destroy()},methods:{manuallyAddFile:function(e,t){e.manuallyAdded=!0,this.dropzone.emit("addedfile",e);let n=!1;if((t.indexOf(".svg")>-1||t.indexOf(".png")>-1||t.indexOf(".jpg")>-1||t.indexOf(".jpeg")>-1||t.indexOf(".gif")>-1||t.indexOf(".webp")>-1)&&(n=!0),this.dropzone.options.createImageThumbnails&&n&&e.size<=1024*this.dropzone.options.maxThumbnailFilesize*1024){t&&this.dropzone.emit("thumbnail",e,t);for(var r=e.previewElement.querySelectorAll("[data-dz-thumbnail]"),o=0;o<r.length;o++)r[o].style.width=this.dropzoneSettings.thumbnailWidth+"px",r[o].style.height=this.dropzoneSettings.thumbnailHeight+"px",r[o].style["object-fit"]="contain"}this.dropzone.emit("complete",e),this.dropzone.options.maxFiles&&this.dropzone.options.maxFiles--,this.dropzone.files.push(e),this.$emit("vdropzone-file-added-manually",e)},setOption:function(e,t){this.dropzone.options[e]=t},removeAllFiles:function(e){this.dropzone.removeAllFiles(e)},processQueue:function(){let e=this.dropzone;this.isS3&&!this.wasQueueAutoProcess?this.getQueuedFiles().forEach(e=>{this.getSignedAndUploadToS3(e)}):this.dropzone.processQueue(),this.dropzone.on("success",(function(){e.options.autoProcessQueue=!0})),this.dropzone.on("queuecomplete",(function(){e.options.autoProcessQueue=!1}))},init:function(){return this.dropzone.init()},destroy:function(){return this.dropzone.destroy()},updateTotalUploadProgress:function(){return this.dropzone.updateTotalUploadProgress()},getFallbackForm:function(){return this.dropzone.getFallbackForm()},getExistingFallback:function(){return this.dropzone.getExistingFallback()},setupEventListeners:function(){return this.dropzone.setupEventListeners()},removeEventListeners:function(){return this.dropzone.removeEventListeners()},disable:function(){return this.dropzone.disable()},enable:function(){return this.dropzone.enable()},filesize:function(e){return this.dropzone.filesize(e)},accept:function(e,t){return this.dropzone.accept(e,t)},addFile:function(e){return this.dropzone.addFile(e)},removeFile:function(e){this.dropzone.removeFile(e)},getAcceptedFiles:function(){return this.dropzone.getAcceptedFiles()},getRejectedFiles:function(){return this.dropzone.getRejectedFiles()},getFilesWithStatus:function(){return this.dropzone.getFilesWithStatus()},getQueuedFiles:function(){return this.dropzone.getQueuedFiles()},getUploadingFiles:function(){return this.dropzone.getUploadingFiles()},getAddedFiles:function(){return this.dropzone.getAddedFiles()},getActiveFiles:function(){return this.dropzone.getActiveFiles()},getSignedAndUploadToS3(e){var t=n.sendFile(e,this.awss3,this.isS3OverridesServerPropagation);this.isS3OverridesServerPropagation?t.then(()=>{setTimeout(()=>this.dropzone.processFile(e))}):t.then(t=>{t.success?(e.s3ObjectLocation=t.message,setTimeout(()=>this.dropzone.processFile(e)),this.$emit("vdropzone-s3-upload-success",t.message)):void 0!==t.message?this.$emit("vdropzone-s3-upload-error",t.message):this.$emit("vdropzone-s3-upload-error","Network Error : Could not send request to AWS. (Maybe CORS error)")}),t.catch(e=>{alert(e)})},setAWSSigningURL(e){this.isS3&&(this.awss3.signingURL=e)}}},0,0,0,void 0)}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(86),i=(r=o)&&r.__esModule?r:{default:r};var a="undefined"==typeof window?[String,Array]:[String,Array,Element,NodeList];t.default={render:function(e){return e("div",{style:this.containerStyle},[e("img",{ref:"img",attrs:{src:this.src,alt:this.alt||"image",style:"max-width: 100%"},style:this.imgStyle})])},props:{containerStyle:Object,src:{type:String,default:""},alt:String,imgStyle:Object,viewMode:Number,dragMode:String,aspectRatio:Number,data:Object,preview:a,responsive:{type:Boolean,default:!0},restore:{type:Boolean,default:!0},checkCrossOrigin:{type:Boolean,default:!0},checkOrientation:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},guides:{type:Boolean,default:!0},center:{type:Boolean,default:!0},highlight:{type:Boolean,default:!0},background:{type:Boolean,default:!0},autoCrop:{type:Boolean,default:!0},autoCropArea:Number,movable:{type:Boolean,default:!0},rotatable:{type:Boolean,default:!0},scalable:{type:Boolean,default:!0},zoomable:{type:Boolean,default:!0},zoomOnTouch:{type:Boolean,default:!0},zoomOnWheel:{type:Boolean,default:!0},wheelZoomRatio:Number,cropBoxMovable:{type:Boolean,default:!0},cropBoxResizable:{type:Boolean,default:!0},toggleDragModeOnDblclick:{type:Boolean,default:!0},minCanvasWidth:Number,minCanvasHeight:Number,minCropBoxWidth:Number,minCropBoxHeight:Number,minContainerWidth:Number,minContainerHeight:Number,ready:Function,cropstart:Function,cropmove:Function,cropend:Function,crop:Function,zoom:Function},mounted:function(){var e=this.$options.props,t=(e.containerStyle,e.src,e.alt,e.imgStyle,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["containerStyle","src","alt","imgStyle"])),n={};for(var r in t)void 0!==this[r]&&(n[r]=this[r]);this.cropper=new i.default(this.$refs.img,n)},methods:{reset:function(){return this.cropper.reset()},clear:function(){return this.cropper.clear()},initCrop:function(){return this.cropper.crop()},replace:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.cropper.replace(e,t)},enable:function(){return this.cropper.enable()},disable:function(){return this.cropper.disable()},destroy:function(){return this.cropper.destroy()},move:function(e,t){return this.cropper.move(e,t)},moveTo:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return this.cropper.moveTo(e,t)},relativeZoom:function(e,t){return this.cropper.zoom(e,t)},zoomTo:function(e,t){return this.cropper.zoomTo(e,t)},rotate:function(e){return this.cropper.rotate(e)},rotateTo:function(e){return this.cropper.rotateTo(e)},scaleX:function(e){return this.cropper.scaleX(e)},scaleY:function(e){return this.cropper.scaleY(e)},scale:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return this.cropper.scale(e,t)},getData:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.cropper.getData(e)},setData:function(e){return this.cropper.setData(e)},getContainerData:function(){return this.cropper.getContainerData()},getImageData:function(){return this.cropper.getImageData()},getCanvasData:function(){return this.cropper.getCanvasData()},setCanvasData:function(e){return this.cropper.setCanvasData(e)},getCropBoxData:function(){return this.cropper.getCropBoxData()},setCropBoxData:function(e){return this.cropper.setCropBoxData(e)},getCroppedCanvas:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.cropper.getCroppedCanvas(e)},setAspectRatio:function(e){return this.cropper.setAspectRatio(e)},setDragMode:function(e){return this.cropper.setDragMode(e)}}}},function(e,t,n){n(93),n(83),n(94),n(97),e.exports=n(99)},function(e,t,n){"use strict";(function(t,n){var r=Object.freeze({});function o(e){return null==e}function i(e){return null!=e}function a(e){return!0===e}function u(e){return"string"==typeof e||"number"==typeof e||"symbol"==typeof e||"boolean"==typeof e}function s(e){return null!==e&&"object"==typeof e}var c=Object.prototype.toString;function l(e){return"[object Object]"===c.call(e)}function f(e){var t=parseFloat(String(e));return t>=0&&Math.floor(t)===t&&isFinite(e)}function d(e){return i(e)&&"function"==typeof e.then&&"function"==typeof e.catch}function p(e){return null==e?"":Array.isArray(e)||l(e)&&e.toString===c?JSON.stringify(e,null,2):String(e)}function m(e){var t=parseFloat(e);return isNaN(t)?e:t}function h(e,t){for(var n=Object.create(null),r=e.split(","),o=0;o<r.length;o++)n[r[o]]=!0;return t?function(e){return n[e.toLowerCase()]}:function(e){return n[e]}}var g=h("slot,component",!0),v=h("key,ref,slot,slot-scope,is");function b(e,t){if(e.length){var n=e.indexOf(t);if(n>-1)return e.splice(n,1)}}var y=Object.prototype.hasOwnProperty;function w(e,t){return y.call(e,t)}function x(e){var t=Object.create(null);return function(n){return t[n]||(t[n]=e(n))}}var C=/-(\w)/g,k=x((function(e){return e.replace(C,(function(e,t){return t?t.toUpperCase():""}))})),S=x((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})),T=/\B([A-Z])/g,E=x((function(e){return e.replace(T,"-$1").toLowerCase()})),O=Function.prototype.bind?function(e,t){return e.bind(t)}:function(e,t){function n(n){var r=arguments.length;return r?r>1?e.apply(t,arguments):e.call(t,n):e.call(t)}return n._length=e.length,n};function _(e,t){t=t||0;for(var n=e.length-t,r=new Array(n);n--;)r[n]=e[n+t];return r}function A(e,t){for(var n in t)e[n]=t[n];return e}function D(e){for(var t={},n=0;n<e.length;n++)e[n]&&A(t,e[n]);return t}function N(e,t,n){}var M=function(e,t,n){return!1},R=function(e){return e};function z(e,t){if(e===t)return!0;var n=s(e),r=s(t);if(!n||!r)return!n&&!r&&String(e)===String(t);try{var o=Array.isArray(e),i=Array.isArray(t);if(o&&i)return e.length===t.length&&e.every((function(e,n){return z(e,t[n])}));if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(o||i)return!1;var a=Object.keys(e),u=Object.keys(t);return a.length===u.length&&a.every((function(n){return z(e[n],t[n])}))}catch(e){return!1}}function I(e,t){for(var n=0;n<e.length;n++)if(z(e[n],t))return n;return-1}function B(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}}var P="data-server-rendered",L=["component","directive","filter"],F=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],H={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:M,isReservedAttr:M,isUnknownElement:M,getTagNamespace:N,parsePlatformTagName:R,mustUseProp:M,async:!0,_lifecycleHooks:F},j=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function V(e,t,n,r){Object.defineProperty(e,t,{value:n,enumerable:!!r,writable:!0,configurable:!0})}var U,$=new RegExp("[^"+j.source+".$_\\d]"),q="__proto__"in{},W="undefined"!=typeof window,Y="undefined"!=typeof WXEnvironment&&!!WXEnvironment.platform,X=Y&&WXEnvironment.platform.toLowerCase(),G=W&&window.navigator.userAgent.toLowerCase(),K=G&&/msie|trident/.test(G),J=G&&G.indexOf("msie 9.0")>0,Q=G&&G.indexOf("edge/")>0,Z=(G&&G.indexOf("android"),G&&/iphone|ipad|ipod|ios/.test(G)||"ios"===X),ee=(G&&/chrome\/\d+/.test(G),G&&/phantomjs/.test(G),G&&G.match(/firefox\/(\d+)/)),te={}.watch,ne=!1;if(W)try{var re={};Object.defineProperty(re,"passive",{get:function(){ne=!0}}),window.addEventListener("test-passive",null,re)}catch(r){}var oe=function(){return void 0===U&&(U=!W&&!Y&&void 0!==t&&t.process&&"server"===t.process.env.VUE_ENV),U},ie=W&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function ae(e){return"function"==typeof e&&/native code/.test(e.toString())}var ue,se="undefined"!=typeof Symbol&&ae(Symbol)&&"undefined"!=typeof Reflect&&ae(Reflect.ownKeys);ue="undefined"!=typeof Set&&ae(Set)?Set:function(){function e(){this.set=Object.create(null)}return e.prototype.has=function(e){return!0===this.set[e]},e.prototype.add=function(e){this.set[e]=!0},e.prototype.clear=function(){this.set=Object.create(null)},e}();var ce=N,le=0,fe=function(){this.id=le++,this.subs=[]};fe.prototype.addSub=function(e){this.subs.push(e)},fe.prototype.removeSub=function(e){b(this.subs,e)},fe.prototype.depend=function(){fe.target&&fe.target.addDep(this)},fe.prototype.notify=function(){for(var e=this.subs.slice(),t=0,n=e.length;t<n;t++)e[t].update()},fe.target=null;var de=[];function pe(e){de.push(e),fe.target=e}function me(){de.pop(),fe.target=de[de.length-1]}var he=function(e,t,n,r,o,i,a,u){this.tag=e,this.data=t,this.children=n,this.text=r,this.elm=o,this.ns=void 0,this.context=i,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=t&&t.key,this.componentOptions=a,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=u,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},ge={child:{configurable:!0}};ge.child.get=function(){return this.componentInstance},Object.defineProperties(he.prototype,ge);var ve=function(e){void 0===e&&(e="");var t=new he;return t.text=e,t.isComment=!0,t};function be(e){return new he(void 0,void 0,void 0,String(e))}function ye(e){var t=new he(e.tag,e.data,e.children&&e.children.slice(),e.text,e.elm,e.context,e.componentOptions,e.asyncFactory);return t.ns=e.ns,t.isStatic=e.isStatic,t.key=e.key,t.isComment=e.isComment,t.fnContext=e.fnContext,t.fnOptions=e.fnOptions,t.fnScopeId=e.fnScopeId,t.asyncMeta=e.asyncMeta,t.isCloned=!0,t}var we=Array.prototype,xe=Object.create(we);["push","pop","shift","unshift","splice","sort","reverse"].forEach((function(e){var t=we[e];V(xe,e,(function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];var o,i=t.apply(this,n),a=this.__ob__;switch(e){case"push":case"unshift":o=n;break;case"splice":o=n.slice(2)}return o&&a.observeArray(o),a.dep.notify(),i}))}));var Ce=Object.getOwnPropertyNames(xe),ke=!0;function Se(e){ke=e}var Te=function(e){var t;this.value=e,this.dep=new fe,this.vmCount=0,V(e,"__ob__",this),Array.isArray(e)?(q?(t=xe,e.__proto__=t):function(e,t,n){for(var r=0,o=n.length;r<o;r++){var i=n[r];V(e,i,t[i])}}(e,xe,Ce),this.observeArray(e)):this.walk(e)};function Ee(e,t){var n;if(s(e)&&!(e instanceof he))return w(e,"__ob__")&&e.__ob__ instanceof Te?n=e.__ob__:ke&&!oe()&&(Array.isArray(e)||l(e))&&Object.isExtensible(e)&&!e._isVue&&(n=new Te(e)),t&&n&&n.vmCount++,n}function Oe(e,t,n,r,o){var i=new fe,a=Object.getOwnPropertyDescriptor(e,t);if(!a||!1!==a.configurable){var u=a&&a.get,s=a&&a.set;u&&!s||2!==arguments.length||(n=e[t]);var c=!o&&Ee(n);Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:function(){var t=u?u.call(e):n;return fe.target&&(i.depend(),c&&(c.dep.depend(),Array.isArray(t)&&function e(t){for(var n=void 0,r=0,o=t.length;r<o;r++)(n=t[r])&&n.__ob__&&n.__ob__.dep.depend(),Array.isArray(n)&&e(n)}(t))),t},set:function(t){var r=u?u.call(e):n;t===r||t!=t&&r!=r||u&&!s||(s?s.call(e,t):n=t,c=!o&&Ee(t),i.notify())}})}}function _e(e,t,n){if(Array.isArray(e)&&f(t))return e.length=Math.max(e.length,t),e.splice(t,1,n),n;if(t in e&&!(t in Object.prototype))return e[t]=n,n;var r=e.__ob__;return e._isVue||r&&r.vmCount?n:r?(Oe(r.value,t,n),r.dep.notify(),n):(e[t]=n,n)}function Ae(e,t){if(Array.isArray(e)&&f(t))e.splice(t,1);else{var n=e.__ob__;e._isVue||n&&n.vmCount||w(e,t)&&(delete e[t],n&&n.dep.notify())}}Te.prototype.walk=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)Oe(e,t[n])},Te.prototype.observeArray=function(e){for(var t=0,n=e.length;t<n;t++)Ee(e[t])};var De=H.optionMergeStrategies;function Ne(e,t){if(!t)return e;for(var n,r,o,i=se?Reflect.ownKeys(t):Object.keys(t),a=0;a<i.length;a++)"__ob__"!==(n=i[a])&&(r=e[n],o=t[n],w(e,n)?r!==o&&l(r)&&l(o)&&Ne(r,o):_e(e,n,o));return e}function Me(e,t,n){return n?function(){var r="function"==typeof t?t.call(n,n):t,o="function"==typeof e?e.call(n,n):e;return r?Ne(r,o):o}:t?e?function(){return Ne("function"==typeof t?t.call(this,this):t,"function"==typeof e?e.call(this,this):e)}:t:e}function Re(e,t){var n=t?e?e.concat(t):Array.isArray(t)?t:[t]:e;return n?function(e){for(var t=[],n=0;n<e.length;n++)-1===t.indexOf(e[n])&&t.push(e[n]);return t}(n):n}function ze(e,t,n,r){var o=Object.create(e||null);return t?A(o,t):o}De.data=function(e,t,n){return n?Me(e,t,n):t&&"function"!=typeof t?e:Me(e,t)},F.forEach((function(e){De[e]=Re})),L.forEach((function(e){De[e+"s"]=ze})),De.watch=function(e,t,n,r){if(e===te&&(e=void 0),t===te&&(t=void 0),!t)return Object.create(e||null);if(!e)return t;var o={};for(var i in A(o,e),t){var a=o[i],u=t[i];a&&!Array.isArray(a)&&(a=[a]),o[i]=a?a.concat(u):Array.isArray(u)?u:[u]}return o},De.props=De.methods=De.inject=De.computed=function(e,t,n,r){if(!e)return t;var o=Object.create(null);return A(o,e),t&&A(o,t),o},De.provide=Me;var Ie=function(e,t){return void 0===t?e:t};function Be(e,t,n){if("function"==typeof t&&(t=t.options),function(e,t){var n=e.props;if(n){var r,o,i={};if(Array.isArray(n))for(r=n.length;r--;)"string"==typeof(o=n[r])&&(i[k(o)]={type:null});else if(l(n))for(var a in n)o=n[a],i[k(a)]=l(o)?o:{type:o};e.props=i}}(t),function(e,t){var n=e.inject;if(n){var r=e.inject={};if(Array.isArray(n))for(var o=0;o<n.length;o++)r[n[o]]={from:n[o]};else if(l(n))for(var i in n){var a=n[i];r[i]=l(a)?A({from:i},a):{from:a}}}}(t),function(e){var t=e.directives;if(t)for(var n in t){var r=t[n];"function"==typeof r&&(t[n]={bind:r,update:r})}}(t),!t._base&&(t.extends&&(e=Be(e,t.extends,n)),t.mixins))for(var r=0,o=t.mixins.length;r<o;r++)e=Be(e,t.mixins[r],n);var i,a={};for(i in e)u(i);for(i in t)w(e,i)||u(i);function u(r){var o=De[r]||Ie;a[r]=o(e[r],t[r],n,r)}return a}function Pe(e,t,n,r){if("string"==typeof n){var o=e[t];if(w(o,n))return o[n];var i=k(n);if(w(o,i))return o[i];var a=S(i);return w(o,a)?o[a]:o[n]||o[i]||o[a]}}function Le(e,t,n,r){var o=t[e],i=!w(n,e),a=n[e],u=je(Boolean,o.type);if(u>-1)if(i&&!w(o,"default"))a=!1;else if(""===a||a===E(e)){var s=je(String,o.type);(s<0||u<s)&&(a=!0)}if(void 0===a){a=function(e,t,n){if(w(t,"default")){var r=t.default;return e&&e.$options.propsData&&void 0===e.$options.propsData[n]&&void 0!==e._props[n]?e._props[n]:"function"==typeof r&&"Function"!==Fe(t.type)?r.call(e):r}}(r,o,e);var c=ke;Se(!0),Ee(a),Se(c)}return a}function Fe(e){var t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:""}function He(e,t){return Fe(e)===Fe(t)}function je(e,t){if(!Array.isArray(t))return He(t,e)?0:-1;for(var n=0,r=t.length;n<r;n++)if(He(t[n],e))return n;return-1}function Ve(e,t,n){pe();try{if(t)for(var r=t;r=r.$parent;){var o=r.$options.errorCaptured;if(o)for(var i=0;i<o.length;i++)try{if(!1===o[i].call(r,e,t,n))return}catch(e){$e(e,r,"errorCaptured hook")}}$e(e,t,n)}finally{me()}}function Ue(e,t,n,r,o){var i;try{(i=n?e.apply(t,n):e.call(t))&&!i._isVue&&d(i)&&!i._handled&&(i.catch((function(e){return Ve(e,r,o+" (Promise/async)")})),i._handled=!0)}catch(e){Ve(e,r,o)}return i}function $e(e,t,n){if(H.errorHandler)try{return H.errorHandler.call(null,e,t,n)}catch(t){t!==e&&qe(t,null,"config.errorHandler")}qe(e,t,n)}function qe(e,t,n){if(!W&&!Y||"undefined"==typeof console)throw e;console.error(e)}var We,Ye=!1,Xe=[],Ge=!1;function Ke(){Ge=!1;var e=Xe.slice(0);Xe.length=0;for(var t=0;t<e.length;t++)e[t]()}if("undefined"!=typeof Promise&&ae(Promise)){var Je=Promise.resolve();We=function(){Je.then(Ke),Z&&setTimeout(N)},Ye=!0}else if(K||"undefined"==typeof MutationObserver||!ae(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())We=void 0!==n&&ae(n)?function(){n(Ke)}:function(){setTimeout(Ke,0)};else{var Qe=1,Ze=new MutationObserver(Ke),et=document.createTextNode(String(Qe));Ze.observe(et,{characterData:!0}),We=function(){Qe=(Qe+1)%2,et.data=String(Qe)},Ye=!0}function tt(e,t){var n;if(Xe.push((function(){if(e)try{e.call(t)}catch(e){Ve(e,t,"nextTick")}else n&&n(t)})),Ge||(Ge=!0,We()),!e&&"undefined"!=typeof Promise)return new Promise((function(e){n=e}))}var nt=new ue;function rt(e){!function e(t,n){var r,o,i=Array.isArray(t);if(!(!i&&!s(t)||Object.isFrozen(t)||t instanceof he)){if(t.__ob__){var a=t.__ob__.dep.id;if(n.has(a))return;n.add(a)}if(i)for(r=t.length;r--;)e(t[r],n);else for(r=(o=Object.keys(t)).length;r--;)e(t[o[r]],n)}}(e,nt),nt.clear()}var ot=x((function(e){var t="&"===e.charAt(0),n="~"===(e=t?e.slice(1):e).charAt(0),r="!"===(e=n?e.slice(1):e).charAt(0);return{name:e=r?e.slice(1):e,once:n,capture:r,passive:t}}));function it(e,t){function n(){var e=arguments,r=n.fns;if(!Array.isArray(r))return Ue(r,null,arguments,t,"v-on handler");for(var o=r.slice(),i=0;i<o.length;i++)Ue(o[i],null,e,t,"v-on handler")}return n.fns=e,n}function at(e,t,n,r,i,u){var s,c,l,f;for(s in e)c=e[s],l=t[s],f=ot(s),o(c)||(o(l)?(o(c.fns)&&(c=e[s]=it(c,u)),a(f.once)&&(c=e[s]=i(f.name,c,f.capture)),n(f.name,c,f.capture,f.passive,f.params)):c!==l&&(l.fns=c,e[s]=l));for(s in t)o(e[s])&&r((f=ot(s)).name,t[s],f.capture)}function ut(e,t,n){var r;e instanceof he&&(e=e.data.hook||(e.data.hook={}));var u=e[t];function s(){n.apply(this,arguments),b(r.fns,s)}o(u)?r=it([s]):i(u.fns)&&a(u.merged)?(r=u).fns.push(s):r=it([u,s]),r.merged=!0,e[t]=r}function st(e,t,n,r,o){if(i(t)){if(w(t,n))return e[n]=t[n],o||delete t[n],!0;if(w(t,r))return e[n]=t[r],o||delete t[r],!0}return!1}function ct(e){return u(e)?[be(e)]:Array.isArray(e)?function e(t,n){var r,s,c,l,f=[];for(r=0;r<t.length;r++)o(s=t[r])||"boolean"==typeof s||(l=f[c=f.length-1],Array.isArray(s)?s.length>0&&(lt((s=e(s,(n||"")+"_"+r))[0])&&lt(l)&&(f[c]=be(l.text+s[0].text),s.shift()),f.push.apply(f,s)):u(s)?lt(l)?f[c]=be(l.text+s):""!==s&&f.push(be(s)):lt(s)&&lt(l)?f[c]=be(l.text+s.text):(a(t._isVList)&&i(s.tag)&&o(s.key)&&i(n)&&(s.key="__vlist"+n+"_"+r+"__"),f.push(s)));return f}(e):void 0}function lt(e){return i(e)&&i(e.text)&&!1===e.isComment}function ft(e,t){if(e){for(var n=Object.create(null),r=se?Reflect.ownKeys(e):Object.keys(e),o=0;o<r.length;o++){var i=r[o];if("__ob__"!==i){for(var a=e[i].from,u=t;u;){if(u._provided&&w(u._provided,a)){n[i]=u._provided[a];break}u=u.$parent}if(!u&&"default"in e[i]){var s=e[i].default;n[i]="function"==typeof s?s.call(t):s}}}return n}}function dt(e,t){if(!e||!e.length)return{};for(var n={},r=0,o=e.length;r<o;r++){var i=e[r],a=i.data;if(a&&a.attrs&&a.attrs.slot&&delete a.attrs.slot,i.context!==t&&i.fnContext!==t||!a||null==a.slot)(n.default||(n.default=[])).push(i);else{var u=a.slot,s=n[u]||(n[u]=[]);"template"===i.tag?s.push.apply(s,i.children||[]):s.push(i)}}for(var c in n)n[c].every(pt)&&delete n[c];return n}function pt(e){return e.isComment&&!e.asyncFactory||" "===e.text}function mt(e,t,n){var o,i=Object.keys(t).length>0,a=e?!!e.$stable:!i,u=e&&e.$key;if(e){if(e._normalized)return e._normalized;if(a&&n&&n!==r&&u===n.$key&&!i&&!n.$hasNormal)return n;for(var s in o={},e)e[s]&&"$"!==s[0]&&(o[s]=ht(t,s,e[s]))}else o={};for(var c in t)c in o||(o[c]=gt(t,c));return e&&Object.isExtensible(e)&&(e._normalized=o),V(o,"$stable",a),V(o,"$key",u),V(o,"$hasNormal",i),o}function ht(e,t,n){var r=function(){var e=arguments.length?n.apply(null,arguments):n({});return(e=e&&"object"==typeof e&&!Array.isArray(e)?[e]:ct(e))&&(0===e.length||1===e.length&&e[0].isComment)?void 0:e};return n.proxy&&Object.defineProperty(e,t,{get:r,enumerable:!0,configurable:!0}),r}function gt(e,t){return function(){return e[t]}}function vt(e,t){var n,r,o,a,u;if(Array.isArray(e)||"string"==typeof e)for(n=new Array(e.length),r=0,o=e.length;r<o;r++)n[r]=t(e[r],r);else if("number"==typeof e)for(n=new Array(e),r=0;r<e;r++)n[r]=t(r+1,r);else if(s(e))if(se&&e[Symbol.iterator]){n=[];for(var c=e[Symbol.iterator](),l=c.next();!l.done;)n.push(t(l.value,n.length)),l=c.next()}else for(a=Object.keys(e),n=new Array(a.length),r=0,o=a.length;r<o;r++)u=a[r],n[r]=t(e[u],u,r);return i(n)||(n=[]),n._isVList=!0,n}function bt(e,t,n,r){var o,i=this.$scopedSlots[e];i?(n=n||{},r&&(n=A(A({},r),n)),o=i(n)||t):o=this.$slots[e]||t;var a=n&&n.slot;return a?this.$createElement("template",{slot:a},o):o}function yt(e){return Pe(this.$options,"filters",e)||R}function wt(e,t){return Array.isArray(e)?-1===e.indexOf(t):e!==t}function xt(e,t,n,r,o){var i=H.keyCodes[t]||n;return o&&r&&!H.keyCodes[t]?wt(o,r):i?wt(i,e):r?E(r)!==t:void 0}function Ct(e,t,n,r,o){if(n&&s(n)){var i;Array.isArray(n)&&(n=D(n));var a=function(a){if("class"===a||"style"===a||v(a))i=e;else{var u=e.attrs&&e.attrs.type;i=r||H.mustUseProp(t,u,a)?e.domProps||(e.domProps={}):e.attrs||(e.attrs={})}var s=k(a),c=E(a);s in i||c in i||(i[a]=n[a],o&&((e.on||(e.on={}))["update:"+a]=function(e){n[a]=e}))};for(var u in n)a(u)}return e}function kt(e,t){var n=this._staticTrees||(this._staticTrees=[]),r=n[e];return r&&!t?r:(Tt(r=n[e]=this.$options.staticRenderFns[e].call(this._renderProxy,null,this),"__static__"+e,!1),r)}function St(e,t,n){return Tt(e,"__once__"+t+(n?"_"+n:""),!0),e}function Tt(e,t,n){if(Array.isArray(e))for(var r=0;r<e.length;r++)e[r]&&"string"!=typeof e[r]&&Et(e[r],t+"_"+r,n);else Et(e,t,n)}function Et(e,t,n){e.isStatic=!0,e.key=t,e.isOnce=n}function Ot(e,t){if(t&&l(t)){var n=e.on=e.on?A({},e.on):{};for(var r in t){var o=n[r],i=t[r];n[r]=o?[].concat(o,i):i}}return e}function _t(e,t,n,r){t=t||{$stable:!n};for(var o=0;o<e.length;o++){var i=e[o];Array.isArray(i)?_t(i,t,n):i&&(i.proxy&&(i.fn.proxy=!0),t[i.key]=i.fn)}return r&&(t.$key=r),t}function At(e,t){for(var n=0;n<t.length;n+=2){var r=t[n];"string"==typeof r&&r&&(e[t[n]]=t[n+1])}return e}function Dt(e,t){return"string"==typeof e?t+e:e}function Nt(e){e._o=St,e._n=m,e._s=p,e._l=vt,e._t=bt,e._q=z,e._i=I,e._m=kt,e._f=yt,e._k=xt,e._b=Ct,e._v=be,e._e=ve,e._u=_t,e._g=Ot,e._d=At,e._p=Dt}function Mt(e,t,n,o,i){var u,s=this,c=i.options;w(o,"_uid")?(u=Object.create(o))._original=o:(u=o,o=o._original);var l=a(c._compiled),f=!l;this.data=e,this.props=t,this.children=n,this.parent=o,this.listeners=e.on||r,this.injections=ft(c.inject,o),this.slots=function(){return s.$slots||mt(e.scopedSlots,s.$slots=dt(n,o)),s.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return mt(e.scopedSlots,this.slots())}}),l&&(this.$options=c,this.$slots=this.slots(),this.$scopedSlots=mt(e.scopedSlots,this.$slots)),c._scopeId?this._c=function(e,t,n,r){var i=jt(u,e,t,n,r,f);return i&&!Array.isArray(i)&&(i.fnScopeId=c._scopeId,i.fnContext=o),i}:this._c=function(e,t,n,r){return jt(u,e,t,n,r,f)}}function Rt(e,t,n,r,o){var i=ye(e);return i.fnContext=n,i.fnOptions=r,t.slot&&((i.data||(i.data={})).slot=t.slot),i}function zt(e,t){for(var n in t)e[k(n)]=t[n]}Nt(Mt.prototype);var It={init:function(e,t){if(e.componentInstance&&!e.componentInstance._isDestroyed&&e.data.keepAlive){var n=e;It.prepatch(n,n)}else(e.componentInstance=function(e,t){var n={_isComponent:!0,_parentVnode:e,parent:t},r=e.data.inlineTemplate;return i(r)&&(n.render=r.render,n.staticRenderFns=r.staticRenderFns),new e.componentOptions.Ctor(n)}(e,Jt)).$mount(t?e.elm:void 0,t)},prepatch:function(e,t){var n=t.componentOptions;!function(e,t,n,o,i){var a=o.data.scopedSlots,u=e.$scopedSlots,s=!!(a&&!a.$stable||u!==r&&!u.$stable||a&&e.$scopedSlots.$key!==a.$key),c=!!(i||e.$options._renderChildren||s);if(e.$options._parentVnode=o,e.$vnode=o,e._vnode&&(e._vnode.parent=o),e.$options._renderChildren=i,e.$attrs=o.data.attrs||r,e.$listeners=n||r,t&&e.$options.props){Se(!1);for(var l=e._props,f=e.$options._propKeys||[],d=0;d<f.length;d++){var p=f[d],m=e.$options.props;l[p]=Le(p,m,t,e)}Se(!0),e.$options.propsData=t}n=n||r;var h=e.$options._parentListeners;e.$options._parentListeners=n,Kt(e,n,h),c&&(e.$slots=dt(i,o.context),e.$forceUpdate())}(t.componentInstance=e.componentInstance,n.propsData,n.listeners,t,n.children)},insert:function(e){var t,n=e.context,r=e.componentInstance;r._isMounted||(r._isMounted=!0,tn(r,"mounted")),e.data.keepAlive&&(n._isMounted?((t=r)._inactive=!1,rn.push(t)):en(r,!0))},destroy:function(e){var t=e.componentInstance;t._isDestroyed||(e.data.keepAlive?function e(t,n){if(!(n&&(t._directInactive=!0,Zt(t))||t._inactive)){t._inactive=!0;for(var r=0;r<t.$children.length;r++)e(t.$children[r]);tn(t,"deactivated")}}(t,!0):t.$destroy())}},Bt=Object.keys(It);function Pt(e,t,n,u,c){if(!o(e)){var l=n.$options._base;if(s(e)&&(e=l.extend(e)),"function"==typeof e){var f;if(o(e.cid)&&void 0===(e=function(e,t){if(a(e.error)&&i(e.errorComp))return e.errorComp;if(i(e.resolved))return e.resolved;var n=Ut;if(n&&i(e.owners)&&-1===e.owners.indexOf(n)&&e.owners.push(n),a(e.loading)&&i(e.loadingComp))return e.loadingComp;if(n&&!i(e.owners)){var r=e.owners=[n],u=!0,c=null,l=null;n.$on("hook:destroyed",(function(){return b(r,n)}));var f=function(e){for(var t=0,n=r.length;t<n;t++)r[t].$forceUpdate();e&&(r.length=0,null!==c&&(clearTimeout(c),c=null),null!==l&&(clearTimeout(l),l=null))},p=B((function(n){e.resolved=$t(n,t),u?r.length=0:f(!0)})),m=B((function(t){i(e.errorComp)&&(e.error=!0,f(!0))})),h=e(p,m);return s(h)&&(d(h)?o(e.resolved)&&h.then(p,m):d(h.component)&&(h.component.then(p,m),i(h.error)&&(e.errorComp=$t(h.error,t)),i(h.loading)&&(e.loadingComp=$t(h.loading,t),0===h.delay?e.loading=!0:c=setTimeout((function(){c=null,o(e.resolved)&&o(e.error)&&(e.loading=!0,f(!1))}),h.delay||200)),i(h.timeout)&&(l=setTimeout((function(){l=null,o(e.resolved)&&m(null)}),h.timeout)))),u=!1,e.loading?e.loadingComp:e.resolved}}(f=e,l)))return function(e,t,n,r,o){var i=ve();return i.asyncFactory=e,i.asyncMeta={data:t,context:n,children:r,tag:o},i}(f,t,n,u,c);t=t||{},kn(e),i(t.model)&&function(e,t){var n=e.model&&e.model.prop||"value",r=e.model&&e.model.event||"input";(t.attrs||(t.attrs={}))[n]=t.model.value;var o=t.on||(t.on={}),a=o[r],u=t.model.callback;i(a)?(Array.isArray(a)?-1===a.indexOf(u):a!==u)&&(o[r]=[u].concat(a)):o[r]=u}(e.options,t);var p=function(e,t,n){var r=t.options.props;if(!o(r)){var a={},u=e.attrs,s=e.props;if(i(u)||i(s))for(var c in r){var l=E(c);st(a,s,c,l,!0)||st(a,u,c,l,!1)}return a}}(t,e);if(a(e.options.functional))return function(e,t,n,o,a){var u=e.options,s={},c=u.props;if(i(c))for(var l in c)s[l]=Le(l,c,t||r);else i(n.attrs)&&zt(s,n.attrs),i(n.props)&&zt(s,n.props);var f=new Mt(n,s,a,o,e),d=u.render.call(null,f._c,f);if(d instanceof he)return Rt(d,n,f.parent,u);if(Array.isArray(d)){for(var p=ct(d)||[],m=new Array(p.length),h=0;h<p.length;h++)m[h]=Rt(p[h],n,f.parent,u);return m}}(e,p,t,n,u);var m=t.on;if(t.on=t.nativeOn,a(e.options.abstract)){var h=t.slot;t={},h&&(t.slot=h)}!function(e){for(var t=e.hook||(e.hook={}),n=0;n<Bt.length;n++){var r=Bt[n],o=t[r],i=It[r];o===i||o&&o._merged||(t[r]=o?Lt(i,o):i)}}(t);var g=e.options.name||c;return new he("vue-component-"+e.cid+(g?"-"+g:""),t,void 0,void 0,void 0,n,{Ctor:e,propsData:p,listeners:m,tag:c,children:u},f)}}}function Lt(e,t){var n=function(n,r){e(n,r),t(n,r)};return n._merged=!0,n}var Ft=1,Ht=2;function jt(e,t,n,r,c,l){return(Array.isArray(n)||u(n))&&(c=r,r=n,n=void 0),a(l)&&(c=Ht),function(e,t,n,r,u){if(i(n)&&i(n.__ob__))return ve();if(i(n)&&i(n.is)&&(t=n.is),!t)return ve();var c,l,f;(Array.isArray(r)&&"function"==typeof r[0]&&((n=n||{}).scopedSlots={default:r[0]},r.length=0),u===Ht?r=ct(r):u===Ft&&(r=function(e){for(var t=0;t<e.length;t++)if(Array.isArray(e[t]))return Array.prototype.concat.apply([],e);return e}(r)),"string"==typeof t)?(l=e.$vnode&&e.$vnode.ns||H.getTagNamespace(t),c=H.isReservedTag(t)?new he(H.parsePlatformTagName(t),n,r,void 0,void 0,e):n&&n.pre||!i(f=Pe(e.$options,"components",t))?new he(t,n,r,void 0,void 0,e):Pt(f,n,e,r,t)):c=Pt(t,n,e,r);return Array.isArray(c)?c:i(c)?(i(l)&&function e(t,n,r){if(t.ns=n,"foreignObject"===t.tag&&(n=void 0,r=!0),i(t.children))for(var u=0,s=t.children.length;u<s;u++){var c=t.children[u];i(c.tag)&&(o(c.ns)||a(r)&&"svg"!==c.tag)&&e(c,n,r)}}(c,l),i(n)&&function(e){s(e.style)&&rt(e.style),s(e.class)&&rt(e.class)}(n),c):ve()}(e,t,n,r,c)}var Vt,Ut=null;function $t(e,t){return(e.__esModule||se&&"Module"===e[Symbol.toStringTag])&&(e=e.default),s(e)?t.extend(e):e}function qt(e){return e.isComment&&e.asyncFactory}function Wt(e){if(Array.isArray(e))for(var t=0;t<e.length;t++){var n=e[t];if(i(n)&&(i(n.componentOptions)||qt(n)))return n}}function Yt(e,t){Vt.$on(e,t)}function Xt(e,t){Vt.$off(e,t)}function Gt(e,t){var n=Vt;return function r(){null!==t.apply(null,arguments)&&n.$off(e,r)}}function Kt(e,t,n){Vt=e,at(t,n||{},Yt,Xt,Gt,e),Vt=void 0}var Jt=null;function Qt(e){var t=Jt;return Jt=e,function(){Jt=t}}function Zt(e){for(;e&&(e=e.$parent);)if(e._inactive)return!0;return!1}function en(e,t){if(t){if(e._directInactive=!1,Zt(e))return}else if(e._directInactive)return;if(e._inactive||null===e._inactive){e._inactive=!1;for(var n=0;n<e.$children.length;n++)en(e.$children[n]);tn(e,"activated")}}function tn(e,t){pe();var n=e.$options[t],r=t+" hook";if(n)for(var o=0,i=n.length;o<i;o++)Ue(n[o],e,null,e,r);e._hasHookEvent&&e.$emit("hook:"+t),me()}var nn=[],rn=[],on={},an=!1,un=!1,sn=0,cn=0,ln=Date.now;if(W&&!K){var fn=window.performance;fn&&"function"==typeof fn.now&&ln()>document.createEvent("Event").timeStamp&&(ln=function(){return fn.now()})}function dn(){var e,t;for(cn=ln(),un=!0,nn.sort((function(e,t){return e.id-t.id})),sn=0;sn<nn.length;sn++)(e=nn[sn]).before&&e.before(),t=e.id,on[t]=null,e.run();var n=rn.slice(),r=nn.slice();sn=nn.length=rn.length=0,on={},an=un=!1,function(e){for(var t=0;t<e.length;t++)e[t]._inactive=!0,en(e[t],!0)}(n),function(e){for(var t=e.length;t--;){var n=e[t],r=n.vm;r._watcher===n&&r._isMounted&&!r._isDestroyed&&tn(r,"updated")}}(r),ie&&H.devtools&&ie.emit("flush")}var pn=0,mn=function(e,t,n,r,o){this.vm=e,o&&(e._watcher=this),e._watchers.push(this),r?(this.deep=!!r.deep,this.user=!!r.user,this.lazy=!!r.lazy,this.sync=!!r.sync,this.before=r.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++pn,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new ue,this.newDepIds=new ue,this.expression="","function"==typeof t?this.getter=t:(this.getter=function(e){if(!$.test(e)){var t=e.split(".");return function(e){for(var n=0;n<t.length;n++){if(!e)return;e=e[t[n]]}return e}}}(t),this.getter||(this.getter=N)),this.value=this.lazy?void 0:this.get()};mn.prototype.get=function(){var e;pe(this);var t=this.vm;try{e=this.getter.call(t,t)}catch(e){if(!this.user)throw e;Ve(e,t,'getter for watcher "'+this.expression+'"')}finally{this.deep&&rt(e),me(),this.cleanupDeps()}return e},mn.prototype.addDep=function(e){var t=e.id;this.newDepIds.has(t)||(this.newDepIds.add(t),this.newDeps.push(e),this.depIds.has(t)||e.addSub(this))},mn.prototype.cleanupDeps=function(){for(var e=this.deps.length;e--;){var t=this.deps[e];this.newDepIds.has(t.id)||t.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},mn.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():function(e){var t=e.id;if(null==on[t]){if(on[t]=!0,un){for(var n=nn.length-1;n>sn&&nn[n].id>e.id;)n--;nn.splice(n+1,0,e)}else nn.push(e);an||(an=!0,tt(dn))}}(this)},mn.prototype.run=function(){if(this.active){var e=this.get();if(e!==this.value||s(e)||this.deep){var t=this.value;if(this.value=e,this.user)try{this.cb.call(this.vm,e,t)}catch(e){Ve(e,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,e,t)}}},mn.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},mn.prototype.depend=function(){for(var e=this.deps.length;e--;)this.deps[e].depend()},mn.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||b(this.vm._watchers,this);for(var e=this.deps.length;e--;)this.deps[e].removeSub(this);this.active=!1}};var hn={enumerable:!0,configurable:!0,get:N,set:N};function gn(e,t,n){hn.get=function(){return this[t][n]},hn.set=function(e){this[t][n]=e},Object.defineProperty(e,n,hn)}var vn={lazy:!0};function bn(e,t,n){var r=!oe();"function"==typeof n?(hn.get=r?yn(t):wn(n),hn.set=N):(hn.get=n.get?r&&!1!==n.cache?yn(t):wn(n.get):N,hn.set=n.set||N),Object.defineProperty(e,t,hn)}function yn(e){return function(){var t=this._computedWatchers&&this._computedWatchers[e];if(t)return t.dirty&&t.evaluate(),fe.target&&t.depend(),t.value}}function wn(e){return function(){return e.call(this,this)}}function xn(e,t,n,r){return l(n)&&(r=n,n=n.handler),"string"==typeof n&&(n=e[n]),e.$watch(t,n,r)}var Cn=0;function kn(e){var t=e.options;if(e.super){var n=kn(e.super);if(n!==e.superOptions){e.superOptions=n;var r=function(e){var t,n=e.options,r=e.sealedOptions;for(var o in n)n[o]!==r[o]&&(t||(t={}),t[o]=n[o]);return t}(e);r&&A(e.extendOptions,r),(t=e.options=Be(n,e.extendOptions)).name&&(t.components[t.name]=e)}}return t}function Sn(e){this._init(e)}function Tn(e){return e&&(e.Ctor.options.name||e.tag)}function En(e,t){return Array.isArray(e)?e.indexOf(t)>-1:"string"==typeof e?e.split(",").indexOf(t)>-1:(n=e,"[object RegExp]"===c.call(n)&&e.test(t));var n}function On(e,t){var n=e.cache,r=e.keys,o=e._vnode;for(var i in n){var a=n[i];if(a){var u=Tn(a.componentOptions);u&&!t(u)&&_n(n,i,r,o)}}}function _n(e,t,n,r){var o=e[t];!o||r&&o.tag===r.tag||o.componentInstance.$destroy(),e[t]=null,b(n,t)}!function(e){e.prototype._init=function(e){var t=this;t._uid=Cn++,t._isVue=!0,e&&e._isComponent?function(e,t){var n=e.$options=Object.create(e.constructor.options),r=t._parentVnode;n.parent=t.parent,n._parentVnode=r;var o=r.componentOptions;n.propsData=o.propsData,n._parentListeners=o.listeners,n._renderChildren=o.children,n._componentTag=o.tag,t.render&&(n.render=t.render,n.staticRenderFns=t.staticRenderFns)}(t,e):t.$options=Be(kn(t.constructor),e||{},t),t._renderProxy=t,t._self=t,function(e){var t=e.$options,n=t.parent;if(n&&!t.abstract){for(;n.$options.abstract&&n.$parent;)n=n.$parent;n.$children.push(e)}e.$parent=n,e.$root=n?n.$root:e,e.$children=[],e.$refs={},e._watcher=null,e._inactive=null,e._directInactive=!1,e._isMounted=!1,e._isDestroyed=!1,e._isBeingDestroyed=!1}(t),function(e){e._events=Object.create(null),e._hasHookEvent=!1;var t=e.$options._parentListeners;t&&Kt(e,t)}(t),function(e){e._vnode=null,e._staticTrees=null;var t=e.$options,n=e.$vnode=t._parentVnode,o=n&&n.context;e.$slots=dt(t._renderChildren,o),e.$scopedSlots=r,e._c=function(t,n,r,o){return jt(e,t,n,r,o,!1)},e.$createElement=function(t,n,r,o){return jt(e,t,n,r,o,!0)};var i=n&&n.data;Oe(e,"$attrs",i&&i.attrs||r,null,!0),Oe(e,"$listeners",t._parentListeners||r,null,!0)}(t),tn(t,"beforeCreate"),function(e){var t=ft(e.$options.inject,e);t&&(Se(!1),Object.keys(t).forEach((function(n){Oe(e,n,t[n])})),Se(!0))}(t),function(e){e._watchers=[];var t=e.$options;t.props&&function(e,t){var n=e.$options.propsData||{},r=e._props={},o=e.$options._propKeys=[];e.$parent&&Se(!1);var i=function(i){o.push(i);var a=Le(i,t,n,e);Oe(r,i,a),i in e||gn(e,"_props",i)};for(var a in t)i(a);Se(!0)}(e,t.props),t.methods&&function(e,t){for(var n in e.$options.props,t)e[n]="function"!=typeof t[n]?N:O(t[n],e)}(e,t.methods),t.data?function(e){var t=e.$options.data;l(t=e._data="function"==typeof t?function(e,t){pe();try{return e.call(t,t)}catch(e){return Ve(e,t,"data()"),{}}finally{me()}}(t,e):t||{})||(t={});for(var n,r=Object.keys(t),o=e.$options.props,i=(e.$options.methods,r.length);i--;){var a=r[i];o&&w(o,a)||(void 0,36!==(n=(a+"").charCodeAt(0))&&95!==n&&gn(e,"_data",a))}Ee(t,!0)}(e):Ee(e._data={},!0),t.computed&&function(e,t){var n=e._computedWatchers=Object.create(null),r=oe();for(var o in t){var i=t[o],a="function"==typeof i?i:i.get;r||(n[o]=new mn(e,a||N,N,vn)),o in e||bn(e,o,i)}}(e,t.computed),t.watch&&t.watch!==te&&function(e,t){for(var n in t){var r=t[n];if(Array.isArray(r))for(var o=0;o<r.length;o++)xn(e,n,r[o]);else xn(e,n,r)}}(e,t.watch)}(t),function(e){var t=e.$options.provide;t&&(e._provided="function"==typeof t?t.call(e):t)}(t),tn(t,"created"),t.$options.el&&t.$mount(t.$options.el)}}(Sn),function(e){Object.defineProperty(e.prototype,"$data",{get:function(){return this._data}}),Object.defineProperty(e.prototype,"$props",{get:function(){return this._props}}),e.prototype.$set=_e,e.prototype.$delete=Ae,e.prototype.$watch=function(e,t,n){if(l(t))return xn(this,e,t,n);(n=n||{}).user=!0;var r=new mn(this,e,t,n);if(n.immediate)try{t.call(this,r.value)}catch(e){Ve(e,this,'callback for immediate watcher "'+r.expression+'"')}return function(){r.teardown()}}}(Sn),function(e){var t=/^hook:/;e.prototype.$on=function(e,n){var r=this;if(Array.isArray(e))for(var o=0,i=e.length;o<i;o++)r.$on(e[o],n);else(r._events[e]||(r._events[e]=[])).push(n),t.test(e)&&(r._hasHookEvent=!0);return r},e.prototype.$once=function(e,t){var n=this;function r(){n.$off(e,r),t.apply(n,arguments)}return r.fn=t,n.$on(e,r),n},e.prototype.$off=function(e,t){var n=this;if(!arguments.length)return n._events=Object.create(null),n;if(Array.isArray(e)){for(var r=0,o=e.length;r<o;r++)n.$off(e[r],t);return n}var i,a=n._events[e];if(!a)return n;if(!t)return n._events[e]=null,n;for(var u=a.length;u--;)if((i=a[u])===t||i.fn===t){a.splice(u,1);break}return n},e.prototype.$emit=function(e){var t=this._events[e];if(t){t=t.length>1?_(t):t;for(var n=_(arguments,1),r='event handler for "'+e+'"',o=0,i=t.length;o<i;o++)Ue(t[o],this,n,this,r)}return this}}(Sn),function(e){e.prototype._update=function(e,t){var n=this,r=n.$el,o=n._vnode,i=Qt(n);n._vnode=e,n.$el=o?n.__patch__(o,e):n.__patch__(n.$el,e,t,!1),i(),r&&(r.__vue__=null),n.$el&&(n.$el.__vue__=n),n.$vnode&&n.$parent&&n.$vnode===n.$parent._vnode&&(n.$parent.$el=n.$el)},e.prototype.$forceUpdate=function(){this._watcher&&this._watcher.update()},e.prototype.$destroy=function(){var e=this;if(!e._isBeingDestroyed){tn(e,"beforeDestroy"),e._isBeingDestroyed=!0;var t=e.$parent;!t||t._isBeingDestroyed||e.$options.abstract||b(t.$children,e),e._watcher&&e._watcher.teardown();for(var n=e._watchers.length;n--;)e._watchers[n].teardown();e._data.__ob__&&e._data.__ob__.vmCount--,e._isDestroyed=!0,e.__patch__(e._vnode,null),tn(e,"destroyed"),e.$off(),e.$el&&(e.$el.__vue__=null),e.$vnode&&(e.$vnode.parent=null)}}}(Sn),function(e){Nt(e.prototype),e.prototype.$nextTick=function(e){return tt(e,this)},e.prototype._render=function(){var e,t=this,n=t.$options,r=n.render,o=n._parentVnode;o&&(t.$scopedSlots=mt(o.data.scopedSlots,t.$slots,t.$scopedSlots)),t.$vnode=o;try{Ut=t,e=r.call(t._renderProxy,t.$createElement)}catch(n){Ve(n,t,"render"),e=t._vnode}finally{Ut=null}return Array.isArray(e)&&1===e.length&&(e=e[0]),e instanceof he||(e=ve()),e.parent=o,e}}(Sn);var An=[String,RegExp,Array],Dn={KeepAlive:{name:"keep-alive",abstract:!0,props:{include:An,exclude:An,max:[String,Number]},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var e in this.cache)_n(this.cache,e,this.keys)},mounted:function(){var e=this;this.$watch("include",(function(t){On(e,(function(e){return En(t,e)}))})),this.$watch("exclude",(function(t){On(e,(function(e){return!En(t,e)}))}))},render:function(){var e=this.$slots.default,t=Wt(e),n=t&&t.componentOptions;if(n){var r=Tn(n),o=this.include,i=this.exclude;if(o&&(!r||!En(o,r))||i&&r&&En(i,r))return t;var a=this.cache,u=this.keys,s=null==t.key?n.Ctor.cid+(n.tag?"::"+n.tag:""):t.key;a[s]?(t.componentInstance=a[s].componentInstance,b(u,s),u.push(s)):(a[s]=t,u.push(s),this.max&&u.length>parseInt(this.max)&&_n(a,u[0],u,this._vnode)),t.data.keepAlive=!0}return t||e&&e[0]}}};!function(e){var t={get:function(){return H}};Object.defineProperty(e,"config",t),e.util={warn:ce,extend:A,mergeOptions:Be,defineReactive:Oe},e.set=_e,e.delete=Ae,e.nextTick=tt,e.observable=function(e){return Ee(e),e},e.options=Object.create(null),L.forEach((function(t){e.options[t+"s"]=Object.create(null)})),e.options._base=e,A(e.options.components,Dn),function(e){e.use=function(e){var t=this._installedPlugins||(this._installedPlugins=[]);if(t.indexOf(e)>-1)return this;var n=_(arguments,1);return n.unshift(this),"function"==typeof e.install?e.install.apply(e,n):"function"==typeof e&&e.apply(null,n),t.push(e),this}}(e),function(e){e.mixin=function(e){return this.options=Be(this.options,e),this}}(e),function(e){e.cid=0;var t=1;e.extend=function(e){e=e||{};var n=this,r=n.cid,o=e._Ctor||(e._Ctor={});if(o[r])return o[r];var i=e.name||n.options.name,a=function(e){this._init(e)};return(a.prototype=Object.create(n.prototype)).constructor=a,a.cid=t++,a.options=Be(n.options,e),a.super=n,a.options.props&&function(e){var t=e.options.props;for(var n in t)gn(e.prototype,"_props",n)}(a),a.options.computed&&function(e){var t=e.options.computed;for(var n in t)bn(e.prototype,n,t[n])}(a),a.extend=n.extend,a.mixin=n.mixin,a.use=n.use,L.forEach((function(e){a[e]=n[e]})),i&&(a.options.components[i]=a),a.superOptions=n.options,a.extendOptions=e,a.sealedOptions=A({},a.options),o[r]=a,a}}(e),function(e){L.forEach((function(t){e[t]=function(e,n){return n?("component"===t&&l(n)&&(n.name=n.name||e,n=this.options._base.extend(n)),"directive"===t&&"function"==typeof n&&(n={bind:n,update:n}),this.options[t+"s"][e]=n,n):this.options[t+"s"][e]}}))}(e)}(Sn),Object.defineProperty(Sn.prototype,"$isServer",{get:oe}),Object.defineProperty(Sn.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(Sn,"FunctionalRenderContext",{value:Mt}),Sn.version="2.6.11";var Nn=h("style,class"),Mn=h("input,textarea,option,select,progress"),Rn=function(e,t,n){return"value"===n&&Mn(e)&&"button"!==t||"selected"===n&&"option"===e||"checked"===n&&"input"===e||"muted"===n&&"video"===e},zn=h("contenteditable,draggable,spellcheck"),In=h("events,caret,typing,plaintext-only"),Bn=function(e,t){return jn(t)||"false"===t?"false":"contenteditable"===e&&In(t)?t:"true"},Pn=h("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),Ln="http://www.w3.org/1999/xlink",Fn=function(e){return":"===e.charAt(5)&&"xlink"===e.slice(0,5)},Hn=function(e){return Fn(e)?e.slice(6,e.length):""},jn=function(e){return null==e||!1===e};function Vn(e,t){return{staticClass:Un(e.staticClass,t.staticClass),class:i(e.class)?[e.class,t.class]:t.class}}function Un(e,t){return e?t?e+" "+t:e:t||""}function $n(e){return Array.isArray(e)?function(e){for(var t,n="",r=0,o=e.length;r<o;r++)i(t=$n(e[r]))&&""!==t&&(n&&(n+=" "),n+=t);return n}(e):s(e)?function(e){var t="";for(var n in e)e[n]&&(t&&(t+=" "),t+=n);return t}(e):"string"==typeof e?e:""}var qn={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},Wn=h("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),Yn=h("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),Xn=function(e){return Wn(e)||Yn(e)};function Gn(e){return Yn(e)?"svg":"math"===e?"math":void 0}var Kn=Object.create(null),Jn=h("text,number,password,search,email,tel,url");function Qn(e){return"string"==typeof e?document.querySelector(e)||document.createElement("div"):e}var Zn=Object.freeze({createElement:function(e,t){var n=document.createElement(e);return"select"!==e?n:(t.data&&t.data.attrs&&void 0!==t.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n)},createElementNS:function(e,t){return document.createElementNS(qn[e],t)},createTextNode:function(e){return document.createTextNode(e)},createComment:function(e){return document.createComment(e)},insertBefore:function(e,t,n){e.insertBefore(t,n)},removeChild:function(e,t){e.removeChild(t)},appendChild:function(e,t){e.appendChild(t)},parentNode:function(e){return e.parentNode},nextSibling:function(e){return e.nextSibling},tagName:function(e){return e.tagName},setTextContent:function(e,t){e.textContent=t},setStyleScope:function(e,t){e.setAttribute(t,"")}}),er={create:function(e,t){tr(t)},update:function(e,t){e.data.ref!==t.data.ref&&(tr(e,!0),tr(t))},destroy:function(e){tr(e,!0)}};function tr(e,t){var n=e.data.ref;if(i(n)){var r=e.context,o=e.componentInstance||e.elm,a=r.$refs;t?Array.isArray(a[n])?b(a[n],o):a[n]===o&&(a[n]=void 0):e.data.refInFor?Array.isArray(a[n])?a[n].indexOf(o)<0&&a[n].push(o):a[n]=[o]:a[n]=o}}var nr=new he("",{},[]),rr=["create","activate","update","remove","destroy"];function or(e,t){return e.key===t.key&&(e.tag===t.tag&&e.isComment===t.isComment&&i(e.data)===i(t.data)&&function(e,t){if("input"!==e.tag)return!0;var n,r=i(n=e.data)&&i(n=n.attrs)&&n.type,o=i(n=t.data)&&i(n=n.attrs)&&n.type;return r===o||Jn(r)&&Jn(o)}(e,t)||a(e.isAsyncPlaceholder)&&e.asyncFactory===t.asyncFactory&&o(t.asyncFactory.error))}function ir(e,t,n){var r,o,a={};for(r=t;r<=n;++r)i(o=e[r].key)&&(a[o]=r);return a}var ar={create:ur,update:ur,destroy:function(e){ur(e,nr)}};function ur(e,t){(e.data.directives||t.data.directives)&&function(e,t){var n,r,o,i=e===nr,a=t===nr,u=cr(e.data.directives,e.context),s=cr(t.data.directives,t.context),c=[],l=[];for(n in s)r=u[n],o=s[n],r?(o.oldValue=r.value,o.oldArg=r.arg,fr(o,"update",t,e),o.def&&o.def.componentUpdated&&l.push(o)):(fr(o,"bind",t,e),o.def&&o.def.inserted&&c.push(o));if(c.length){var f=function(){for(var n=0;n<c.length;n++)fr(c[n],"inserted",t,e)};i?ut(t,"insert",f):f()}if(l.length&&ut(t,"postpatch",(function(){for(var n=0;n<l.length;n++)fr(l[n],"componentUpdated",t,e)})),!i)for(n in u)s[n]||fr(u[n],"unbind",e,e,a)}(e,t)}var sr=Object.create(null);function cr(e,t){var n,r,o=Object.create(null);if(!e)return o;for(n=0;n<e.length;n++)(r=e[n]).modifiers||(r.modifiers=sr),o[lr(r)]=r,r.def=Pe(t.$options,"directives",r.name);return o}function lr(e){return e.rawName||e.name+"."+Object.keys(e.modifiers||{}).join(".")}function fr(e,t,n,r,o){var i=e.def&&e.def[t];if(i)try{i(n.elm,e,n,r,o)}catch(r){Ve(r,n.context,"directive "+e.name+" "+t+" hook")}}var dr=[er,ar];function pr(e,t){var n=t.componentOptions;if(!(i(n)&&!1===n.Ctor.options.inheritAttrs||o(e.data.attrs)&&o(t.data.attrs))){var r,a,u=t.elm,s=e.data.attrs||{},c=t.data.attrs||{};for(r in i(c.__ob__)&&(c=t.data.attrs=A({},c)),c)a=c[r],s[r]!==a&&mr(u,r,a);for(r in(K||Q)&&c.value!==s.value&&mr(u,"value",c.value),s)o(c[r])&&(Fn(r)?u.removeAttributeNS(Ln,Hn(r)):zn(r)||u.removeAttribute(r))}}function mr(e,t,n){e.tagName.indexOf("-")>-1?hr(e,t,n):Pn(t)?jn(n)?e.removeAttribute(t):(n="allowfullscreen"===t&&"EMBED"===e.tagName?"true":t,e.setAttribute(t,n)):zn(t)?e.setAttribute(t,Bn(t,n)):Fn(t)?jn(n)?e.removeAttributeNS(Ln,Hn(t)):e.setAttributeNS(Ln,t,n):hr(e,t,n)}function hr(e,t,n){if(jn(n))e.removeAttribute(t);else{if(K&&!J&&"TEXTAREA"===e.tagName&&"placeholder"===t&&""!==n&&!e.__ieph){var r=function(t){t.stopImmediatePropagation(),e.removeEventListener("input",r)};e.addEventListener("input",r),e.__ieph=!0}e.setAttribute(t,n)}}var gr={create:pr,update:pr};function vr(e,t){var n=t.elm,r=t.data,a=e.data;if(!(o(r.staticClass)&&o(r.class)&&(o(a)||o(a.staticClass)&&o(a.class)))){var u=function(e){for(var t=e.data,n=e,r=e;i(r.componentInstance);)(r=r.componentInstance._vnode)&&r.data&&(t=Vn(r.data,t));for(;i(n=n.parent);)n&&n.data&&(t=Vn(t,n.data));return function(e,t){return i(e)||i(t)?Un(e,$n(t)):""}(t.staticClass,t.class)}(t),s=n._transitionClasses;i(s)&&(u=Un(u,$n(s))),u!==n._prevClass&&(n.setAttribute("class",u),n._prevClass=u)}}var br,yr,wr,xr,Cr,kr,Sr={create:vr,update:vr},Tr=/[\w).+\-_$\]]/;function Er(e){var t,n,r,o,i,a=!1,u=!1,s=!1,c=!1,l=0,f=0,d=0,p=0;for(r=0;r<e.length;r++)if(n=t,t=e.charCodeAt(r),a)39===t&&92!==n&&(a=!1);else if(u)34===t&&92!==n&&(u=!1);else if(s)96===t&&92!==n&&(s=!1);else if(c)47===t&&92!==n&&(c=!1);else if(124!==t||124===e.charCodeAt(r+1)||124===e.charCodeAt(r-1)||l||f||d){switch(t){case 34:u=!0;break;case 39:a=!0;break;case 96:s=!0;break;case 40:d++;break;case 41:d--;break;case 91:f++;break;case 93:f--;break;case 123:l++;break;case 125:l--}if(47===t){for(var m=r-1,h=void 0;m>=0&&" "===(h=e.charAt(m));m--);h&&Tr.test(h)||(c=!0)}}else void 0===o?(p=r+1,o=e.slice(0,r).trim()):g();function g(){(i||(i=[])).push(e.slice(p,r).trim()),p=r+1}if(void 0===o?o=e.slice(0,r).trim():0!==p&&g(),i)for(r=0;r<i.length;r++)o=Or(o,i[r]);return o}function Or(e,t){var n=t.indexOf("(");if(n<0)return'_f("'+t+'")('+e+")";var r=t.slice(0,n),o=t.slice(n+1);return'_f("'+r+'")('+e+(")"!==o?","+o:o)}function _r(e,t){console.error("[Vue compiler]: "+e)}function Ar(e,t){return e?e.map((function(e){return e[t]})).filter((function(e){return e})):[]}function Dr(e,t,n,r,o){(e.props||(e.props=[])).push(Fr({name:t,value:n,dynamic:o},r)),e.plain=!1}function Nr(e,t,n,r,o){(o?e.dynamicAttrs||(e.dynamicAttrs=[]):e.attrs||(e.attrs=[])).push(Fr({name:t,value:n,dynamic:o},r)),e.plain=!1}function Mr(e,t,n,r){e.attrsMap[t]=n,e.attrsList.push(Fr({name:t,value:n},r))}function Rr(e,t,n,r,o,i,a,u){(e.directives||(e.directives=[])).push(Fr({name:t,rawName:n,value:r,arg:o,isDynamicArg:i,modifiers:a},u)),e.plain=!1}function zr(e,t,n){return n?"_p("+t+',"'+e+'")':e+t}function Ir(e,t,n,o,i,a,u,s){var c;(o=o||r).right?s?t="("+t+")==='click'?'contextmenu':("+t+")":"click"===t&&(t="contextmenu",delete o.right):o.middle&&(s?t="("+t+")==='click'?'mouseup':("+t+")":"click"===t&&(t="mouseup")),o.capture&&(delete o.capture,t=zr("!",t,s)),o.once&&(delete o.once,t=zr("~",t,s)),o.passive&&(delete o.passive,t=zr("&",t,s)),o.native?(delete o.native,c=e.nativeEvents||(e.nativeEvents={})):c=e.events||(e.events={});var l=Fr({value:n.trim(),dynamic:s},u);o!==r&&(l.modifiers=o);var f=c[t];Array.isArray(f)?i?f.unshift(l):f.push(l):c[t]=f?i?[l,f]:[f,l]:l,e.plain=!1}function Br(e,t,n){var r=Pr(e,":"+t)||Pr(e,"v-bind:"+t);if(null!=r)return Er(r);if(!1!==n){var o=Pr(e,t);if(null!=o)return JSON.stringify(o)}}function Pr(e,t,n){var r;if(null!=(r=e.attrsMap[t]))for(var o=e.attrsList,i=0,a=o.length;i<a;i++)if(o[i].name===t){o.splice(i,1);break}return n&&delete e.attrsMap[t],r}function Lr(e,t){for(var n=e.attrsList,r=0,o=n.length;r<o;r++){var i=n[r];if(t.test(i.name))return n.splice(r,1),i}}function Fr(e,t){return t&&(null!=t.start&&(e.start=t.start),null!=t.end&&(e.end=t.end)),e}function Hr(e,t,n){var r=n||{},o=r.number,i="$$v";r.trim&&(i="(typeof $$v === 'string'? $$v.trim(): $$v)"),o&&(i="_n("+i+")");var a=jr(t,i);e.model={value:"("+t+")",expression:JSON.stringify(t),callback:"function ($$v) {"+a+"}"}}function jr(e,t){var n=function(e){if(e=e.trim(),br=e.length,e.indexOf("[")<0||e.lastIndexOf("]")<br-1)return(xr=e.lastIndexOf("."))>-1?{exp:e.slice(0,xr),key:'"'+e.slice(xr+1)+'"'}:{exp:e,key:null};for(yr=e,xr=Cr=kr=0;!Ur();)$r(wr=Vr())?Wr(wr):91===wr&&qr(wr);return{exp:e.slice(0,Cr),key:e.slice(Cr+1,kr)}}(e);return null===n.key?e+"="+t:"$set("+n.exp+", "+n.key+", "+t+")"}function Vr(){return yr.charCodeAt(++xr)}function Ur(){return xr>=br}function $r(e){return 34===e||39===e}function qr(e){var t=1;for(Cr=xr;!Ur();)if($r(e=Vr()))Wr(e);else if(91===e&&t++,93===e&&t--,0===t){kr=xr;break}}function Wr(e){for(var t=e;!Ur()&&(e=Vr())!==t;);}var Yr,Xr="__r",Gr="__c";function Kr(e,t,n){var r=Yr;return function o(){null!==t.apply(null,arguments)&&Zr(e,o,n,r)}}var Jr=Ye&&!(ee&&Number(ee[1])<=53);function Qr(e,t,n,r){if(Jr){var o=cn,i=t;t=i._wrapper=function(e){if(e.target===e.currentTarget||e.timeStamp>=o||e.timeStamp<=0||e.target.ownerDocument!==document)return i.apply(this,arguments)}}Yr.addEventListener(e,t,ne?{capture:n,passive:r}:n)}function Zr(e,t,n,r){(r||Yr).removeEventListener(e,t._wrapper||t,n)}function eo(e,t){if(!o(e.data.on)||!o(t.data.on)){var n=t.data.on||{},r=e.data.on||{};Yr=t.elm,function(e){if(i(e[Xr])){var t=K?"change":"input";e[t]=[].concat(e[Xr],e[t]||[]),delete e[Xr]}i(e[Gr])&&(e.change=[].concat(e[Gr],e.change||[]),delete e[Gr])}(n),at(n,r,Qr,Zr,Kr,t.context),Yr=void 0}}var to,no={create:eo,update:eo};function ro(e,t){if(!o(e.data.domProps)||!o(t.data.domProps)){var n,r,a=t.elm,u=e.data.domProps||{},s=t.data.domProps||{};for(n in i(s.__ob__)&&(s=t.data.domProps=A({},s)),u)n in s||(a[n]="");for(n in s){if(r=s[n],"textContent"===n||"innerHTML"===n){if(t.children&&(t.children.length=0),r===u[n])continue;1===a.childNodes.length&&a.removeChild(a.childNodes[0])}if("value"===n&&"PROGRESS"!==a.tagName){a._value=r;var c=o(r)?"":String(r);oo(a,c)&&(a.value=c)}else if("innerHTML"===n&&Yn(a.tagName)&&o(a.innerHTML)){(to=to||document.createElement("div")).innerHTML="<svg>"+r+"</svg>";for(var l=to.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;l.firstChild;)a.appendChild(l.firstChild)}else if(r!==u[n])try{a[n]=r}catch(e){}}}}function oo(e,t){return!e.composing&&("OPTION"===e.tagName||function(e,t){var n=!0;try{n=document.activeElement!==e}catch(e){}return n&&e.value!==t}(e,t)||function(e,t){var n=e.value,r=e._vModifiers;if(i(r)){if(r.number)return m(n)!==m(t);if(r.trim)return n.trim()!==t.trim()}return n!==t}(e,t))}var io={create:ro,update:ro},ao=x((function(e){var t={},n=/:(.+)/;return e.split(/;(?![^(]*\))/g).forEach((function(e){if(e){var r=e.split(n);r.length>1&&(t[r[0].trim()]=r[1].trim())}})),t}));function uo(e){var t=so(e.style);return e.staticStyle?A(e.staticStyle,t):t}function so(e){return Array.isArray(e)?D(e):"string"==typeof e?ao(e):e}var co,lo=/^--/,fo=/\s*!important$/,po=function(e,t,n){if(lo.test(t))e.style.setProperty(t,n);else if(fo.test(n))e.style.setProperty(E(t),n.replace(fo,""),"important");else{var r=ho(t);if(Array.isArray(n))for(var o=0,i=n.length;o<i;o++)e.style[r]=n[o];else e.style[r]=n}},mo=["Webkit","Moz","ms"],ho=x((function(e){if(co=co||document.createElement("div").style,"filter"!==(e=k(e))&&e in co)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),n=0;n<mo.length;n++){var r=mo[n]+t;if(r in co)return r}}));function go(e,t){var n=t.data,r=e.data;if(!(o(n.staticStyle)&&o(n.style)&&o(r.staticStyle)&&o(r.style))){var a,u,s=t.elm,c=r.staticStyle,l=r.normalizedStyle||r.style||{},f=c||l,d=so(t.data.style)||{};t.data.normalizedStyle=i(d.__ob__)?A({},d):d;var p=function(e,t){for(var n,r={},o=e;o.componentInstance;)(o=o.componentInstance._vnode)&&o.data&&(n=uo(o.data))&&A(r,n);(n=uo(e.data))&&A(r,n);for(var i=e;i=i.parent;)i.data&&(n=uo(i.data))&&A(r,n);return r}(t);for(u in f)o(p[u])&&po(s,u,"");for(u in p)(a=p[u])!==f[u]&&po(s,u,null==a?"":a)}}var vo={create:go,update:go},bo=/\s+/;function yo(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(bo).forEach((function(t){return e.classList.add(t)})):e.classList.add(t);else{var n=" "+(e.getAttribute("class")||"")+" ";n.indexOf(" "+t+" ")<0&&e.setAttribute("class",(n+t).trim())}}function wo(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(bo).forEach((function(t){return e.classList.remove(t)})):e.classList.remove(t),e.classList.length||e.removeAttribute("class");else{for(var n=" "+(e.getAttribute("class")||"")+" ",r=" "+t+" ";n.indexOf(r)>=0;)n=n.replace(r," ");(n=n.trim())?e.setAttribute("class",n):e.removeAttribute("class")}}function xo(e){if(e){if("object"==typeof e){var t={};return!1!==e.css&&A(t,Co(e.name||"v")),A(t,e),t}return"string"==typeof e?Co(e):void 0}}var Co=x((function(e){return{enterClass:e+"-enter",enterToClass:e+"-enter-to",enterActiveClass:e+"-enter-active",leaveClass:e+"-leave",leaveToClass:e+"-leave-to",leaveActiveClass:e+"-leave-active"}})),ko=W&&!J,So="transition",To="animation",Eo="transition",Oo="transitionend",_o="animation",Ao="animationend";ko&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(Eo="WebkitTransition",Oo="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(_o="WebkitAnimation",Ao="webkitAnimationEnd"));var Do=W?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(e){return e()};function No(e){Do((function(){Do(e)}))}function Mo(e,t){var n=e._transitionClasses||(e._transitionClasses=[]);n.indexOf(t)<0&&(n.push(t),yo(e,t))}function Ro(e,t){e._transitionClasses&&b(e._transitionClasses,t),wo(e,t)}function zo(e,t,n){var r=Bo(e,t),o=r.type,i=r.timeout,a=r.propCount;if(!o)return n();var u=o===So?Oo:Ao,s=0,c=function(){e.removeEventListener(u,l),n()},l=function(t){t.target===e&&++s>=a&&c()};setTimeout((function(){s<a&&c()}),i+1),e.addEventListener(u,l)}var Io=/\b(transform|all)(,|$)/;function Bo(e,t){var n,r=window.getComputedStyle(e),o=(r[Eo+"Delay"]||"").split(", "),i=(r[Eo+"Duration"]||"").split(", "),a=Po(o,i),u=(r[_o+"Delay"]||"").split(", "),s=(r[_o+"Duration"]||"").split(", "),c=Po(u,s),l=0,f=0;return t===So?a>0&&(n=So,l=a,f=i.length):t===To?c>0&&(n=To,l=c,f=s.length):f=(n=(l=Math.max(a,c))>0?a>c?So:To:null)?n===So?i.length:s.length:0,{type:n,timeout:l,propCount:f,hasTransform:n===So&&Io.test(r[Eo+"Property"])}}function Po(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max.apply(null,t.map((function(t,n){return Lo(t)+Lo(e[n])})))}function Lo(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function Fo(e,t){var n=e.elm;i(n._leaveCb)&&(n._leaveCb.cancelled=!0,n._leaveCb());var r=xo(e.data.transition);if(!o(r)&&!i(n._enterCb)&&1===n.nodeType){for(var a=r.css,u=r.type,c=r.enterClass,l=r.enterToClass,f=r.enterActiveClass,d=r.appearClass,p=r.appearToClass,h=r.appearActiveClass,g=r.beforeEnter,v=r.enter,b=r.afterEnter,y=r.enterCancelled,w=r.beforeAppear,x=r.appear,C=r.afterAppear,k=r.appearCancelled,S=r.duration,T=Jt,E=Jt.$vnode;E&&E.parent;)T=E.context,E=E.parent;var O=!T._isMounted||!e.isRootInsert;if(!O||x||""===x){var _=O&&d?d:c,A=O&&h?h:f,D=O&&p?p:l,N=O&&w||g,M=O&&"function"==typeof x?x:v,R=O&&C||b,z=O&&k||y,I=m(s(S)?S.enter:S),P=!1!==a&&!J,L=Vo(M),F=n._enterCb=B((function(){P&&(Ro(n,D),Ro(n,A)),F.cancelled?(P&&Ro(n,_),z&&z(n)):R&&R(n),n._enterCb=null}));e.data.show||ut(e,"insert",(function(){var t=n.parentNode,r=t&&t._pending&&t._pending[e.key];r&&r.tag===e.tag&&r.elm._leaveCb&&r.elm._leaveCb(),M&&M(n,F)})),N&&N(n),P&&(Mo(n,_),Mo(n,A),No((function(){Ro(n,_),F.cancelled||(Mo(n,D),L||(jo(I)?setTimeout(F,I):zo(n,u,F)))}))),e.data.show&&(t&&t(),M&&M(n,F)),P||L||F()}}}function Ho(e,t){var n=e.elm;i(n._enterCb)&&(n._enterCb.cancelled=!0,n._enterCb());var r=xo(e.data.transition);if(o(r)||1!==n.nodeType)return t();if(!i(n._leaveCb)){var a=r.css,u=r.type,c=r.leaveClass,l=r.leaveToClass,f=r.leaveActiveClass,d=r.beforeLeave,p=r.leave,h=r.afterLeave,g=r.leaveCancelled,v=r.delayLeave,b=r.duration,y=!1!==a&&!J,w=Vo(p),x=m(s(b)?b.leave:b),C=n._leaveCb=B((function(){n.parentNode&&n.parentNode._pending&&(n.parentNode._pending[e.key]=null),y&&(Ro(n,l),Ro(n,f)),C.cancelled?(y&&Ro(n,c),g&&g(n)):(t(),h&&h(n)),n._leaveCb=null}));v?v(k):k()}function k(){C.cancelled||(!e.data.show&&n.parentNode&&((n.parentNode._pending||(n.parentNode._pending={}))[e.key]=e),d&&d(n),y&&(Mo(n,c),Mo(n,f),No((function(){Ro(n,c),C.cancelled||(Mo(n,l),w||(jo(x)?setTimeout(C,x):zo(n,u,C)))}))),p&&p(n,C),y||w||C())}}function jo(e){return"number"==typeof e&&!isNaN(e)}function Vo(e){if(o(e))return!1;var t=e.fns;return i(t)?Vo(Array.isArray(t)?t[0]:t):(e._length||e.length)>1}function Uo(e,t){!0!==t.data.show&&Fo(t)}var $o=function(e){var t,n,r={},s=e.modules,c=e.nodeOps;for(t=0;t<rr.length;++t)for(r[rr[t]]=[],n=0;n<s.length;++n)i(s[n][rr[t]])&&r[rr[t]].push(s[n][rr[t]]);function l(e){var t=c.parentNode(e);i(t)&&c.removeChild(t,e)}function f(e,t,n,o,u,s,l){if(i(e.elm)&&i(s)&&(e=s[l]=ye(e)),e.isRootInsert=!u,!function(e,t,n,o){var u=e.data;if(i(u)){var s=i(e.componentInstance)&&u.keepAlive;if(i(u=u.hook)&&i(u=u.init)&&u(e,!1),i(e.componentInstance))return d(e,t),p(n,e.elm,o),a(s)&&function(e,t,n,o){for(var a,u=e;u.componentInstance;)if(i(a=(u=u.componentInstance._vnode).data)&&i(a=a.transition)){for(a=0;a<r.activate.length;++a)r.activate[a](nr,u);t.push(u);break}p(n,e.elm,o)}(e,t,n,o),!0}}(e,t,n,o)){var f=e.data,h=e.children,g=e.tag;i(g)?(e.elm=e.ns?c.createElementNS(e.ns,g):c.createElement(g,e),b(e),m(e,h,t),i(f)&&v(e,t),p(n,e.elm,o)):a(e.isComment)?(e.elm=c.createComment(e.text),p(n,e.elm,o)):(e.elm=c.createTextNode(e.text),p(n,e.elm,o))}}function d(e,t){i(e.data.pendingInsert)&&(t.push.apply(t,e.data.pendingInsert),e.data.pendingInsert=null),e.elm=e.componentInstance.$el,g(e)?(v(e,t),b(e)):(tr(e),t.push(e))}function p(e,t,n){i(e)&&(i(n)?c.parentNode(n)===e&&c.insertBefore(e,t,n):c.appendChild(e,t))}function m(e,t,n){if(Array.isArray(t))for(var r=0;r<t.length;++r)f(t[r],n,e.elm,null,!0,t,r);else u(e.text)&&c.appendChild(e.elm,c.createTextNode(String(e.text)))}function g(e){for(;e.componentInstance;)e=e.componentInstance._vnode;return i(e.tag)}function v(e,n){for(var o=0;o<r.create.length;++o)r.create[o](nr,e);i(t=e.data.hook)&&(i(t.create)&&t.create(nr,e),i(t.insert)&&n.push(e))}function b(e){var t;if(i(t=e.fnScopeId))c.setStyleScope(e.elm,t);else for(var n=e;n;)i(t=n.context)&&i(t=t.$options._scopeId)&&c.setStyleScope(e.elm,t),n=n.parent;i(t=Jt)&&t!==e.context&&t!==e.fnContext&&i(t=t.$options._scopeId)&&c.setStyleScope(e.elm,t)}function y(e,t,n,r,o,i){for(;r<=o;++r)f(n[r],i,e,t,!1,n,r)}function w(e){var t,n,o=e.data;if(i(o))for(i(t=o.hook)&&i(t=t.destroy)&&t(e),t=0;t<r.destroy.length;++t)r.destroy[t](e);if(i(t=e.children))for(n=0;n<e.children.length;++n)w(e.children[n])}function x(e,t,n){for(;t<=n;++t){var r=e[t];i(r)&&(i(r.tag)?(C(r),w(r)):l(r.elm))}}function C(e,t){if(i(t)||i(e.data)){var n,o=r.remove.length+1;for(i(t)?t.listeners+=o:t=function(e,t){function n(){0==--n.listeners&&l(e)}return n.listeners=t,n}(e.elm,o),i(n=e.componentInstance)&&i(n=n._vnode)&&i(n.data)&&C(n,t),n=0;n<r.remove.length;++n)r.remove[n](e,t);i(n=e.data.hook)&&i(n=n.remove)?n(e,t):t()}else l(e.elm)}function k(e,t,n,r){for(var o=n;o<r;o++){var a=t[o];if(i(a)&&or(e,a))return o}}function S(e,t,n,u,s,l){if(e!==t){i(t.elm)&&i(u)&&(t=u[s]=ye(t));var d=t.elm=e.elm;if(a(e.isAsyncPlaceholder))i(t.asyncFactory.resolved)?O(e.elm,t,n):t.isAsyncPlaceholder=!0;else if(a(t.isStatic)&&a(e.isStatic)&&t.key===e.key&&(a(t.isCloned)||a(t.isOnce)))t.componentInstance=e.componentInstance;else{var p,m=t.data;i(m)&&i(p=m.hook)&&i(p=p.prepatch)&&p(e,t);var h=e.children,v=t.children;if(i(m)&&g(t)){for(p=0;p<r.update.length;++p)r.update[p](e,t);i(p=m.hook)&&i(p=p.update)&&p(e,t)}o(t.text)?i(h)&&i(v)?h!==v&&function(e,t,n,r,a){for(var u,s,l,d=0,p=0,m=t.length-1,h=t[0],g=t[m],v=n.length-1,b=n[0],w=n[v],C=!a;d<=m&&p<=v;)o(h)?h=t[++d]:o(g)?g=t[--m]:or(h,b)?(S(h,b,r,n,p),h=t[++d],b=n[++p]):or(g,w)?(S(g,w,r,n,v),g=t[--m],w=n[--v]):or(h,w)?(S(h,w,r,n,v),C&&c.insertBefore(e,h.elm,c.nextSibling(g.elm)),h=t[++d],w=n[--v]):or(g,b)?(S(g,b,r,n,p),C&&c.insertBefore(e,g.elm,h.elm),g=t[--m],b=n[++p]):(o(u)&&(u=ir(t,d,m)),o(s=i(b.key)?u[b.key]:k(b,t,d,m))?f(b,r,e,h.elm,!1,n,p):or(l=t[s],b)?(S(l,b,r,n,p),t[s]=void 0,C&&c.insertBefore(e,l.elm,h.elm)):f(b,r,e,h.elm,!1,n,p),b=n[++p]);d>m?y(e,o(n[v+1])?null:n[v+1].elm,n,p,v,r):p>v&&x(t,d,m)}(d,h,v,n,l):i(v)?(i(e.text)&&c.setTextContent(d,""),y(d,null,v,0,v.length-1,n)):i(h)?x(h,0,h.length-1):i(e.text)&&c.setTextContent(d,""):e.text!==t.text&&c.setTextContent(d,t.text),i(m)&&i(p=m.hook)&&i(p=p.postpatch)&&p(e,t)}}}function T(e,t,n){if(a(n)&&i(e.parent))e.parent.data.pendingInsert=t;else for(var r=0;r<t.length;++r)t[r].data.hook.insert(t[r])}var E=h("attrs,class,staticClass,staticStyle,key");function O(e,t,n,r){var o,u=t.tag,s=t.data,c=t.children;if(r=r||s&&s.pre,t.elm=e,a(t.isComment)&&i(t.asyncFactory))return t.isAsyncPlaceholder=!0,!0;if(i(s)&&(i(o=s.hook)&&i(o=o.init)&&o(t,!0),i(o=t.componentInstance)))return d(t,n),!0;if(i(u)){if(i(c))if(e.hasChildNodes())if(i(o=s)&&i(o=o.domProps)&&i(o=o.innerHTML)){if(o!==e.innerHTML)return!1}else{for(var l=!0,f=e.firstChild,p=0;p<c.length;p++){if(!f||!O(f,c[p],n,r)){l=!1;break}f=f.nextSibling}if(!l||f)return!1}else m(t,c,n);if(i(s)){var h=!1;for(var g in s)if(!E(g)){h=!0,v(t,n);break}!h&&s.class&&rt(s.class)}}else e.data!==t.text&&(e.data=t.text);return!0}return function(e,t,n,u){if(!o(t)){var s,l=!1,d=[];if(o(e))l=!0,f(t,d);else{var p=i(e.nodeType);if(!p&&or(e,t))S(e,t,d,null,null,u);else{if(p){if(1===e.nodeType&&e.hasAttribute(P)&&(e.removeAttribute(P),n=!0),a(n)&&O(e,t,d))return T(t,d,!0),e;s=e,e=new he(c.tagName(s).toLowerCase(),{},[],void 0,s)}var m=e.elm,h=c.parentNode(m);if(f(t,d,m._leaveCb?null:h,c.nextSibling(m)),i(t.parent))for(var v=t.parent,b=g(t);v;){for(var y=0;y<r.destroy.length;++y)r.destroy[y](v);if(v.elm=t.elm,b){for(var C=0;C<r.create.length;++C)r.create[C](nr,v);var k=v.data.hook.insert;if(k.merged)for(var E=1;E<k.fns.length;E++)k.fns[E]()}else tr(v);v=v.parent}i(h)?x([e],0,0):i(e.tag)&&w(e)}}return T(t,d,l),t.elm}i(e)&&w(e)}}({nodeOps:Zn,modules:[gr,Sr,no,io,vo,W?{create:Uo,activate:Uo,remove:function(e,t){!0!==e.data.show?Ho(e,t):t()}}:{}].concat(dr)});J&&document.addEventListener("selectionchange",(function(){var e=document.activeElement;e&&e.vmodel&&Qo(e,"input")}));var qo={inserted:function(e,t,n,r){"select"===n.tag?(r.elm&&!r.elm._vOptions?ut(n,"postpatch",(function(){qo.componentUpdated(e,t,n)})):Wo(e,t,n.context),e._vOptions=[].map.call(e.options,Go)):("textarea"===n.tag||Jn(e.type))&&(e._vModifiers=t.modifiers,t.modifiers.lazy||(e.addEventListener("compositionstart",Ko),e.addEventListener("compositionend",Jo),e.addEventListener("change",Jo),J&&(e.vmodel=!0)))},componentUpdated:function(e,t,n){if("select"===n.tag){Wo(e,t,n.context);var r=e._vOptions,o=e._vOptions=[].map.call(e.options,Go);o.some((function(e,t){return!z(e,r[t])}))&&(e.multiple?t.value.some((function(e){return Xo(e,o)})):t.value!==t.oldValue&&Xo(t.value,o))&&Qo(e,"change")}}};function Wo(e,t,n){Yo(e,t,n),(K||Q)&&setTimeout((function(){Yo(e,t,n)}),0)}function Yo(e,t,n){var r=t.value,o=e.multiple;if(!o||Array.isArray(r)){for(var i,a,u=0,s=e.options.length;u<s;u++)if(a=e.options[u],o)i=I(r,Go(a))>-1,a.selected!==i&&(a.selected=i);else if(z(Go(a),r))return void(e.selectedIndex!==u&&(e.selectedIndex=u));o||(e.selectedIndex=-1)}}function Xo(e,t){return t.every((function(t){return!z(t,e)}))}function Go(e){return"_value"in e?e._value:e.value}function Ko(e){e.target.composing=!0}function Jo(e){e.target.composing&&(e.target.composing=!1,Qo(e.target,"input"))}function Qo(e,t){var n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!0),e.dispatchEvent(n)}function Zo(e){return!e.componentInstance||e.data&&e.data.transition?e:Zo(e.componentInstance._vnode)}var ei={model:qo,show:{bind:function(e,t,n){var r=t.value,o=(n=Zo(n)).data&&n.data.transition,i=e.__vOriginalDisplay="none"===e.style.display?"":e.style.display;r&&o?(n.data.show=!0,Fo(n,(function(){e.style.display=i}))):e.style.display=r?i:"none"},update:function(e,t,n){var r=t.value;!r!=!t.oldValue&&((n=Zo(n)).data&&n.data.transition?(n.data.show=!0,r?Fo(n,(function(){e.style.display=e.__vOriginalDisplay})):Ho(n,(function(){e.style.display="none"}))):e.style.display=r?e.__vOriginalDisplay:"none")},unbind:function(e,t,n,r,o){o||(e.style.display=e.__vOriginalDisplay)}}},ti={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function ni(e){var t=e&&e.componentOptions;return t&&t.Ctor.options.abstract?ni(Wt(t.children)):e}function ri(e){var t={},n=e.$options;for(var r in n.propsData)t[r]=e[r];var o=n._parentListeners;for(var i in o)t[k(i)]=o[i];return t}function oi(e,t){if(/\d-keep-alive$/.test(t.tag))return e("keep-alive",{props:t.componentOptions.propsData})}var ii=function(e){return e.tag||qt(e)},ai=function(e){return"show"===e.name},ui={name:"transition",props:ti,abstract:!0,render:function(e){var t=this,n=this.$slots.default;if(n&&(n=n.filter(ii)).length){var r=this.mode,o=n[0];if(function(e){for(;e=e.parent;)if(e.data.transition)return!0}(this.$vnode))return o;var i=ni(o);if(!i)return o;if(this._leaving)return oi(e,o);var a="__transition-"+this._uid+"-";i.key=null==i.key?i.isComment?a+"comment":a+i.tag:u(i.key)?0===String(i.key).indexOf(a)?i.key:a+i.key:i.key;var s=(i.data||(i.data={})).transition=ri(this),c=this._vnode,l=ni(c);if(i.data.directives&&i.data.directives.some(ai)&&(i.data.show=!0),l&&l.data&&!function(e,t){return t.key===e.key&&t.tag===e.tag}(i,l)&&!qt(l)&&(!l.componentInstance||!l.componentInstance._vnode.isComment)){var f=l.data.transition=A({},s);if("out-in"===r)return this._leaving=!0,ut(f,"afterLeave",(function(){t._leaving=!1,t.$forceUpdate()})),oi(e,o);if("in-out"===r){if(qt(i))return c;var d,p=function(){d()};ut(s,"afterEnter",p),ut(s,"enterCancelled",p),ut(f,"delayLeave",(function(e){d=e}))}}return o}}},si=A({tag:String,moveClass:String},ti);function ci(e){e.elm._moveCb&&e.elm._moveCb(),e.elm._enterCb&&e.elm._enterCb()}function li(e){e.data.newPos=e.elm.getBoundingClientRect()}function fi(e){var t=e.data.pos,n=e.data.newPos,r=t.left-n.left,o=t.top-n.top;if(r||o){e.data.moved=!0;var i=e.elm.style;i.transform=i.WebkitTransform="translate("+r+"px,"+o+"px)",i.transitionDuration="0s"}}delete si.mode;var di={Transition:ui,TransitionGroup:{props:si,beforeMount:function(){var e=this,t=this._update;this._update=function(n,r){var o=Qt(e);e.__patch__(e._vnode,e.kept,!1,!0),e._vnode=e.kept,o(),t.call(e,n,r)}},render:function(e){for(var t=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),r=this.prevChildren=this.children,o=this.$slots.default||[],i=this.children=[],a=ri(this),u=0;u<o.length;u++){var s=o[u];s.tag&&null!=s.key&&0!==String(s.key).indexOf("__vlist")&&(i.push(s),n[s.key]=s,(s.data||(s.data={})).transition=a)}if(r){for(var c=[],l=[],f=0;f<r.length;f++){var d=r[f];d.data.transition=a,d.data.pos=d.elm.getBoundingClientRect(),n[d.key]?c.push(d):l.push(d)}this.kept=e(t,null,c),this.removed=l}return e(t,null,i)},updated:function(){var e=this.prevChildren,t=this.moveClass||(this.name||"v")+"-move";e.length&&this.hasMove(e[0].elm,t)&&(e.forEach(ci),e.forEach(li),e.forEach(fi),this._reflow=document.body.offsetHeight,e.forEach((function(e){if(e.data.moved){var n=e.elm,r=n.style;Mo(n,t),r.transform=r.WebkitTransform=r.transitionDuration="",n.addEventListener(Oo,n._moveCb=function e(r){r&&r.target!==n||r&&!/transform$/.test(r.propertyName)||(n.removeEventListener(Oo,e),n._moveCb=null,Ro(n,t))})}})))},methods:{hasMove:function(e,t){if(!ko)return!1;if(this._hasMove)return this._hasMove;var n=e.cloneNode();e._transitionClasses&&e._transitionClasses.forEach((function(e){wo(n,e)})),yo(n,t),n.style.display="none",this.$el.appendChild(n);var r=Bo(n);return this.$el.removeChild(n),this._hasMove=r.hasTransform}}}};Sn.config.mustUseProp=Rn,Sn.config.isReservedTag=Xn,Sn.config.isReservedAttr=Nn,Sn.config.getTagNamespace=Gn,Sn.config.isUnknownElement=function(e){if(!W)return!0;if(Xn(e))return!1;if(e=e.toLowerCase(),null!=Kn[e])return Kn[e];var t=document.createElement(e);return e.indexOf("-")>-1?Kn[e]=t.constructor===window.HTMLUnknownElement||t.constructor===window.HTMLElement:Kn[e]=/HTMLUnknownElement/.test(t.toString())},A(Sn.options.directives,ei),A(Sn.options.components,di),Sn.prototype.__patch__=W?$o:N,Sn.prototype.$mount=function(e,t){return function(e,t,n){var r;return e.$el=t,e.$options.render||(e.$options.render=ve),tn(e,"beforeMount"),r=function(){e._update(e._render(),n)},new mn(e,r,N,{before:function(){e._isMounted&&!e._isDestroyed&&tn(e,"beforeUpdate")}},!0),n=!1,null==e.$vnode&&(e._isMounted=!0,tn(e,"mounted")),e}(this,e=e&&W?Qn(e):void 0,t)},W&&setTimeout((function(){H.devtools&&ie&&ie.emit("init",Sn)}),0);var pi,mi=/\{\{((?:.|\r?\n)+?)\}\}/g,hi=/[-.*+?^${}()|[\]\/\\]/g,gi=x((function(e){var t=e[0].replace(hi,"\\$&"),n=e[1].replace(hi,"\\$&");return new RegExp(t+"((?:.|\\n)+?)"+n,"g")})),vi={staticKeys:["staticClass"],transformNode:function(e,t){t.warn;var n=Pr(e,"class");n&&(e.staticClass=JSON.stringify(n));var r=Br(e,"class",!1);r&&(e.classBinding=r)},genData:function(e){var t="";return e.staticClass&&(t+="staticClass:"+e.staticClass+","),e.classBinding&&(t+="class:"+e.classBinding+","),t}},bi={staticKeys:["staticStyle"],transformNode:function(e,t){t.warn;var n=Pr(e,"style");n&&(e.staticStyle=JSON.stringify(ao(n)));var r=Br(e,"style",!1);r&&(e.styleBinding=r)},genData:function(e){var t="";return e.staticStyle&&(t+="staticStyle:"+e.staticStyle+","),e.styleBinding&&(t+="style:("+e.styleBinding+"),"),t}},yi=h("area,base,br,col,embed,frame,hr,img,input,isindex,keygen,link,meta,param,source,track,wbr"),wi=h("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr,source"),xi=h("address,article,aside,base,blockquote,body,caption,col,colgroup,dd,details,dialog,div,dl,dt,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,head,header,hgroup,hr,html,legend,li,menuitem,meta,optgroup,option,param,rp,rt,source,style,summary,tbody,td,tfoot,th,thead,title,tr,track"),Ci=/^\s*([^\s"'<>\/=]+)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,ki=/^\s*((?:v-[\w-]+:|@|:|#)\[[^=]+\][^\s"'<>\/=]*)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,Si="[a-zA-Z_][\\-\\.0-9_a-zA-Z"+j.source+"]*",Ti="((?:"+Si+"\\:)?"+Si+")",Ei=new RegExp("^<"+Ti),Oi=/^\s*(\/?)>/,_i=new RegExp("^<\\/"+Ti+"[^>]*>"),Ai=/^<!DOCTYPE [^>]+>/i,Di=/^<!\--/,Ni=/^<!\[/,Mi=h("script,style,textarea",!0),Ri={},zi={"&lt;":"<","&gt;":">","&quot;":'"',"&amp;":"&","&#10;":"\n","&#9;":"\t","&#39;":"'"},Ii=/&(?:lt|gt|quot|amp|#39);/g,Bi=/&(?:lt|gt|quot|amp|#39|#10|#9);/g,Pi=h("pre,textarea",!0),Li=function(e,t){return e&&Pi(e)&&"\n"===t[0]};function Fi(e,t){var n=t?Bi:Ii;return e.replace(n,(function(e){return zi[e]}))}var Hi,ji,Vi,Ui,$i,qi,Wi,Yi,Xi=/^@|^v-on:/,Gi=/^v-|^@|^:|^#/,Ki=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,Ji=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,Qi=/^\(|\)$/g,Zi=/^\[.*\]$/,ea=/:(.*)$/,ta=/^:|^\.|^v-bind:/,na=/\.[^.\]]+(?=[^\]]*$)/g,ra=/^v-slot(:|$)|^#/,oa=/[\r\n]/,ia=/\s+/g,aa=x((function(e){return(pi=pi||document.createElement("div")).innerHTML=e,pi.textContent})),ua="_empty_";function sa(e,t,n){return{type:1,tag:e,attrsList:t,attrsMap:ma(t),rawAttrsMap:{},parent:n,children:[]}}function ca(e,t){var n,r;(r=Br(n=e,"key"))&&(n.key=r),e.plain=!e.key&&!e.scopedSlots&&!e.attrsList.length,function(e){var t=Br(e,"ref");t&&(e.ref=t,e.refInFor=function(e){for(var t=e;t;){if(void 0!==t.for)return!0;t=t.parent}return!1}(e))}(e),function(e){var t;"template"===e.tag?(t=Pr(e,"scope"),e.slotScope=t||Pr(e,"slot-scope")):(t=Pr(e,"slot-scope"))&&(e.slotScope=t);var n=Br(e,"slot");if(n&&(e.slotTarget='""'===n?'"default"':n,e.slotTargetDynamic=!(!e.attrsMap[":slot"]&&!e.attrsMap["v-bind:slot"]),"template"===e.tag||e.slotScope||Nr(e,"slot",n,function(e,t){return e.rawAttrsMap[":"+t]||e.rawAttrsMap["v-bind:"+t]||e.rawAttrsMap[t]}(e,"slot"))),"template"===e.tag){var r=Lr(e,ra);if(r){var o=da(r),i=o.name,a=o.dynamic;e.slotTarget=i,e.slotTargetDynamic=a,e.slotScope=r.value||ua}}else{var u=Lr(e,ra);if(u){var s=e.scopedSlots||(e.scopedSlots={}),c=da(u),l=c.name,f=c.dynamic,d=s[l]=sa("template",[],e);d.slotTarget=l,d.slotTargetDynamic=f,d.children=e.children.filter((function(e){if(!e.slotScope)return e.parent=d,!0})),d.slotScope=u.value||ua,e.children=[],e.plain=!1}}}(e),function(e){"slot"===e.tag&&(e.slotName=Br(e,"name"))}(e),function(e){var t;(t=Br(e,"is"))&&(e.component=t),null!=Pr(e,"inline-template")&&(e.inlineTemplate=!0)}(e);for(var o=0;o<Vi.length;o++)e=Vi[o](e,t)||e;return function(e){var t,n,r,o,i,a,u,s,c=e.attrsList;for(t=0,n=c.length;t<n;t++)if(r=o=c[t].name,i=c[t].value,Gi.test(r))if(e.hasBindings=!0,(a=pa(r.replace(Gi,"")))&&(r=r.replace(na,"")),ta.test(r))r=r.replace(ta,""),i=Er(i),(s=Zi.test(r))&&(r=r.slice(1,-1)),a&&(a.prop&&!s&&"innerHtml"===(r=k(r))&&(r="innerHTML"),a.camel&&!s&&(r=k(r)),a.sync&&(u=jr(i,"$event"),s?Ir(e,'"update:"+('+r+")",u,null,!1,0,c[t],!0):(Ir(e,"update:"+k(r),u,null,!1,0,c[t]),E(r)!==k(r)&&Ir(e,"update:"+E(r),u,null,!1,0,c[t])))),a&&a.prop||!e.component&&Wi(e.tag,e.attrsMap.type,r)?Dr(e,r,i,c[t],s):Nr(e,r,i,c[t],s);else if(Xi.test(r))r=r.replace(Xi,""),(s=Zi.test(r))&&(r=r.slice(1,-1)),Ir(e,r,i,a,!1,0,c[t],s);else{var l=(r=r.replace(Gi,"")).match(ea),f=l&&l[1];s=!1,f&&(r=r.slice(0,-(f.length+1)),Zi.test(f)&&(f=f.slice(1,-1),s=!0)),Rr(e,r,o,i,f,s,a,c[t])}else Nr(e,r,JSON.stringify(i),c[t]),!e.component&&"muted"===r&&Wi(e.tag,e.attrsMap.type,r)&&Dr(e,r,"true",c[t])}(e),e}function la(e){var t;if(t=Pr(e,"v-for")){var n=function(e){var t=e.match(Ki);if(t){var n={};n.for=t[2].trim();var r=t[1].trim().replace(Qi,""),o=r.match(Ji);return o?(n.alias=r.replace(Ji,"").trim(),n.iterator1=o[1].trim(),o[2]&&(n.iterator2=o[2].trim())):n.alias=r,n}}(t);n&&A(e,n)}}function fa(e,t){e.ifConditions||(e.ifConditions=[]),e.ifConditions.push(t)}function da(e){var t=e.name.replace(ra,"");return t||"#"!==e.name[0]&&(t="default"),Zi.test(t)?{name:t.slice(1,-1),dynamic:!0}:{name:'"'+t+'"',dynamic:!1}}function pa(e){var t=e.match(na);if(t){var n={};return t.forEach((function(e){n[e.slice(1)]=!0})),n}}function ma(e){for(var t={},n=0,r=e.length;n<r;n++)t[e[n].name]=e[n].value;return t}var ha=/^xmlns:NS\d+/,ga=/^NS\d+:/;function va(e){return sa(e.tag,e.attrsList.slice(),e.parent)}var ba,ya,wa=[vi,bi,{preTransformNode:function(e,t){if("input"===e.tag){var n,r=e.attrsMap;if(!r["v-model"])return;if((r[":type"]||r["v-bind:type"])&&(n=Br(e,"type")),r.type||n||!r["v-bind"]||(n="("+r["v-bind"]+").type"),n){var o=Pr(e,"v-if",!0),i=o?"&&("+o+")":"",a=null!=Pr(e,"v-else",!0),u=Pr(e,"v-else-if",!0),s=va(e);la(s),Mr(s,"type","checkbox"),ca(s,t),s.processed=!0,s.if="("+n+")==='checkbox'"+i,fa(s,{exp:s.if,block:s});var c=va(e);Pr(c,"v-for",!0),Mr(c,"type","radio"),ca(c,t),fa(s,{exp:"("+n+")==='radio'"+i,block:c});var l=va(e);return Pr(l,"v-for",!0),Mr(l,":type",n),ca(l,t),fa(s,{exp:o,block:l}),a?s.else=!0:u&&(s.elseif=u),s}}}}],xa={expectHTML:!0,modules:wa,directives:{model:function(e,t,n){var r=t.value,o=t.modifiers,i=e.tag,a=e.attrsMap.type;if(e.component)return Hr(e,r,o),!1;if("select"===i)!function(e,t,n){var r='var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = "_value" in o ? o._value : o.value;return '+(n&&n.number?"_n(val)":"val")+"});";Ir(e,"change",r=r+" "+jr(t,"$event.target.multiple ? $$selectedVal : $$selectedVal[0]"),null,!0)}(e,r,o);else if("input"===i&&"checkbox"===a)!function(e,t,n){var r=n&&n.number,o=Br(e,"value")||"null",i=Br(e,"true-value")||"true",a=Br(e,"false-value")||"false";Dr(e,"checked","Array.isArray("+t+")?_i("+t+","+o+")>-1"+("true"===i?":("+t+")":":_q("+t+","+i+")")),Ir(e,"change","var $$a="+t+",$$el=$event.target,$$c=$$el.checked?("+i+"):("+a+");if(Array.isArray($$a)){var $$v="+(r?"_n("+o+")":o)+",$$i=_i($$a,$$v);if($$el.checked){$$i<0&&("+jr(t,"$$a.concat([$$v])")+")}else{$$i>-1&&("+jr(t,"$$a.slice(0,$$i).concat($$a.slice($$i+1))")+")}}else{"+jr(t,"$$c")+"}",null,!0)}(e,r,o);else if("input"===i&&"radio"===a)!function(e,t,n){var r=n&&n.number,o=Br(e,"value")||"null";Dr(e,"checked","_q("+t+","+(o=r?"_n("+o+")":o)+")"),Ir(e,"change",jr(t,o),null,!0)}(e,r,o);else if("input"===i||"textarea"===i)!function(e,t,n){var r=e.attrsMap.type,o=n||{},i=o.lazy,a=o.number,u=o.trim,s=!i&&"range"!==r,c=i?"change":"range"===r?Xr:"input",l="$event.target.value";u&&(l="$event.target.value.trim()"),a&&(l="_n("+l+")");var f=jr(t,l);s&&(f="if($event.target.composing)return;"+f),Dr(e,"value","("+t+")"),Ir(e,c,f,null,!0),(u||a)&&Ir(e,"blur","$forceUpdate()")}(e,r,o);else if(!H.isReservedTag(i))return Hr(e,r,o),!1;return!0},text:function(e,t){t.value&&Dr(e,"textContent","_s("+t.value+")",t)},html:function(e,t){t.value&&Dr(e,"innerHTML","_s("+t.value+")",t)}},isPreTag:function(e){return"pre"===e},isUnaryTag:yi,mustUseProp:Rn,canBeLeftOpenTag:wi,isReservedTag:Xn,getTagNamespace:Gn,staticKeys:function(e){return e.reduce((function(e,t){return e.concat(t.staticKeys||[])}),[]).join(",")}(wa)},Ca=x((function(e){return h("type,tag,attrsList,attrsMap,plain,parent,children,attrs,start,end,rawAttrsMap"+(e?","+e:""))}));var ka=/^([\w$_]+|\([^)]*?\))\s*=>|^function(?:\s+[\w$]+)?\s*\(/,Sa=/\([^)]*?\);*$/,Ta=/^[A-Za-z_$][\w$]*(?:\.[A-Za-z_$][\w$]*|\['[^']*?']|\["[^"]*?"]|\[\d+]|\[[A-Za-z_$][\w$]*])*$/,Ea={esc:27,tab:9,enter:13,space:32,up:38,left:37,right:39,down:40,delete:[8,46]},Oa={esc:["Esc","Escape"],tab:"Tab",enter:"Enter",space:[" ","Spacebar"],up:["Up","ArrowUp"],left:["Left","ArrowLeft"],right:["Right","ArrowRight"],down:["Down","ArrowDown"],delete:["Backspace","Delete","Del"]},_a=function(e){return"if("+e+")return null;"},Aa={stop:"$event.stopPropagation();",prevent:"$event.preventDefault();",self:_a("$event.target !== $event.currentTarget"),ctrl:_a("!$event.ctrlKey"),shift:_a("!$event.shiftKey"),alt:_a("!$event.altKey"),meta:_a("!$event.metaKey"),left:_a("'button' in $event && $event.button !== 0"),middle:_a("'button' in $event && $event.button !== 1"),right:_a("'button' in $event && $event.button !== 2")};function Da(e,t){var n=t?"nativeOn:":"on:",r="",o="";for(var i in e){var a=Na(e[i]);e[i]&&e[i].dynamic?o+=i+","+a+",":r+='"'+i+'":'+a+","}return r="{"+r.slice(0,-1)+"}",o?n+"_d("+r+",["+o.slice(0,-1)+"])":n+r}function Na(e){if(!e)return"function(){}";if(Array.isArray(e))return"["+e.map((function(e){return Na(e)})).join(",")+"]";var t=Ta.test(e.value),n=ka.test(e.value),r=Ta.test(e.value.replace(Sa,""));if(e.modifiers){var o="",i="",a=[];for(var u in e.modifiers)if(Aa[u])i+=Aa[u],Ea[u]&&a.push(u);else if("exact"===u){var s=e.modifiers;i+=_a(["ctrl","shift","alt","meta"].filter((function(e){return!s[e]})).map((function(e){return"$event."+e+"Key"})).join("||"))}else a.push(u);return a.length&&(o+=function(e){return"if(!$event.type.indexOf('key')&&"+e.map(Ma).join("&&")+")return null;"}(a)),i&&(o+=i),"function($event){"+o+(t?"return "+e.value+"($event)":n?"return ("+e.value+")($event)":r?"return "+e.value:e.value)+"}"}return t||n?e.value:"function($event){"+(r?"return "+e.value:e.value)+"}"}function Ma(e){var t=parseInt(e,10);if(t)return"$event.keyCode!=="+t;var n=Ea[e],r=Oa[e];return"_k($event.keyCode,"+JSON.stringify(e)+","+JSON.stringify(n)+",$event.key,"+JSON.stringify(r)+")"}var Ra={on:function(e,t){e.wrapListeners=function(e){return"_g("+e+","+t.value+")"}},bind:function(e,t){e.wrapData=function(n){return"_b("+n+",'"+e.tag+"',"+t.value+","+(t.modifiers&&t.modifiers.prop?"true":"false")+(t.modifiers&&t.modifiers.sync?",true":"")+")"}},cloak:N},za=function(e){this.options=e,this.warn=e.warn||_r,this.transforms=Ar(e.modules,"transformCode"),this.dataGenFns=Ar(e.modules,"genData"),this.directives=A(A({},Ra),e.directives);var t=e.isReservedTag||M;this.maybeComponent=function(e){return!!e.component||!t(e.tag)},this.onceId=0,this.staticRenderFns=[],this.pre=!1};function Ia(e,t){var n=new za(t);return{render:"with(this){return "+(e?Ba(e,n):'_c("div")')+"}",staticRenderFns:n.staticRenderFns}}function Ba(e,t){if(e.parent&&(e.pre=e.pre||e.parent.pre),e.staticRoot&&!e.staticProcessed)return Pa(e,t);if(e.once&&!e.onceProcessed)return La(e,t);if(e.for&&!e.forProcessed)return Ha(e,t);if(e.if&&!e.ifProcessed)return Fa(e,t);if("template"!==e.tag||e.slotTarget||t.pre){if("slot"===e.tag)return function(e,t){var n=e.slotName||'"default"',r=$a(e,t),o="_t("+n+(r?","+r:""),i=e.attrs||e.dynamicAttrs?Ya((e.attrs||[]).concat(e.dynamicAttrs||[]).map((function(e){return{name:k(e.name),value:e.value,dynamic:e.dynamic}}))):null,a=e.attrsMap["v-bind"];return!i&&!a||r||(o+=",null"),i&&(o+=","+i),a&&(o+=(i?"":",null")+","+a),o+")"}(e,t);var n;if(e.component)n=function(e,t,n){var r=t.inlineTemplate?null:$a(t,n,!0);return"_c("+e+","+ja(t,n)+(r?","+r:"")+")"}(e.component,e,t);else{var r;(!e.plain||e.pre&&t.maybeComponent(e))&&(r=ja(e,t));var o=e.inlineTemplate?null:$a(e,t,!0);n="_c('"+e.tag+"'"+(r?","+r:"")+(o?","+o:"")+")"}for(var i=0;i<t.transforms.length;i++)n=t.transforms[i](e,n);return n}return $a(e,t)||"void 0"}function Pa(e,t){e.staticProcessed=!0;var n=t.pre;return e.pre&&(t.pre=e.pre),t.staticRenderFns.push("with(this){return "+Ba(e,t)+"}"),t.pre=n,"_m("+(t.staticRenderFns.length-1)+(e.staticInFor?",true":"")+")"}function La(e,t){if(e.onceProcessed=!0,e.if&&!e.ifProcessed)return Fa(e,t);if(e.staticInFor){for(var n="",r=e.parent;r;){if(r.for){n=r.key;break}r=r.parent}return n?"_o("+Ba(e,t)+","+t.onceId+++","+n+")":Ba(e,t)}return Pa(e,t)}function Fa(e,t,n,r){return e.ifProcessed=!0,function e(t,n,r,o){if(!t.length)return o||"_e()";var i=t.shift();return i.exp?"("+i.exp+")?"+a(i.block)+":"+e(t,n,r,o):""+a(i.block);function a(e){return r?r(e,n):e.once?La(e,n):Ba(e,n)}}(e.ifConditions.slice(),t,n,r)}function Ha(e,t,n,r){var o=e.for,i=e.alias,a=e.iterator1?","+e.iterator1:"",u=e.iterator2?","+e.iterator2:"";return e.forProcessed=!0,(r||"_l")+"(("+o+"),function("+i+a+u+"){return "+(n||Ba)(e,t)+"})"}function ja(e,t){var n="{",r=function(e,t){var n=e.directives;if(n){var r,o,i,a,u="directives:[",s=!1;for(r=0,o=n.length;r<o;r++){i=n[r],a=!0;var c=t.directives[i.name];c&&(a=!!c(e,i,t.warn)),a&&(s=!0,u+='{name:"'+i.name+'",rawName:"'+i.rawName+'"'+(i.value?",value:("+i.value+"),expression:"+JSON.stringify(i.value):"")+(i.arg?",arg:"+(i.isDynamicArg?i.arg:'"'+i.arg+'"'):"")+(i.modifiers?",modifiers:"+JSON.stringify(i.modifiers):"")+"},")}return s?u.slice(0,-1)+"]":void 0}}(e,t);r&&(n+=r+","),e.key&&(n+="key:"+e.key+","),e.ref&&(n+="ref:"+e.ref+","),e.refInFor&&(n+="refInFor:true,"),e.pre&&(n+="pre:true,"),e.component&&(n+='tag:"'+e.tag+'",');for(var o=0;o<t.dataGenFns.length;o++)n+=t.dataGenFns[o](e);if(e.attrs&&(n+="attrs:"+Ya(e.attrs)+","),e.props&&(n+="domProps:"+Ya(e.props)+","),e.events&&(n+=Da(e.events,!1)+","),e.nativeEvents&&(n+=Da(e.nativeEvents,!0)+","),e.slotTarget&&!e.slotScope&&(n+="slot:"+e.slotTarget+","),e.scopedSlots&&(n+=function(e,t,n){var r=e.for||Object.keys(t).some((function(e){var n=t[e];return n.slotTargetDynamic||n.if||n.for||Va(n)})),o=!!e.if;if(!r)for(var i=e.parent;i;){if(i.slotScope&&i.slotScope!==ua||i.for){r=!0;break}i.if&&(o=!0),i=i.parent}var a=Object.keys(t).map((function(e){return Ua(t[e],n)})).join(",");return"scopedSlots:_u(["+a+"]"+(r?",null,true":"")+(!r&&o?",null,false,"+function(e){for(var t=5381,n=e.length;n;)t=33*t^e.charCodeAt(--n);return t>>>0}(a):"")+")"}(e,e.scopedSlots,t)+","),e.model&&(n+="model:{value:"+e.model.value+",callback:"+e.model.callback+",expression:"+e.model.expression+"},"),e.inlineTemplate){var i=function(e,t){var n=e.children[0];if(n&&1===n.type){var r=Ia(n,t.options);return"inlineTemplate:{render:function(){"+r.render+"},staticRenderFns:["+r.staticRenderFns.map((function(e){return"function(){"+e+"}"})).join(",")+"]}"}}(e,t);i&&(n+=i+",")}return n=n.replace(/,$/,"")+"}",e.dynamicAttrs&&(n="_b("+n+',"'+e.tag+'",'+Ya(e.dynamicAttrs)+")"),e.wrapData&&(n=e.wrapData(n)),e.wrapListeners&&(n=e.wrapListeners(n)),n}function Va(e){return 1===e.type&&("slot"===e.tag||e.children.some(Va))}function Ua(e,t){var n=e.attrsMap["slot-scope"];if(e.if&&!e.ifProcessed&&!n)return Fa(e,t,Ua,"null");if(e.for&&!e.forProcessed)return Ha(e,t,Ua);var r=e.slotScope===ua?"":String(e.slotScope),o="function("+r+"){return "+("template"===e.tag?e.if&&n?"("+e.if+")?"+($a(e,t)||"undefined")+":undefined":$a(e,t)||"undefined":Ba(e,t))+"}",i=r?"":",proxy:true";return"{key:"+(e.slotTarget||'"default"')+",fn:"+o+i+"}"}function $a(e,t,n,r,o){var i=e.children;if(i.length){var a=i[0];if(1===i.length&&a.for&&"template"!==a.tag&&"slot"!==a.tag){var u=n?t.maybeComponent(a)?",1":",0":"";return""+(r||Ba)(a,t)+u}var s=n?function(e,t){for(var n=0,r=0;r<e.length;r++){var o=e[r];if(1===o.type){if(qa(o)||o.ifConditions&&o.ifConditions.some((function(e){return qa(e.block)}))){n=2;break}(t(o)||o.ifConditions&&o.ifConditions.some((function(e){return t(e.block)})))&&(n=1)}}return n}(i,t.maybeComponent):0,c=o||Wa;return"["+i.map((function(e){return c(e,t)})).join(",")+"]"+(s?","+s:"")}}function qa(e){return void 0!==e.for||"template"===e.tag||"slot"===e.tag}function Wa(e,t){return 1===e.type?Ba(e,t):3===e.type&&e.isComment?(r=e,"_e("+JSON.stringify(r.text)+")"):"_v("+(2===(n=e).type?n.expression:Xa(JSON.stringify(n.text)))+")";var n,r}function Ya(e){for(var t="",n="",r=0;r<e.length;r++){var o=e[r],i=Xa(o.value);o.dynamic?n+=o.name+","+i+",":t+='"'+o.name+'":'+i+","}return t="{"+t.slice(0,-1)+"}",n?"_d("+t+",["+n.slice(0,-1)+"])":t}function Xa(e){return e.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}function Ga(e,t){try{return new Function(e)}catch(n){return t.push({err:n,code:e}),N}}function Ka(e){var t=Object.create(null);return function(n,r,o){(r=A({},r)).warn,delete r.warn;var i=r.delimiters?String(r.delimiters)+n:n;if(t[i])return t[i];var a=e(n,r),u={},s=[];return u.render=Ga(a.render,s),u.staticRenderFns=a.staticRenderFns.map((function(e){return Ga(e,s)})),t[i]=u}}new RegExp("\\b"+"do,if,for,let,new,try,var,case,else,with,await,break,catch,class,const,super,throw,while,yield,delete,export,import,return,switch,default,extends,finally,continue,debugger,function,arguments".split(",").join("\\b|\\b")+"\\b");var Ja,Qa,Za=(Ja=function(e,t){var n=function(e,t){Hi=t.warn||_r,qi=t.isPreTag||M,Wi=t.mustUseProp||M,Yi=t.getTagNamespace||M,t.isReservedTag,Vi=Ar(t.modules,"transformNode"),Ui=Ar(t.modules,"preTransformNode"),$i=Ar(t.modules,"postTransformNode"),ji=t.delimiters;var n,r,o=[],i=!1!==t.preserveWhitespace,a=t.whitespace,u=!1,s=!1;function c(e){if(l(e),u||e.processed||(e=ca(e,t)),o.length||e===n||n.if&&(e.elseif||e.else)&&fa(n,{exp:e.elseif,block:e}),r&&!e.forbidden)if(e.elseif||e.else)a=e,(c=function(e){for(var t=e.length;t--;){if(1===e[t].type)return e[t];e.pop()}}(r.children))&&c.if&&fa(c,{exp:a.elseif,block:a});else{if(e.slotScope){var i=e.slotTarget||'"default"';(r.scopedSlots||(r.scopedSlots={}))[i]=e}r.children.push(e),e.parent=r}var a,c;e.children=e.children.filter((function(e){return!e.slotScope})),l(e),e.pre&&(u=!1),qi(e.tag)&&(s=!1);for(var f=0;f<$i.length;f++)$i[f](e,t)}function l(e){if(!s)for(var t;(t=e.children[e.children.length-1])&&3===t.type&&" "===t.text;)e.children.pop()}return function(e,t){for(var n,r,o=[],i=t.expectHTML,a=t.isUnaryTag||M,u=t.canBeLeftOpenTag||M,s=0;e;){if(n=e,r&&Mi(r)){var c=0,l=r.toLowerCase(),f=Ri[l]||(Ri[l]=new RegExp("([\\s\\S]*?)(</"+l+"[^>]*>)","i")),d=e.replace(f,(function(e,n,r){return c=r.length,Mi(l)||"noscript"===l||(n=n.replace(/<!\--([\s\S]*?)-->/g,"$1").replace(/<!\[CDATA\[([\s\S]*?)]]>/g,"$1")),Li(l,n)&&(n=n.slice(1)),t.chars&&t.chars(n),""}));s+=e.length-d.length,e=d,E(l,s-c,s)}else{var p=e.indexOf("<");if(0===p){if(Di.test(e)){var m=e.indexOf("--\x3e");if(m>=0){t.shouldKeepComment&&t.comment(e.substring(4,m),s,s+m+3),k(m+3);continue}}if(Ni.test(e)){var h=e.indexOf("]>");if(h>=0){k(h+2);continue}}var g=e.match(Ai);if(g){k(g[0].length);continue}var v=e.match(_i);if(v){var b=s;k(v[0].length),E(v[1],b,s);continue}var y=S();if(y){T(y),Li(y.tagName,e)&&k(1);continue}}var w=void 0,x=void 0,C=void 0;if(p>=0){for(x=e.slice(p);!(_i.test(x)||Ei.test(x)||Di.test(x)||Ni.test(x)||(C=x.indexOf("<",1))<0);)p+=C,x=e.slice(p);w=e.substring(0,p)}p<0&&(w=e),w&&k(w.length),t.chars&&w&&t.chars(w,s-w.length,s)}if(e===n){t.chars&&t.chars(e);break}}function k(t){s+=t,e=e.substring(t)}function S(){var t=e.match(Ei);if(t){var n,r,o={tagName:t[1],attrs:[],start:s};for(k(t[0].length);!(n=e.match(Oi))&&(r=e.match(ki)||e.match(Ci));)r.start=s,k(r[0].length),r.end=s,o.attrs.push(r);if(n)return o.unarySlash=n[1],k(n[0].length),o.end=s,o}}function T(e){var n=e.tagName,s=e.unarySlash;i&&("p"===r&&xi(n)&&E(r),u(n)&&r===n&&E(n));for(var c=a(n)||!!s,l=e.attrs.length,f=new Array(l),d=0;d<l;d++){var p=e.attrs[d],m=p[3]||p[4]||p[5]||"",h="a"===n&&"href"===p[1]?t.shouldDecodeNewlinesForHref:t.shouldDecodeNewlines;f[d]={name:p[1],value:Fi(m,h)}}c||(o.push({tag:n,lowerCasedTag:n.toLowerCase(),attrs:f,start:e.start,end:e.end}),r=n),t.start&&t.start(n,f,c,e.start,e.end)}function E(e,n,i){var a,u;if(null==n&&(n=s),null==i&&(i=s),e)for(u=e.toLowerCase(),a=o.length-1;a>=0&&o[a].lowerCasedTag!==u;a--);else a=0;if(a>=0){for(var c=o.length-1;c>=a;c--)t.end&&t.end(o[c].tag,n,i);o.length=a,r=a&&o[a-1].tag}else"br"===u?t.start&&t.start(e,[],!0,n,i):"p"===u&&(t.start&&t.start(e,[],!1,n,i),t.end&&t.end(e,n,i))}E()}(e,{warn:Hi,expectHTML:t.expectHTML,isUnaryTag:t.isUnaryTag,canBeLeftOpenTag:t.canBeLeftOpenTag,shouldDecodeNewlines:t.shouldDecodeNewlines,shouldDecodeNewlinesForHref:t.shouldDecodeNewlinesForHref,shouldKeepComment:t.comments,outputSourceRange:t.outputSourceRange,start:function(e,i,a,l,f){var d=r&&r.ns||Yi(e);K&&"svg"===d&&(i=function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];ha.test(r.name)||(r.name=r.name.replace(ga,""),t.push(r))}return t}(i));var p,m=sa(e,i,r);d&&(m.ns=d),"style"!==(p=m).tag&&("script"!==p.tag||p.attrsMap.type&&"text/javascript"!==p.attrsMap.type)||oe()||(m.forbidden=!0);for(var h=0;h<Ui.length;h++)m=Ui[h](m,t)||m;u||(function(e){null!=Pr(e,"v-pre")&&(e.pre=!0)}(m),m.pre&&(u=!0)),qi(m.tag)&&(s=!0),u?function(e){var t=e.attrsList,n=t.length;if(n)for(var r=e.attrs=new Array(n),o=0;o<n;o++)r[o]={name:t[o].name,value:JSON.stringify(t[o].value)},null!=t[o].start&&(r[o].start=t[o].start,r[o].end=t[o].end);else e.pre||(e.plain=!0)}(m):m.processed||(la(m),function(e){var t=Pr(e,"v-if");if(t)e.if=t,fa(e,{exp:t,block:e});else{null!=Pr(e,"v-else")&&(e.else=!0);var n=Pr(e,"v-else-if");n&&(e.elseif=n)}}(m),function(e){null!=Pr(e,"v-once")&&(e.once=!0)}(m)),n||(n=m),a?c(m):(r=m,o.push(m))},end:function(e,t,n){var i=o[o.length-1];o.length-=1,r=o[o.length-1],c(i)},chars:function(e,t,n){if(r&&(!K||"textarea"!==r.tag||r.attrsMap.placeholder!==e)){var o,c,l,f=r.children;(e=s||e.trim()?"script"===(o=r).tag||"style"===o.tag?e:aa(e):f.length?a?"condense"===a&&oa.test(e)?"":" ":i?" ":"":"")&&(s||"condense"!==a||(e=e.replace(ia," ")),!u&&" "!==e&&(c=function(e,t){var n=t?gi(t):mi;if(n.test(e)){for(var r,o,i,a=[],u=[],s=n.lastIndex=0;r=n.exec(e);){(o=r.index)>s&&(u.push(i=e.slice(s,o)),a.push(JSON.stringify(i)));var c=Er(r[1].trim());a.push("_s("+c+")"),u.push({"@binding":c}),s=o+r[0].length}return s<e.length&&(u.push(i=e.slice(s)),a.push(JSON.stringify(i))),{expression:a.join("+"),tokens:u}}}(e,ji))?l={type:2,expression:c.expression,tokens:c.tokens,text:e}:" "===e&&f.length&&" "===f[f.length-1].text||(l={type:3,text:e}),l&&f.push(l))}},comment:function(e,t,n){if(r){var o={type:3,text:e,isComment:!0};r.children.push(o)}}}),n}(e.trim(),t);!1!==t.optimize&&function(e,t){e&&(ba=Ca(t.staticKeys||""),ya=t.isReservedTag||M,function e(t){if(t.static=function(e){return 2!==e.type&&(3===e.type||!(!e.pre&&(e.hasBindings||e.if||e.for||g(e.tag)||!ya(e.tag)||function(e){for(;e.parent;){if("template"!==(e=e.parent).tag)return!1;if(e.for)return!0}return!1}(e)||!Object.keys(e).every(ba))))}(t),1===t.type){if(!ya(t.tag)&&"slot"!==t.tag&&null==t.attrsMap["inline-template"])return;for(var n=0,r=t.children.length;n<r;n++){var o=t.children[n];e(o),o.static||(t.static=!1)}if(t.ifConditions)for(var i=1,a=t.ifConditions.length;i<a;i++){var u=t.ifConditions[i].block;e(u),u.static||(t.static=!1)}}}(e),function e(t,n){if(1===t.type){if((t.static||t.once)&&(t.staticInFor=n),t.static&&t.children.length&&(1!==t.children.length||3!==t.children[0].type))return void(t.staticRoot=!0);if(t.staticRoot=!1,t.children)for(var r=0,o=t.children.length;r<o;r++)e(t.children[r],n||!!t.for);if(t.ifConditions)for(var i=1,a=t.ifConditions.length;i<a;i++)e(t.ifConditions[i].block,n)}}(e,!1))}(n,t);var r=Ia(n,t);return{ast:n,render:r.render,staticRenderFns:r.staticRenderFns}},function(e){function t(t,n){var r=Object.create(e),o=[],i=[];if(n)for(var a in n.modules&&(r.modules=(e.modules||[]).concat(n.modules)),n.directives&&(r.directives=A(Object.create(e.directives||null),n.directives)),n)"modules"!==a&&"directives"!==a&&(r[a]=n[a]);r.warn=function(e,t,n){(n?i:o).push(e)};var u=Ja(t.trim(),r);return u.errors=o,u.tips=i,u}return{compile:t,compileToFunctions:Ka(t)}})(xa),eu=(Za.compile,Za.compileToFunctions);function tu(e){return(Qa=Qa||document.createElement("div")).innerHTML=e?'<a href="\n"/>':'<div a="\n"/>',Qa.innerHTML.indexOf("&#10;")>0}var nu=!!W&&tu(!1),ru=!!W&&tu(!0),ou=x((function(e){var t=Qn(e);return t&&t.innerHTML})),iu=Sn.prototype.$mount;Sn.prototype.$mount=function(e,t){if((e=e&&Qn(e))===document.body||e===document.documentElement)return this;var n=this.$options;if(!n.render){var r=n.template;if(r)if("string"==typeof r)"#"===r.charAt(0)&&(r=ou(r));else{if(!r.nodeType)return this;r=r.innerHTML}else e&&(r=function(e){if(e.outerHTML)return e.outerHTML;var t=document.createElement("div");return t.appendChild(e.cloneNode(!0)),t.innerHTML}(e));if(r){var o=eu(r,{outputSourceRange:!1,shouldDecodeNewlines:nu,shouldDecodeNewlinesForHref:ru,delimiters:n.delimiters,comments:n.comments},this),i=o.render,a=o.staticRenderFns;n.render=i,n.staticRenderFns=a}}return iu.call(this,e,t)},Sn.compile=eu,e.exports=Sn}).call(this,n(1),n(29).setImmediate)},function(e,t,n){(function(e){var r=void 0!==e&&e||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;function i(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new i(o.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new i(o.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n(30),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(1))},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,o,i,a,u,s=1,c={},l=!1,f=e.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(e);d=d&&d.setTimeout?d:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick((function(){m(e)}))}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?e.MessageChannel?((i=new MessageChannel).port1.onmessage=function(e){m(e.data)},r=function(e){i.port2.postMessage(e)}):f&&"onreadystatechange"in f.createElement("script")?(o=f.documentElement,r=function(e){var t=f.createElement("script");t.onreadystatechange=function(){m(e),t.onreadystatechange=null,o.removeChild(t),t=null},o.appendChild(t)}):r=function(e){setTimeout(m,0,e)}:(a="setImmediate$"+Math.random()+"$",u=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(a)&&m(+t.data.slice(a.length))},e.addEventListener?e.addEventListener("message",u,!1):e.attachEvent("onmessage",u),r=function(t){e.postMessage(a+t,"*")}),d.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var o={callback:e,args:t};return c[s]=o,r(s),s++},d.clearImmediate=p}function p(e){delete c[e]}function m(e){if(l)setTimeout(m,0,e);else{var t=c[e];if(t){l=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}(t)}finally{p(e),l=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(1),n(13))},function(e,t,n){var r;r=/\s+/g,e.exports=function(e,t){t||(t={});var n="A-Za-z0-9_ -";t.alsoAllow&&(n=t.alsoAllow+n);var o,i,a=new RegExp("[^"+n+"]","g"),u=t.maintainCase||!1,s=t.replacement||"-",c=t.smartTrim,l=!1!==t.decode;return"string"!=typeof e?"":(u||(e=e.toLowerCase()),l&&(e=decodeURIComponent(e)),o=e.trim().replace(a,"").replace(r,s),c&&o.length>c&&(i=o.charAt(c)===s,o=o.slice(0,c),i||(o=o.slice(0,o.lastIndexOf(s)))),o)}},function(e,t,n){var r,o,i;o=[n(12)],void 0===(i="function"==typeof(r=function(e){var t=function(){if(e&&e.fn&&e.fn.select2&&e.fn.select2.amd)var t=e.fn.select2.amd;return function(){var e,n,r;t&&t.requirejs||(t?n=t:t={},function(t){var o,i,a,u,s={},c={},l={},f={},d=Object.prototype.hasOwnProperty,p=[].slice,m=/\.js$/;function h(e,t){return d.call(e,t)}function g(e,t){var n,r,o,i,a,u,s,c,f,d,p,h=t&&t.split("/"),g=l.map,v=g&&g["*"]||{};if(e){for(a=(e=e.split("/")).length-1,l.nodeIdCompat&&m.test(e[a])&&(e[a]=e[a].replace(m,"")),"."===e[0].charAt(0)&&h&&(e=h.slice(0,h.length-1).concat(e)),f=0;f<e.length;f++)if("."===(p=e[f]))e.splice(f,1),f-=1;else if(".."===p){if(0===f||1===f&&".."===e[2]||".."===e[f-1])continue;f>0&&(e.splice(f-1,2),f-=2)}e=e.join("/")}if((h||v)&&g){for(f=(n=e.split("/")).length;f>0;f-=1){if(r=n.slice(0,f).join("/"),h)for(d=h.length;d>0;d-=1)if((o=g[h.slice(0,d).join("/")])&&(o=o[r])){i=o,u=f;break}if(i)break;!s&&v&&v[r]&&(s=v[r],c=f)}!i&&s&&(i=s,u=c),i&&(n.splice(0,u,i),e=n.join("/"))}return e}function v(e,n){return function(){var r=p.call(arguments,0);return"string"!=typeof r[0]&&1===r.length&&r.push(null),i.apply(t,r.concat([e,n]))}}function b(e){return function(t){s[e]=t}}function y(e){if(h(c,e)){var n=c[e];delete c[e],f[e]=!0,o.apply(t,n)}if(!h(s,e)&&!h(f,e))throw new Error("No "+e);return s[e]}function w(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function x(e){return e?w(e):[]}function C(e){return function(){return l&&l.config&&l.config[e]||{}}}a=function(e,t){var n,r,o=w(e),i=o[0],a=t[1];return e=o[1],i&&(n=y(i=g(i,a))),i?e=n&&n.normalize?n.normalize(e,(r=a,function(e){return g(e,r)})):g(e,a):(i=(o=w(e=g(e,a)))[0],e=o[1],i&&(n=y(i))),{f:i?i+"!"+e:e,n:e,pr:i,p:n}},u={require:function(e){return v(e)},exports:function(e){var t=s[e];return void 0!==t?t:s[e]={}},module:function(e){return{id:e,uri:"",exports:s[e],config:C(e)}}},o=function(e,n,r,o){var i,l,d,p,m,g,w,C=[],k=typeof r;if(g=x(o=o||e),"undefined"===k||"function"===k){for(n=!n.length&&r.length?["require","exports","module"]:n,m=0;m<n.length;m+=1)if("require"===(l=(p=a(n[m],g)).f))C[m]=u.require(e);else if("exports"===l)C[m]=u.exports(e),w=!0;else if("module"===l)i=C[m]=u.module(e);else if(h(s,l)||h(c,l)||h(f,l))C[m]=y(l);else{if(!p.p)throw new Error(e+" missing "+l);p.p.load(p.n,v(o,!0),b(l),{}),C[m]=s[l]}d=r?r.apply(s[e],C):void 0,e&&(i&&i.exports!==t&&i.exports!==s[e]?s[e]=i.exports:d===t&&w||(s[e]=d))}else e&&(s[e]=r)},e=n=i=function(e,n,r,s,c){if("string"==typeof e)return u[e]?u[e](n):y(a(e,x(n)).f);if(!e.splice){if((l=e).deps&&i(l.deps,l.callback),!n)return;n.splice?(e=n,n=r,r=null):e=t}return n=n||function(){},"function"==typeof r&&(r=s,s=c),s?o(t,e,n,r):setTimeout((function(){o(t,e,n,r)}),4),i},i.config=function(e){return i(e)},e._defined=s,(r=function(e,t,n){if("string"!=typeof e)throw new Error("See almond README: incorrect module build, no module name");t.splice||(n=t,t=[]),h(s,e)||h(c,e)||(c[e]=[e,t,n])}).amd={jQuery:!0}}(),t.requirejs=e,t.require=n,t.define=r)}(),t.define("almond",(function(){})),t.define("jquery",[],(function(){var t=e||$;return null==t&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),t})),t.define("select2/utils",["jquery"],(function(e){var t={};function n(e){var t=e.prototype,n=[];for(var r in t)"function"==typeof t[r]&&"constructor"!==r&&n.push(r);return n}t.Extend=function(e,t){var n={}.hasOwnProperty;function r(){this.constructor=e}for(var o in t)n.call(t,o)&&(e[o]=t[o]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},t.Decorate=function(e,t){var r=n(t),o=n(e);function i(){var n=Array.prototype.unshift,r=t.prototype.constructor.length,o=e.prototype.constructor;r>0&&(n.call(arguments,e.prototype.constructor),o=t.prototype.constructor),o.apply(this,arguments)}t.displayName=e.displayName,i.prototype=new function(){this.constructor=i};for(var a=0;a<o.length;a++){var u=o[a];i.prototype[u]=e.prototype[u]}for(var s=function(e){var n=function(){};e in i.prototype&&(n=i.prototype[e]);var r=t.prototype[e];return function(){var e=Array.prototype.unshift;return e.call(arguments,n),r.apply(this,arguments)}},c=0;c<r.length;c++){var l=r[c];i.prototype[l]=s(l)}return i};var r=function(){this.listeners={}};r.prototype.on=function(e,t){this.listeners=this.listeners||{},e in this.listeners?this.listeners[e].push(t):this.listeners[e]=[t]},r.prototype.trigger=function(e){var t=Array.prototype.slice,n=t.call(arguments,1);this.listeners=this.listeners||{},null==n&&(n=[]),0===n.length&&n.push({}),n[0]._type=e,e in this.listeners&&this.invoke(this.listeners[e],t.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},r.prototype.invoke=function(e,t){for(var n=0,r=e.length;n<r;n++)e[n].apply(this,t)},t.Observable=r,t.generateChars=function(e){for(var t="",n=0;n<e;n++)t+=Math.floor(36*Math.random()).toString(36);return t},t.bind=function(e,t){return function(){e.apply(t,arguments)}},t._convertData=function(e){for(var t in e){var n=t.split("-"),r=e;if(1!==n.length){for(var o=0;o<n.length;o++){var i=n[o];(i=i.substring(0,1).toLowerCase()+i.substring(1))in r||(r[i]={}),o==n.length-1&&(r[i]=e[t]),r=r[i]}delete e[t]}}return e},t.hasScroll=function(t,n){var r=e(n),o=n.style.overflowX,i=n.style.overflowY;return(o!==i||"hidden"!==i&&"visible"!==i)&&("scroll"===o||"scroll"===i||r.innerHeight()<n.scrollHeight||r.innerWidth()<n.scrollWidth)},t.escapeMarkup=function(e){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof e?e:String(e).replace(/[&<>"'\/\\]/g,(function(e){return t[e]}))},t.appendMany=function(t,n){if("1.7"===e.fn.jquery.substr(0,3)){var r=e();e.map(n,(function(e){r=r.add(e)})),n=r}t.append(n)},t.__cache={};var o=0;return t.GetUniqueElementId=function(e){var t=e.getAttribute("data-select2-id");return null==t&&(e.id?(t=e.id,e.setAttribute("data-select2-id",t)):(e.setAttribute("data-select2-id",++o),t=o.toString())),t},t.StoreData=function(e,n,r){var o=t.GetUniqueElementId(e);t.__cache[o]||(t.__cache[o]={}),t.__cache[o][n]=r},t.GetData=function(n,r){var o=t.GetUniqueElementId(n);return r?t.__cache[o]&&null!=t.__cache[o][r]?t.__cache[o][r]:e(n).data(r):t.__cache[o]},t.RemoveData=function(e){var n=t.GetUniqueElementId(e);null!=t.__cache[n]&&delete t.__cache[n],e.removeAttribute("data-select2-id")},t})),t.define("select2/results",["jquery","./utils"],(function(e,t){function n(e,t,r){this.$element=e,this.data=r,this.options=t,n.__super__.constructor.call(this)}return t.Extend(n,t.Observable),n.prototype.render=function(){var t=e('<ul class="select2-results__options" role="listbox"></ul>');return this.options.get("multiple")&&t.attr("aria-multiselectable","true"),this.$results=t,t},n.prototype.clear=function(){this.$results.empty()},n.prototype.displayMessage=function(t){var n=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var r=e('<li role="alert" aria-live="assertive" class="select2-results__option"></li>'),o=this.options.get("translations").get(t.message);r.append(n(o(t.args))),r[0].className+=" select2-results__message",this.$results.append(r)},n.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},n.prototype.append=function(e){this.hideLoading();var t=[];if(null!=e.results&&0!==e.results.length){e.results=this.sort(e.results);for(var n=0;n<e.results.length;n++){var r=e.results[n],o=this.option(r);t.push(o)}this.$results.append(t)}else 0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"})},n.prototype.position=function(e,t){t.find(".select2-results").append(e)},n.prototype.sort=function(e){return this.options.get("sorter")(e)},n.prototype.highlightFirstItem=function(){var e=this.$results.find(".select2-results__option[aria-selected]"),t=e.filter("[aria-selected=true]");t.length>0?t.first().trigger("mouseenter"):e.first().trigger("mouseenter"),this.ensureHighlightVisible()},n.prototype.setClasses=function(){var n=this;this.data.current((function(r){var o=e.map(r,(function(e){return e.id.toString()}));n.$results.find(".select2-results__option[aria-selected]").each((function(){var n=e(this),r=t.GetData(this,"data"),i=""+r.id;null!=r.element&&r.element.selected||null==r.element&&e.inArray(i,o)>-1?n.attr("aria-selected","true"):n.attr("aria-selected","false")}))}))},n.prototype.showLoading=function(e){this.hideLoading();var t={disabled:!0,loading:!0,text:this.options.get("translations").get("searching")(e)},n=this.option(t);n.className+=" loading-results",this.$results.prepend(n)},n.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},n.prototype.option=function(n){var r=document.createElement("li");r.className="select2-results__option";var o={role:"option","aria-selected":"false"},i=window.Element.prototype.matches||window.Element.prototype.msMatchesSelector||window.Element.prototype.webkitMatchesSelector;for(var a in(null!=n.element&&i.call(n.element,":disabled")||null==n.element&&n.disabled)&&(delete o["aria-selected"],o["aria-disabled"]="true"),null==n.id&&delete o["aria-selected"],null!=n._resultId&&(r.id=n._resultId),n.title&&(r.title=n.title),n.children&&(o.role="group",o["aria-label"]=n.text,delete o["aria-selected"]),o){var u=o[a];r.setAttribute(a,u)}if(n.children){var s=e(r),c=document.createElement("strong");c.className="select2-results__group",e(c),this.template(n,c);for(var l=[],f=0;f<n.children.length;f++){var d=n.children[f],p=this.option(d);l.push(p)}var m=e("<ul></ul>",{class:"select2-results__options select2-results__options--nested"});m.append(l),s.append(c),s.append(m)}else this.template(n,r);return t.StoreData(r,"data",n),r},n.prototype.bind=function(n,r){var o=this,i=n.id+"-results";this.$results.attr("id",i),n.on("results:all",(function(e){o.clear(),o.append(e.data),n.isOpen()&&(o.setClasses(),o.highlightFirstItem())})),n.on("results:append",(function(e){o.append(e.data),n.isOpen()&&o.setClasses()})),n.on("query",(function(e){o.hideMessages(),o.showLoading(e)})),n.on("select",(function(){n.isOpen()&&(o.setClasses(),o.options.get("scrollAfterSelect")&&o.highlightFirstItem())})),n.on("unselect",(function(){n.isOpen()&&(o.setClasses(),o.options.get("scrollAfterSelect")&&o.highlightFirstItem())})),n.on("open",(function(){o.$results.attr("aria-expanded","true"),o.$results.attr("aria-hidden","false"),o.setClasses(),o.ensureHighlightVisible()})),n.on("close",(function(){o.$results.attr("aria-expanded","false"),o.$results.attr("aria-hidden","true"),o.$results.removeAttr("aria-activedescendant")})),n.on("results:toggle",(function(){var e=o.getHighlightedResults();0!==e.length&&e.trigger("mouseup")})),n.on("results:select",(function(){var e=o.getHighlightedResults();if(0!==e.length){var n=t.GetData(e[0],"data");"true"==e.attr("aria-selected")?o.trigger("close",{}):o.trigger("select",{data:n})}})),n.on("results:previous",(function(){var e=o.getHighlightedResults(),t=o.$results.find("[aria-selected]"),n=t.index(e);if(!(n<=0)){var r=n-1;0===e.length&&(r=0);var i=t.eq(r);i.trigger("mouseenter");var a=o.$results.offset().top,u=i.offset().top,s=o.$results.scrollTop()+(u-a);0===r?o.$results.scrollTop(0):u-a<0&&o.$results.scrollTop(s)}})),n.on("results:next",(function(){var e=o.getHighlightedResults(),t=o.$results.find("[aria-selected]"),n=t.index(e)+1;if(!(n>=t.length)){var r=t.eq(n);r.trigger("mouseenter");var i=o.$results.offset().top+o.$results.outerHeight(!1),a=r.offset().top+r.outerHeight(!1),u=o.$results.scrollTop()+a-i;0===n?o.$results.scrollTop(0):a>i&&o.$results.scrollTop(u)}})),n.on("results:focus",(function(e){e.element.addClass("select2-results__option--highlighted")})),n.on("results:message",(function(e){o.displayMessage(e)})),e.fn.mousewheel&&this.$results.on("mousewheel",(function(e){var t=o.$results.scrollTop(),n=o.$results.get(0).scrollHeight-t+e.deltaY,r=e.deltaY>0&&t-e.deltaY<=0,i=e.deltaY<0&&n<=o.$results.height();r?(o.$results.scrollTop(0),e.preventDefault(),e.stopPropagation()):i&&(o.$results.scrollTop(o.$results.get(0).scrollHeight-o.$results.height()),e.preventDefault(),e.stopPropagation())})),this.$results.on("mouseup",".select2-results__option[aria-selected]",(function(n){var r=e(this),i=t.GetData(this,"data");"true"!==r.attr("aria-selected")?o.trigger("select",{originalEvent:n,data:i}):o.options.get("multiple")?o.trigger("unselect",{originalEvent:n,data:i}):o.trigger("close",{})})),this.$results.on("mouseenter",".select2-results__option[aria-selected]",(function(n){var r=t.GetData(this,"data");o.getHighlightedResults().removeClass("select2-results__option--highlighted"),o.trigger("results:focus",{data:r,element:e(this)})}))},n.prototype.getHighlightedResults=function(){return this.$results.find(".select2-results__option--highlighted")},n.prototype.destroy=function(){this.$results.remove()},n.prototype.ensureHighlightVisible=function(){var e=this.getHighlightedResults();if(0!==e.length){var t=this.$results.find("[aria-selected]").index(e),n=this.$results.offset().top,r=e.offset().top,o=this.$results.scrollTop()+(r-n),i=r-n;o-=2*e.outerHeight(!1),t<=2?this.$results.scrollTop(0):(i>this.$results.outerHeight()||i<0)&&this.$results.scrollTop(o)}},n.prototype.template=function(t,n){var r=this.options.get("templateResult"),o=this.options.get("escapeMarkup"),i=r(t,n);null==i?n.style.display="none":"string"==typeof i?n.innerHTML=o(i):e(n).append(i)},n})),t.define("select2/keys",[],(function(){return{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46}})),t.define("select2/selection/base",["jquery","../utils","../keys"],(function(e,t,n){function r(e,t){this.$element=e,this.options=t,r.__super__.constructor.call(this)}return t.Extend(r,t.Observable),r.prototype.render=function(){var n=e('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,null!=t.GetData(this.$element[0],"old-tabindex")?this._tabindex=t.GetData(this.$element[0],"old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),n.attr("title",this.$element.attr("title")),n.attr("tabindex",this._tabindex),n.attr("aria-disabled","false"),this.$selection=n,n},r.prototype.bind=function(e,t){var r=this,o=e.id+"-results";this.container=e,this.$selection.on("focus",(function(e){r.trigger("focus",e)})),this.$selection.on("blur",(function(e){r._handleBlur(e)})),this.$selection.on("keydown",(function(e){r.trigger("keypress",e),e.which===n.SPACE&&e.preventDefault()})),e.on("results:focus",(function(e){r.$selection.attr("aria-activedescendant",e.data._resultId)})),e.on("selection:update",(function(e){r.update(e.data)})),e.on("open",(function(){r.$selection.attr("aria-expanded","true"),r.$selection.attr("aria-owns",o),r._attachCloseHandler(e)})),e.on("close",(function(){r.$selection.attr("aria-expanded","false"),r.$selection.removeAttr("aria-activedescendant"),r.$selection.removeAttr("aria-owns"),r.$selection.trigger("focus"),r._detachCloseHandler(e)})),e.on("enable",(function(){r.$selection.attr("tabindex",r._tabindex),r.$selection.attr("aria-disabled","false")})),e.on("disable",(function(){r.$selection.attr("tabindex","-1"),r.$selection.attr("aria-disabled","true")}))},r.prototype._handleBlur=function(t){var n=this;window.setTimeout((function(){document.activeElement==n.$selection[0]||e.contains(n.$selection[0],document.activeElement)||n.trigger("blur",t)}),1)},r.prototype._attachCloseHandler=function(n){e(document.body).on("mousedown.select2."+n.id,(function(n){var r=e(n.target).closest(".select2");e(".select2.select2-container--open").each((function(){this!=r[0]&&t.GetData(this,"element").select2("close")}))}))},r.prototype._detachCloseHandler=function(t){e(document.body).off("mousedown.select2."+t.id)},r.prototype.position=function(e,t){t.find(".selection").append(e)},r.prototype.destroy=function(){this._detachCloseHandler(this.container)},r.prototype.update=function(e){throw new Error("The `update` method must be defined in child classes.")},r})),t.define("select2/selection/single",["jquery","./base","../utils","../keys"],(function(e,t,n,r){function o(){o.__super__.constructor.apply(this,arguments)}return n.Extend(o,t),o.prototype.render=function(){var e=o.__super__.render.call(this);return e.addClass("select2-selection--single"),e.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),e},o.prototype.bind=function(e,t){var n=this;o.__super__.bind.apply(this,arguments);var r=e.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",r).attr("role","textbox").attr("aria-readonly","true"),this.$selection.attr("aria-labelledby",r),this.$selection.on("mousedown",(function(e){1===e.which&&n.trigger("toggle",{originalEvent:e})})),this.$selection.on("focus",(function(e){})),this.$selection.on("blur",(function(e){})),e.on("focus",(function(t){e.isOpen()||n.$selection.trigger("focus")}))},o.prototype.clear=function(){var e=this.$selection.find(".select2-selection__rendered");e.empty(),e.removeAttr("title")},o.prototype.display=function(e,t){var n=this.options.get("templateSelection");return this.options.get("escapeMarkup")(n(e,t))},o.prototype.selectionContainer=function(){return e("<span></span>")},o.prototype.update=function(e){if(0!==e.length){var t=e[0],n=this.$selection.find(".select2-selection__rendered"),r=this.display(t,n);n.empty().append(r);var o=t.title||t.text;o?n.attr("title",o):n.removeAttr("title")}else this.clear()},o})),t.define("select2/selection/multiple",["jquery","./base","../utils"],(function(e,t,n){function r(e,t){r.__super__.constructor.apply(this,arguments)}return n.Extend(r,t),r.prototype.render=function(){var e=r.__super__.render.call(this);return e.addClass("select2-selection--multiple"),e.html('<ul class="select2-selection__rendered"></ul>'),e},r.prototype.bind=function(t,o){var i=this;r.__super__.bind.apply(this,arguments),this.$selection.on("click",(function(e){i.trigger("toggle",{originalEvent:e})})),this.$selection.on("click",".select2-selection__choice__remove",(function(t){if(!i.options.get("disabled")){var r=e(this).parent(),o=n.GetData(r[0],"data");i.trigger("unselect",{originalEvent:t,data:o})}}))},r.prototype.clear=function(){var e=this.$selection.find(".select2-selection__rendered");e.empty(),e.removeAttr("title")},r.prototype.display=function(e,t){var n=this.options.get("templateSelection");return this.options.get("escapeMarkup")(n(e,t))},r.prototype.selectionContainer=function(){return e('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>')},r.prototype.update=function(e){if(this.clear(),0!==e.length){for(var t=[],r=0;r<e.length;r++){var o=e[r],i=this.selectionContainer(),a=this.display(o,i);i.append(a);var u=o.title||o.text;u&&i.attr("title",u),n.StoreData(i[0],"data",o),t.push(i)}var s=this.$selection.find(".select2-selection__rendered");n.appendMany(s,t)}},r})),t.define("select2/selection/placeholder",["../utils"],(function(e){function t(e,t,n){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),e.call(this,t,n)}return t.prototype.normalizePlaceholder=function(e,t){return"string"==typeof t&&(t={id:"",text:t}),t},t.prototype.createPlaceholder=function(e,t){var n=this.selectionContainer();return n.html(this.display(t)),n.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"),n},t.prototype.update=function(e,t){var n=1==t.length&&t[0].id!=this.placeholder.id;if(t.length>1||n)return e.call(this,t);this.clear();var r=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(r)},t})),t.define("select2/selection/allowClear",["jquery","../keys","../utils"],(function(e,t,n){function r(){}return r.prototype.bind=function(e,t,n){var r=this;e.call(this,t,n),null==this.placeholder&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection__clear",(function(e){r._handleClear(e)})),t.on("keypress",(function(e){r._handleKeyboardClear(e,t)}))},r.prototype._handleClear=function(e,t){if(!this.options.get("disabled")){var r=this.$selection.find(".select2-selection__clear");if(0!==r.length){t.stopPropagation();var o=n.GetData(r[0],"data"),i=this.$element.val();this.$element.val(this.placeholder.id);var a={data:o};if(this.trigger("clear",a),a.prevented)this.$element.val(i);else{for(var u=0;u<o.length;u++)if(a={data:o[u]},this.trigger("unselect",a),a.prevented)return void this.$element.val(i);this.$element.trigger("change"),this.trigger("toggle",{})}}}},r.prototype._handleKeyboardClear=function(e,n,r){r.isOpen()||n.which!=t.DELETE&&n.which!=t.BACKSPACE||this._handleClear(n)},r.prototype.update=function(t,r){if(t.call(this,r),!(this.$selection.find(".select2-selection__placeholder").length>0||0===r.length)){var o=this.options.get("translations").get("removeAllItems"),i=e('<span class="select2-selection__clear" title="'+o()+'">&times;</span>');n.StoreData(i[0],"data",r),this.$selection.find(".select2-selection__rendered").prepend(i)}},r})),t.define("select2/selection/search",["jquery","../utils","../keys"],(function(e,t,n){function r(e,t,n){e.call(this,t,n)}return r.prototype.render=function(t){var n=e('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="searchbox" aria-autocomplete="list" /></li>');this.$searchContainer=n,this.$search=n.find("input");var r=t.call(this);return this._transferTabIndex(),r},r.prototype.bind=function(e,r,o){var i=this,a=r.id+"-results";e.call(this,r,o),r.on("open",(function(){i.$search.attr("aria-controls",a),i.$search.trigger("focus")})),r.on("close",(function(){i.$search.val(""),i.$search.removeAttr("aria-controls"),i.$search.removeAttr("aria-activedescendant"),i.$search.trigger("focus")})),r.on("enable",(function(){i.$search.prop("disabled",!1),i._transferTabIndex()})),r.on("disable",(function(){i.$search.prop("disabled",!0)})),r.on("focus",(function(e){i.$search.trigger("focus")})),r.on("results:focus",(function(e){e.data._resultId?i.$search.attr("aria-activedescendant",e.data._resultId):i.$search.removeAttr("aria-activedescendant")})),this.$selection.on("focusin",".select2-search--inline",(function(e){i.trigger("focus",e)})),this.$selection.on("focusout",".select2-search--inline",(function(e){i._handleBlur(e)})),this.$selection.on("keydown",".select2-search--inline",(function(e){if(e.stopPropagation(),i.trigger("keypress",e),i._keyUpPrevented=e.isDefaultPrevented(),e.which===n.BACKSPACE&&""===i.$search.val()){var r=i.$searchContainer.prev(".select2-selection__choice");if(r.length>0){var o=t.GetData(r[0],"data");i.searchRemoveChoice(o),e.preventDefault()}}})),this.$selection.on("click",".select2-search--inline",(function(e){i.$search.val()&&e.stopPropagation()}));var u=document.documentMode,s=u&&u<=11;this.$selection.on("input.searchcheck",".select2-search--inline",(function(e){s?i.$selection.off("input.search input.searchcheck"):i.$selection.off("keyup.search")})),this.$selection.on("keyup.search input.search",".select2-search--inline",(function(e){if(s&&"input"===e.type)i.$selection.off("input.search input.searchcheck");else{var t=e.which;t!=n.SHIFT&&t!=n.CTRL&&t!=n.ALT&&t!=n.TAB&&i.handleSearch(e)}}))},r.prototype._transferTabIndex=function(e){this.$search.attr("tabindex",this.$selection.attr("tabindex")),this.$selection.attr("tabindex","-1")},r.prototype.createPlaceholder=function(e,t){this.$search.attr("placeholder",t.text)},r.prototype.update=function(e,t){var n=this.$search[0]==document.activeElement;this.$search.attr("placeholder",""),e.call(this,t),this.$selection.find(".select2-selection__rendered").append(this.$searchContainer),this.resizeSearch(),n&&this.$search.trigger("focus")},r.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var e=this.$search.val();this.trigger("query",{term:e})}this._keyUpPrevented=!1},r.prototype.searchRemoveChoice=function(e,t){this.trigger("unselect",{data:t}),this.$search.val(t.text),this.handleSearch()},r.prototype.resizeSearch=function(){this.$search.css("width","25px");var e="";e=""!==this.$search.attr("placeholder")?this.$selection.find(".select2-selection__rendered").width():.75*(this.$search.val().length+1)+"em",this.$search.css("width",e)},r})),t.define("select2/selection/eventRelay",["jquery"],(function(e){function t(){}return t.prototype.bind=function(t,n,r){var o=this,i=["open","opening","close","closing","select","selecting","unselect","unselecting","clear","clearing"],a=["opening","closing","selecting","unselecting","clearing"];t.call(this,n,r),n.on("*",(function(t,n){if(-1!==e.inArray(t,i)){n=n||{};var r=e.Event("select2:"+t,{params:n});o.$element.trigger(r),-1!==e.inArray(t,a)&&(n.prevented=r.isDefaultPrevented())}}))},t})),t.define("select2/translation",["jquery","require"],(function(e,t){function n(e){this.dict=e||{}}return n.prototype.all=function(){return this.dict},n.prototype.get=function(e){return this.dict[e]},n.prototype.extend=function(t){this.dict=e.extend({},t.all(),this.dict)},n._cache={},n.loadPath=function(e){if(!(e in n._cache)){var r=t(e);n._cache[e]=r}return new n(n._cache[e])},n})),t.define("select2/diacritics",[],(function(){return{"Ⓐ":"A","Ａ":"A","À":"A","Á":"A","Â":"A","Ầ":"A","Ấ":"A","Ẫ":"A","Ẩ":"A","Ã":"A","Ā":"A","Ă":"A","Ằ":"A","Ắ":"A","Ẵ":"A","Ẳ":"A","Ȧ":"A","Ǡ":"A","Ä":"A","Ǟ":"A","Ả":"A","Å":"A","Ǻ":"A","Ǎ":"A","Ȁ":"A","Ȃ":"A","Ạ":"A","Ậ":"A","Ặ":"A","Ḁ":"A","Ą":"A","Ⱥ":"A","Ɐ":"A","Ꜳ":"AA","Æ":"AE","Ǽ":"AE","Ǣ":"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY","Ⓑ":"B","Ｂ":"B","Ḃ":"B","Ḅ":"B","Ḇ":"B","Ƀ":"B","Ƃ":"B","Ɓ":"B","Ⓒ":"C","Ｃ":"C","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","Ç":"C","Ḉ":"C","Ƈ":"C","Ȼ":"C","Ꜿ":"C","Ⓓ":"D","Ｄ":"D","Ḋ":"D","Ď":"D","Ḍ":"D","Ḑ":"D","Ḓ":"D","Ḏ":"D","Đ":"D","Ƌ":"D","Ɗ":"D","Ɖ":"D","Ꝺ":"D","Ǳ":"DZ","Ǆ":"DZ","ǲ":"Dz","ǅ":"Dz","Ⓔ":"E","Ｅ":"E","È":"E","É":"E","Ê":"E","Ề":"E","Ế":"E","Ễ":"E","Ể":"E","Ẽ":"E","Ē":"E","Ḕ":"E","Ḗ":"E","Ĕ":"E","Ė":"E","Ë":"E","Ẻ":"E","Ě":"E","Ȅ":"E","Ȇ":"E","Ẹ":"E","Ệ":"E","Ȩ":"E","Ḝ":"E","Ę":"E","Ḙ":"E","Ḛ":"E","Ɛ":"E","Ǝ":"E","Ⓕ":"F","Ｆ":"F","Ḟ":"F","Ƒ":"F","Ꝼ":"F","Ⓖ":"G","Ｇ":"G","Ǵ":"G","Ĝ":"G","Ḡ":"G","Ğ":"G","Ġ":"G","Ǧ":"G","Ģ":"G","Ǥ":"G","Ɠ":"G","Ꞡ":"G","Ᵹ":"G","Ꝿ":"G","Ⓗ":"H","Ｈ":"H","Ĥ":"H","Ḣ":"H","Ḧ":"H","Ȟ":"H","Ḥ":"H","Ḩ":"H","Ḫ":"H","Ħ":"H","Ⱨ":"H","Ⱶ":"H","Ɥ":"H","Ⓘ":"I","Ｉ":"I","Ì":"I","Í":"I","Î":"I","Ĩ":"I","Ī":"I","Ĭ":"I","İ":"I","Ï":"I","Ḯ":"I","Ỉ":"I","Ǐ":"I","Ȉ":"I","Ȋ":"I","Ị":"I","Į":"I","Ḭ":"I","Ɨ":"I","Ⓙ":"J","Ｊ":"J","Ĵ":"J","Ɉ":"J","Ⓚ":"K","Ｋ":"K","Ḱ":"K","Ǩ":"K","Ḳ":"K","Ķ":"K","Ḵ":"K","Ƙ":"K","Ⱪ":"K","Ꝁ":"K","Ꝃ":"K","Ꝅ":"K","Ꞣ":"K","Ⓛ":"L","Ｌ":"L","Ŀ":"L","Ĺ":"L","Ľ":"L","Ḷ":"L","Ḹ":"L","Ļ":"L","Ḽ":"L","Ḻ":"L","Ł":"L","Ƚ":"L","Ɫ":"L","Ⱡ":"L","Ꝉ":"L","Ꝇ":"L","Ꞁ":"L","Ǉ":"LJ","ǈ":"Lj","Ⓜ":"M","Ｍ":"M","Ḿ":"M","Ṁ":"M","Ṃ":"M","Ɱ":"M","Ɯ":"M","Ⓝ":"N","Ｎ":"N","Ǹ":"N","Ń":"N","Ñ":"N","Ṅ":"N","Ň":"N","Ṇ":"N","Ņ":"N","Ṋ":"N","Ṉ":"N","Ƞ":"N","Ɲ":"N","Ꞑ":"N","Ꞥ":"N","Ǌ":"NJ","ǋ":"Nj","Ⓞ":"O","Ｏ":"O","Ò":"O","Ó":"O","Ô":"O","Ồ":"O","Ố":"O","Ỗ":"O","Ổ":"O","Õ":"O","Ṍ":"O","Ȭ":"O","Ṏ":"O","Ō":"O","Ṑ":"O","Ṓ":"O","Ŏ":"O","Ȯ":"O","Ȱ":"O","Ö":"O","Ȫ":"O","Ỏ":"O","Ő":"O","Ǒ":"O","Ȍ":"O","Ȏ":"O","Ơ":"O","Ờ":"O","Ớ":"O","Ỡ":"O","Ở":"O","Ợ":"O","Ọ":"O","Ộ":"O","Ǫ":"O","Ǭ":"O","Ø":"O","Ǿ":"O","Ɔ":"O","Ɵ":"O","Ꝋ":"O","Ꝍ":"O","Œ":"OE","Ƣ":"OI","Ꝏ":"OO","Ȣ":"OU","Ⓟ":"P","Ｐ":"P","Ṕ":"P","Ṗ":"P","Ƥ":"P","Ᵽ":"P","Ꝑ":"P","Ꝓ":"P","Ꝕ":"P","Ⓠ":"Q","Ｑ":"Q","Ꝗ":"Q","Ꝙ":"Q","Ɋ":"Q","Ⓡ":"R","Ｒ":"R","Ŕ":"R","Ṙ":"R","Ř":"R","Ȑ":"R","Ȓ":"R","Ṛ":"R","Ṝ":"R","Ŗ":"R","Ṟ":"R","Ɍ":"R","Ɽ":"R","Ꝛ":"R","Ꞧ":"R","Ꞃ":"R","Ⓢ":"S","Ｓ":"S","ẞ":"S","Ś":"S","Ṥ":"S","Ŝ":"S","Ṡ":"S","Š":"S","Ṧ":"S","Ṣ":"S","Ṩ":"S","Ș":"S","Ş":"S","Ȿ":"S","Ꞩ":"S","Ꞅ":"S","Ⓣ":"T","Ｔ":"T","Ṫ":"T","Ť":"T","Ṭ":"T","Ț":"T","Ţ":"T","Ṱ":"T","Ṯ":"T","Ŧ":"T","Ƭ":"T","Ʈ":"T","Ⱦ":"T","Ꞇ":"T","Ꜩ":"TZ","Ⓤ":"U","Ｕ":"U","Ù":"U","Ú":"U","Û":"U","Ũ":"U","Ṹ":"U","Ū":"U","Ṻ":"U","Ŭ":"U","Ü":"U","Ǜ":"U","Ǘ":"U","Ǖ":"U","Ǚ":"U","Ủ":"U","Ů":"U","Ű":"U","Ǔ":"U","Ȕ":"U","Ȗ":"U","Ư":"U","Ừ":"U","Ứ":"U","Ữ":"U","Ử":"U","Ự":"U","Ụ":"U","Ṳ":"U","Ų":"U","Ṷ":"U","Ṵ":"U","Ʉ":"U","Ⓥ":"V","Ｖ":"V","Ṽ":"V","Ṿ":"V","Ʋ":"V","Ꝟ":"V","Ʌ":"V","Ꝡ":"VY","Ⓦ":"W","Ｗ":"W","Ẁ":"W","Ẃ":"W","Ŵ":"W","Ẇ":"W","Ẅ":"W","Ẉ":"W","Ⱳ":"W","Ⓧ":"X","Ｘ":"X","Ẋ":"X","Ẍ":"X","Ⓨ":"Y","Ｙ":"Y","Ỳ":"Y","Ý":"Y","Ŷ":"Y","Ỹ":"Y","Ȳ":"Y","Ẏ":"Y","Ÿ":"Y","Ỷ":"Y","Ỵ":"Y","Ƴ":"Y","Ɏ":"Y","Ỿ":"Y","Ⓩ":"Z","Ｚ":"Z","Ź":"Z","Ẑ":"Z","Ż":"Z","Ž":"Z","Ẓ":"Z","Ẕ":"Z","Ƶ":"Z","Ȥ":"Z","Ɀ":"Z","Ⱬ":"Z","Ꝣ":"Z","ⓐ":"a","ａ":"a","ẚ":"a","à":"a","á":"a","â":"a","ầ":"a","ấ":"a","ẫ":"a","ẩ":"a","ã":"a","ā":"a","ă":"a","ằ":"a","ắ":"a","ẵ":"a","ẳ":"a","ȧ":"a","ǡ":"a","ä":"a","ǟ":"a","ả":"a","å":"a","ǻ":"a","ǎ":"a","ȁ":"a","ȃ":"a","ạ":"a","ậ":"a","ặ":"a","ḁ":"a","ą":"a","ⱥ":"a","ɐ":"a","ꜳ":"aa","æ":"ae","ǽ":"ae","ǣ":"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay","ⓑ":"b","ｂ":"b","ḃ":"b","ḅ":"b","ḇ":"b","ƀ":"b","ƃ":"b","ɓ":"b","ⓒ":"c","ｃ":"c","ć":"c","ĉ":"c","ċ":"c","č":"c","ç":"c","ḉ":"c","ƈ":"c","ȼ":"c","ꜿ":"c","ↄ":"c","ⓓ":"d","ｄ":"d","ḋ":"d","ď":"d","ḍ":"d","ḑ":"d","ḓ":"d","ḏ":"d","đ":"d","ƌ":"d","ɖ":"d","ɗ":"d","ꝺ":"d","ǳ":"dz","ǆ":"dz","ⓔ":"e","ｅ":"e","è":"e","é":"e","ê":"e","ề":"e","ế":"e","ễ":"e","ể":"e","ẽ":"e","ē":"e","ḕ":"e","ḗ":"e","ĕ":"e","ė":"e","ë":"e","ẻ":"e","ě":"e","ȅ":"e","ȇ":"e","ẹ":"e","ệ":"e","ȩ":"e","ḝ":"e","ę":"e","ḙ":"e","ḛ":"e","ɇ":"e","ɛ":"e","ǝ":"e","ⓕ":"f","ｆ":"f","ḟ":"f","ƒ":"f","ꝼ":"f","ⓖ":"g","ｇ":"g","ǵ":"g","ĝ":"g","ḡ":"g","ğ":"g","ġ":"g","ǧ":"g","ģ":"g","ǥ":"g","ɠ":"g","ꞡ":"g","ᵹ":"g","ꝿ":"g","ⓗ":"h","ｈ":"h","ĥ":"h","ḣ":"h","ḧ":"h","ȟ":"h","ḥ":"h","ḩ":"h","ḫ":"h","ẖ":"h","ħ":"h","ⱨ":"h","ⱶ":"h","ɥ":"h","ƕ":"hv","ⓘ":"i","ｉ":"i","ì":"i","í":"i","î":"i","ĩ":"i","ī":"i","ĭ":"i","ï":"i","ḯ":"i","ỉ":"i","ǐ":"i","ȉ":"i","ȋ":"i","ị":"i","į":"i","ḭ":"i","ɨ":"i","ı":"i","ⓙ":"j","ｊ":"j","ĵ":"j","ǰ":"j","ɉ":"j","ⓚ":"k","ｋ":"k","ḱ":"k","ǩ":"k","ḳ":"k","ķ":"k","ḵ":"k","ƙ":"k","ⱪ":"k","ꝁ":"k","ꝃ":"k","ꝅ":"k","ꞣ":"k","ⓛ":"l","ｌ":"l","ŀ":"l","ĺ":"l","ľ":"l","ḷ":"l","ḹ":"l","ļ":"l","ḽ":"l","ḻ":"l","ſ":"l","ł":"l","ƚ":"l","ɫ":"l","ⱡ":"l","ꝉ":"l","ꞁ":"l","ꝇ":"l","ǉ":"lj","ⓜ":"m","ｍ":"m","ḿ":"m","ṁ":"m","ṃ":"m","ɱ":"m","ɯ":"m","ⓝ":"n","ｎ":"n","ǹ":"n","ń":"n","ñ":"n","ṅ":"n","ň":"n","ṇ":"n","ņ":"n","ṋ":"n","ṉ":"n","ƞ":"n","ɲ":"n","ŉ":"n","ꞑ":"n","ꞥ":"n","ǌ":"nj","ⓞ":"o","ｏ":"o","ò":"o","ó":"o","ô":"o","ồ":"o","ố":"o","ỗ":"o","ổ":"o","õ":"o","ṍ":"o","ȭ":"o","ṏ":"o","ō":"o","ṑ":"o","ṓ":"o","ŏ":"o","ȯ":"o","ȱ":"o","ö":"o","ȫ":"o","ỏ":"o","ő":"o","ǒ":"o","ȍ":"o","ȏ":"o","ơ":"o","ờ":"o","ớ":"o","ỡ":"o","ở":"o","ợ":"o","ọ":"o","ộ":"o","ǫ":"o","ǭ":"o","ø":"o","ǿ":"o","ɔ":"o","ꝋ":"o","ꝍ":"o","ɵ":"o","œ":"oe","ƣ":"oi","ȣ":"ou","ꝏ":"oo","ⓟ":"p","ｐ":"p","ṕ":"p","ṗ":"p","ƥ":"p","ᵽ":"p","ꝑ":"p","ꝓ":"p","ꝕ":"p","ⓠ":"q","ｑ":"q","ɋ":"q","ꝗ":"q","ꝙ":"q","ⓡ":"r","ｒ":"r","ŕ":"r","ṙ":"r","ř":"r","ȑ":"r","ȓ":"r","ṛ":"r","ṝ":"r","ŗ":"r","ṟ":"r","ɍ":"r","ɽ":"r","ꝛ":"r","ꞧ":"r","ꞃ":"r","ⓢ":"s","ｓ":"s","ß":"s","ś":"s","ṥ":"s","ŝ":"s","ṡ":"s","š":"s","ṧ":"s","ṣ":"s","ṩ":"s","ș":"s","ş":"s","ȿ":"s","ꞩ":"s","ꞅ":"s","ẛ":"s","ⓣ":"t","ｔ":"t","ṫ":"t","ẗ":"t","ť":"t","ṭ":"t","ț":"t","ţ":"t","ṱ":"t","ṯ":"t","ŧ":"t","ƭ":"t","ʈ":"t","ⱦ":"t","ꞇ":"t","ꜩ":"tz","ⓤ":"u","ｕ":"u","ù":"u","ú":"u","û":"u","ũ":"u","ṹ":"u","ū":"u","ṻ":"u","ŭ":"u","ü":"u","ǜ":"u","ǘ":"u","ǖ":"u","ǚ":"u","ủ":"u","ů":"u","ű":"u","ǔ":"u","ȕ":"u","ȗ":"u","ư":"u","ừ":"u","ứ":"u","ữ":"u","ử":"u","ự":"u","ụ":"u","ṳ":"u","ų":"u","ṷ":"u","ṵ":"u","ʉ":"u","ⓥ":"v","ｖ":"v","ṽ":"v","ṿ":"v","ʋ":"v","ꝟ":"v","ʌ":"v","ꝡ":"vy","ⓦ":"w","ｗ":"w","ẁ":"w","ẃ":"w","ŵ":"w","ẇ":"w","ẅ":"w","ẘ":"w","ẉ":"w","ⱳ":"w","ⓧ":"x","ｘ":"x","ẋ":"x","ẍ":"x","ⓨ":"y","ｙ":"y","ỳ":"y","ý":"y","ŷ":"y","ỹ":"y","ȳ":"y","ẏ":"y","ÿ":"y","ỷ":"y","ẙ":"y","ỵ":"y","ƴ":"y","ɏ":"y","ỿ":"y","ⓩ":"z","ｚ":"z","ź":"z","ẑ":"z","ż":"z","ž":"z","ẓ":"z","ẕ":"z","ƶ":"z","ȥ":"z","ɀ":"z","ⱬ":"z","ꝣ":"z","Ά":"Α","Έ":"Ε","Ή":"Η","Ί":"Ι","Ϊ":"Ι","Ό":"Ο","Ύ":"Υ","Ϋ":"Υ","Ώ":"Ω","ά":"α","έ":"ε","ή":"η","ί":"ι","ϊ":"ι","ΐ":"ι","ό":"ο","ύ":"υ","ϋ":"υ","ΰ":"υ","ώ":"ω","ς":"σ","’":"'"}})),t.define("select2/data/base",["../utils"],(function(e){function t(e,n){t.__super__.constructor.call(this)}return e.Extend(t,e.Observable),t.prototype.current=function(e){throw new Error("The `current` method must be defined in child classes.")},t.prototype.query=function(e,t){throw new Error("The `query` method must be defined in child classes.")},t.prototype.bind=function(e,t){},t.prototype.destroy=function(){},t.prototype.generateResultId=function(t,n){var r=t.id+"-result-";return r+=e.generateChars(4),null!=n.id?r+="-"+n.id.toString():r+="-"+e.generateChars(4),r},t})),t.define("select2/data/select",["./base","../utils","jquery"],(function(e,t,n){function r(e,t){this.$element=e,this.options=t,r.__super__.constructor.call(this)}return t.Extend(r,e),r.prototype.current=function(e){var t=[],r=this;this.$element.find(":selected").each((function(){var e=n(this),o=r.item(e);t.push(o)})),e(t)},r.prototype.select=function(e){var t=this;if(e.selected=!0,n(e.element).is("option"))return e.element.selected=!0,void this.$element.trigger("change");if(this.$element.prop("multiple"))this.current((function(r){var o=[];(e=[e]).push.apply(e,r);for(var i=0;i<e.length;i++){var a=e[i].id;-1===n.inArray(a,o)&&o.push(a)}t.$element.val(o),t.$element.trigger("change")}));else{var r=e.id;this.$element.val(r),this.$element.trigger("change")}},r.prototype.unselect=function(e){var t=this;if(this.$element.prop("multiple")){if(e.selected=!1,n(e.element).is("option"))return e.element.selected=!1,void this.$element.trigger("change");this.current((function(r){for(var o=[],i=0;i<r.length;i++){var a=r[i].id;a!==e.id&&-1===n.inArray(a,o)&&o.push(a)}t.$element.val(o),t.$element.trigger("change")}))}},r.prototype.bind=function(e,t){var n=this;this.container=e,e.on("select",(function(e){n.select(e.data)})),e.on("unselect",(function(e){n.unselect(e.data)}))},r.prototype.destroy=function(){this.$element.find("*").each((function(){t.RemoveData(this)}))},r.prototype.query=function(e,t){var r=[],o=this;this.$element.children().each((function(){var t=n(this);if(t.is("option")||t.is("optgroup")){var i=o.item(t),a=o.matches(e,i);null!==a&&r.push(a)}})),t({results:r})},r.prototype.addOptions=function(e){t.appendMany(this.$element,e)},r.prototype.option=function(e){var r;e.children?(r=document.createElement("optgroup")).label=e.text:void 0!==(r=document.createElement("option")).textContent?r.textContent=e.text:r.innerText=e.text,void 0!==e.id&&(r.value=e.id),e.disabled&&(r.disabled=!0),e.selected&&(r.selected=!0),e.title&&(r.title=e.title);var o=n(r),i=this._normalizeItem(e);return i.element=r,t.StoreData(r,"data",i),o},r.prototype.item=function(e){var r={};if(null!=(r=t.GetData(e[0],"data")))return r;if(e.is("option"))r={id:e.val(),text:e.text(),disabled:e.prop("disabled"),selected:e.prop("selected"),title:e.prop("title")};else if(e.is("optgroup")){r={text:e.prop("label"),children:[],title:e.prop("title")};for(var o=e.children("option"),i=[],a=0;a<o.length;a++){var u=n(o[a]),s=this.item(u);i.push(s)}r.children=i}return(r=this._normalizeItem(r)).element=e[0],t.StoreData(e[0],"data",r),r},r.prototype._normalizeItem=function(e){return e!==Object(e)&&(e={id:e,text:e}),null!=(e=n.extend({},{text:""},e)).id&&(e.id=e.id.toString()),null!=e.text&&(e.text=e.text.toString()),null==e._resultId&&e.id&&null!=this.container&&(e._resultId=this.generateResultId(this.container,e)),n.extend({},{selected:!1,disabled:!1},e)},r.prototype.matches=function(e,t){return this.options.get("matcher")(e,t)},r})),t.define("select2/data/array",["./select","../utils","jquery"],(function(e,t,n){function r(e,t){this._dataToConvert=t.get("data")||[],r.__super__.constructor.call(this,e,t)}return t.Extend(r,e),r.prototype.bind=function(e,t){r.__super__.bind.call(this,e,t),this.addOptions(this.convertToOptions(this._dataToConvert))},r.prototype.select=function(e){var t=this.$element.find("option").filter((function(t,n){return n.value==e.id.toString()}));0===t.length&&(t=this.option(e),this.addOptions(t)),r.__super__.select.call(this,e)},r.prototype.convertToOptions=function(e){var r=this,o=this.$element.find("option"),i=o.map((function(){return r.item(n(this)).id})).get(),a=[];function u(e){return function(){return n(this).val()==e.id}}for(var s=0;s<e.length;s++){var c=this._normalizeItem(e[s]);if(n.inArray(c.id,i)>=0){var l=o.filter(u(c)),f=this.item(l),d=n.extend(!0,{},c,f),p=this.option(d);l.replaceWith(p)}else{var m=this.option(c);if(c.children){var h=this.convertToOptions(c.children);t.appendMany(m,h)}a.push(m)}}return a},r})),t.define("select2/data/ajax",["./array","../utils","jquery"],(function(e,t,n){function r(e,t){this.ajaxOptions=this._applyDefaults(t.get("ajax")),null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults),r.__super__.constructor.call(this,e,t)}return t.Extend(r,e),r.prototype._applyDefaults=function(e){var t={data:function(e){return n.extend({},e,{q:e.term})},transport:function(e,t,r){var o=n.ajax(e);return o.then(t),o.fail(r),o}};return n.extend({},t,e,!0)},r.prototype.processResults=function(e){return e},r.prototype.query=function(e,t){var r=this;null!=this._request&&(n.isFunction(this._request.abort)&&this._request.abort(),this._request=null);var o=n.extend({type:"GET"},this.ajaxOptions);function i(){var i=o.transport(o,(function(o){var i=r.processResults(o,e);r.options.get("debug")&&window.console&&console.error&&(i&&i.results&&n.isArray(i.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")),t(i)}),(function(){"status"in i&&(0===i.status||"0"===i.status)||r.trigger("results:message",{message:"errorLoading"})}));r._request=i}"function"==typeof o.url&&(o.url=o.url.call(this.$element,e)),"function"==typeof o.data&&(o.data=o.data.call(this.$element,e)),this.ajaxOptions.delay&&null!=e.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(i,this.ajaxOptions.delay)):i()},r})),t.define("select2/data/tags",["jquery"],(function(e){function t(t,n,r){var o=r.get("tags"),i=r.get("createTag");void 0!==i&&(this.createTag=i);var a=r.get("insertTag");if(void 0!==a&&(this.insertTag=a),t.call(this,n,r),e.isArray(o))for(var u=0;u<o.length;u++){var s=o[u],c=this._normalizeItem(s),l=this.option(c);this.$element.append(l)}}return t.prototype.query=function(e,t,n){var r=this;this._removeOldTags(),null!=t.term&&null==t.page?e.call(this,t,(function e(o,i){for(var a=o.results,u=0;u<a.length;u++){var s=a[u],c=null!=s.children&&!e({results:s.children},!0);if((s.text||"").toUpperCase()===(t.term||"").toUpperCase()||c)return!i&&(o.data=a,void n(o))}if(i)return!0;var l=r.createTag(t);if(null!=l){var f=r.option(l);f.attr("data-select2-tag",!0),r.addOptions([f]),r.insertTag(a,l)}o.results=a,n(o)})):e.call(this,t,n)},t.prototype.createTag=function(t,n){var r=e.trim(n.term);return""===r?null:{id:r,text:r}},t.prototype.insertTag=function(e,t,n){t.unshift(n)},t.prototype._removeOldTags=function(t){this.$element.find("option[data-select2-tag]").each((function(){this.selected||e(this).remove()}))},t})),t.define("select2/data/tokenizer",["jquery"],(function(e){function t(e,t,n){var r=n.get("tokenizer");void 0!==r&&(this.tokenizer=r),e.call(this,t,n)}return t.prototype.bind=function(e,t,n){e.call(this,t,n),this.$search=t.dropdown.$search||t.selection.$search||n.find(".select2-search__field")},t.prototype.query=function(t,n,r){var o=this;n.term=n.term||"";var i=this.tokenizer(n,this.options,(function(t){var n=o._normalizeItem(t);if(!o.$element.find("option").filter((function(){return e(this).val()===n.id})).length){var r=o.option(n);r.attr("data-select2-tag",!0),o._removeOldTags(),o.addOptions([r])}!function(e){o.trigger("select",{data:e})}(n)}));i.term!==n.term&&(this.$search.length&&(this.$search.val(i.term),this.$search.trigger("focus")),n.term=i.term),t.call(this,n,r)},t.prototype.tokenizer=function(t,n,r,o){for(var i=r.get("tokenSeparators")||[],a=n.term,u=0,s=this.createTag||function(e){return{id:e.term,text:e.term}};u<a.length;){var c=a[u];if(-1!==e.inArray(c,i)){var l=a.substr(0,u),f=s(e.extend({},n,{term:l}));null!=f?(o(f),a=a.substr(u+1)||"",u=0):u++}else u++}return{term:a}},t})),t.define("select2/data/minimumInputLength",[],(function(){function e(e,t,n){this.minimumInputLength=n.get("minimumInputLength"),e.call(this,t,n)}return e.prototype.query=function(e,t,n){t.term=t.term||"",t.term.length<this.minimumInputLength?this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:t.term,params:t}}):e.call(this,t,n)},e})),t.define("select2/data/maximumInputLength",[],(function(){function e(e,t,n){this.maximumInputLength=n.get("maximumInputLength"),e.call(this,t,n)}return e.prototype.query=function(e,t,n){t.term=t.term||"",this.maximumInputLength>0&&t.term.length>this.maximumInputLength?this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:t.term,params:t}}):e.call(this,t,n)},e})),t.define("select2/data/maximumSelectionLength",[],(function(){function e(e,t,n){this.maximumSelectionLength=n.get("maximumSelectionLength"),e.call(this,t,n)}return e.prototype.bind=function(e,t,n){var r=this;e.call(this,t,n),t.on("select",(function(){r._checkIfMaximumSelected()}))},e.prototype.query=function(e,t,n){var r=this;this._checkIfMaximumSelected((function(){e.call(r,t,n)}))},e.prototype._checkIfMaximumSelected=function(e,t){var n=this;this.current((function(e){var r=null!=e?e.length:0;n.maximumSelectionLength>0&&r>=n.maximumSelectionLength?n.trigger("results:message",{message:"maximumSelected",args:{maximum:n.maximumSelectionLength}}):t&&t()}))},e})),t.define("select2/dropdown",["jquery","./utils"],(function(e,t){function n(e,t){this.$element=e,this.options=t,n.__super__.constructor.call(this)}return t.Extend(n,t.Observable),n.prototype.render=function(){var t=e('<span class="select2-dropdown"><span class="select2-results"></span></span>');return t.attr("dir",this.options.get("dir")),this.$dropdown=t,t},n.prototype.bind=function(){},n.prototype.position=function(e,t){},n.prototype.destroy=function(){this.$dropdown.remove()},n})),t.define("select2/dropdown/search",["jquery","../utils"],(function(e,t){function n(){}return n.prototype.render=function(t){var n=t.call(this),r=e('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="searchbox" aria-autocomplete="list" /></span>');return this.$searchContainer=r,this.$search=r.find("input"),n.prepend(r),n},n.prototype.bind=function(t,n,r){var o=this,i=n.id+"-results";t.call(this,n,r),this.$search.on("keydown",(function(e){o.trigger("keypress",e),o._keyUpPrevented=e.isDefaultPrevented()})),this.$search.on("input",(function(t){e(this).off("keyup")})),this.$search.on("keyup input",(function(e){o.handleSearch(e)})),n.on("open",(function(){o.$search.attr("tabindex",0),o.$search.attr("aria-controls",i),o.$search.trigger("focus"),window.setTimeout((function(){o.$search.trigger("focus")}),0)})),n.on("close",(function(){o.$search.attr("tabindex",-1),o.$search.removeAttr("aria-controls"),o.$search.removeAttr("aria-activedescendant"),o.$search.val(""),o.$search.trigger("blur")})),n.on("focus",(function(){n.isOpen()||o.$search.trigger("focus")})),n.on("results:all",(function(e){null!=e.query.term&&""!==e.query.term||(o.showSearch(e)?o.$searchContainer.removeClass("select2-search--hide"):o.$searchContainer.addClass("select2-search--hide"))})),n.on("results:focus",(function(e){e.data._resultId?o.$search.attr("aria-activedescendant",e.data._resultId):o.$search.removeAttr("aria-activedescendant")}))},n.prototype.handleSearch=function(e){if(!this._keyUpPrevented){var t=this.$search.val();this.trigger("query",{term:t})}this._keyUpPrevented=!1},n.prototype.showSearch=function(e,t){return!0},n})),t.define("select2/dropdown/hidePlaceholder",[],(function(){function e(e,t,n,r){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),e.call(this,t,n,r)}return e.prototype.append=function(e,t){t.results=this.removePlaceholder(t.results),e.call(this,t)},e.prototype.normalizePlaceholder=function(e,t){return"string"==typeof t&&(t={id:"",text:t}),t},e.prototype.removePlaceholder=function(e,t){for(var n=t.slice(0),r=t.length-1;r>=0;r--){var o=t[r];this.placeholder.id===o.id&&n.splice(r,1)}return n},e})),t.define("select2/dropdown/infiniteScroll",["jquery"],(function(e){function t(e,t,n,r){this.lastParams={},e.call(this,t,n,r),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return t.prototype.append=function(e,t){this.$loadingMore.remove(),this.loading=!1,e.call(this,t),this.showLoadingMore(t)&&(this.$results.append(this.$loadingMore),this.loadMoreIfNeeded())},t.prototype.bind=function(e,t,n){var r=this;e.call(this,t,n),t.on("query",(function(e){r.lastParams=e,r.loading=!0})),t.on("query:append",(function(e){r.lastParams=e,r.loading=!0})),this.$results.on("scroll",this.loadMoreIfNeeded.bind(this))},t.prototype.loadMoreIfNeeded=function(){var t=e.contains(document.documentElement,this.$loadingMore[0]);!this.loading&&t&&this.$results.offset().top+this.$results.outerHeight(!1)+50>=this.$loadingMore.offset().top+this.$loadingMore.outerHeight(!1)&&this.loadMore()},t.prototype.loadMore=function(){this.loading=!0;var t=e.extend({},{page:1},this.lastParams);t.page++,this.trigger("query:append",t)},t.prototype.showLoadingMore=function(e,t){return t.pagination&&t.pagination.more},t.prototype.createLoadingMore=function(){var t=e('<li class="select2-results__option select2-results__option--load-more"role="option" aria-disabled="true"></li>'),n=this.options.get("translations").get("loadingMore");return t.html(n(this.lastParams)),t},t})),t.define("select2/dropdown/attachBody",["jquery","../utils"],(function(e,t){function n(t,n,r){this.$dropdownParent=e(r.get("dropdownParent")||document.body),t.call(this,n,r)}return n.prototype.bind=function(e,t,n){var r=this;e.call(this,t,n),t.on("open",(function(){r._showDropdown(),r._attachPositioningHandler(t),r._bindContainerResultHandlers(t)})),t.on("close",(function(){r._hideDropdown(),r._detachPositioningHandler(t)})),this.$dropdownContainer.on("mousedown",(function(e){e.stopPropagation()}))},n.prototype.destroy=function(e){e.call(this),this.$dropdownContainer.remove()},n.prototype.position=function(e,t,n){t.attr("class",n.attr("class")),t.removeClass("select2"),t.addClass("select2-container--open"),t.css({position:"absolute",top:-999999}),this.$container=n},n.prototype.render=function(t){var n=e("<span></span>"),r=t.call(this);return n.append(r),this.$dropdownContainer=n,n},n.prototype._hideDropdown=function(e){this.$dropdownContainer.detach()},n.prototype._bindContainerResultHandlers=function(e,t){if(!this._containerResultsHandlersBound){var n=this;t.on("results:all",(function(){n._positionDropdown(),n._resizeDropdown()})),t.on("results:append",(function(){n._positionDropdown(),n._resizeDropdown()})),t.on("results:message",(function(){n._positionDropdown(),n._resizeDropdown()})),t.on("select",(function(){n._positionDropdown(),n._resizeDropdown()})),t.on("unselect",(function(){n._positionDropdown(),n._resizeDropdown()})),this._containerResultsHandlersBound=!0}},n.prototype._attachPositioningHandler=function(n,r){var o=this,i="scroll.select2."+r.id,a="resize.select2."+r.id,u="orientationchange.select2."+r.id,s=this.$container.parents().filter(t.hasScroll);s.each((function(){t.StoreData(this,"select2-scroll-position",{x:e(this).scrollLeft(),y:e(this).scrollTop()})})),s.on(i,(function(n){var r=t.GetData(this,"select2-scroll-position");e(this).scrollTop(r.y)})),e(window).on(i+" "+a+" "+u,(function(e){o._positionDropdown(),o._resizeDropdown()}))},n.prototype._detachPositioningHandler=function(n,r){var o="scroll.select2."+r.id,i="resize.select2."+r.id,a="orientationchange.select2."+r.id;this.$container.parents().filter(t.hasScroll).off(o),e(window).off(o+" "+i+" "+a)},n.prototype._positionDropdown=function(){var t=e(window),n=this.$dropdown.hasClass("select2-dropdown--above"),r=this.$dropdown.hasClass("select2-dropdown--below"),o=null,i=this.$container.offset();i.bottom=i.top+this.$container.outerHeight(!1);var a={height:this.$container.outerHeight(!1)};a.top=i.top,a.bottom=i.top+a.height;var u=this.$dropdown.outerHeight(!1),s=t.scrollTop(),c=t.scrollTop()+t.height(),l=s<i.top-u,f=c>i.bottom+u,d={left:i.left,top:a.bottom},p=this.$dropdownParent;"static"===p.css("position")&&(p=p.offsetParent());var m={top:0,left:0};(e.contains(document.body,p[0])||p[0].isConnected)&&(m=p.offset()),d.top-=m.top,d.left-=m.left,n||r||(o="below"),f||!l||n?!l&&f&&n&&(o="below"):o="above",("above"==o||n&&"below"!==o)&&(d.top=a.top-m.top-u),null!=o&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+o),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+o)),this.$dropdownContainer.css(d)},n.prototype._resizeDropdown=function(){var e={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(e.minWidth=e.width,e.position="relative",e.width="auto"),this.$dropdown.css(e)},n.prototype._showDropdown=function(e){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},n})),t.define("select2/dropdown/minimumResultsForSearch",[],(function(){function e(e,t,n,r){this.minimumResultsForSearch=n.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),e.call(this,t,n,r)}return e.prototype.showSearch=function(e,t){return!(function e(t){for(var n=0,r=0;r<t.length;r++){var o=t[r];o.children?n+=e(o.children):n++}return n}(t.data.results)<this.minimumResultsForSearch)&&e.call(this,t)},e})),t.define("select2/dropdown/selectOnClose",["../utils"],(function(e){function t(){}return t.prototype.bind=function(e,t,n){var r=this;e.call(this,t,n),t.on("close",(function(e){r._handleSelectOnClose(e)}))},t.prototype._handleSelectOnClose=function(t,n){if(n&&null!=n.originalSelect2Event){var r=n.originalSelect2Event;if("select"===r._type||"unselect"===r._type)return}var o=this.getHighlightedResults();if(!(o.length<1)){var i=e.GetData(o[0],"data");null!=i.element&&i.element.selected||null==i.element&&i.selected||this.trigger("select",{data:i})}},t})),t.define("select2/dropdown/closeOnSelect",[],(function(){function e(){}return e.prototype.bind=function(e,t,n){var r=this;e.call(this,t,n),t.on("select",(function(e){r._selectTriggered(e)})),t.on("unselect",(function(e){r._selectTriggered(e)}))},e.prototype._selectTriggered=function(e,t){var n=t.originalEvent;n&&(n.ctrlKey||n.metaKey)||this.trigger("close",{originalEvent:n,originalSelect2Event:t})},e})),t.define("select2/i18n/en",[],(function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(e){var t=e.input.length-e.maximum,n="Please delete "+t+" character";return 1!=t&&(n+="s"),n},inputTooShort:function(e){return"Please enter "+(e.minimum-e.input.length)+" or more characters"},loadingMore:function(){return"Loading more results…"},maximumSelected:function(e){var t="You can only select "+e.maximum+" item";return 1!=e.maximum&&(t+="s"),t},noResults:function(){return"No results found"},searching:function(){return"Searching…"},removeAllItems:function(){return"Remove all items"}}})),t.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],(function(e,t,n,r,o,i,a,u,s,c,l,f,d,p,m,h,g,v,b,y,w,x,C,k,S,T,E,O,_){function A(){this.reset()}return A.prototype.apply=function(l){if(null==(l=e.extend(!0,{},this.defaults,l)).dataAdapter){if(null!=l.ajax?l.dataAdapter=m:null!=l.data?l.dataAdapter=p:l.dataAdapter=d,l.minimumInputLength>0&&(l.dataAdapter=c.Decorate(l.dataAdapter,v)),l.maximumInputLength>0&&(l.dataAdapter=c.Decorate(l.dataAdapter,b)),l.maximumSelectionLength>0&&(l.dataAdapter=c.Decorate(l.dataAdapter,y)),l.tags&&(l.dataAdapter=c.Decorate(l.dataAdapter,h)),null==l.tokenSeparators&&null==l.tokenizer||(l.dataAdapter=c.Decorate(l.dataAdapter,g)),null!=l.query){var f=t(l.amdBase+"compat/query");l.dataAdapter=c.Decorate(l.dataAdapter,f)}if(null!=l.initSelection){var _=t(l.amdBase+"compat/initSelection");l.dataAdapter=c.Decorate(l.dataAdapter,_)}}if(null==l.resultsAdapter&&(l.resultsAdapter=n,null!=l.ajax&&(l.resultsAdapter=c.Decorate(l.resultsAdapter,k)),null!=l.placeholder&&(l.resultsAdapter=c.Decorate(l.resultsAdapter,C)),l.selectOnClose&&(l.resultsAdapter=c.Decorate(l.resultsAdapter,E))),null==l.dropdownAdapter){if(l.multiple)l.dropdownAdapter=w;else{var A=c.Decorate(w,x);l.dropdownAdapter=A}if(0!==l.minimumResultsForSearch&&(l.dropdownAdapter=c.Decorate(l.dropdownAdapter,T)),l.closeOnSelect&&(l.dropdownAdapter=c.Decorate(l.dropdownAdapter,O)),null!=l.dropdownCssClass||null!=l.dropdownCss||null!=l.adaptDropdownCssClass){var D=t(l.amdBase+"compat/dropdownCss");l.dropdownAdapter=c.Decorate(l.dropdownAdapter,D)}l.dropdownAdapter=c.Decorate(l.dropdownAdapter,S)}if(null==l.selectionAdapter){if(l.multiple?l.selectionAdapter=o:l.selectionAdapter=r,null!=l.placeholder&&(l.selectionAdapter=c.Decorate(l.selectionAdapter,i)),l.allowClear&&(l.selectionAdapter=c.Decorate(l.selectionAdapter,a)),l.multiple&&(l.selectionAdapter=c.Decorate(l.selectionAdapter,u)),null!=l.containerCssClass||null!=l.containerCss||null!=l.adaptContainerCssClass){var N=t(l.amdBase+"compat/containerCss");l.selectionAdapter=c.Decorate(l.selectionAdapter,N)}l.selectionAdapter=c.Decorate(l.selectionAdapter,s)}l.language=this._resolveLanguage(l.language),l.language.push("en");for(var M=[],R=0;R<l.language.length;R++){var z=l.language[R];-1===M.indexOf(z)&&M.push(z)}return l.language=M,l.translations=this._processTranslations(l.language,l.debug),l},A.prototype.reset=function(){function t(e){return e.replace(/[^\u0000-\u007E]/g,(function(e){return f[e]||e}))}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:c.escapeMarkup,language:{},matcher:function n(r,o){if(""===e.trim(r.term))return o;if(o.children&&o.children.length>0){for(var i=e.extend(!0,{},o),a=o.children.length-1;a>=0;a--)null==n(r,o.children[a])&&i.children.splice(a,1);return i.children.length>0?i:n(r,i)}var u=t(o.text).toUpperCase(),s=t(r.term).toUpperCase();return u.indexOf(s)>-1?o:null},minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,scrollAfterSelect:!1,sorter:function(e){return e},templateResult:function(e){return e.text},templateSelection:function(e){return e.text},theme:"default",width:"resolve"}},A.prototype.applyFromElement=function(e,t){var n=e.language,r=this.defaults.language,o=t.prop("lang"),i=t.closest("[lang]").prop("lang"),a=Array.prototype.concat.call(this._resolveLanguage(o),this._resolveLanguage(n),this._resolveLanguage(r),this._resolveLanguage(i));return e.language=a,e},A.prototype._resolveLanguage=function(t){if(!t)return[];if(e.isEmptyObject(t))return[];if(e.isPlainObject(t))return[t];var n;n=e.isArray(t)?t:[t];for(var r=[],o=0;o<n.length;o++)if(r.push(n[o]),"string"==typeof n[o]&&n[o].indexOf("-")>0){var i=n[o].split("-")[0];r.push(i)}return r},A.prototype._processTranslations=function(t,n){for(var r=new l,o=0;o<t.length;o++){var i=new l,a=t[o];if("string"==typeof a)try{i=l.loadPath(a)}catch(e){try{a=this.defaults.amdLanguageBase+a,i=l.loadPath(a)}catch(e){n&&window.console&&console.warn&&console.warn('Select2: The language file for "'+a+'" could not be automatically loaded. A fallback will be used instead.')}}else i=e.isPlainObject(a)?new l(a):a;r.extend(i)}return r},A.prototype.set=function(t,n){var r={};r[e.camelCase(t)]=n;var o=c._convertData(r);e.extend(!0,this.defaults,o)},new A})),t.define("select2/options",["require","jquery","./defaults","./utils"],(function(e,t,n,r){function o(t,o){if(this.options=t,null!=o&&this.fromElement(o),null!=o&&(this.options=n.applyFromElement(this.options,o)),this.options=n.apply(this.options),o&&o.is("input")){var i=e(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=r.Decorate(this.options.dataAdapter,i)}}return o.prototype.fromElement=function(e){var n=["select2"];null==this.options.multiple&&(this.options.multiple=e.prop("multiple")),null==this.options.disabled&&(this.options.disabled=e.prop("disabled")),null==this.options.dir&&(e.prop("dir")?this.options.dir=e.prop("dir"):e.closest("[dir]").prop("dir")?this.options.dir=e.closest("[dir]").prop("dir"):this.options.dir="ltr"),e.prop("disabled",this.options.disabled),e.prop("multiple",this.options.multiple),r.GetData(e[0],"select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),r.StoreData(e[0],"data",r.GetData(e[0],"select2Tags")),r.StoreData(e[0],"tags",!0)),r.GetData(e[0],"ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),e.attr("ajax--url",r.GetData(e[0],"ajaxUrl")),r.StoreData(e[0],"ajax-Url",r.GetData(e[0],"ajaxUrl")));var o={};function i(e,t){return t.toUpperCase()}for(var a=0;a<e[0].attributes.length;a++){var u=e[0].attributes[a].name;if("data-"==u.substr(0,"data-".length)){var s=u.substring("data-".length),c=r.GetData(e[0],s);o[s.replace(/-([a-z])/g,i)]=c}}t.fn.jquery&&"1."==t.fn.jquery.substr(0,2)&&e[0].dataset&&(o=t.extend(!0,{},e[0].dataset,o));var l=t.extend(!0,{},r.GetData(e[0]),o);for(var f in l=r._convertData(l))t.inArray(f,n)>-1||(t.isPlainObject(this.options[f])?t.extend(this.options[f],l[f]):this.options[f]=l[f]);return this},o.prototype.get=function(e){return this.options[e]},o.prototype.set=function(e,t){this.options[e]=t},o})),t.define("select2/core",["jquery","./options","./utils","./keys"],(function(e,t,n,r){var o=function(e,r){null!=n.GetData(e[0],"select2")&&n.GetData(e[0],"select2").destroy(),this.$element=e,this.id=this._generateId(e),r=r||{},this.options=new t(r,e),o.__super__.constructor.call(this);var i=e.attr("tabindex")||0;n.StoreData(e[0],"old-tabindex",i),e.attr("tabindex","-1");var a=this.options.get("dataAdapter");this.dataAdapter=new a(e,this.options);var u=this.render();this._placeContainer(u);var s=this.options.get("selectionAdapter");this.selection=new s(e,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,u);var c=this.options.get("dropdownAdapter");this.dropdown=new c(e,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,u);var l=this.options.get("resultsAdapter");this.results=new l(e,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var f=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current((function(e){f.trigger("selection:update",{data:e})})),e.addClass("select2-hidden-accessible"),e.attr("aria-hidden","true"),this._syncAttributes(),n.StoreData(e[0],"select2",this),e.data("select2",this)};return n.Extend(o,n.Observable),o.prototype._generateId=function(e){return"select2-"+(null!=e.attr("id")?e.attr("id"):null!=e.attr("name")?e.attr("name")+"-"+n.generateChars(2):n.generateChars(4)).replace(/(:|\.|\[|\]|,)/g,"")},o.prototype._placeContainer=function(e){e.insertAfter(this.$element);var t=this._resolveWidth(this.$element,this.options.get("width"));null!=t&&e.css("width",t)},o.prototype._resolveWidth=function(e,t){var n=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==t){var r=this._resolveWidth(e,"style");return null!=r?r:this._resolveWidth(e,"element")}if("element"==t){var o=e.outerWidth(!1);return o<=0?"auto":o+"px"}if("style"==t){var i=e.attr("style");if("string"!=typeof i)return null;for(var a=i.split(";"),u=0,s=a.length;u<s;u+=1){var c=a[u].replace(/\s/g,"").match(n);if(null!==c&&c.length>=1)return c[1]}return null}return"computedstyle"==t?window.getComputedStyle(e[0]).width:t},o.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},o.prototype._registerDomEvents=function(){var t=this;this.$element.on("change.select2",(function(){t.dataAdapter.current((function(e){t.trigger("selection:update",{data:e})}))})),this.$element.on("focus.select2",(function(e){t.trigger("focus",e)})),this._syncA=n.bind(this._syncAttributes,this),this._syncS=n.bind(this._syncSubtree,this),this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._syncA);var r=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;null!=r?(this._observer=new r((function(n){e.each(n,t._syncA),e.each(n,t._syncS)})),this._observer.observe(this.$element[0],{attributes:!0,childList:!0,subtree:!1})):this.$element[0].addEventListener&&(this.$element[0].addEventListener("DOMAttrModified",t._syncA,!1),this.$element[0].addEventListener("DOMNodeInserted",t._syncS,!1),this.$element[0].addEventListener("DOMNodeRemoved",t._syncS,!1))},o.prototype._registerDataEvents=function(){var e=this;this.dataAdapter.on("*",(function(t,n){e.trigger(t,n)}))},o.prototype._registerSelectionEvents=function(){var t=this,n=["toggle","focus"];this.selection.on("toggle",(function(){t.toggleDropdown()})),this.selection.on("focus",(function(e){t.focus(e)})),this.selection.on("*",(function(r,o){-1===e.inArray(r,n)&&t.trigger(r,o)}))},o.prototype._registerDropdownEvents=function(){var e=this;this.dropdown.on("*",(function(t,n){e.trigger(t,n)}))},o.prototype._registerResultsEvents=function(){var e=this;this.results.on("*",(function(t,n){e.trigger(t,n)}))},o.prototype._registerEvents=function(){var e=this;this.on("open",(function(){e.$container.addClass("select2-container--open")})),this.on("close",(function(){e.$container.removeClass("select2-container--open")})),this.on("enable",(function(){e.$container.removeClass("select2-container--disabled")})),this.on("disable",(function(){e.$container.addClass("select2-container--disabled")})),this.on("blur",(function(){e.$container.removeClass("select2-container--focus")})),this.on("query",(function(t){e.isOpen()||e.trigger("open",{}),this.dataAdapter.query(t,(function(n){e.trigger("results:all",{data:n,query:t})}))})),this.on("query:append",(function(t){this.dataAdapter.query(t,(function(n){e.trigger("results:append",{data:n,query:t})}))})),this.on("keypress",(function(t){var n=t.which;e.isOpen()?n===r.ESC||n===r.TAB||n===r.UP&&t.altKey?(e.close(),t.preventDefault()):n===r.ENTER?(e.trigger("results:select",{}),t.preventDefault()):n===r.SPACE&&t.ctrlKey?(e.trigger("results:toggle",{}),t.preventDefault()):n===r.UP?(e.trigger("results:previous",{}),t.preventDefault()):n===r.DOWN&&(e.trigger("results:next",{}),t.preventDefault()):(n===r.ENTER||n===r.SPACE||n===r.DOWN&&t.altKey)&&(e.open(),t.preventDefault())}))},o.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.options.get("disabled")?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},o.prototype._syncSubtree=function(e,t){var n=!1,r=this;if(!e||!e.target||"OPTION"===e.target.nodeName||"OPTGROUP"===e.target.nodeName){if(t)if(t.addedNodes&&t.addedNodes.length>0)for(var o=0;o<t.addedNodes.length;o++)t.addedNodes[o].selected&&(n=!0);else t.removedNodes&&t.removedNodes.length>0&&(n=!0);else n=!0;n&&this.dataAdapter.current((function(e){r.trigger("selection:update",{data:e})}))}},o.prototype.trigger=function(e,t){var n=o.__super__.trigger,r={open:"opening",close:"closing",select:"selecting",unselect:"unselecting",clear:"clearing"};if(void 0===t&&(t={}),e in r){var i=r[e],a={prevented:!1,name:e,args:t};if(n.call(this,i,a),a.prevented)return void(t.prevented=!0)}n.call(this,e,t)},o.prototype.toggleDropdown=function(){this.options.get("disabled")||(this.isOpen()?this.close():this.open())},o.prototype.open=function(){this.isOpen()||this.trigger("query",{})},o.prototype.close=function(){this.isOpen()&&this.trigger("close",{})},o.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")},o.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")},o.prototype.focus=function(e){this.hasFocus()||(this.$container.addClass("select2-container--focus"),this.trigger("focus",{}))},o.prototype.enable=function(e){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'),null!=e&&0!==e.length||(e=[!0]);var t=!e[0];this.$element.prop("disabled",t)},o.prototype.data=function(){this.options.get("debug")&&arguments.length>0&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var e=[];return this.dataAdapter.current((function(t){e=t})),e},o.prototype.val=function(t){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),null==t||0===t.length)return this.$element.val();var n=t[0];e.isArray(n)&&(n=e.map(n,(function(e){return e.toString()}))),this.$element.val(n).trigger("change")},o.prototype.destroy=function(){this.$container.remove(),this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._syncA),null!=this._observer?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&(this.$element[0].removeEventListener("DOMAttrModified",this._syncA,!1),this.$element[0].removeEventListener("DOMNodeInserted",this._syncS,!1),this.$element[0].removeEventListener("DOMNodeRemoved",this._syncS,!1)),this._syncA=null,this._syncS=null,this.$element.off(".select2"),this.$element.attr("tabindex",n.GetData(this.$element[0],"old-tabindex")),this.$element.removeClass("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),n.RemoveData(this.$element[0]),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},o.prototype.render=function(){var t=e('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return t.attr("dir",this.options.get("dir")),this.$container=t,this.$container.addClass("select2-container--"+this.options.get("theme")),n.StoreData(t[0],"element",this.$element),t},o})),t.define("jquery-mousewheel",["jquery"],(function(e){return e})),t.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults","./select2/utils"],(function(e,t,n,r,o){if(null==e.fn.select2){var i=["open","close","destroy"];e.fn.select2=function(t){if("object"==typeof(t=t||{}))return this.each((function(){var r=e.extend(!0,{},t);new n(e(this),r)})),this;if("string"==typeof t){var r,a=Array.prototype.slice.call(arguments,1);return this.each((function(){var e=o.GetData(this,"select2");null==e&&window.console&&console.error&&console.error("The select2('"+t+"') method was called on an element that is not using Select2."),r=e[t].apply(e,a)})),e.inArray(t,i)>-1?this:r}throw new Error("Invalid arguments for Select2: "+t)}}return null==e.fn.select2.defaults&&(e.fn.select2.defaults=r),n})),{define:t.define,require:t.require}}(),n=t.require("jquery.select2");return e.fn.select2.amd=t,n})?r.apply(t,o):r)||(e.exports=i)},function(e,t,n){var r=n(34);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(11)(r,o);r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(10)(!1)).push([e.i,"/* This is a compiled file, you should be editing the file in the templates directory */\r\n.pace {\r\n  -webkit-pointer-events: none;\r\n  pointer-events: none;\r\n\r\n  -webkit-user-select: none;\r\n  -moz-user-select: none;\r\n  -ms-user-select: none;\r\n      user-select: none;\r\n}\r\n\r\n.pace-inactive {\r\n  display: none;\r\n}\r\n\r\n.pace .pace-progress {\r\n  background: #2299dd;\r\n  position: fixed;\r\n  z-index: 2000;\r\n  top: 0;\r\n  right: 100%;\r\n  width: 100%;\r\n  height: 2px;\r\n}\r\n",""])},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var o,i=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(i)?e:(o=0===i.indexOf("//")?i:0===i.indexOf("/")?n+i:r+i.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")}))}},function(e,t,n){n(37)},function(e,t,n){(function(e){!function(t){"use strict";var n=function(){},r=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e(t.apply(null,n))}},o=function(e){return function(){return e}},i=function(e){return e};function a(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=t.concat(n);return e.apply(null,o)}}var u=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return!e.apply(null,t)}},s=function(e){return function(){throw new Error(e)}},c=o(!1),l=o(!0),f=tinymce.util.Tools.resolve("tinymce.ThemeManager"),d=function(){return(d=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function p(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function m(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,u=i.length;a<u;a++,o++)r[o]=i[a];return r}var h,g=function(){return v},v=function(){var e=function(e){return e.isNone()},t=function(e){return e()},r=function(e){return e},i={fold:function(e,t){return e()},is:c,isSome:c,isNone:l,getOr:r,getOrThunk:t,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:o(null),getOrUndefined:o(void 0),or:r,orThunk:t,map:g,each:n,bind:g,exists:c,forall:l,filter:g,equals:e,equals_:e,toArray:function(){return[]},toString:o("none()")};return Object.freeze&&Object.freeze(i),i}(),b=function(e){var t=o(e),n=function(){return i},r=function(t){return t(e)},i={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:l,isNone:c,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return b(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?i:v},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(c,(function(t){return n(e,t)}))}};return i},y={some:b,none:g,from:function(e){return null==e?v:b(e)}},w=function(e){return{is:function(t){return e===t},isValue:l,isError:c,getOr:o(e),getOrThunk:o(e),getOrDie:o(e),or:function(t){return w(e)},orThunk:function(t){return w(e)},fold:function(t,n){return n(e)},map:function(t){return w(t(e))},mapError:function(t){return w(e)},each:function(t){t(e)},bind:function(t){return t(e)},exists:function(t){return t(e)},forall:function(t){return t(e)},toOption:function(){return y.some(e)}}},x=function(e){return{is:c,isValue:c,isError:l,getOr:i,getOrThunk:function(e){return e()},getOrDie:function(){return s(String(e))()},or:function(e){return e},orThunk:function(e){return e()},fold:function(t,n){return t(e)},map:function(t){return x(e)},mapError:function(t){return x(t(e))},each:n,bind:function(t){return x(e)},exists:c,forall:l,toOption:y.none}},C={value:w,error:x,fromOption:function(e,t){return e.fold((function(){return x(t)}),w)}},k=function(e){return function(t){return function(e){if(null===e)return"null";var t=typeof e;return"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t}(t)===e}},S=k("string"),T=k("object"),E=k("array"),O=k("boolean"),_=k("function"),A=k("number"),D=function(e,t){if(E(e)){for(var n=0,r=e.length;n<r;++n)if(!0!==t(e[n]))return!1;return!0}return!1},N=Array.prototype.slice,M=Array.prototype.indexOf,R=Array.prototype.push,z=function(e,t){return M.call(e,t)},I=function(e,t){var n=z(e,t);return-1===n?y.none():y.some(n)},B=function(e,t){return z(e,t)>-1},P=function(e,t){for(var n=0,r=e.length;n<r;n++){if(t(e[n],n))return!0}return!1},L=function(e,t){for(var n=[],r=0;r<e.length;r+=t){var o=N.call(e,r,r+t);n.push(o)}return n},F=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o)}return r},H=function(e,t){for(var n=0,r=e.length;n<r;n++){t(e[n],n)}},j=function(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];t(i,r)&&n.push(i)}return n},V=function(e,t,n){return function(e,t){for(var n=e.length-1;n>=0;n--){t(e[n],n)}}(e,(function(e){n=t(n,e)})),n},U=function(e,t,n){return H(e,(function(e){n=t(n,e)})),n},$=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];if(t(o,n))return y.some(o)}return y.none()},q=function(e,t){for(var n=0,r=e.length;n<r;n++){if(t(e[n],n))return y.some(n)}return y.none()},W=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!E(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);R.apply(t,e[n])}return t},Y=function(e,t){var n=F(e,t);return W(n)},X=function(e,t){for(var n=0,r=e.length;n<r;++n){if(!0!==t(e[n],n))return!1}return!0},G=function(e){var t=N.call(e,0);return t.reverse(),t},K=function(e,t){return j(e,(function(e){return!B(t,e)}))},J=function(e){return[e]},Q=function(e){return 0===e.length?y.none():y.some(e[0])},Z=function(e){return 0===e.length?y.none():y.some(e[e.length-1])},ee=_(Array.from)?Array.from:function(e){return N.call(e)},te=Object.keys,ne=Object.hasOwnProperty,re=function(e,t){for(var n=te(e),r=0,o=n.length;r<o;r++){var i=n[r];t(e[i],i)}},oe=function(e,t){return ie(e,(function(e,n){return{k:n,v:t(e,n)}}))},ie=function(e,t){var n={};return re(e,(function(e,r){var o=t(e,r);n[o.k]=o.v})),n},ae=function(e,t){var n=[];return re(e,(function(e,r){n.push(t(e,r))})),n},ue=function(e,t){for(var n=te(e),r=0,o=n.length;r<o;r++){var i=n[r],a=e[i];if(t(a,i,e))return y.some(a)}return y.none()},se=function(e){return ae(e,(function(e){return e}))},ce=function(e,t){return le(e,t)?y.from(e[t]):y.none()},le=function(e,t){return ne.call(e,t)},fe=function(e){if(!E(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");var n=[],r={};return H(e,(function(o,i){var a=te(o);if(1!==a.length)throw new Error("one and only one name per case");var u=a[0],s=o[u];if(void 0!==r[u])throw new Error("duplicate key detected:"+u);if("cata"===u)throw new Error("cannot have a case named cata (sorry)");if(!E(s))throw new Error("case arguments must be an array");n.push(u),r[u]=function(){var r=arguments.length;if(r!==s.length)throw new Error("Wrong number of arguments to case "+u+". Expected "+s.length+" ("+s+"), got "+r);for(var o=new Array(r),a=0;a<o.length;a++)o[a]=arguments[a];var c=function(e){var t=te(e);if(n.length!==t.length)throw new Error("Wrong number of arguments to match. Expected: "+n.join(",")+"\nActual: "+t.join(","));if(!X(n,(function(e){return B(t,e)})))throw new Error("Not all branches were specified when using match. Specified: "+t.join(", ")+"\nRequired: "+n.join(", "));return e[u].apply(null,o)};return{fold:function(){if(arguments.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+arguments.length);var t=arguments[i];return t.apply(null,o)},match:c,log:function(e){t.console.log(e,{constructors:n,constructor:u,params:o})}}}})),r},de=Object.prototype.hasOwnProperty,pe=function(e){return function(){for(var t=new Array(arguments.length),n=0;n<t.length;n++)t[n]=arguments[n];if(0===t.length)throw new Error("Can't merge zero objects");for(var r={},o=0;o<t.length;o++){var i=t[o];for(var a in i)de.call(i,a)&&(r[a]=e(r[a],i[a]))}return r}},me=pe((function(e,t){return T(e)&&T(t)?me(e,t):t})),he=pe((function(e,t){return t})),ge=function(e){var t,n=!1;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return n||(n=!0,t=e.apply(null,r)),t}},ve=fe([{strict:[]},{defaultedThunk:["fallbackThunk"]},{asOption:[]},{asDefaultedOptionThunk:["fallbackThunk"]},{mergeWithThunk:["baseThunk"]}]),be=function(e){return ve.defaultedThunk(o(e))},ye=function(e){return ve.mergeWithThunk(o(e))},we=ve.strict,xe=ve.asOption,Ce=ve.defaultedThunk,ke=ve.mergeWithThunk,Se=function(e){return function(t){return le(t,e)?y.from(t[e]):y.none()}},Te=function(e,t){return Se(t)(e)},Ee=function(e,t){var n={};return n[e]=t,n},Oe=(fe([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]),function(e,t){return function(e,t){var n={};return re(e,(function(e,r){B(t,r)||(n[r]=e)})),n}(e,t)}),_e=function(e){return Se(e)},Ae=function(e,t){return function(e,t){return function(n){return le(n,e)?n[e]:t}}(e,t)},De=function(e,t){return Te(e,t)},Ne=function(e,t){return Ee(e,t)},Me=function(e){return function(e){var t={};return H(e,(function(e){t[e.key]=e.value})),t}(e)},Re=function(e,t){var n,r=function(e){var t=[],n=[];return H(e,(function(e){e.fold((function(e){t.push(e)}),(function(e){n.push(e)}))})),{errors:t,values:n}}(e);return r.errors.length>0?(n=r.errors,C.error(W(n))):function(e,t){return 0===e.length?C.value(t):C.value(me(t,he.apply(void 0,e)))}(r.values,t)},ze=function(e,t){return function(e,t){return le(e,t)&&void 0!==e[t]&&null!==e[t]}(e,t)};!function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"}(h||(h={}));var Ie=function(e,t,n){return e.stype===h.Error?t(e.serror):n(e.svalue)},Be=function(e){return{stype:h.Value,svalue:e}},Pe=function(e){return{stype:h.Error,serror:e}},Le=function(e){return e.fold(Pe,Be)},Fe=function(e){return Ie(e,C.error,C.value)},He=Be,je=function(e){var t=[],n=[];return H(e,(function(e){Ie(e,(function(e){return n.push(e)}),(function(e){return t.push(e)}))})),{values:t,errors:n}},Ve=Pe,Ue=function(e,t){return e.stype===h.Value?t(e.svalue):e},$e=function(e,t){return e.stype===h.Error?t(e.serror):e},qe=function(e,t){return e.stype===h.Value?{stype:h.Value,svalue:t(e.svalue)}:e},We=function(e,t){return e.stype===h.Error?{stype:h.Error,serror:t(e.serror)}:e},Ye=function(e){return r(Ve,W)(e)},Xe=function(e,t){var n=je(e);return n.errors.length>0?Ye(n.errors):function(e,t){return e.length>0?He(me(t,he.apply(void 0,e))):He(t)}(n.values,t)},Ge=function(e){var t=je(e);return t.errors.length>0?Ye(t.errors):He(t.values)},Ke=fe([{setOf:["validator","valueType"]},{arrOf:["valueType"]},{objOf:["fields"]},{itemOf:["validator"]},{choiceOf:["key","branches"]},{thunk:["description"]},{func:["args","outputSchema"]}]),Je=fe([{field:["name","presence","type"]},{state:["name"]}]),Qe=function(e){return T(e)&&te(e).length>100?" removed due to size":JSON.stringify(e,null,2)},Ze=function(e,t){return Ve([{path:e,getErrorInfo:t}])},et=fe([{field:["key","okey","presence","prop"]},{state:["okey","instantiator"]}]),tt=function(e,t,n){return Te(t,n).fold((function(){return function(e,t,n){return Ze(e,(function(){return'Could not find valid *strict* value for "'+t+'" in '+Qe(n)}))}(e,n,t)}),He)},nt=function(e,t,n){var r=Te(e,t).fold((function(){return n(e)}),i);return He(r)},rt=function(e,t,n,r){return n.fold((function(n,i,a,u){var s=function(t){var o=u.extract(e.concat([n]),r,t);return qe(o,(function(e){return Ee(i,r(e))}))},c=function(t){return t.fold((function(){var e=Ee(i,r(y.none()));return He(e)}),(function(t){var o=u.extract(e.concat([n]),r,t);return qe(o,(function(e){return Ee(i,r(y.some(e)))}))}))};return a.fold((function(){return Ue(tt(e,t,n),s)}),(function(e){return Ue(nt(t,n,e),s)}),(function(){return Ue(function(e,t){return He(Te(e,t))}(t,n),c)}),(function(e){return Ue(function(e,t,n){var r=Te(e,t).map((function(t){return!0===t?n(e):t}));return He(r)}(t,n,e),c)}),(function(e){var r=e(t),i=qe(nt(t,n,o({})),(function(e){return me(r,e)}));return Ue(i,s)}))}),(function(e,n){var o=n(t);return He(Ee(e,r(o)))}))},ot=function(e){return{extract:function(t,n,r){return $e(e(r,n),(function(e){return function(e,t){return Ze(e,(function(){return t}))}(t,e)}))},toString:function(){return"val"},toDsl:function(){return Ke.itemOf(e)}}},it=function(e){var t=te(e);return j(t,(function(t){return ze(e,t)}))},at=function(e){var t=ut(e),n=V(e,(function(e,t){return t.fold((function(t){return me(e,Ne(t,!0))}),o(e))}),{});return{extract:function(e,r,o){var i=O(o)?[]:it(o),a=j(i,(function(e){return!ze(n,e)}));return 0===a.length?t.extract(e,r,o):function(e,t){return Ze(e,(function(){return"There are unsupported fields: ["+t.join(", ")+"] specified"}))}(e,a)},toString:t.toString,toDsl:t.toDsl}},ut=function(e){return{extract:function(t,n,r){return function(e,t,n,r){var o=F(n,(function(n){return rt(e,t,n,r)}));return Xe(o,{})}(t,r,e,n)},toString:function(){return"obj{\n"+F(e,(function(e){return e.fold((function(e,t,n,r){return e+" -> "+r.toString()}),(function(e,t){return"state("+e+")"}))})).join("\n")+"}"},toDsl:function(){return Ke.objOf(F(e,(function(e){return e.fold((function(e,t,n,r){return Je.field(e,n,r)}),(function(e,t){return Je.state(e)}))})))}}},st=function(e){return{extract:function(t,n,r){var o=F(r,(function(r,o){return e.extract(t.concat(["["+o+"]"]),n,r)}));return Ge(o)},toString:function(){return"array("+e.toString()+")"},toDsl:function(){return Ke.arrOf(e)}}},ct=function(e,t){return{extract:function(n,r,o){var a=te(o),u=function(t,n){return st(ot(e)).extract(t,i,n)}(n,a);return Ue(u,(function(e){var i=F(e,(function(e){return et.field(e,e,we(),t)}));return ut(i).extract(n,r,o)}))},toString:function(){return"setOf("+t.toString()+")"},toDsl:function(){return Ke.setOf(e,t)}}},lt=o(ot(He)),ft=r(st,ut),dt=et.state,pt=et.field,mt=function(e,t,n,r,o){return De(r,o).fold((function(){return function(e,t,n){return Ze(e,(function(){return'The chosen schema: "'+n+'" did not exist in branches: '+Qe(t)}))}(e,r,o)}),(function(r){return r.extract(e.concat(["branch: "+o]),t,n)}))},ht=function(e,t){return{extract:function(n,r,o){return De(o,e).fold((function(){return function(e,t){return Ze(e,(function(){return'Choice schema did not contain choice key: "'+t+'"'}))}(n,e)}),(function(e){return mt(n,r,o,t,e)}))},toString:function(){return"chooseOn("+e+"). Possible values: "+te(t)},toDsl:function(){return Ke.choiceOf(e,t)}}},gt=ot(He),vt=function(e){return{extract:function(t,n,r){return e().extract(t,n,r)},toString:function(){return e().toString()},toDsl:function(){return e().toDsl()}}},bt=function(e){return ot((function(t){return e(t).fold(Ve,He)}))},yt=function(e,t){return ct((function(t){return Le(e(t))}),t)},wt=function(e,t,n){return Fe(function(e,t,n,r){var o=t.extract([e],n,r);return We(o,(function(e){return{input:r,errors:e}}))}(e,t,i,n))},xt=function(e){return e.fold((function(e){throw new Error(kt(e))}),i)},Ct=function(e,t,n){return xt(wt(e,t,n))},kt=function(e){return"Errors: \n"+(t=e.errors,n=t.length>10?t.slice(0,10).concat([{path:[],getErrorInfo:function(){return"... (only showing first ten failures)"}}]):t,F(n,(function(e){return"Failed path: ("+e.path.join(" > ")+")\n"+e.getErrorInfo()})))+"\n\nInput object: "+Qe(e.input);var t,n},St=function(e,t){return ht(e,t)},Tt=function(e,t){return ht(e,oe(t,ut))},Et=o(gt),Ot=function(e,t){return ot((function(n){var r=typeof n;return e(n)?He(n):Ve("Expected type: "+t+" but got: "+r)}))},_t=Ot(A,"number"),At=Ot(S,"string"),Dt=Ot(O,"boolean"),Nt=Ot(_,"function"),Mt=function(e){var t=function(e,t){for(var n=e.next();!n.done;){if(!t(n.value))return!1;n=e.next()}return!0};if(Object(e)!==e)return!0;switch({}.toString.call(e).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(e).every((function(t){return Mt(e[t])}));case"Map":return t(e.keys(),Mt)&&t(e.values(),Mt);case"Set":return t(e.keys(),Mt);default:return!1}},Rt=ot((function(e){return Mt(e)?He(e):Ve("Expected value to be acceptable for sending via postMessage")})),zt=function(e){return bt((function(t){return B(e,t)?C.value(t):C.error('Unsupported value: "'+t+'", choose one of "'+e.join(", ")+'".')}))},It=function(e){return pt(e,e,we(),lt())},Bt=function(e,t){return pt(e,e,we(),t)},Pt=function(e){return Bt(e,_t)},Lt=function(e){return Bt(e,At)},Ft=function(e,t){return pt(e,e,we(),zt(t))},Ht=function(e){return Bt(e,Nt)},jt=function(e,t){return pt(e,e,we(),ut(t))},Vt=function(e,t){return pt(e,e,we(),ft(t))},Ut=function(e,t){return pt(e,e,we(),st(t))},$t=function(e){return pt(e,e,xe(),lt())},qt=function(e,t){return pt(e,e,xe(),t)},Wt=function(e){return qt(e,_t)},Yt=function(e){return qt(e,At)},Xt=function(e){return qt(e,Nt)},Gt=function(e,t){return qt(e,ut(t))},Kt=function(e,t){return pt(e,e,be(t),lt())},Jt=function(e,t,n){return pt(e,e,be(t),n)},Qt=function(e,t){return Jt(e,t,_t)},Zt=function(e,t){return Jt(e,t,At)},en=function(e,t,n){return Jt(e,t,zt(n))},tn=function(e,t){return Jt(e,t,Dt)},nn=function(e,t){return Jt(e,t,Nt)},rn=function(e,t,n){return Jt(e,t,ut(n))},on=function(e,t){return dt(e,t)},an=function(e){var t=e,n=function(){return t};return{get:n,set:function(e){t=e},clone:function(){return an(n())}}},un=function(e){if(null==e)throw new Error("Node cannot be null or undefined");return{dom:o(e)}},sn={fromHtml:function(e,n){var r=(n||t.document).createElement("div");if(r.innerHTML=e,!r.hasChildNodes()||r.childNodes.length>1)throw t.console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return un(r.childNodes[0])},fromTag:function(e,n){var r=(n||t.document).createElement(e);return un(r)},fromText:function(e,n){var r=(n||t.document).createTextNode(e);return un(r)},fromDom:un,fromPoint:function(e,t,n){var r=e.dom();return y.from(r.elementFromPoint(t,n)).map(un)}},cn=function(e,t,n){return 0!=(e.compareDocumentPosition(t)&n)},ln=function(e,n){return cn(e,n,t.Node.DOCUMENT_POSITION_CONTAINED_BY)},fn=function(){return dn(0,0)},dn=function(e,t){return{major:e,minor:t}},pn={nu:dn,detect:function(e,t){var n=String(t).toLowerCase();return 0===e.length?fn():function(e,t){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t))return r}}(e,t);if(!n)return{major:0,minor:0};var r=function(e){return Number(t.replace(n,"$"+e))};return dn(r(1),r(2))}(e,n)},unknown:fn},mn=function(e,t){return function(){return t===e}},hn=function(e){var t=e.current;return{current:t,version:e.version,isEdge:mn("Edge",t),isChrome:mn("Chrome",t),isIE:mn("IE",t),isOpera:mn("Opera",t),isFirefox:mn("Firefox",t),isSafari:mn("Safari",t)}},gn={unknown:function(){return hn({current:void 0,version:pn.unknown()})},nu:hn,edge:o("Edge"),chrome:o("Chrome"),ie:o("IE"),opera:o("Opera"),firefox:o("Firefox"),safari:o("Safari")},vn=function(e,t){return function(){return t===e}},bn=function(e){var t=e.current;return{current:t,version:e.version,isWindows:vn("Windows",t),isiOS:vn("iOS",t),isAndroid:vn("Android",t),isOSX:vn("OSX",t),isLinux:vn("Linux",t),isSolaris:vn("Solaris",t),isFreeBSD:vn("FreeBSD",t)}},yn={unknown:function(){return bn({current:void 0,version:pn.unknown()})},nu:bn,windows:o("Windows"),ios:o("iOS"),android:o("Android"),linux:o("Linux"),osx:o("OSX"),solaris:o("Solaris"),freebsd:o("FreeBSD")},wn=function(e,t){var n=String(t).toLowerCase();return $(e,(function(e){return e.search(n)}))},xn=function(e,t){return wn(e,t).map((function(e){var n=pn.detect(e.versionRegexes,t);return{current:e.name,version:n}}))},Cn=function(e,t){return wn(e,t).map((function(e){var n=pn.detect(e.versionRegexes,t);return{current:e.name,version:n}}))},kn=function(e,t){return-1!==e.indexOf(t)},Sn=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Tn=function(e){return function(t){return kn(t,e)}},En=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return kn(e,"edge/")&&kn(e,"chrome")&&kn(e,"safari")&&kn(e,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Sn],search:function(e){return kn(e,"chrome")&&!kn(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return kn(e,"msie")||kn(e,"trident")}},{name:"Opera",versionRegexes:[Sn,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Tn("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Tn("firefox")},{name:"Safari",versionRegexes:[Sn,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(kn(e,"safari")||kn(e,"mobile/"))&&kn(e,"applewebkit")}}],On=[{name:"Windows",search:Tn("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return kn(e,"iphone")||kn(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Tn("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Tn("os x"),versionRegexes:[/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Tn("linux"),versionRegexes:[]},{name:"Solaris",search:Tn("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Tn("freebsd"),versionRegexes:[]}],_n={browsers:o(En),oses:o(On)},An=function(e,t){var n=_n.browsers(),r=_n.oses(),i=xn(n,e).fold(gn.unknown,gn.nu),a=Cn(r,e).fold(yn.unknown,yn.nu),u=function(e,t,n,r){var i=e.isiOS()&&!0===/ipad/i.test(n),a=e.isiOS()&&!i,u=e.isiOS()||e.isAndroid(),s=u||r("(pointer:coarse)"),c=i||!a&&u&&r("(min-device-width:768px)"),l=a||u&&!c,f=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n),d=!l&&!c&&!f;return{isiPad:o(i),isiPhone:o(a),isTablet:o(c),isPhone:o(l),isTouch:o(s),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:o(f),isDesktop:o(d)}}(a,i,e,t);return{browser:i,os:a,deviceType:u}},Dn=an(An(t.navigator.userAgent,(function(e){return t.window.matchMedia(e).matches}))),Nn=function(){return Dn.get()},Mn=(t.Node.ATTRIBUTE_NODE,t.Node.CDATA_SECTION_NODE,t.Node.COMMENT_NODE,t.Node.DOCUMENT_NODE),Rn=(t.Node.DOCUMENT_TYPE_NODE,t.Node.DOCUMENT_FRAGMENT_NODE,t.Node.ELEMENT_NODE),zn=t.Node.TEXT_NODE,In=(t.Node.PROCESSING_INSTRUCTION_NODE,t.Node.ENTITY_REFERENCE_NODE,t.Node.ENTITY_NODE,t.Node.NOTATION_NODE,Rn),Bn=Mn,Pn=function(e,t){var n=e.dom();if(n.nodeType!==In)return!1;var r=n;if(void 0!==r.matches)return r.matches(t);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(t);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(t);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},Ln=function(e){return e.nodeType!==In&&e.nodeType!==Bn||0===e.childElementCount},Fn=function(e,n){var r=void 0===n?t.document:n.dom();return Ln(r)?[]:F(r.querySelectorAll(e),sn.fromDom)},Hn=function(e,t){return e.dom()===t.dom()},jn=Nn().browser.isIE()?function(e,t){return ln(e.dom(),t.dom())}:function(e,t){var n=e.dom(),r=t.dom();return n!==r&&n.contains(r)},Vn=function(e,t){return Hn(e.element(),t.event().target())};function Un(e,t,n,r,o){return e(n,r)?y.some(n):_(o)&&o(n)?y.none():t(n,r,o)}void 0!==t.window?t.window:Function("return this;")();var $n=function(e){return e.dom().nodeName.toLowerCase()},qn=function(e){return function(t){return function(e){return e.dom().nodeType}(t)===e}},Wn=qn(Rn),Yn=qn(zn),Xn=function(e){var t=Yn(e)?e.dom().parentNode:e.dom();return null!=t&&t.ownerDocument.body.contains(t)},Gn=ge((function(){return Kn(sn.fromDom(t.document))})),Kn=function(e){var t=e.dom().body;if(null==t)throw new Error("Body is not available yet");return sn.fromDom(t)},Jn=function(e,t,n){for(var r=e.dom(),i=_(n)?n:o(!1);r.parentNode;){r=r.parentNode;var a=sn.fromDom(r);if(t(a))return y.some(a);if(i(a))break}return y.none()},Qn=function(e,t,n){return Un((function(e,t){return t(e)}),Jn,e,t,n)},Zn=function(e,t){var n=function(e){for(var r=0;r<e.childNodes.length;r++){var o=sn.fromDom(e.childNodes[r]);if(t(o))return y.some(o);var i=n(e.childNodes[r]);if(i.isSome())return i}return y.none()};return n(e.dom())},er=function(e,t,n){return Qn(e,(function(e){return t(e).isSome()}),n).bind(t)},tr=function(e){if(!ze(e,"can")&&!ze(e,"abort")&&!ze(e,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(e,null,2)+" does not have can, abort, or run!");return Ct("Extracting event.handler",at([Kt("can",o(!0)),Kt("abort",o(!1)),Kt("run",n)]),e)},nr=function(e){var t=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return U(e,(function(e,r){return e&&t(r).apply(void 0,n)}),!0)}}(e,(function(e){return e.can})),n=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return U(e,(function(e,r){return e||t(r).apply(void 0,n)}),!1)}}(e,(function(e){return e.abort}));return tr({can:t,abort:n,run:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];H(e,(function(e){e.run.apply(void 0,t)}))}})},rr=o("touchstart"),or=o("touchmove"),ir=o("touchend"),ar=o("touchcancel"),ur=o("mousedown"),sr=o("mousemove"),cr=o("mouseout"),lr=o("mouseup"),fr=o("mouseover"),dr=o("focusin"),pr=o("focusout"),mr=o("keydown"),hr=o("keyup"),gr=o("input"),vr=o("change"),br=o("click"),yr=o("transitionend"),wr=o("selectstart"),xr={tap:o("alloy.tap")},Cr=o("alloy.focus"),kr=o("alloy.blur.post"),Sr=o("alloy.paste.post"),Tr=o("alloy.receive"),Er=o("alloy.execute"),Or=o("alloy.focus.item"),_r=xr.tap,Ar=o("alloy.longpress"),Dr=o("alloy.sandbox.close"),Nr=o("alloy.typeahead.cancel"),Mr=o("alloy.system.init"),Rr=o("alloy.system.touchmove"),zr=o("alloy.system.touchend"),Ir=o("alloy.system.scroll"),Br=o("alloy.system.resize"),Pr=o("alloy.system.attached"),Lr=o("alloy.system.detached"),Fr=o("alloy.system.dismissRequested"),Hr=o("alloy.system.repositionRequested"),jr=o("alloy.focusmanager.shifted"),Vr=o("alloy.slotcontainer.visibility"),Ur=o("alloy.change.tab"),$r=o("alloy.dismiss.tab"),qr=o("alloy.highlight"),Wr=o("alloy.dehighlight"),Yr=function(e,t){Jr(e,e.element(),t,{})},Xr=function(e,t,n){Jr(e,e.element(),t,n)},Gr=function(e){Yr(e,Er())},Kr=function(e,t,n){Jr(e,t,n,{})},Jr=function(e,t,n,r){var i=d({target:t},r);e.getSystem().triggerEvent(n,t,oe(i,o))},Qr=function(e,t,n,r){e.getSystem().triggerEvent(n,t,r.event())},Zr=function(e){return Me(e)},eo=function(e,t){return{key:e,value:tr({abort:t})}},to=function(e){return{key:e,value:tr({run:function(e,t){t.event().prevent()}})}},no=function(e,t){return{key:e,value:tr({run:t})}},ro=function(e,t,n){return{key:e,value:tr({run:function(e,r){t.apply(void 0,[e,r].concat(n))}})}},oo=function(e){return function(t){return{key:e,value:tr({run:function(e,n){Vn(e,n)&&t(e,n)}})}}},io=function(e,t,n){return function(e,t){return no(e,(function(n,r){n.getSystem().getByUid(t).each((function(t){Qr(t,t.element(),e,r)}))}))}(e,t.partUids[n])},ao=function(e,t){return no(e,(function(e,n){var r=n.event(),i=e.getSystem().getByDom(r.target()).fold((function(){return er(r.target(),(function(t){return e.getSystem().getByDom(t).toOption()}),o(!1)).getOr(e)}),(function(e){return e}));t(e,i,n)}))},uo=function(e){return no(e,(function(e,t){t.cut()}))},so=function(e){return no(e,(function(e,t){t.stop()}))},co=function(e,t){return oo(e)(t)},lo=oo(Pr()),fo=oo(Lr()),po=oo(Mr()),mo=function(e){return function(t){return no(e,t)}}(Er()),ho=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(e.length!==t.length)throw new Error('Wrong number of arguments to struct. Expected "['+e.length+']", got '+t.length+" arguments");var r={};return H(e,(function(e,n){r[e]=o(t[n])})),r}},go=function(e){return e.slice(0).sort()},vo=function(e,t){if(!E(t))throw new Error("The "+e+" fields must be an array. Was: "+t+".");H(t,(function(t){if(!S(t))throw new Error("The value "+t+" in the "+e+" fields was not a string.")}))},bo=function(e,t){var n=e.concat(t);if(0===n.length)throw new Error("You must specify at least one required or optional field.");return vo("required",e),vo("optional",t),function(e){var t=go(e);$(t,(function(e,n){return n<t.length-1&&e===t[n+1]})).each((function(e){throw new Error("The field: "+e+" occurs more than once in the combined fields: ["+t.join(", ")+"].")}))}(n),function(r){var i=te(r);X(e,(function(e){return B(i,e)}))||function(e,t){throw new Error("All required keys ("+go(e).join(", ")+") were not specified. Specified keys were: "+go(t).join(", ")+".")}(e,i);var a=j(i,(function(e){return!B(n,e)}));a.length>0&&function(e){throw new Error("Unsupported keys for object: "+go(e).join(", "))}(a);var u={};return H(e,(function(e){u[e]=o(r[e])})),H(t,(function(e){u[e]=o(Object.prototype.hasOwnProperty.call(r,e)?y.some(r[e]):y.none())})),u}},yo=function(e){return sn.fromDom(e.dom().ownerDocument)},wo=function(e){return sn.fromDom(e.dom().ownerDocument.documentElement)},xo=function(e){return sn.fromDom(e.dom().ownerDocument.defaultView)},Co=function(e){return y.from(e.dom().parentNode).map(sn.fromDom)},ko=function(e){return y.from(e.dom().offsetParent).map(sn.fromDom)},So=function(e){return F(e.dom().childNodes,sn.fromDom)},To=function(e,t){var n=e.dom().childNodes;return y.from(n[t]).map(sn.fromDom)},Eo=(ho("element","offset"),function(e,t){Co(e).each((function(n){n.dom().insertBefore(t.dom(),e.dom())}))}),Oo=function(e,t){(function(e){return y.from(e.dom().nextSibling).map(sn.fromDom)})(e).fold((function(){Co(e).each((function(e){Ao(e,t)}))}),(function(e){Eo(e,t)}))},_o=function(e,t){(function(e){return To(e,0)})(e).fold((function(){Ao(e,t)}),(function(n){e.dom().insertBefore(t.dom(),n.dom())}))},Ao=function(e,t){e.dom().appendChild(t.dom())},Do=function(e,t){H(t,(function(t){Ao(e,t)}))},No=function(e){e.dom().textContent="",H(So(e),(function(e){Mo(e)}))},Mo=function(e){var t=e.dom();null!==t.parentNode&&t.parentNode.removeChild(t)},Ro=function(e){var t,n=So(e);n.length>0&&(t=e,H(n,(function(e){Eo(t,e)}))),Mo(e)},zo=function(e){return e.dom().innerHTML},Io=function(e,n){var r,o,i=yo(e).dom(),a=sn.fromDom(i.createDocumentFragment()),u=(r=n,(o=(i||t.document).createElement("div")).innerHTML=r,So(sn.fromDom(o)));Do(a,u),No(e),Ao(e,a)},Bo=function(e,n,r){if(!(S(r)||O(r)||A(r)))throw t.console.error("Invalid call to Attr.set. Key ",n,":: Value ",r,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(n,r+"")},Po=function(e,t,n){Bo(e.dom(),t,n)},Lo=function(e,t){var n=e.dom().getAttribute(t);return null===n?void 0:n},Fo=function(e,t){var n=e.dom();return!(!n||!n.hasAttribute)&&n.hasAttribute(t)},Ho=function(e,t){e.dom().removeAttribute(t)},jo=function(e){return function(e,t){return sn.fromDom(e.dom().cloneNode(t))}(e,!1)},Vo=function(e){return function(e){var t=sn.fromTag("div"),n=sn.fromDom(e.dom().cloneNode(!0));return Ao(t,n),zo(t)}(jo(e))},Uo=function(e){return Vo(e)},$o=Zr([function(e,t){return{key:e,value:tr({can:t})}}(Cr(),(function(e,n){var r=n.event().originator(),o=n.event().target();return!function(e,t,n){return Hn(t,e.element())&&!Hn(t,n)}(e,r,o)||(t.console.warn(Cr()+" did not get interpreted by the desired target. \nOriginator: "+Uo(r)+"\nTarget: "+Uo(o)+"\nCheck the "+Cr()+" event handlers"),!1)}))]),qo=Object.freeze({events:$o}),Wo=0,Yo=function(e){var t=(new Date).getTime();return e+"_"+Math.floor(1e9*Math.random())+ ++Wo+String(t)},Xo=o("alloy-id-"),Go=o("data-alloy-id"),Ko=Xo(),Jo=Go(),Qo=function(e,t){var n=Yo(Ko+e);return Zo(t,n),n},Zo=function(e,t){Object.defineProperty(e.dom(),Jo,{value:t,writable:!0})},ei=function(e){var t=Wn(e)?e.dom()[Jo]:null;return y.from(t)},ti=function(e){return Yo(e)},ni=i,ri=function(e){var t=function(t){return function(){throw new Error("The component must be in a context to send: "+t+"\n"+Uo(e().element())+" is not in context.")}};return{debugInfo:o("fake"),triggerEvent:t("triggerEvent"),triggerFocus:t("triggerFocus"),triggerEscape:t("triggerEscape"),build:t("build"),addToWorld:t("addToWorld"),removeFromWorld:t("removeFromWorld"),addToGui:t("addToGui"),removeFromGui:t("removeFromGui"),getByUid:t("getByUid"),getByDom:t("getByDom"),broadcast:t("broadcast"),broadcastOn:t("broadcastOn"),broadcastEvent:t("broadcastEvent"),isConnected:o(!1)}},oi=ri(),ii=function(e){return F(e,(function(e){return function(e,t){return function(e,t,n){return""===t||!(e.length<t.length)&&e.substr(n,n+t.length)===t}(e,t,e.length-t.length)}(e,"/*")?e.substring(0,e.length-"/*".length):e}))},ai=function(e,t){var n=e.toString(),r=n.indexOf(")")+1,o=n.indexOf("("),i=n.substring(o+1,r-1).split(/,\s*/);return e.toFunctionAnnotation=function(){return{name:t,parameters:ii(i)}},e},ui=Yo("alloy-premade"),si=function(e){return Ne(ui,e)},ci=function(e){return function(e,t){var n=t.toString(),r=n.indexOf(")")+1,o=n.indexOf("("),i=n.substring(o+1,r-1).split(/,\s*/);return e.toFunctionAnnotation=function(){return{name:"OVERRIDE",parameters:ii(i.slice(1))}},e}((function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return e.apply(void 0,[t.getApis()].concat([t].concat(n)))}),e)},li={init:function(){return fi({readState:function(){return"No State required"}})}},fi=function(e){return e},di=function(e,t){var n={};return re(e,(function(e,r){re(e,(function(e,o){var i=Ae(o,[])(n);n[o]=i.concat([t(r,e)])}))})),n},pi=function(e){return{classes:void 0!==e.classes?e.classes:[],attributes:void 0!==e.attributes?e.attributes:{},styles:void 0!==e.styles?e.styles:{}}},mi=function(e,t){return n=a.apply(void 0,[e.handler].concat(t)),r=e.purpose(),{cHandler:n,purpose:o(r)};var n,r},hi=function(e){return e.cHandler},gi=function(e,t){return{name:o(e),handler:o(t)}},vi=function(e,t,n){var r=d(d({},n),function(e,t){var n={};return H(e,(function(e){n[e.name()]=e.handlers(t)})),n}(t,e));return di(r,gi)},bi=function(e){var t=function(e){return _(e)?{can:o(!0),abort:o(!1),run:e}:e}(e);return function(e,n){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];var i=[e,n].concat(r);t.abort.apply(void 0,i)?n.stop():t.can.apply(void 0,i)&&t.run.apply(void 0,i)}},yi=function(e,t,n){var r=t[n];return r?function(e,t,n,r){var o=n.slice(0);try{var i=o.sort((function(n,o){var i=n[t](),a=o[t](),u=r.indexOf(i),s=r.indexOf(a);if(-1===u)throw new Error("The ordering for "+e+" does not have an entry for "+i+".\nOrder specified: "+JSON.stringify(r,null,2));if(-1===s)throw new Error("The ordering for "+e+" does not have an entry for "+a+".\nOrder specified: "+JSON.stringify(r,null,2));return u<s?-1:s<u?1:0}));return C.value(i)}catch(e){return C.error([e])}}("Event: "+n,"name",e,r).map((function(e){var t=F(e,(function(e){return e.handler()}));return nr(t)})):function(e,t){return C.error(["The event ("+e+') has more than one behaviour that listens to it.\nWhen this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).\nThe behaviours that can trigger it are: '+JSON.stringify(F(t,(function(e){return e.name()})),null,2)])}(n,e)},wi=function(e,t){var n=ae(e,(function(e,n){return(1===e.length?C.value(e[0].handler()):yi(e,t,n)).map((function(r){var i=bi(r),a=e.length>1?j(t[n],(function(t){return P(e,(function(e){return e.name()===t}))})).join(" > "):e[0].name();return Ne(n,function(e,t){return{handler:e,purpose:o(t)}}(i,a))}))}));return Re(n,{})},xi=function(e){return e.events},Ci=function(e,t){var n=Lo(e,t);return void 0===n||""===n?[]:n.split(" ")},ki=function(e){return void 0!==e.dom().classList},Si=function(e,t){return function(e,t,n){var r=Ci(e,t).concat([n]);return Po(e,t,r.join(" ")),!0}(e,"class",t)},Ti=function(e,t){return function(e,t,n){var r=j(Ci(e,t),(function(e){return e!==n}));return r.length>0?Po(e,t,r.join(" ")):Ho(e,t),!1}(e,"class",t)},Ei=function(e,t){ki(e)?e.dom().classList.add(t):Si(e,t)},Oi=function(e){0===(ki(e)?e.dom().classList:function(e){return Ci(e,"class")}(e)).length&&Ho(e,"class")},_i=function(e,t){ki(e)?e.dom().classList.remove(t):Ti(e,t);Oi(e)},Ai=function(e,t){return ki(e)&&e.dom().classList.contains(t)},Di=function(e,t){H(t,(function(t){Ei(e,t)}))},Ni=function(e,t){H(t,(function(t){_i(e,t)}))},Mi=function(e){return void 0!==e.style&&_(e.style.getPropertyValue)},Ri=function(e,n,r){if(!S(r))throw t.console.error("Invalid call to CSS.set. Property ",n,":: Value ",r,":: Element ",e),new Error("CSS value must be a string: "+r);Mi(e)&&e.style.setProperty(n,r)},zi=function(e,t){Mi(e)&&e.style.removeProperty(t)},Ii=function(e,t,n){var r=e.dom();Ri(r,t,n)},Bi=function(e,t){var n=e.dom();re(t,(function(e,t){Ri(n,t,e)}))},Pi=function(e,n){var r=e.dom(),o=t.window.getComputedStyle(r).getPropertyValue(n),i=""!==o||Xn(e)?o:Li(r,n);return null===i?void 0:i},Li=function(e,t){return Mi(e)?e.style.getPropertyValue(t):""},Fi=function(e,t){var n=e.dom(),r=Li(n,t);return y.from(r).filter((function(e){return e.length>0}))},Hi=function(e,t,n){var r=sn.fromTag(e);return Ii(r,t,n),Fi(r,t).isSome()},ji=function(e,t){var n=e.dom();zi(n,t),Fo(e,"style")&&""===Lo(e,"style").replace(/^\s+|\s+$/g,"")&&Ho(e,"style")},Vi=function(e){return e.dom().offsetWidth},Ui=function(e){return e.dom().value},$i=function(e,t){if(void 0===t)throw new Error("Value.set was undefined");e.dom().value=t},qi=function(e){var t=sn.fromTag(e.tag);!function(e,t){var n=e.dom();re(t,(function(e,t){Bo(n,t,e)}))}(t,e.attributes),Di(t,e.classes),Bi(t,e.styles),e.innerHtml.each((function(e){return Io(t,e)}));var n=e.domChildren;return Do(t,n),e.value.each((function(e){$i(t,e)})),e.uid,Zo(t,e.uid),t},Wi=function(e,t){return function(e,t){var n=F(t,(function(e){return Gt(e.name(),[It("config"),Kt("state",li)])})),r=wt("component.behaviours",ut(n),e.behaviours).fold((function(t){throw new Error(kt(t)+"\nComplete spec:\n"+JSON.stringify(e,null,2))}),(function(e){return e}));return{list:t,data:oe(r,(function(e){var t=e.map((function(e){return{config:e.config,state:e.state.init(e.config)}}));return function(){return t}}))}}(e,t)},Yi=function(e){var t=function(e){var t=Ae("behaviours",{})(e),n=j(te(t),(function(e){return void 0!==t[e]}));return F(n,(function(e){return t[e].me}))}(e);return Wi(e,t)},Xi=function(e,t,n){var r,o,i,a=d(d({},(r=e).dom),{uid:r.uid,domChildren:F(r.components,(function(e){return e.element()}))}),u=function(e){return e.domModification.fold((function(){return pi({})}),pi)}(e),s={"alloy.base.modification":u},c=t.length>0?function(e,t,n,r){var o=d({},t);H(n,(function(t){o[t.name()]=t.exhibit(e,r)}));var i=di(o,(function(e,t){return{name:e,modification:t}})),a=function(e){return V(e,(function(e,t){return d(d({},t.modification),e)}),{})},u=V(i.classes,(function(e,t){return t.modification.concat(e)}),[]),s=a(i.attributes),c=a(i.styles);return pi({classes:u,attributes:s,styles:c})}(n,s,t,a):u;return i=c,d(d({},o=a),{attributes:d(d({},o.attributes),i.attributes),styles:d(d({},o.styles),i.styles),classes:o.classes.concat(i.classes)})},Gi=function(e,t,n){var r={"alloy.base.behaviour":xi(e)};return function(e,t,n,r){var o=vi(e,n,r);return wi(o,t)}(n,e.eventOrder,t,r).getOrDie()},Ki=function(e){var t=function(){return d},n=an(oi),r=xt(function(e){return wt("custom.definition",ut([pt("dom","dom",we(),ut([It("tag"),Kt("styles",{}),Kt("classes",[]),Kt("attributes",{}),$t("value"),$t("innerHtml")])),It("components"),It("uid"),Kt("events",{}),Kt("apis",{}),pt("eventOrder","eventOrder",ye({"alloy.execute":["disabling","alloy.base.behaviour","toggling","typeaheadevents"],"alloy.focus":["alloy.base.behaviour","focusing","keying"],"alloy.system.init":["alloy.base.behaviour","disabling","toggling","representing"],input:["alloy.base.behaviour","representing","streaming","invalidating"],"alloy.system.detached":["alloy.base.behaviour","representing","item-events","tooltipping"],mousedown:["focusing","alloy.base.behaviour","item-type-events"],touchstart:["focusing","alloy.base.behaviour","item-type-events"],mouseover:["item-type-events","tooltipping"]}),Et()),$t("domModification")]),e)}(e)),i=Yi(e),a=function(e){return e.list}(i),u=function(e){return e.data}(i),s=Xi(r,a,u),c=qi(s),l=Gi(r,a,u),f=an(r.components),d={getSystem:n.get,config:function(t){var n=u;return(_(n[t.name()])?n[t.name()]:function(){throw new Error("Could not find "+t.name()+" in "+JSON.stringify(e,null,2))})()},hasConfigured:function(e){return _(u[e.name()])},spec:o(e),readState:function(e){return u[e]().map((function(e){return e.state.readState()})).getOr("not enabled")},getApis:function(){return r.apis},connect:function(e){n.set(e)},disconnect:function(){n.set(ri(t))},element:o(c),syncComponents:function(){var e=So(c),t=Y(e,(function(e){return n.get().getByDom(e).fold((function(){return[]}),(function(e){return[e]}))}));f.set(t)},components:f.get,events:o(l)};return d},Ji=function(e){var t=ni(e),n=t.events,r=p(t,["events"]),o=function(e){var t=Ae("components",[])(e);return F(t,ta)}(r),i=d(d({},r),{events:d(d({},qo),n),components:o});return C.value(Ki(i))},Qi=function(e){var t=sn.fromText(e);return Zi({element:t})},Zi=function(e){var t=Ct("external.component",at([It("element"),$t("uid")]),e),r=an(ri());t.uid.each((function(e){Zo(t.element,e)}));var i={getSystem:r.get,config:y.none,hasConfigured:o(!1),connect:function(e){r.set(e)},disconnect:function(){r.set(ri((function(){return i})))},getApis:function(){return{}},element:o(t.element),spec:o(e),readState:o("No state"),syncComponents:n,components:o([]),events:o({})};return si(i)},ea=ti,ta=function(e){return function(e){return De(e,ui)}(e).fold((function(){var t=e.hasOwnProperty("uid")?e:d({uid:ea("")},e);return Ji(t).getOrDie()}),(function(e){return e}))},na=si;function ra(e,t){var n=function(n){var r=t(n);if(r<=0||null===r){var o=Pi(n,e);return parseFloat(o)||0}return r},r=function(e,t){return U(t,(function(t,n){var r=Pi(e,n),o=void 0===r?0:parseInt(r,10);return isNaN(o)?t:t+o}),0)};return{set:function(t,n){if(!A(n)&&!n.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+n);var r=t.dom();Mi(r)&&(r.style[e]=n+"px")},get:n,getOuter:n,aggregate:r,max:function(e,t,n){var o=r(e,n);return t>o?t-o:0}}}var oa,ia=ra("height",(function(e){var t=e.dom();return Xn(e)?t.getBoundingClientRect().height:t.offsetHeight})),aa=function(e){return ia.get(e)},ua=function(e){return ia.getOuter(e)},sa=function(e,t){return{left:o(e),top:o(t),translate:function(n,r){return sa(e+n,t+r)}}},ca=sa,la=function(e,t){return void 0!==e?e:void 0!==t?t:0},fa=function(e){var t=e.dom().ownerDocument,n=t.body,r=t.defaultView,o=t.documentElement;if(n===e.dom())return ca(n.offsetLeft,n.offsetTop);var i=la(r.pageYOffset,o.scrollTop),a=la(r.pageXOffset,o.scrollLeft),u=la(o.clientTop,n.clientTop),s=la(o.clientLeft,n.clientLeft);return da(e).translate(a-s,i-u)},da=function(e){var t=e.dom(),n=t.ownerDocument.body;return n===t?ca(n.offsetLeft,n.offsetTop):Xn(e)?function(e){var t=e.getBoundingClientRect();return ca(t.left,t.top)}(t):ca(0,0)},pa=ra("width",(function(e){return e.dom().offsetWidth})),ma=function(e){return pa.get(e)},ha=function(e){return pa.getOuter(e)},ga=(Nn().browser.isSafari(),function(e){var n=void 0!==e?e.dom():t.document,r=n.body.scrollLeft||n.documentElement.scrollLeft,o=n.body.scrollTop||n.documentElement.scrollTop;return ca(r,o)}),va=function(e,t,n,r){return{x:o(e),y:o(t),width:o(n),height:o(r),right:o(e+n),bottom:o(t+r)}},ba=function(e){var n=void 0===e?t.window:e,r=n.document,o=ga(sn.fromDom(r)),i=n.visualViewport;if(void 0!==i)return va(Math.max(i.pageLeft,o.left()),Math.max(i.pageTop,o.top()),i.width,i.height);var a=r.documentElement,u=a.clientWidth,s=a.clientHeight;return va(o.left(),o.top(),u,s)},ya=function(e,t){return e.view(t).fold(o([]),(function(t){var n=e.owner(t),r=ya(e,n);return[t].concat(r)}))},wa=Object.freeze({view:function(e){return(e.dom()===t.document?y.none():y.from(e.dom().defaultView.frameElement)).map(sn.fromDom)},owner:function(e){return yo(e)}}),xa=function(e){var n=sn.fromDom(t.document),r=ga(n);return function(e,t){var n=t.owner(e),r=ya(t,n);return y.some(r)}(e,wa).fold(a(fa,e),(function(t){var n=da(e),o=V(t,(function(e,t){var n=da(t);return{left:e.left+n.left(),top:e.top+n.top()}}),{left:0,top:0});return ca(o.left+n.left()+r.left(),o.top+n.top()+r.top())}))},Ca=ho("point","width","height"),ka=ho("x","y","width","height"),Sa=function(e,t,n,r){return{x:o(e),y:o(t),width:o(n),height:o(r),right:o(e+n),bottom:o(t+r)}},Ta=function(e){var t=fa(e),n=ha(e),r=ua(e);return Sa(t.left(),t.top(),n,r)},Ea=function(e){var t=xa(e),n=ha(e),r=ua(e);return Sa(t.left(),t.top(),n,r)},Oa=function(){return ba(t.window)},_a=function(e,t,n){return Jn(e,(function(e){return Pn(e,t)}),n)},Aa=function(e,n){return function(e,n){var r=void 0===n?t.document:n.dom();return Ln(r)?y.none():y.from(r.querySelector(e)).map(sn.fromDom)}(n,e)},Da=function(e,t,n){return Un(Pn,_a,e,t,n)},Na=function(){var e=Yo("aria-owns");return{id:o(e),link:function(t){Po(t,"aria-owns",e)},unlink:function(e){Ho(e,"aria-owns")}}},Ma=function(e,t){return function(e){return Qn(e,(function(e){if(!Wn(e))return!1;var t=Lo(e,"id");return void 0!==t&&t.indexOf("aria-owns")>-1})).bind((function(e){var t=Lo(e,"id"),n=yo(e);return Aa(n,'[aria-owns="'+t+'"]')}))}(t).exists((function(t){return Ra(e,t)}))},Ra=function(e,t){return n=t,r=function(t){return Hn(t,e.element())},i=o(!1),Qn(n,r,i).isSome()||Ma(e,t);var n,r,i},za=function(e){for(var t=[],n=function(e){t.push(e)},r=0;r<e.length;r++)e[r].each(n);return t},Ia=function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n],n);if(r.isSome())return r}return y.none()};!function(e){e[e.STOP=0]="STOP",e[e.NORMAL=1]="NORMAL",e[e.LOGGING=2]="LOGGING"}(oa||(oa={}));var Ba=an({}),Pa=function(e,n,r){switch(De(Ba.get(),e).orThunk((function(){var t=te(Ba.get());return Ia(t,(function(t){return e.indexOf(t)>-1?y.some(Ba.get()[t]):y.none()}))})).getOr(oa.NORMAL)){case oa.NORMAL:return r(Ha());case oa.LOGGING:var o=function(e,n){var r=[],o=(new Date).getTime();return{logEventCut:function(e,t,n){r.push({outcome:"cut",target:t,purpose:n})},logEventStopped:function(e,t,n){r.push({outcome:"stopped",target:t,purpose:n})},logNoParent:function(e,t,n){r.push({outcome:"no-parent",target:t,purpose:n})},logEventNoHandlers:function(e,t){r.push({outcome:"no-handlers-left",target:t})},logEventResponse:function(e,t,n){r.push({outcome:"response",purpose:n,target:t})},write:function(){var i=(new Date).getTime();B(["mousemove","mouseover","mouseout",Mr()],e)||t.console.log(e,{event:e,time:i-o,target:n.dom(),sequence:F(r,(function(e){return B(["cut","stopped","response"],e.outcome)?"{"+e.purpose+"} "+e.outcome+" at ("+Uo(e.target)+")":e.outcome}))})}}}(e,n),i=r(o);return o.write(),i;case oa.STOP:return!0}},La=["alloy/data/Fields","alloy/debugging/Debugging"],Fa=function(e,t,n){return Pa(e,t,n)},Ha=o({logEventCut:n,logEventStopped:n,logNoParent:n,logEventNoHandlers:n,logEventResponse:n,write:n}),ja=o([It("menu"),It("selectedMenu")]),Va=o([It("item"),It("selectedItem")]),Ua=(o(ut(Va().concat(ja()))),o(ut(Va()))),$a=jt("initSize",[It("numColumns"),It("numRows")]),qa=function(){return jt("markers",[It("backgroundMenu")].concat(ja()).concat(Va()))},Wa=function(e){return jt("markers",F(e,It))},Ya=function(e,t,n){!function(){var e=new Error;if(void 0!==e.stack){var t=e.stack.split("\n");return $(t,(function(e){return e.indexOf("alloy")>0&&!P(La,(function(t){return e.indexOf(t)>-1}))})).getOr("unknown")}}();return pt(t,t,n,bt((function(e){return C.value((function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.apply(void 0,t)}))})))},Xa=function(e){return Ya(0,e,be(n))},Ga=function(e){return Ya(0,e,be(y.none))},Ka=function(e){return Ya(0,e,we())},Ja=function(e){return Ya(0,e,we())},Qa=function(e,t){return on(e,o(t))},Za=function(e){return on(e,i)},eu=o($a),tu=ho("x","y","bubble","direction","label"),nu=fe([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),ru=nu.southeast,ou=nu.southwest,iu=nu.northeast,au=nu.northwest,uu=nu.south,su=nu.north,cu=nu.east,lu=nu.west,fu=function(e){return e.x()},du=function(e,t){return e.x()+e.width()/2-t.width()/2},pu=function(e,t){return e.x()+e.width()-t.width()},mu=function(e,t){return e.y()-t.height()},hu=function(e){return e.y()+e.height()},gu=function(e,t){return e.y()+e.height()/2-t.height()/2},vu=function(e,t,n){return tu(fu(e),hu(e),n.southeast(),ru(),"layout-se")},bu=function(e,t,n){return tu(pu(e,t),hu(e),n.southwest(),ou(),"layout-sw")},yu=function(e,t,n){return tu(fu(e),mu(e,t),n.northeast(),iu(),"layout-ne")},wu=function(e,t,n){return tu(pu(e,t),mu(e,t),n.northwest(),au(),"layout-nw")},xu=function(e,t,n){return tu(du(e,t),mu(e,t),n.north(),su(),"layout-n")},Cu=function(e,t,n){return tu(du(e,t),hu(e),n.south(),uu(),"layout-s")},ku=function(e,t,n){return tu(function(e){return e.x()+e.width()}(e),gu(e,t),n.east(),cu(),"layout-e")},Su=function(e,t,n){return tu(function(e,t){return e.x()-t.width()}(e,t),gu(e,t),n.west(),lu(),"layout-w")},Tu=function(){return[vu,bu,yu,wu,Cu,xu]},Eu=function(){return[bu,vu,wu,yu,Cu,xu]},Ou=function(e,t,n){return po((function(r,o){n(r,e,t)}))},_u=function(e,t,n){return function(e,t,n){var r=n.toString(),o=r.indexOf(")")+1,i=r.indexOf("("),a=r.substring(i+1,o-1).split(/,\s*/);return e.toFunctionAnnotation=function(){return{name:t,parameters:ii(a.slice(0,1).concat(a.slice(3)))}},e}((function(r){for(var i=[],a=1;a<arguments.length;a++)i[a-1]=arguments[a];var u=[r].concat(i);return r.config({name:o(e)}).fold((function(){throw new Error("We could not find any behaviour configuration for: "+e+". Using API: "+n)}),(function(e){var n=Array.prototype.slice.call(u,1);return t.apply(void 0,[r,e.config,e.state].concat(n))}))}),n,t)},Au=function(e){return{key:e,value:void 0}},Du=function(e,t,n,r,o,i,u){var s=function(e){return ze(e,n)?e[n]():y.none()},c=oe(o,(function(e,t){return _u(n,e,t)})),l=oe(i,(function(e,t){return ai(e,t)})),f=d(d(d({},l),c),{revoke:a(Au,n),config:function(t){var r=Ct(n+"-config",e,t);return{key:n,value:{config:r,me:f,configAsRaw:ge((function(){return Ct(n+"-config",e,t)})),initialConfig:t,state:u}}},schema:function(){return t},exhibit:function(e,t){return s(e).bind((function(e){return De(r,"exhibit").map((function(n){return n(t,e.config,e.state)}))})).getOr(pi({}))},name:function(){return n},handlers:function(e){return s(e).map((function(e){return Ae("events",(function(e,t){return{}}))(r)(e.config,e.state)})).getOr({})}});return f},Nu=function(e){return Me(e)},Mu=at([It("fields"),It("name"),Kt("active",{}),Kt("apis",{}),Kt("state",li),Kt("extra",{})]),Ru=function(e){var t=Ct("Creating behaviour: "+e.name,Mu,e);return function(e,t,n,r,o,i){var a,u,s=at(e),c=Gt(t,[(a="config",u=e,qt(a,at(u)))]);return Du(s,c,t,n,r,o,i)}(t.fields,t.name,t.active,t.apis,t.extra,t.state)},zu=at([It("branchKey"),It("branches"),It("name"),Kt("active",{}),Kt("apis",{}),Kt("state",li),Kt("extra",{})]),Iu=function(e){var t=Ct("Creating behaviour: "+e.name,zu,e);return function(e,t,n,r,o,i){var a=e,u=Gt(t,[qt("config",e)]);return Du(a,u,t,n,r,o,i)}(Tt(t.branchKey,t.branches),t.name,t.active,t.apis,t.extra,t.state)},Bu=o(void 0),Pu=Object.freeze({events:function(e){return Zr([no(Tr(),(function(t,n){var r=e.channels,o=function(e,t){return t.universal()?e:j(e,(function(e){return B(t.channels(),e)}))}(te(r),n);H(o,(function(e){var o=r[e],i=o.schema,a=Ct("channel["+e+"] data\nReceiver: "+Uo(t.element()),i,n.data());o.onReceive(t,a)}))}))])}}),Lu=[Bt("channels",yt(C.value,at([Ka("onReceive"),Kt("schema",Et())])))],Fu=Ru({fields:Lu,name:"receiving",active:Pu}),Hu=Object.freeze({exhibit:function(e,t){return pi({classes:[],styles:t.useFixed()?{}:{position:"relative"}})}}),ju=function(e){e.dom().focus()},Vu=function(e){var n=void 0!==e?e.dom():t.document;return y.from(n.activeElement).map(sn.fromDom)},Uu=function(e){return Vu(yo(e)).filter((function(t){return e.dom().contains(t.dom())}))},$u=function(e,t){var r=yo(t),o=Vu(r).bind((function(e){var n=function(t){return Hn(e,t)};return n(t)?y.some(t):Zn(t,n)})),i=e(t);return o.each((function(e){Vu(r).filter((function(t){return Hn(t,e)})).fold((function(){ju(e)}),n)})),i},qu=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right"],Wu=function(e,t,n){var r=function(e){return De(n,e).getOr([])},o=function(e,t,n){var o=K(qu,n);return{offset:function(){return ca(e,t)},classesOn:function(){return Y(n,r)},classesOff:function(){return Y(o,r)}}};return{southeast:function(){return o(-e,t,["top","alignLeft"])},southwest:function(){return o(e,t,["top","alignRight"])},south:function(){return o(-e/2,t,["top","alignCentre"])},northeast:function(){return o(-e,-t,["bottom","alignLeft"])},northwest:function(){return o(e,-t,["bottom","alignRight"])},north:function(){return o(-e/2,-t,["bottom","alignCentre"])},east:function(){return o(e,-t/2,["valignCentre","left"])},west:function(){return o(-e,-t/2,["valignCentre","right"])},innerNorthwest:function(){return o(-e,t,["top","alignRight"])},innerNortheast:function(){return o(e,t,["top","alignLeft"])},innerNorth:function(){return o(-e/2,t,["top","alignCentre"])},innerSouthwest:function(){return o(-e,-t,["bottom","alignRight"])},innerSoutheast:function(){return o(e,-t,["bottom","alignLeft"])},innerSouth:function(){return o(-e/2,-t,["bottom","alignCentre"])},innerWest:function(){return o(e,-t/2,["valignCentre","right"])},innerEast:function(){return o(-e,-t/2,["valignCentre","left"])}}},Yu=function(){return Wu(0,0,{})},Xu=bo(["x","y","width","height","maxHeight","maxWidth","direction","classes","label","candidateYforTest"],[]),Gu=ho("position","left","top","right","bottom"),Ku=fe([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),Ju=function(e,t,n,r,o,i){var a=t.x()-n,u=t.y()-r,s=o-(a+t.width()),c=i-(u+t.height()),l=y.some(a),f=y.some(u),d=y.some(s),p=y.some(c),m=y.none();return function(e,t,n,r,o,i,a,u,s){return e.fold(t,n,r,o,i,a,u,s)}(t.direction(),(function(){return Gu(e,l,f,m,m)}),(function(){return Gu(e,m,f,d,m)}),(function(){return Gu(e,l,m,m,p)}),(function(){return Gu(e,m,m,d,p)}),(function(){return Gu(e,l,f,m,m)}),(function(){return Gu(e,l,m,m,p)}),(function(){return Gu(e,l,f,m,m)}),(function(){return Gu(e,m,f,d,m)}))},Qu=function(e,t){var n=a(xa,t),r=e.fold(n,n,(function(){var e=ga();return xa(t).translate(-e.left(),-e.top())})),o=ha(t),i=ua(t);return Sa(r.left(),r.top(),o,i)},Zu=function(e,t){return t.fold((function(){return e.fold(Oa,Oa,Sa)}),(function(t){return e.fold(t,t,(function(){var n=t(),r=es(e,n.x(),n.y());return Sa(r.left(),r.top(),n.width(),n.height())}))}))},es=function(e,t,n){var r=ca(t,n);return e.fold(o(r),o(r),(function(){var e=ga();return r.translate(-e.left(),-e.top())}))},ts=Ku.relative,ns=Ku.fixed,rs=function(e,t){return function(n){return"rtl"===os(n)?t:e}},os=function(e){return"rtl"===Pi(e,"direction")?"rtl":"ltr"},is=function(){return Gt("layouts",[It("onLtr"),It("onRtl")])},as=function(e,t,n,r){var o=t.layouts.map((function(t){return t.onLtr(e)})).getOr(n),i=t.layouts.map((function(t){return t.onRtl(e)})).getOr(r);return rs(o,i)(e)},us=[It("hotspot"),$t("bubble"),Kt("overrides",{}),is(),Qa("placement",(function(e,t,n){var r=t.hotspot,o=Qu(n,r.element()),i=as(e.element(),t,Tu(),Eu());return y.some({anchorBox:o,bubble:t.bubble.getOr(Yu()),overrides:t.overrides,layouts:i,placer:y.none()})}))],ss=[It("x"),It("y"),Kt("height",0),Kt("width",0),Kt("bubble",Yu()),Kt("overrides",{}),is(),Qa("placement",(function(e,t,n){var r=es(n,t.x,t.y),o=Sa(r.left(),r.top(),t.width,t.height),i=as(e.element(),t,[vu,bu,yu,wu,Cu,xu,ku,Su],[bu,vu,wu,yu,Cu,xu,ku,Su]);return y.some({anchorBox:o,bubble:t.bubble,overrides:t.overrides,layouts:i,placer:y.none()})}))],cs={create:ho("start","soffset","finish","foffset")},ls=fe([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),fs=(ls.before,ls.on,ls.after,function(e){return e.fold(i,i,i)}),ds=fe([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),ps={domRange:ds.domRange,relative:ds.relative,exact:ds.exact,exactFromRange:function(e){return ds.exact(e.start(),e.soffset(),e.finish(),e.foffset())},getWin:function(e){var t=function(e){return e.match({domRange:function(e){return sn.fromDom(e.startContainer)},relative:function(e,t){return fs(e)},exact:function(e,t,n,r){return e}})}(e);return xo(t)},range:cs.create},ms=function(e,t,n){var r,o=e.document.createRange();return r=o,t.fold((function(e){r.setStartBefore(e.dom())}),(function(e,t){r.setStart(e.dom(),t)}),(function(e){r.setStartAfter(e.dom())})),function(e,t){t.fold((function(t){e.setEndBefore(t.dom())}),(function(t,n){e.setEnd(t.dom(),n)}),(function(t){e.setEndAfter(t.dom())}))}(o,n),o},hs=function(e,t,n,r,o){var i=e.document.createRange();return i.setStart(t.dom(),n),i.setEnd(r.dom(),o),i},gs=function(e){return{left:o(e.left),top:o(e.top),right:o(e.right),bottom:o(e.bottom),width:o(e.width),height:o(e.height)}},vs=fe([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),bs=function(e,t,n){return t(sn.fromDom(n.startContainer),n.startOffset,sn.fromDom(n.endContainer),n.endOffset)},ys=function(e,t){return function(e,t){var n=t.ltr();return n.collapsed?t.rtl().filter((function(e){return!1===e.collapsed})).map((function(e){return vs.rtl(sn.fromDom(e.endContainer),e.endOffset,sn.fromDom(e.startContainer),e.startOffset)})).getOrThunk((function(){return bs(0,vs.ltr,n)})):bs(0,vs.ltr,n)}(0,function(e,t){return t.match({domRange:function(e){return{ltr:o(e),rtl:y.none}},relative:function(t,n){return{ltr:ge((function(){return ms(e,t,n)})),rtl:ge((function(){return y.some(ms(e,n,t))}))}},exact:function(t,n,r,o){return{ltr:ge((function(){return hs(e,t,n,r,o)})),rtl:ge((function(){return y.some(hs(e,r,o,t,n))}))}}})}(e,t))},ws=function(e,t,n){return t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom};var xs=function(e,t){var n=function(t){return e(t)?y.from(t.dom().nodeValue):y.none()};return{get:function(r){if(!e(r))throw new Error("Can only get "+t+" value of a "+t+" node");return n(r).getOr("")},getOption:n,set:function(n,r){if(!e(n))throw new Error("Can only set raw "+t+" value of a "+t+" node");n.dom().nodeValue=r}}}(Yn,"text"),Cs=function(e){return xs.get(e)},ks=function(e){return xs.getOption(e)},Ss=function(e,t,n,r,o){var i=function(n){var r=e.dom().createRange();return r.setStart(t.dom(),n),r.collapse(!0),r},a=Cs(t).length,u=function(e,t,n,r,o){if(0===o)return 0;if(t===r)return o-1;for(var i=r,a=1;a<o;a++){var u=e(a),s=Math.abs(t-u.left);if(n<=u.bottom){if(n<u.top||s>i)return a-1;i=s}}return 0}((function(e){return i(e).getBoundingClientRect()}),n,r,o.right,a);return i(u)},Ts=function(e,t,n,r){return Yn(t)?function(e,t,n,r){var o=e.dom().createRange();o.selectNode(t.dom());var i=o.getClientRects();return Ia(i,(function(e){return ws(e,n,r)?y.some(e):y.none()})).map((function(o){return Ss(e,t,n,r,o)}))}(e,t,n,r):function(e,t,n,r){var o=e.dom().createRange(),i=So(t);return Ia(i,(function(t){return o.selectNode(t.dom()),ws(o.getBoundingClientRect(),n,r)?Ts(e,t,n,r):y.none()}))}(e,t,n,r)},Es=["img","br"],Os=function(e){return ks(e).filter((function(e){return 0!==e.trim().length||e.indexOf(" ")>-1})).isSome()||B(Es,$n(e))},_s=function(e){return Zn(e,Os)},As=function(e){return Ds(e,Os)},Ds=function(e,t){var n=function(e){for(var r=So(e),o=r.length-1;o>=0;o--){var i=r[o];if(t(i))return y.some(i);var a=n(i);if(a.isSome())return a}return y.none()};return n(e)},Ns=function(e,t){return t-e.left<e.right-t},Ms=function(e,t,n){var r=e.dom().createRange();return r.selectNode(t.dom()),r.collapse(n),r},Rs=function(e,t,n){var r=e.dom().createRange();r.selectNode(t.dom());var o=r.getBoundingClientRect(),i=Ns(o,n);return(!0===i?_s:As)(t).map((function(t){return Ms(e,t,i)}))},zs=function(e,t,n){var r=t.dom().getBoundingClientRect(),o=Ns(r,n);return y.some(Ms(e,t,o))},Is=function(e,t,n,r){var o=e.dom().createRange();o.selectNode(t.dom());var i=o.getBoundingClientRect();return function(e,t,n,r){var o=e.dom().createRange();o.selectNode(t.dom());var i=o.getBoundingClientRect(),a=Math.max(i.left,Math.min(i.right,n)),u=Math.max(i.top,Math.min(i.bottom,r));return Ts(e,t,a,u)}(e,t,Math.max(i.left,Math.min(i.right,n)),Math.max(i.top,Math.min(i.bottom,r)))},Bs=(document.caretPositionFromPoint||document.caretRangeFromPoint,function(e,t){return Fn(t,e)}),Ps=function(e,t,n,r){var o=function(e,t,n,r){var o=yo(e).dom().createRange();return o.setStart(e.dom(),t),o.setEnd(n.dom(),r),o}(e,t,n,r),i=Hn(e,n)&&t===r;return o.collapsed&&!i},Ls=function(e){var t=sn.fromDom(e.anchorNode),n=sn.fromDom(e.focusNode);return Ps(t,e.anchorOffset,n,e.focusOffset)?y.some(cs.create(t,e.anchorOffset,n,e.focusOffset)):function(e){if(e.rangeCount>0){var t=e.getRangeAt(0),n=e.getRangeAt(e.rangeCount-1);return y.some(cs.create(sn.fromDom(t.startContainer),t.startOffset,sn.fromDom(n.endContainer),n.endOffset))}return y.none()}(e)},Fs=function(e,t){return function(e){var t=e.getClientRects(),n=t.length>0?t[0]:e.getBoundingClientRect();return n.width>0||n.height>0?y.some(n).map(gs):y.none()}(function(e,t){return ys(e,t).match({ltr:function(t,n,r,o){var i=e.document.createRange();return i.setStart(t.dom(),n),i.setEnd(r.dom(),o),i},rtl:function(t,n,r,o){var i=e.document.createRange();return i.setStart(r.dom(),o),i.setEnd(t.dom(),n),i}})}(e,t))},Hs=ho("element","offset"),js=fe([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),Vs=function(e){return e.fold((function(e){return e}),(function(e,t,n){return e.translate(-t,-n)}))},Us=function(e){return e.fold((function(e){return e}),(function(e,t,n){return e}))},$s=function(e){return U(e,(function(e,t){return e.translate(t.left(),t.top())}),ca(0,0))},qs=function(e){var t=F(e,Us);return $s(t)},Ws=js.screen,Ys=js.absolute,Xs=function(e,t,n){var r=yo(e.element()),o=ga(r),i=function(e,t,n){var r=xo(n.root).dom();return y.from(r.frameElement).map(sn.fromDom).filter((function(t){var n=yo(t),r=yo(e.element());return Hn(n,r)})).map(fa)}(e,0,n).getOr(o);return Ys(i,o.left(),o.top())},Gs=function(e,t,n,r){var o=e,i=t,a=n,u=r;e<0&&(o=0,a=n+e),t<0&&(i=0,u=r+t);var s=Ws(ca(o,i));return y.some(Ca(s,a,u))},Ks=function(e,t,n,r,o){return e.map((function(e){var i,a,u,s=[t,e.point()],c=(i=function(){return qs(s)},a=function(){return qs(s)},u=function(){return function(e){var t=F(e,Vs);return $s(t)}(s)},r.fold(i,a,u)),l=ka(c.left(),c.top(),e.width(),e.height()),f=as(o,n,n.showAbove?[yu,wu,vu,bu,xu,Cu]:[vu,bu,yu,wu,Cu,Cu],n.showAbove?[wu,yu,bu,vu,xu,Cu]:[bu,vu,wu,yu,Cu,xu]);return{anchorBox:l,bubble:n.bubble.getOr(Yu()),overrides:n.overrides,layouts:f,placer:y.none()}}))},Js=ho("element","offset"),Qs=function(e,t){return Yn(e)?Js(e,t):function(e,t){var n=So(e);if(0===n.length)return Hs(e,t);if(t<n.length)return Hs(n[t],0);var r=n[n.length-1],o=Yn(r)?Cs(r).length:So(r).length;return Hs(r,o)}(e,t)},Zs=function(e,t){return t.getSelection.getOrThunk((function(){return function(){return function(e){return y.from(e.getSelection()).filter((function(e){return e.rangeCount>0})).bind(Ls)}(e)}}))().map((function(e){var t=Qs(e.start(),e.soffset()),n=Qs(e.finish(),e.foffset());return ps.range(t.element(),t.offset(),n.element(),n.offset())}))},ec=[$t("getSelection"),It("root"),$t("bubble"),is(),Kt("overrides",{}),Kt("showAbove",!1),Qa("placement",(function(e,t,n){var r=xo(t.root).dom(),o=Xs(e,0,t),i=Zs(r,t).bind((function(e){return Fs(r,ps.exactFromRange(e)).orThunk((function(){var t=sn.fromText("\ufeff");return Eo(e.start(),t),Fs(r,ps.exact(t,0,t,1)).map((function(e){return Mo(t),e}))})).bind((function(e){return Gs(e.left(),e.top(),e.width(),e.height())}))})),a=Zs(r,t).bind((function(e){return Wn(e.start())?y.some(e.start()):Co(e.start())})).getOr(e.element());return Ks(i,o,t,n,a)}))],tc=[It("node"),It("root"),$t("bubble"),is(),Kt("overrides",{}),Kt("showAbove",!1),Qa("placement",(function(e,t,n){var r=Xs(e,0,t);return t.node.bind((function(o){var i=o.dom().getBoundingClientRect(),a=Gs(i.left,i.top,i.width,i.height),u=t.node.getOr(e.element());return Ks(a,r,t,n,u)}))}))],nc=function(e){return e.x()+e.width()},rc=function(e,t){return e.x()-t.width()},oc=function(e,t){return e.y()-t.height()+e.height()},ic=function(e){return e.y()},ac=function(e,t,n){return tu(nc(e),ic(e),n.southeast(),ru(),"link-layout-se")},uc=function(e,t,n){return tu(rc(e,t),ic(e),n.southwest(),ou(),"link-layout-sw")},sc=function(e,t,n){return tu(nc(e),oc(e,t),n.northeast(),iu(),"link-layout-ne")},cc=function(e,t,n){return tu(rc(e,t),oc(e,t),n.northwest(),au(),"link-layout-nw")},lc=[It("item"),is(),Kt("overrides",{}),Qa("placement",(function(e,t,n){var r=Qu(n,t.item.element()),o=as(e.element(),t,[ac,uc,sc,cc],[uc,ac,cc,sc]);return y.some({anchorBox:r,bubble:Yu(),overrides:t.overrides,layouts:o,placer:y.none()})}))],fc=Tt("anchor",{selection:ec,node:tc,hotspot:us,submenu:lc,makeshift:ss}),dc=ho("anchorBox","origin"),pc=function(e,t){return dc(e,t)},mc=function(e,t,n,r){var o=e+t;return o>r?n:o<n?r:o},hc=function(e,t,n){return e<=t?t:e>=n?n:e},gc=fe([{fit:["reposition"]},{nofit:["reposition","deltaW","deltaH"]}]),vc=function(e,t,n,r){var i=e.x(),a=e.y(),u=e.bubble().offset().left(),s=e.bubble().offset().top(),c=r.y(),l=r.bottom(),f=r.x(),d=r.right(),p=a+s,m=function(e,t,n,r,o){var i=o.x(),a=o.y(),u=o.width(),s=o.height(),c=e>=i,l=t>=a,f=c&&l,d=e+n<=i+u&&t+r<=a+s,p=Math.abs(Math.min(n,c?i+u-e:i-(e+n))),m=Math.abs(Math.min(r,l?a+s-t:a-(t+r)));return{originInBounds:f,sizeInBounds:d,limitX:hc(e,o.x(),o.right()),limitY:hc(t,o.y(),o.bottom()),deltaW:p,deltaH:m}}(i+u,p,t,n,r),h=m.originInBounds,g=m.sizeInBounds,v=m.limitX,b=m.limitY,y=m.deltaW,w=m.deltaH,x=o(b+w-c),C=o(l-b),k=function(e,t,n,r){return e.fold(t,t,r,r,t,r,n,n)}(e.direction(),C,C,x),S=o(v+y-f),T=o(d-v),E=function(e,t,n,r){return e.fold(t,r,t,r,n,n,t,r)}(e.direction(),T,T,S),O=Xu({x:v,y:b,width:y,height:w,maxHeight:k,maxWidth:E,direction:e.direction(),classes:{on:e.bubble().classesOn(),off:e.bubble().classesOff()},label:e.label(),candidateYforTest:p});return h&&g?gc.fit(O):gc.nofit(O,y,w)},bc=function(e,t,n,r){ji(t,"max-height"),ji(t,"max-width");var u,s={width:o(ha(u=t)),height:o(ua(u))};return function(e,t,n,r,o){var u=n.width(),s=n.height(),c=function(e,i,a,c){var l=e(t,n,r);return vc(l,u,s,o).fold(gc.fit,(function(e,t,n){return n>c||t>a?gc.nofit(e,t,n):gc.nofit(i,a,c)}))};return U(e,(function(e,t){var n=a(c,t);return e.fold(gc.fit,n)}),gc.nofit(Xu({x:t.x(),y:t.y(),width:n.width(),height:n.height(),maxHeight:n.height(),maxWidth:n.width(),direction:ru(),classes:{on:[],off:[]},label:"none",candidateYforTest:t.y()}),-1,-1)).fold(i,i)}(r.preference(),e,s,n,r.bounds())},yc=function(e,t,n){var r=function(e){return e+"px"},o=function(e,t){return e.fold((function(){return Gu("absolute",y.some(t.x()),y.some(t.y()),y.none(),y.none())}),(function(e,n,r,o){return Ju("absolute",t,e,n,r,o)}),(function(e,n,r,o){return Ju("fixed",t,e,n,r,o)}))}(n.origin(),t);!function(e,t){var n=e.dom();re(t,(function(e,t){e.fold((function(){zi(n,t)}),(function(e){Ri(n,t,e)}))}))}(e,{position:y.some(o.position()),left:o.left().map(r),top:o.top().map(r),right:o.right().map(r),bottom:o.bottom().map(r)})},wc=function(e,t){!function(e,t){var n=ia.max(e,t,["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"]);Ii(e,"max-height",n+"px")}(e,Math.floor(t))},xc=o((function(e,t){wc(e,t),Bi(e,{"overflow-x":"hidden","overflow-y":"auto"})})),Cc=o((function(e,t){wc(e,t)})),kc=bo(["bounds","origin","preference","maxHeightFunction","maxWidthFunction"],[]),Sc=function(e,t,n){return void 0===e[t]?n:e[t]},Tc=function(e,t,n,r){var o=bc(e,t,n,r);yc(t,o,r),function(e,t){var n=t.classes();Ni(e,n.off),Di(e,n.on)}(t,o),function(e,t,n){n.maxHeightFunction()(e,t.maxHeight())}(t,o,r),function(e,t,n){n.maxWidthFunction()(e,t.maxWidth())}(t,o,r)},Ec=function(e,t,r,o,i){!function(e,t,r,o,i,a){var u=Sc(a,"maxHeightFunction",xc()),s=Sc(a,"maxWidthFunction",n),c=e.anchorBox(),l=e.origin(),f=kc({bounds:Zu(l,i),origin:l,preference:o,maxHeightFunction:u,maxWidthFunction:s});Tc(c,t,r,f)}(pc(r.anchorBox,t),i.element(),r.bubble,r.layouts,o,r.overrides)},Oc=function(e,t,n,r,o,i){var a=i.map(Ta);return _c(e,t,n,r,o,a)},_c=function(e,n,r,i,a,u){var s=Ct("positioning anchor.info",fc,i);$u((function(){Ii(a.element(),"position","fixed");var r=Fi(a.element(),"visibility");Ii(a.element(),"visibility","hidden");var i,c=n.useFixed()?(i=t.document.documentElement,ns(0,0,i.clientWidth,i.clientHeight)):function(e){var t=fa(e.element()),n=e.element().dom().getBoundingClientRect();return ts(t.left(),t.top(),n.width,n.height)}(e),l=s.placement,f=u.map(o).or(n.getBounds);l(e,s,c).each((function(t){t.placer.getOr(Ec)(e,c,t,f,a)})),r.fold((function(){ji(a.element(),"visibility")}),(function(e){Ii(a.element(),"visibility",e)})),Fi(a.element(),"left").isNone()&&Fi(a.element(),"top").isNone()&&Fi(a.element(),"right").isNone()&&Fi(a.element(),"bottom").isNone()&&Fi(a.element(),"position").is("fixed")&&ji(a.element(),"position")}),a.element())},Ac=Object.freeze({position:function(e,t,n,r,o){Oc(e,t,n,r,o,y.none())},positionWithin:Oc,positionWithinBounds:_c,getMode:function(e,t,n){return t.useFixed()?"fixed":"absolute"}}),Dc=[Kt("useFixed",c),$t("getBounds")],Nc=Ru({fields:Dc,name:"positioning",active:Hu,apis:Ac}),Mc=function(e){Yr(e,Lr());var t=e.components();H(t,Mc)},Rc=function(e){var t=e.components();H(t,Rc),Yr(e,Pr())},zc=function(e,t){Ao(e.element(),t.element())},Ic=function(e,t){var n=e.components();!function(e){H(e.components(),(function(e){return Mo(e.element())})),No(e.element()),e.syncComponents()}(e);var r=K(n,t);H(r,(function(t){Mc(t),e.getSystem().removeFromWorld(t)})),H(t,(function(t){t.getSystem().isConnected()?zc(e,t):(e.getSystem().addToWorld(t),zc(e,t),Xn(e.element())&&Rc(t)),e.syncComponents()}))},Bc=function(e,t){Pc(e,t,Ao)},Pc=function(e,t,n){e.getSystem().addToWorld(t),n(e.element(),t.element()),Xn(e.element())&&Rc(t),e.syncComponents()},Lc=function(e){Mc(e),Mo(e.element()),e.getSystem().removeFromWorld(e)},Fc=function(e){var t=Co(e.element()).bind((function(t){return e.getSystem().getByDom(t).toOption()}));Lc(e),t.each((function(e){e.syncComponents()}))},Hc=function(e){var t=e.components();H(t,Lc),No(e.element()),e.syncComponents()},jc=function(e,t){Vc(e,t,Ao)},Vc=function(e,t,n){n(e,t.element());var r=So(t.element());H(r,(function(e){t.getByDom(e).each(Rc)}))},Uc=function(e){var t=So(e.element());H(t,(function(t){e.getByDom(t).each(Mc)})),Mo(e.element())},$c=function(e,t,n,r){n.get().each((function(t){Hc(e)}));var o=t.getAttachPoint(e);Bc(o,e);var i=e.getSystem().build(r);return Bc(e,i),n.set(i),i},qc=function(e,t,n,r){var o=$c(e,t,n,r);return t.onOpen(e,o),o},Wc=function(e,t,n){n.get().each((function(r){Hc(e),Fc(e),t.onClose(e,r),n.clear()}))},Yc=function(e,t,n){return n.isOpen()},Xc=function(e,t,n){var r=t.getAttachPoint(e);Ii(e.element(),"position",Nc.getMode(r)),function(e,t,n,r){Fi(e.element(),t).fold((function(){Ho(e.element(),n)}),(function(t){Po(e.element(),n,t)})),Ii(e.element(),t,r)}(e,"visibility",t.cloakVisibilityAttr,"hidden")},Gc=function(e,t,n){(function(e){return P(["top","left","right","bottom"],(function(t){return Fi(e,t).isSome()}))})(e.element())||ji(e.element(),"position"),function(e,t,n){if(Fo(e.element(),n)){var r=Lo(e.element(),n);Ii(e.element(),t,r)}else ji(e.element(),t)}(e,"visibility",t.cloakVisibilityAttr)},Kc=Object.freeze({cloak:Xc,decloak:Gc,open:qc,openWhileCloaked:function(e,t,n,r,o){Xc(e,t),qc(e,t,n,r),o(),Gc(e,t)},close:Wc,isOpen:Yc,isPartOf:function(e,t,n,r){return Yc(0,0,n)&&n.get().exists((function(n){return t.isPartOf(e,n,r)}))},getState:function(e,t,n){return n.get()},setContent:function(e,t,n,r){return n.get().map((function(){return $c(e,t,n,r)}))}}),Jc=Object.freeze({events:function(e,t){return Zr([no(Dr(),(function(n,r){Wc(n,e,t)}))])}}),Qc=[Xa("onOpen"),Xa("onClose"),It("isPartOf"),It("getAttachPoint"),Kt("cloakVisibilityAttr","data-precloak-visibility")],Zc=Ru({fields:Qc,name:"sandboxing",active:Jc,apis:Kc,state:Object.freeze({init:function(){var e=an(y.none()),t=o("not-implemented");return fi({readState:t,isOpen:function(){return e.get().isSome()},clear:function(){e.set(y.none())},set:function(t){e.set(y.some(t))},get:function(t){return e.get()}})}})}),el=o("dismiss.popups"),tl=o("reposition.popups"),nl=o("mouse.released"),rl=at([Kt("isExtraPart",o(!1)),Gt("fireEventInstead",[Kt("event",Fr())])]),ol=function(e){var t,n=Ct("Dismissal",rl,e);return(t={})[el()]={schema:at([It("target")]),onReceive:function(e,t){Zc.isOpen(e)&&(Zc.isPartOf(e,t.target)||n.isExtraPart(e,t.target)||n.fireEventInstead.fold((function(){return Zc.close(e)}),(function(t){return Yr(e,t.event)})))}},t},il=at([Kt("isExtraPart",o(!1)),Gt("fireEventInstead",[Kt("event",Hr())]),Ht("doReposition")]),al=function(e){var t,n=Ct("Reposition",il,e);return(t={})[tl()]={onReceive:function(e){Zc.isOpen(e)&&n.fireEventInstead.fold((function(){return n.doReposition(e)}),(function(t){return Yr(e,t.event)}))}},t},ul=function(e,t,n){t.store.manager.onLoad(e,t,n)},sl=function(e,t,n){t.store.manager.onUnload(e,t,n)},cl=Object.freeze({onLoad:ul,onUnload:sl,setValue:function(e,t,n,r){t.store.manager.setValue(e,t,n,r)},getValue:function(e,t,n){return t.store.manager.getValue(e,t,n)},getState:function(e,t,n){return n}}),ll=Object.freeze({events:function(e,t){var n=e.resetOnDom?[lo((function(n,r){ul(n,e,t)})),fo((function(n,r){sl(n,e,t)}))]:[Ou(e,t,ul)];return Zr(n)}}),fl=function(){var e=an(null);return fi({set:e.set,get:e.get,isNotSet:function(){return null===e.get()},clear:function(){e.set(null)},readState:function(){return{mode:"memory",value:e.get()}}})},dl=function(){var e=an({}),t=an({});return fi({readState:function(){return{mode:"dataset",dataByValue:e.get(),dataByText:t.get()}},lookup:function(n){return De(e.get(),n).orThunk((function(){return De(t.get(),n)}))},update:function(n){var r=e.get(),o=t.get(),i={},a={};H(n,(function(e){i[e.value]=e,De(e,"meta").each((function(t){De(t,"text").each((function(t){a[t]=e}))}))})),e.set(d(d({},r),i)),t.set(d(d({},o),a))},clear:function(){e.set({}),t.set({})}})},pl=Object.freeze({memory:fl,dataset:dl,manual:function(){return fi({readState:function(){}})},init:function(e){return e.store.manager.state(e)}}),ml=function(e,t,n,r){var o=t.store;n.update([r]),o.setValue(e,r),t.onSetValue(e,r)},hl=[$t("initialValue"),It("getFallbackEntry"),It("getDataKey"),It("setValue"),Qa("manager",{setValue:ml,getValue:function(e,t,n){var r=t.store,o=r.getDataKey(e);return n.lookup(o).fold((function(){return r.getFallbackEntry(o)}),(function(e){return e}))},onLoad:function(e,t,n){t.store.initialValue.each((function(r){ml(e,t,n,r)}))},onUnload:function(e,t,n){n.clear()},state:dl})],gl=[It("getValue"),Kt("setValue",n),$t("initialValue"),Qa("manager",{setValue:function(e,t,n,r){t.store.setValue(e,r),t.onSetValue(e,r)},getValue:function(e,t,n){return t.store.getValue(e)},onLoad:function(e,t,n){t.store.initialValue.each((function(n){t.store.setValue(e,n)}))},onUnload:n,state:li.init})],vl=[$t("initialValue"),Qa("manager",{setValue:function(e,t,n,r){n.set(r),t.onSetValue(e,r)},getValue:function(e,t,n){return n.get()},onLoad:function(e,t,n){t.store.initialValue.each((function(e){n.isNotSet()&&n.set(e)}))},onUnload:function(e,t,n){n.clear()},state:fl})],bl=[Jt("store",{mode:"memory"},Tt("mode",{memory:vl,manual:gl,dataset:hl})),Xa("onSetValue"),Kt("resetOnDom",!1)],yl=Ru({fields:bl,name:"representing",active:ll,apis:cl,extra:{setValueFrom:function(e,t){var n=yl.getValue(t);yl.setValue(e,n)}},state:pl}),wl=function(e,t){return rn(e,{},F(t,(function(t){return n=t.name(),r="Cannot configure "+t.name()+" for "+e,pt(n,n,xe(),ot((function(e){return Ve("The field: "+n+" is forbidden. "+r)})));var n,r})).concat([on("dump",i)]))},xl=function(e){return e.dump},Cl=function(e,t){return d(d({},e.dump),Nu(t))},kl=wl,Sl=Cl,Tl=fe([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),El=function(e,t,n,r){return"placeholder"===n.uiType?function(e,t,n,r){return e.exists((function(e){return e!==n.owner}))?Tl.single(!0,o(n)):De(r,n.name).fold((function(){throw new Error("Unknown placeholder component: "+n.name+"\nKnown: ["+te(r)+"]\nNamespace: "+e.getOr("none")+"\nSpec: "+JSON.stringify(n,null,2))}),(function(e){return e.replace()}))}(e,0,n,r):Tl.single(!1,o(n))},Ol=function(e,t,n,r){return El(e,0,n,r).fold((function(o,i){var a=i(t,n.config,n.validated),u=De(a,"components").getOr([]),s=Y(u,(function(n){return Ol(e,t,n,r)}));return[d(d({},a),{components:s})]}),(function(e,r){var o=r(t,n.config,n.validated);return n.validated.preprocess.getOr(i)(o)}))},_l=function(e,t,n,r){var i=oe(r,(function(e,t){return r=e,i=!1,{name:o(n=t),required:function(){return r.fold((function(e,t){return e}),(function(e,t){return e}))},used:function(){return i},replace:function(){if(!0===i)throw new Error("Trying to use the same placeholder more than once: "+n);return i=!0,r}};var n,r,i})),a=function(e,t,n,r){return Y(n,(function(n){return Ol(e,t,n,r)}))}(e,t,n,i);return re(i,(function(n){if(!1===n.used()&&n.required())throw new Error("Placeholder: "+n.name()+" was not found in components list\nNamespace: "+e.getOr("none")+"\nComponents: "+JSON.stringify(t.components,null,2))})),a},Al=Tl.single,Dl=Tl.multiple,Nl=o("placeholder"),Ml=fe([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),Rl=Kt("factory",{sketch:i}),zl=Kt("schema",[]),Il=It("name"),Bl=pt("pname","pname",Ce((function(e){return"<alloy."+Yo(e.name)+">"})),Et()),Pl=on("schema",(function(){return[$t("preprocess")]})),Ll=Kt("defaults",o({})),Fl=Kt("overrides",o({})),Hl=ut([Rl,zl,Il,Bl,Ll,Fl]),jl=ut([Rl,zl,Il,Ll,Fl]),Vl=ut([Rl,zl,Il,Bl,Ll,Fl]),Ul=ut([Rl,Pl,Il,It("unit"),Bl,Ll,Fl]),$l=function(e){return e.fold(y.some,y.none,y.some,y.some)},ql=function(e){var t=function(e){return e.name};return e.fold(t,t,t,t)},Wl=function(e,t){return function(n){var r=Ct("Converting part type",t,n);return e(r)}},Yl=Wl(Ml.required,Hl),Xl=Wl(Ml.external,jl),Gl=Wl(Ml.optional,Vl),Kl=Wl(Ml.group,Ul),Jl=o("entirety"),Ql=Object.freeze({required:Yl,external:Xl,optional:Gl,group:Kl,asNamedPart:$l,name:ql,asCommon:function(e){return e.fold(i,i,i,i)},original:Jl}),Zl=function(e,t,n,r){return me(t.defaults(e,n,r),n,{uid:e.partUids[t.name]},t.overrides(e,n,r))},ef=function(e,t){var n={};return H(t,(function(t){$l(t).each((function(t){var r=tf(e,t.pname);n[t.name]=function(n){var o=Ct("Part: "+t.name+" in "+e,ut(t.schema),n);return d(d({},r),{config:n,validated:o})}}))})),n},tf=function(e,t){return{uiType:Nl(),owner:e,name:t}},nf=function(e,t,n){return{uiType:Nl(),owner:e,name:t,config:n,validated:{}}},rf=function(e){return Y(e,(function(e){return e.fold(y.none,y.some,y.none,y.none).map((function(e){return jt(e.name,e.schema.concat([Za(Jl())]))})).toArray()}))},of=function(e){return F(e,ql)},af=function(e,t,n){return function(e,t,n){var r={},i={};return H(n,(function(e){e.fold((function(e){r[e.pname]=Al(!0,(function(t,n,r){return e.factory.sketch(Zl(t,e,n,r))}))}),(function(e){var n=t.parts[e.name];i[e.name]=o(e.factory.sketch(Zl(t,e,n[Jl()]),n))}),(function(e){r[e.pname]=Al(!1,(function(t,n,r){return e.factory.sketch(Zl(t,e,n,r))}))}),(function(e){r[e.pname]=Dl(!0,(function(t,n,r){var o=t[e.name];return F(o,(function(n){return e.factory.sketch(me(e.defaults(t,n,r),n,e.overrides(t,n)))}))}))}))})),{internals:o(r),externals:o(i)}}(0,t,n)},uf=function(e,t,n){return _l(y.some(e),t,t.components,n)},sf=function(e,t,n){var r=t.partUids[n];return e.getSystem().getByUid(r).toOption()},cf=function(e,t,n){return sf(e,t,n).getOrDie("Could not find part: "+n)},lf=function(e,t,n){var r={},i=t.partUids,a=e.getSystem();return H(n,(function(e){r[e]=o(a.getByUid(i[e]))})),r},ff=function(e,t){var n=e.getSystem();return oe(t.partUids,(function(e,t){return o(n.getByUid(e))}))},df=function(e){return te(e.partUids)},pf=function(e,t,n){var r={},i=t.partUids,a=e.getSystem();return H(n,(function(e){r[e]=o(a.getByUid(i[e]).getOrDie())})),r},mf=function(e,t){var n=of(t);return Me(F(n,(function(t){return{key:t,value:e+"-"+t}})))},hf=function(e){return pt("partUids","partUids",ke((function(t){return mf(t.uid,e)})),Et())},gf=Object.freeze({generate:ef,generateOne:nf,schemas:rf,names:of,substitutes:af,components:uf,defaultUids:mf,defaultUidsSchema:hf,getAllParts:ff,getAllPartNames:df,getPart:sf,getPartOrDie:cf,getParts:lf,getPartsOrDie:pf}),vf=function(e,t,n,r,o){var i=function(e,t){return(e.length>0?[jt("parts",e)]:[]).concat([It("uid"),Kt("dom",{}),Kt("components",[]),Za("originalSpec"),Kt("debug.sketcher",{})]).concat(t)}(r,o);return Ct(e+" [SpecSchema]",at(i.concat(t)),n)},bf=function(e,t,n,r,o){var i=yf(o),a=rf(n),u=hf(n),s=vf(e,t,i,a,[u]),c=af(0,s,n);return r(s,uf(e,s,c.internals()),i,c.externals())},yf=function(e){return e.hasOwnProperty("uid")?e:d(d({},e),{uid:ti("uid")})};var wf,xf=at([It("name"),It("factory"),It("configFields"),Kt("apis",{}),Kt("extraApis",{})]),Cf=at([It("name"),It("factory"),It("configFields"),It("partFields"),Kt("apis",{}),Kt("extraApis",{})]),kf=function(e){var t=Ct("Sketcher for "+e.name,xf,e),n=oe(t.apis,ci),r=oe(t.extraApis,(function(e,t){return ai(e,t)}));return d(d({name:o(t.name),partFields:o([]),configFields:o(t.configFields),sketch:function(e){return function(e,t,n,r){var o=yf(r);return n(vf(e,t,o,[],[]),o)}(t.name,t.configFields,t.factory,e)}},n),r)},Sf=function(e){var t=Ct("Sketcher for "+e.name,Cf,e),n=ef(t.name,t.partFields),r=oe(t.apis,ci),i=oe(t.extraApis,(function(e,t){return ai(e,t)}));return d(d({name:o(t.name),partFields:o(t.partFields),configFields:o(t.configFields),sketch:function(e){return bf(t.name,t.configFields,t.partFields,t.factory,e)},parts:o(n)},r),i)},Tf=function(e){return"input"===$n(e)&&"radio"!==Lo(e,"type")||"textarea"===$n(e)},Ef=Object.freeze({getCurrent:function(e,t,n){return t.find(e)}}),Of=[It("find")],_f=Ru({fields:Of,name:"composing",apis:Ef}),Af=function(e,t,n,r){var o=Bs(e.element(),"."+t.highlightClass);H(o,(function(n){P(r,(function(e){return e.element()===n}))||(_i(n,t.highlightClass),e.getSystem().getByDom(n).each((function(n){t.onDehighlight(e,n),Yr(n,Wr())})))}))},Df=function(e,t,n,r){Af(e,t,0,[r]),Nf(e,t,n,r)||(Ei(r.element(),t.highlightClass),t.onHighlight(e,r),Yr(r,qr()))},Nf=function(e,t,n,r){return Ai(r.element(),t.highlightClass)},Mf=function(e,t,n,r){var o=Bs(e.element(),"."+t.itemClass);return y.from(o[r]).fold((function(){return C.error("No element found with index "+r)}),e.getSystem().getByDom)},Rf=function(e,t,n){return Aa(e.element(),"."+t.itemClass).bind((function(t){return e.getSystem().getByDom(t).toOption()}))},zf=function(e,t,n){var r=Bs(e.element(),"."+t.itemClass);return(r.length>0?y.some(r[r.length-1]):y.none()).bind((function(t){return e.getSystem().getByDom(t).toOption()}))},If=function(e,t,n,r){var o=Bs(e.element(),"."+t.itemClass);return q(o,(function(e){return Ai(e,t.highlightClass)})).bind((function(t){var n=mc(t,r,0,o.length-1);return e.getSystem().getByDom(o[n]).toOption()}))},Bf=function(e,t,n){var r=Bs(e.element(),"."+t.itemClass);return za(F(r,(function(t){return e.getSystem().getByDom(t).toOption()})))},Pf=Object.freeze({dehighlightAll:function(e,t,n){return Af(e,t,0,[])},dehighlight:function(e,t,n,r){Nf(e,t,n,r)&&(_i(r.element(),t.highlightClass),t.onDehighlight(e,r),Yr(r,Wr()))},highlight:Df,highlightFirst:function(e,t,n){Rf(e,t).each((function(r){Df(e,t,n,r)}))},highlightLast:function(e,t,n){zf(e,t).each((function(r){Df(e,t,n,r)}))},highlightAt:function(e,t,n,r){Mf(e,t,n,r).fold((function(e){throw new Error(e)}),(function(r){Df(e,t,n,r)}))},highlightBy:function(e,t,n,r){var o=Bf(e,t);$(o,r).each((function(r){Df(e,t,n,r)}))},isHighlighted:Nf,getHighlighted:function(e,t,n){return Aa(e.element(),"."+t.highlightClass).bind((function(t){return e.getSystem().getByDom(t).toOption()}))},getFirst:Rf,getLast:zf,getPrevious:function(e,t,n){return If(e,t,0,-1)},getNext:function(e,t,n){return If(e,t,0,1)},getCandidates:Bf}),Lf=[It("highlightClass"),It("itemClass"),Xa("onHighlight"),Xa("onDehighlight")],Ff=Ru({fields:Lf,name:"highlighting",apis:Pf}),Hf=function(e,t,n){var r=G(e.slice(0,t)),o=G(e.slice(t+1));return $(r.concat(o),n)},jf=function(e,t,n){var r=G(e.slice(0,t));return $(r,n)},Vf=function(e,t,n){var r=e.slice(0,t),o=e.slice(t+1);return $(o.concat(r),n)},Uf=function(e,t,n){var r=e.slice(t+1);return $(r,n)},$f=function(e){return function(t){var n=t.raw();return B(e,n.which)}},qf=function(e){return function(t){return X(e,(function(e){return e(t)}))}},Wf=function(e){return!0===e.raw().shiftKey},Yf=function(e){return!0===e.raw().ctrlKey},Xf=u(Wf),Gf=function(e,t){return{matches:e,classification:t}},Kf=function(e,t,n){t.exists((function(e){return n.exists((function(t){return Hn(t,e)}))}))||Xr(e,jr(),{prevFocus:t,newFocus:n})},Jf=function(){var e=function(e){return Uu(e.element())};return{get:e,set:function(t,n){var r=e(t);t.getSystem().triggerFocus(n,t.element());var o=e(t);Kf(t,r,o)}}},Qf=function(){var e=function(e){return Ff.getHighlighted(e).map((function(e){return e.element()}))};return{get:e,set:function(t,r){var o=e(t);t.getSystem().getByDom(r).fold(n,(function(e){Ff.highlight(t,e)}));var i=e(t);Kf(t,o,i)}}};!function(e){e.OnFocusMode="onFocus",e.OnEnterOrSpaceMode="onEnterOrSpace",e.OnApiMode="onApi"}(wf||(wf={}));var Zf,ed=function(e,t,n,r,o){var i=function(e,t,n,r,o){var i,a,u=n(e,t,r,o);return(i=u,a=t.event(),$(i,(function(e){return e.matches(a)})).map((function(e){return e.classification}))).bind((function(n){return n(e,t,r,o)}))},a={schema:function(){return e.concat([Kt("focusManager",Jf()),Jt("focusInside","onFocus",bt((function(e){return B(["onFocus","onEnterOrSpace","onApi"],e)?C.value(e):C.error("Invalid value for focusInside")}))),Qa("handler",a),Qa("state",t),Qa("sendFocusIn",o)])},processKey:i,toEvents:function(e,t){var a=e.focusInside!==wf.OnFocusMode?y.none():o(e).map((function(n){return no(Cr(),(function(r,o){n(r,e,t),o.stop()}))}));return Zr(a.toArray().concat([no(mr(),(function(r,a){i(r,a,n,e,t).fold((function(){!function(n,r){var i=$f([32].concat([13]))(r.event());e.focusInside===wf.OnEnterOrSpaceMode&&i&&Vn(n,r)&&o(e).each((function(o){o(n,e,t),r.stop()}))}(r,a)}),(function(e){a.stop()}))})),no(hr(),(function(n,o){i(n,o,r,e,t).each((function(e){o.stop()}))}))]))}};return a},td=function(e){var t=[$t("onEscape"),$t("onEnter"),Kt("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),Kt("firstTabstop",0),Kt("useTabstopAt",o(!0)),$t("visibilitySelector")].concat([e]),n=function(e,t){var n=e.visibilitySelector.bind((function(e){return Da(t,e)})).getOr(t);return aa(n)>0},r=function(e,t){(function(e,t){var r=Bs(e.element(),t.selector),o=j(r,(function(e){return n(t,e)}));return y.from(o[t.firstTabstop])})(e,t).each((function(n){t.focusManager.set(e,n)}))},i=function(e,t,r,o,i){return i(t,r,(function(e){return function(e,t){return n(e,t)&&e.useTabstopAt(t)}(o,e)})).fold((function(){return o.cyclic?y.some(!0):y.none()}),(function(t){return o.focusManager.set(e,t),y.some(!0)}))},u=function(e,t,n,r){var o=Bs(e.element(),n.selector);return function(e,t){return t.focusManager.get(e).bind((function(e){return Da(e,t.selector)}))}(e,n).bind((function(t){return q(o,a(Hn,t)).bind((function(t){return i(e,o,t,n,r)}))}))},s=o([Gf(qf([Wf,$f([9])]),(function(e,t,n,r){var o=n.cyclic?Hf:jf;return u(e,0,n,o)})),Gf($f([9]),(function(e,t,n,r){var o=n.cyclic?Vf:Uf;return u(e,0,n,o)})),Gf($f([27]),(function(e,t,n,r){return n.onEscape.bind((function(n){return n(e,t)}))})),Gf(qf([Xf,$f([13])]),(function(e,t,n,r){return n.onEnter.bind((function(n){return n(e,t)}))}))]),c=o([]);return ed(t,li.init,s,c,(function(){return y.some(r)}))},nd=td(on("cyclic",o(!1))),rd=td(on("cyclic",o(!0))),od=function(e,t,n){return Tf(n)&&$f([32])(t.event())?y.none():function(e,t,n){return Kr(e,n,Er()),y.some(!0)}(e,0,n)},id=function(e,t){return y.some(!0)},ad=[Kt("execute",od),Kt("useSpace",!1),Kt("useEnter",!0),Kt("useControlEnter",!1),Kt("useDown",!1)],ud=function(e,t,n){return n.execute(e,t,e.element())},sd=ed(ad,li.init,(function(e,t,n,r){var o=n.useSpace&&!Tf(e.element())?[32]:[],i=n.useEnter?[13]:[],a=n.useDown?[40]:[],u=o.concat(i).concat(a);return[Gf($f(u),ud)].concat(n.useControlEnter?[Gf(qf([Yf,$f([13])]),ud)]:[])}),(function(e,t,n,r){return n.useSpace&&!Tf(e.element())?[Gf($f([32]),id)]:[]}),(function(){return y.none()})),cd=function(e){var t=an(y.none());return fi({readState:function(){return t.get().map((function(e){return{numRows:e.numRows(),numColumns:e.numColumns()}})).getOr({numRows:"?",numColumns:"?"})},setGridSize:function(e,n){t.set(y.some({numRows:o(e),numColumns:o(n)}))},getNumRows:function(){return t.get().map((function(e){return e.numRows()}))},getNumColumns:function(){return t.get().map((function(e){return e.numColumns()}))}})},ld=Object.freeze({flatgrid:cd,init:function(e){return e.state(e)}}),fd=function(e){return function(t,n,r,o){var i=e(t.element());return hd(i,t,n,r,o)}},dd=function(e,t){var n=rs(e,t);return fd(n)},pd=function(e,t){var n=rs(t,e);return fd(n)},md=function(e){return function(t,n,r,o){return hd(e,t,n,r,o)}},hd=function(e,t,n,r,o){return r.focusManager.get(t).bind((function(n){return e(t.element(),n,r,o)})).map((function(e){return r.focusManager.set(t,e),!0}))},gd=md,vd=md,bd=md,yd=function(e){return!function(e){return e.offsetWidth<=0&&e.offsetHeight<=0}(e.dom())},wd=bo(["index","candidates"],[]),xd=function(e,t,n){var r=a(Hn,t),o=Bs(e,n);return function(e,t){return q(e,t).map((function(t){return wd({index:t,candidates:e})}))}(j(o,yd),r)},Cd=function(e,t){return q(e,(function(e){return Hn(t,e)}))},kd=function(e,t,n,r){return r(Math.floor(t/n),t%n).bind((function(t){var r=t.row()*n+t.column();return r>=0&&r<e.length?y.some(e[r]):y.none()}))},Sd=function(e,t,n,r,i){return kd(e,t,r,(function(t,a){var u=t===n-1?e.length-t*r:r,s=mc(a,i,0,u-1);return y.some({row:o(t),column:o(s)})}))},Td=function(e,t,n,r,i){return kd(e,t,r,(function(t,a){var u=mc(t,i,0,n-1),s=u===n-1?e.length-u*r:r,c=hc(a,0,s-1);return y.some({row:o(u),column:o(c)})}))},Ed=[It("selector"),Kt("execute",od),Ga("onEscape"),Kt("captureTab",!1),eu()],Od=function(e,t,n){Aa(e.element(),t.selector).each((function(n){t.focusManager.set(e,n)}))},_d=function(e){return function(t,n,r,o){return xd(t,n,r.selector).bind((function(t){return e(t.candidates(),t.index(),o.getNumRows().getOr(r.initSize.numRows),o.getNumColumns().getOr(r.initSize.numColumns))}))}},Ad=function(e,t,n,r){return n.captureTab?y.some(!0):y.none()},Dd=_d((function(e,t,n,r){return Sd(e,t,n,r,-1)})),Nd=_d((function(e,t,n,r){return Sd(e,t,n,r,1)})),Md=_d((function(e,t,n,r){return Td(e,t,n,r,-1)})),Rd=_d((function(e,t,n,r){return Td(e,t,n,r,1)})),zd=o([Gf($f([37]),dd(Dd,Nd)),Gf($f([39]),pd(Dd,Nd)),Gf($f([38]),gd(Md)),Gf($f([40]),vd(Rd)),Gf(qf([Wf,$f([9])]),Ad),Gf(qf([Xf,$f([9])]),Ad),Gf($f([27]),(function(e,t,n,r){return n.onEscape(e,t)})),Gf($f([32].concat([13])),(function(e,t,n,r){return function(e,t){return t.focusManager.get(e).bind((function(e){return Da(e,t.selector)}))}(e,n).bind((function(r){return n.execute(e,t,r)}))}))]),Id=o([Gf($f([32]),id)]),Bd=ed(Ed,cd,zd,Id,(function(){return y.some(Od)})),Pd=function(e,t,n,r){var o=function(e,t,n){var i,a=mc(t,r,0,n.length-1);return a===e?y.none():(i=n[a],"button"===$n(i)&&"disabled"===Lo(i,"disabled")?o(e,a,n):y.from(n[a]))};return xd(e,n,t).bind((function(e){var t=e.index(),n=e.candidates();return o(t,t,n)}))},Ld=[It("selector"),Kt("getInitial",y.none),Kt("execute",od),Ga("onEscape"),Kt("executeOnMove",!1),Kt("allowVertical",!0)],Fd=function(e,t,n){return function(e,t){return t.focusManager.get(e).bind((function(e){return Da(e,t.selector)}))}(e,n).bind((function(r){return n.execute(e,t,r)}))},Hd=function(e,t){t.getInitial(e).orThunk((function(){return Aa(e.element(),t.selector)})).each((function(n){t.focusManager.set(e,n)}))},jd=function(e,t,n){return Pd(e,n.selector,t,-1)},Vd=function(e,t,n){return Pd(e,n.selector,t,1)},Ud=function(e){return function(t,n,r){return e(t,n,r).bind((function(){return r.executeOnMove?Fd(t,n,r):y.some(!0)}))}},$d=function(e,t,n,r){return n.onEscape(e,t)},qd=o([Gf($f([32]),id)]),Wd=ed(Ld,li.init,(function(e,t,n,r){var o=[37].concat(n.allowVertical?[38]:[]),i=[39].concat(n.allowVertical?[40]:[]);return[Gf($f(o),Ud(dd(jd,Vd))),Gf($f(i),Ud(pd(jd,Vd))),Gf($f([13]),Fd),Gf($f([32]),Fd),Gf($f([27]),$d)]}),qd,(function(){return y.some(Hd)})),Yd=bo(["rowIndex","columnIndex","cell"],[]),Xd=function(e,t,n){return y.from(e[t]).bind((function(e){return y.from(e[n]).map((function(e){return Yd({rowIndex:t,columnIndex:n,cell:e})}))}))},Gd=function(e,t,n,r){var o=e[t].length,i=mc(n,r,0,o-1);return Xd(e,t,i)},Kd=function(e,t,n,r){var o=mc(n,r,0,e.length-1),i=e[o].length,a=hc(t,0,i-1);return Xd(e,o,a)},Jd=function(e,t,n,r){var o=e[t].length,i=hc(n+r,0,o-1);return Xd(e,t,i)},Qd=function(e,t,n,r){var o=hc(n+r,0,e.length-1),i=e[o].length,a=hc(t,0,i-1);return Xd(e,o,a)},Zd=[jt("selectors",[It("row"),It("cell")]),Kt("cycles",!0),Kt("previousSelector",y.none),Kt("execute",od)],ep=function(e,t){t.previousSelector(e).orThunk((function(){var n=t.selectors;return Aa(e.element(),n.cell)})).each((function(n){t.focusManager.set(e,n)}))},tp=function(e,t){return function(n,r,o){var i=o.cycles?e:t;return Da(r,o.selectors.row).bind((function(e){var t=Bs(e,o.selectors.cell);return Cd(t,r).bind((function(t){var r=Bs(n,o.selectors.row);return Cd(r,e).bind((function(e){var n=function(e,t){return F(e,(function(e){return Bs(e,t.selectors.cell)}))}(r,o);return i(n,e,t).map((function(e){return e.cell()}))}))}))}))}},np=tp((function(e,t,n){return Gd(e,t,n,-1)}),(function(e,t,n){return Jd(e,t,n,-1)})),rp=tp((function(e,t,n){return Gd(e,t,n,1)}),(function(e,t,n){return Jd(e,t,n,1)})),op=tp((function(e,t,n){return Kd(e,n,t,-1)}),(function(e,t,n){return Qd(e,n,t,-1)})),ip=tp((function(e,t,n){return Kd(e,n,t,1)}),(function(e,t,n){return Qd(e,n,t,1)})),ap=o([Gf($f([37]),dd(np,rp)),Gf($f([39]),pd(np,rp)),Gf($f([38]),gd(op)),Gf($f([40]),vd(ip)),Gf($f([32].concat([13])),(function(e,t,n){return Uu(e.element()).bind((function(r){return n.execute(e,t,r)}))}))]),up=o([Gf($f([32]),id)]),sp=ed(Zd,li.init,ap,up,(function(){return y.some(ep)})),cp=[It("selector"),Kt("execute",od),Kt("moveOnTab",!1)],lp=function(e,t,n){return n.focusManager.get(e).bind((function(r){return n.execute(e,t,r)}))},fp=function(e,t){Aa(e.element(),t.selector).each((function(n){t.focusManager.set(e,n)}))},dp=function(e,t,n){return Pd(e,n.selector,t,-1)},pp=function(e,t,n){return Pd(e,n.selector,t,1)},mp=o([Gf($f([38]),bd(dp)),Gf($f([40]),bd(pp)),Gf(qf([Wf,$f([9])]),(function(e,t,n){return n.moveOnTab?bd(dp)(e,t,n):y.none()})),Gf(qf([Xf,$f([9])]),(function(e,t,n){return n.moveOnTab?bd(pp)(e,t,n):y.none()})),Gf($f([13]),lp),Gf($f([32]),lp)]),hp=o([Gf($f([32]),id)]),gp=ed(cp,li.init,mp,hp,(function(){return y.some(fp)})),vp=[Ga("onSpace"),Ga("onEnter"),Ga("onShiftEnter"),Ga("onLeft"),Ga("onRight"),Ga("onTab"),Ga("onShiftTab"),Ga("onUp"),Ga("onDown"),Ga("onEscape"),Kt("stopSpaceKeyup",!1),$t("focusIn")],bp=ed(vp,li.init,(function(e,t,n){return[Gf($f([32]),n.onSpace),Gf(qf([Xf,$f([13])]),n.onEnter),Gf(qf([Wf,$f([13])]),n.onShiftEnter),Gf(qf([Wf,$f([9])]),n.onShiftTab),Gf(qf([Xf,$f([9])]),n.onTab),Gf($f([38]),n.onUp),Gf($f([40]),n.onDown),Gf($f([37]),n.onLeft),Gf($f([39]),n.onRight),Gf($f([32]),n.onSpace),Gf($f([27]),n.onEscape)]}),(function(e,t,n){return n.stopSpaceKeyup?[Gf($f([32]),id)]:[]}),(function(e){return e.focusIn})),yp=nd.schema(),wp=rd.schema(),xp=Wd.schema(),Cp=Bd.schema(),kp=sp.schema(),Sp=sd.schema(),Tp=gp.schema(),Ep=bp.schema(),Op=Iu({branchKey:"mode",branches:Object.freeze({acyclic:yp,cyclic:wp,flow:xp,flatgrid:Cp,matrix:kp,execution:Sp,menu:Tp,special:Ep}),name:"keying",active:{events:function(e,t){return e.handler.toEvents(e,t)}},apis:{focusIn:function(e,t,n){t.sendFocusIn(t).fold((function(){e.getSystem().triggerFocus(e.element(),e.element())}),(function(r){r(e,t,n)}))},setGridSize:function(e,n,r,o,i){ze(r,"setGridSize")?r.setGridSize(o,i):t.console.error("Layout does not support setGridSize")}},state:ld}),_p=function(e,t,n,r){var o=e.getSystem().build(r);Pc(e,o,n)},Ap=function(e,t,n,r){var o=Dp(e);$(o,(function(e){return Hn(r.element(),e.element())})).each(Fc)},Dp=function(e,t){return e.components()},Np=function(e,t,n,r,o){var i=Dp(e);return y.from(i[r]).map((function(t){return Ap(e,0,0,t),o.each((function(t){_p(e,0,(function(e,t){!function(e,t,n){To(e,n).fold((function(){Ao(e,t)}),(function(e){Eo(e,t)}))}(e,t,r)}),t)})),t}))},Mp=Ru({fields:[],name:"replacing",apis:Object.freeze({append:function(e,t,n,r){_p(e,0,Ao,r)},prepend:function(e,t,n,r){_p(e,0,_o,r)},remove:Ap,replaceAt:Np,replaceBy:function(e,t,n,r,o){var i=Dp(e);return q(i,r).bind((function(t){return Np(e,0,0,t,o)}))},set:function(e,t,n,r){$u((function(){var t=F(r,e.getSystem().build);Ic(e,t)}),e.element())},contents:Dp})}),Rp=function(e,t){return{key:e,value:{config:{},me:function(e,t){var n=Zr(t);return Ru({fields:[It("enabled")],name:e,active:{events:o(n)}})}(e,t),configAsRaw:o({}),initialConfig:{},state:li}}},zp=function(e,t){t.ignore||(ju(e.element()),t.onFocus(e))},Ip=Object.freeze({focus:zp,blur:function(e,t){t.ignore||function(e){e.dom().blur()}(e.element())},isFocused:function(e){return function(e){var t=yo(e).dom();return e.dom()===t.activeElement}(e.element())}}),Bp=Object.freeze({exhibit:function(e,t){var n=t.ignore?{}:{attributes:{tabindex:"-1"}};return pi(n)},events:function(e){return Zr([no(Cr(),(function(t,n){zp(t,e),n.stop()}))].concat(e.stopMousedown?[no(ur(),(function(e,t){t.event().prevent()}))]:[]))}}),Pp=[Xa("onFocus"),Kt("stopMousedown",!1),Kt("ignore",!1)],Lp=Ru({fields:Pp,name:"focusing",active:Bp,apis:Ip}),Fp=function(e,t,n){var r=t.aria;r.update(e,r,n.get())},Hp=function(e,t,n){t.toggleClass.each((function(t){n.get()?Ei(e.element(),t):_i(e.element(),t)}))},jp=function(e,t,n){$p(e,t,n,!n.get())},Vp=function(e,t,n){n.set(!0),Hp(e,t,n),Fp(e,t,n)},Up=function(e,t,n){n.set(!1),Hp(e,t,n),Fp(e,t,n)},$p=function(e,t,n,r){(r?Vp:Up)(e,t,n)},qp=function(e,t,n){$p(e,t,n,t.selected)},Wp=Object.freeze({onLoad:qp,toggle:jp,isOn:function(e,t,n){return n.get()},on:Vp,off:Up,set:$p}),Yp=Object.freeze({exhibit:function(e,t,n){return pi({})},events:function(e,t){var n,r,o,i=(n=e,r=t,o=jp,mo((function(e){o(e,n,r)}))),a=Ou(e,t,qp);return Zr(W([e.toggleOnExecute?[i]:[],[a]]))}}),Xp=function(e,t,n){Po(e.element(),"aria-expanded",n)},Gp=[Kt("selected",!1),$t("toggleClass"),Kt("toggleOnExecute",!0),Jt("aria",{mode:"none"},Tt("mode",{pressed:[Kt("syncWithExpanded",!1),Qa("update",(function(e,t,n){Po(e.element(),"aria-pressed",n),t.syncWithExpanded&&Xp(e,t,n)}))],checked:[Qa("update",(function(e,t,n){Po(e.element(),"aria-checked",n)}))],expanded:[Qa("update",Xp)],selected:[Qa("update",(function(e,t,n){Po(e.element(),"aria-selected",n)}))],none:[Qa("update",n)]}))],Kp=Ru({fields:Gp,name:"toggling",active:Yp,apis:Wp,state:(Zf=!1,{init:function(){var e=an(Zf);return{get:function(){return e.get()},set:function(t){return e.set(t)},clear:function(){return e.set(Zf)},readState:function(){return e.get()}}}})}),Jp=function(){var e=function(e,t){t.stop(),Gr(e)};return[no(br(),e),no(_r(),e),uo(rr()),uo(ur())]},Qp=function(e){return Zr(W([e.map((function(e){return mo((function(t,n){e(t),n.stop()}))})).toArray(),Jp()]))},Zp=function(e){(Uu(e.element()).isNone()||Lp.isFocused(e))&&(Lp.isFocused(e)||Lp.focus(e),Xr(e,"alloy.item-hover",{item:e}))},em=function(e){Xr(e,"alloy.item-focus",{item:e})},tm=o("alloy.item-hover"),nm=o("alloy.item-focus"),rm=[It("data"),It("components"),It("dom"),Kt("hasSubmenu",!1),$t("toggling"),kl("itemBehaviours",[Kp,Lp,Op,yl]),Kt("ignoreFocus",!1),Kt("domModification",{}),Qa("builder",(function(e){return{dom:e.dom,domModification:d(d({},e.domModification),{attributes:d(d(d({role:e.toggling.isSome()?"menuitemcheckbox":"menuitem"},e.domModification.attributes),{"aria-haspopup":e.hasSubmenu}),e.hasSubmenu?{"aria-expanded":!1}:{})}),behaviours:Sl(e.itemBehaviours,[e.toggling.fold(Kp.revoke,(function(e){return Kp.config(d({aria:{mode:"checked"}},e))})),Lp.config({ignore:e.ignoreFocus,stopMousedown:e.ignoreFocus,onFocus:function(e){em(e)}}),Op.config({mode:"execution"}),yl.config({store:{mode:"memory",initialValue:e.data}}),Rp("item-type-events",m(Jp(),[no(fr(),Zp),no(Or(),Lp.focus)]))]),components:e.components,eventOrder:e.eventOrder}})),Kt("eventOrder",{})],om=[It("dom"),It("components"),Qa("builder",(function(e){return{dom:e.dom,components:e.components,events:Zr([so(Or())])}}))],im=o([Yl({name:"widget",overrides:function(e){return{behaviours:Nu([yl.config({store:{mode:"manual",getValue:function(t){return e.data},setValue:function(){}}})])}}})]),am=[It("uid"),It("data"),It("components"),It("dom"),Kt("autofocus",!1),Kt("ignoreFocus",!1),kl("widgetBehaviours",[yl,Lp,Op]),Kt("domModification",{}),hf(im()),Qa("builder",(function(e){var t=af(0,e,im()),n=uf("item-widget",e,t.internals()),r=function(t){return sf(t,e,"widget").map((function(e){return Op.focusIn(e),e}))},o=function(t,n){return Tf(n.event().target())?y.none():e.autofocus?(n.setSource(t.element()),y.none()):y.none()};return{dom:e.dom,components:n,domModification:e.domModification,events:Zr([mo((function(e,t){r(e).each((function(e){t.stop()}))})),no(fr(),Zp),no(Or(),(function(t,n){e.autofocus?r(t):Lp.focus(t)}))]),behaviours:Sl(e.widgetBehaviours,[yl.config({store:{mode:"memory",initialValue:e.data}}),Lp.config({ignore:e.ignoreFocus,onFocus:function(e){em(e)}}),Op.config({mode:"special",focusIn:e.autofocus?function(e){r(e)}:Bu(),onLeft:o,onRight:o,onEscape:function(t,n){return Lp.isFocused(t)||e.autofocus?e.autofocus?(n.setSource(t.element()),y.none()):y.none():(Lp.focus(t),y.some(!0))}})])}}))],um=Tt("type",{widget:am,item:rm,separator:om}),sm=o([Kl({factory:{sketch:function(e){var t=Ct("menu.spec item",um,e);return t.builder(t)}},name:"items",unit:"item",defaults:function(e,t){return t.hasOwnProperty("uid")?t:d(d({},t),{uid:ti("item")})},overrides:function(e,t){return{type:t.type,ignoreFocus:e.fakeFocus,domModification:{classes:[e.markers.item]}}}})]),cm=o([It("value"),It("items"),It("dom"),It("components"),Kt("eventOrder",{}),wl("menuBehaviours",[Ff,yl,_f,Op]),Jt("movement",{mode:"menu",moveOnTab:!0},Tt("mode",{grid:[eu(),Qa("config",(function(e,t){return{mode:"flatgrid",selector:"."+e.markers.item,initSize:{numColumns:t.initSize.numColumns,numRows:t.initSize.numRows},focusManager:e.focusManager}}))],matrix:[Qa("config",(function(e,t){return{mode:"matrix",selectors:{row:t.rowSelector,cell:"."+e.markers.item},focusManager:e.focusManager}})),It("rowSelector")],menu:[Kt("moveOnTab",!0),Qa("config",(function(e,t){return{mode:"menu",selector:"."+e.markers.item,moveOnTab:t.moveOnTab,focusManager:e.focusManager}}))]})),Bt("markers",Ua()),Kt("fakeFocus",!1),Kt("focusManager",Jf()),Xa("onHighlight")]),lm=o("alloy.menu-focus"),fm=Sf({name:"Menu",configFields:cm(),partFields:sm(),factory:function(e,t,n,r){return{uid:e.uid,dom:e.dom,markers:e.markers,behaviours:Cl(e.menuBehaviours,[Ff.config({highlightClass:e.markers.selectedItem,itemClass:e.markers.item,onHighlight:e.onHighlight}),yl.config({store:{mode:"memory",initialValue:e.value}}),_f.config({find:y.some}),Op.config(e.movement.config(e,e.movement))]),events:Zr([no(nm(),(function(e,t){var n=t.event();e.getSystem().getByDom(n.target()).each((function(n){Ff.highlight(e,n),t.stop(),Xr(e,lm(),{menu:e,item:n})}))})),no(tm(),(function(e,t){var n=t.event().item();Ff.highlight(e,n)}))]),components:t,eventOrder:e.eventOrder,domModification:{attributes:{role:"menu"}}}}}),dm=function(e,t,n,r){return De(n,r).bind((function(r){return De(e,r).bind((function(r){var o=dm(e,t,n,r);return y.some([r].concat(o))}))})).getOr([])},pm=function(e,t){var n={};re(e,(function(e,t){H(e,(function(e){n[e]=t}))}));var r=t,o=ie(t,(function(e,t){return{k:e,v:t}})),i=oe(o,(function(e,t){return[t].concat(dm(n,r,o,t))}));return oe(n,(function(e){return De(i,e).getOr([e])}))},mm=function(e){return"prepared"===e.type?y.some(e.menu):y.none()},hm={init:function(){var e=an({}),t=an({}),n=an({}),r=an(y.none()),o=an({}),i=function(t,n,r){return a(t).bind((function(o){return function(t){return ue(e.get(),(function(e,n){return e===t}))}(t).bind((function(e){return n(e).map((function(e){return{triggeredMenu:o,triggeringItem:e,triggeringPath:r}}))}))}))},a=function(e){return u(e).bind(mm)},u=function(e){return De(t.get(),e)},s=function(t){return De(e.get(),t)};return{setMenuBuilt:function(e,n){var r;t.set(d(d({},t.get()),((r={})[e]={type:"prepared",menu:n},r)))},setContents:function(i,a,u,s){r.set(y.some(i)),e.set(u),t.set(a),o.set(s);var c=pm(s,u);n.set(c)},expand:function(t){return De(e.get(),t).map((function(e){var r=De(n.get(),t).getOr([]);return[e].concat(r)}))},refresh:function(e){return De(n.get(),e)},collapse:function(e){return De(n.get(),e).bind((function(e){return e.length>1?y.some(e.slice(1)):y.none()}))},lookupMenu:u,lookupItem:s,otherMenus:function(e){var t=o.get();return K(te(t),e)},getPrimary:function(){return r.get().bind(a)},getMenus:function(){return t.get()},clear:function(){e.set({}),t.set({}),n.set({}),r.set(y.none())},isClear:function(){return r.get().isNone()},getTriggeringPath:function(e,t){var o=j(s(e).toArray(),(function(e){return a(e).isSome()}));return De(n.get(),e).bind((function(e){var n=G(o.concat(e));return function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];if(!r.isSome())return y.none();t.push(r.getOrDie())}return y.some(t)}(Y(n,(function(e,o){return i(e,t,n.slice(0,o+1)).fold((function(){return r.get().is(e)?[]:[y.none()]}),(function(e){return[y.some(e)]}))})))}))}}},extractPreparedMenu:mm},gm=o("collapse-item"),vm=kf({name:"TieredMenu",configFields:[Ja("onExecute"),Ja("onEscape"),Ka("onOpenMenu"),Ka("onOpenSubmenu"),Ka("onRepositionMenu"),Xa("onCollapseMenu"),Kt("highlightImmediately",!0),jt("data",[It("primary"),It("menus"),It("expansions")]),Kt("fakeFocus",!1),Xa("onHighlight"),Xa("onHover"),qa(),It("dom"),Kt("navigateOnHover",!0),Kt("stayInDom",!1),wl("tmenuBehaviours",[Op,Ff,_f,Mp]),Kt("eventOrder",{})],apis:{collapseMenu:function(e,t){e.collapseMenu(t)},highlightPrimary:function(e,t){e.highlightPrimary(t)},repositionMenus:function(e,t){e.repositionMenus(t)}},factory:function(e,t){var n,r=an(y.none()),o=hm.init(),i=function(t){var n=function(t,n,r){return oe(r,(function(r,o){var i=function(){return fm.sketch(d(d({dom:r.dom},r),{value:o,items:r.items,markers:e.markers,fakeFocus:e.fakeFocus,onHighlight:e.onHighlight,focusManager:e.fakeFocus?Qf():Jf()}))};return o===n?{type:"prepared",menu:t.getSystem().build(i())}:{type:"notbuilt",nbMenu:i}}))}(t,e.data.primary,e.data.menus),r=u();return o.setContents(e.data.primary,n,e.data.expansions,r),o.getPrimary()},a=function(e){return yl.getValue(e).value},u=function(t){return oe(e.data.menus,(function(e,t){return Y(e.items,(function(e){return"separator"===e.type?[]:[e.data.value]}))}))},s=function(e,t){Ff.highlight(e,t),Ff.getHighlighted(t).orThunk((function(){return Ff.getFirst(t)})).each((function(t){Kr(e,t.element(),Or())}))},c=function(e,t){return za(F(t,(function(t){return e.lookupMenu(t).bind((function(e){return"prepared"===e.type?y.some(e.menu):y.none()}))})))},l=function(t,n,r){var o=c(n,n.otherMenus(r));H(o,(function(n){Ni(n.element(),[e.markers.backgroundMenu]),e.stayInDom||Mp.remove(t,n)}))},f=function(t,n){var o=function(t){return r.get().getOrThunk((function(){var n={},o=Bs(t.element(),"."+e.markers.item),i=j(o,(function(e){return"true"===Lo(e,"aria-haspopup")}));return H(i,(function(e){t.getSystem().getByDom(e).each((function(e){var t=a(e);n[t]=e}))})),r.set(y.some(n)),n}))}(t);re(o,(function(e,t){var r=B(n,t);Po(e.element(),"aria-expanded",r)}))},p=function(t,n,r){return y.from(r[0]).bind((function(o){return n.lookupMenu(o).bind((function(o){if("notbuilt"===o.type)return y.none();var i=o.menu,a=c(n,r.slice(1));return H(a,(function(t){Ei(t.element(),e.markers.backgroundMenu)})),Xn(i.element())||Mp.append(t,na(i)),Ni(i.element(),[e.markers.backgroundMenu]),s(t,i),l(t,n,r),y.some(i)}))}))};!function(e){e[e.HighlightSubmenu=0]="HighlightSubmenu",e[e.HighlightParent=1]="HighlightParent"}(n||(n={}));var m=function(t,r,i){void 0===i&&(i=n.HighlightSubmenu);var u=a(r);return o.expand(u).bind((function(a){return f(t,a),y.from(a[0]).bind((function(u){return o.lookupMenu(u).bind((function(s){var c=function(e,t,n){if("notbuilt"===n.type){var r=e.getSystem().build(n.nbMenu());return o.setMenuBuilt(t,r),r}return n.menu}(t,u,s);return Xn(c.element())||Mp.append(t,na(c)),e.onOpenSubmenu(t,r,c,G(a)),i===n.HighlightSubmenu?(Ff.highlightFirst(c),p(t,o,a)):(Ff.dehighlightAll(c),y.some(r))}))}))}))},h=function(t,n){var r=a(n);return o.collapse(r).bind((function(r){return f(t,r),p(t,o,r).map((function(r){return e.onCollapseMenu(t,n,r),r}))}))},g=function(t){return function(n,r){return Da(r.getSource(),"."+e.markers.item).bind((function(e){return n.getSystem().getByDom(e).toOption().bind((function(e){return t(n,e).map((function(){return!0}))}))}))}},v=Zr([no(lm(),(function(e,t){var n=t.event().item();o.lookupItem(a(n)).each((function(){var n=t.event().menu();Ff.highlight(e,n);var r=a(t.event().item());o.refresh(r).each((function(t){return l(e,o,t)}))}))})),mo((function(t,r){var o=r.event().target();t.getSystem().getByDom(o).each((function(r){0===a(r).indexOf("collapse-item")&&h(t,r),m(t,r,n.HighlightSubmenu).fold((function(){e.onExecute(t,r)}),(function(){}))}))})),lo((function(t,n){i(t).each((function(n){Mp.append(t,na(n)),e.onOpenMenu(t,n),e.highlightImmediately&&s(t,n)}))}))].concat(e.navigateOnHover?[no(tm(),(function(t,r){var i=r.event().item();!function(e,t){var n=a(t);o.refresh(n).bind((function(t){return f(e,t),p(e,o,t)}))}(t,i),m(t,i,n.HighlightParent),e.onHover(t,i)}))]:[])),b=function(e){return Ff.getHighlighted(e).bind(Ff.getHighlighted)},w={collapseMenu:function(e){b(e).each((function(t){h(e,t)}))},highlightPrimary:function(e){o.getPrimary().each((function(t){s(e,t)}))},repositionMenus:function(t){o.getPrimary().bind((function(e){return b(t).bind((function(e){var t=a(e),n=se(o.getMenus()),r=za(F(n,hm.extractPreparedMenu));return o.getTriggeringPath(t,(function(e){return function(e,t,n){return Ia(t,(function(e){if(!e.getSystem().isConnected())return y.none();var t=Ff.getCandidates(e);return $(t,(function(e){return a(e)===n}))}))}(0,r,e)}))})).map((function(t){return{primary:e,triggeringPath:t}}))})).fold((function(){(function(e){return y.from(e.components()[0]).filter((function(e){return"menu"===Lo(e.element(),"role")}))})(t).each((function(n){e.onRepositionMenu(t,n,[])}))}),(function(n){var r=n.primary,o=n.triggeringPath;e.onRepositionMenu(t,r,o)}))}};return{uid:e.uid,dom:e.dom,markers:e.markers,behaviours:Cl(e.tmenuBehaviours,[Op.config({mode:"special",onRight:g((function(e,t){return Tf(t.element())?y.none():m(e,t,n.HighlightSubmenu)})),onLeft:g((function(e,t){return Tf(t.element())?y.none():h(e,t)})),onEscape:g((function(t,n){return h(t,n).orThunk((function(){return e.onEscape(t,n).map((function(){return t}))}))})),focusIn:function(e,t){o.getPrimary().each((function(t){Kr(e,t.element(),Or())}))}}),Ff.config({highlightClass:e.markers.selectedMenu,itemClass:e.markers.menu}),_f.config({find:function(e){return Ff.getHighlighted(e)}}),Mp.config({})]),eventOrder:e.eventOrder,apis:w,events:v}},extraApis:{tieredData:function(e,t,n){return{primary:e,menus:t,expansions:n}},singleData:function(e,t){return{primary:e,menus:Ne(e,t),expansions:{}}},collapseItem:function(e){return{value:Yo(gm()),meta:{text:e}}}}}),bm=kf({name:"InlineView",configFields:[It("lazySink"),Xa("onShow"),Xa("onHide"),Xt("onEscape"),wl("inlineBehaviours",[Zc,yl,Fu]),Gt("fireDismissalEventInstead",[Kt("event",Fr())]),Gt("fireRepositionEventInstead",[Kt("event",Hr())]),Kt("getRelated",y.none),Kt("eventOrder",y.none)],factory:function(e,t){var n=function(e,t,n,o){r(e,t,n,(function(){return o.map((function(e){return Ta(e)}))}))},r=function(t,n,r,o){var i=e.lazySink(t).getOrDie();Zc.openWhileCloaked(t,r,(function(){return Nc.positionWithinBounds(i,n,t,o())})),yl.setValue(t,y.some({mode:"position",anchor:n,getBounds:o}))},i=function(t,n,r,o){var i=function(e,t,n,r,o){var i=function(){return e.lazySink(t)},a="horizontal"===r.type?{layouts:{onLtr:function(){return Tu()},onRtl:function(){return Eu()}}}:{},u=function(e){return function(e){return 2===e.length}(e)?a:{}};return vm.sketch({dom:{tag:"div"},data:r.data,markers:r.menu.markers,onEscape:function(){return Zc.close(t),e.onEscape.map((function(e){return e(t)})),y.some(!0)},onExecute:function(){return y.some(!0)},onOpenMenu:function(e,t){Nc.positionWithinBounds(i().getOrDie(),n,t,o())},onOpenSubmenu:function(e,t,n,r){var o=i().getOrDie();Nc.position(o,d({anchor:"submenu",item:t},u(r)),n)},onRepositionMenu:function(e,t,r){var a=i().getOrDie();Nc.positionWithinBounds(a,n,t,o()),H(r,(function(e){var t=u(e.triggeringPath);Nc.position(a,d({anchor:"submenu",item:e.triggeringItem},t),e.triggeredMenu)}))}})}(e,t,n,r,o);Zc.open(t,i),yl.setValue(t,y.some({mode:"menu",menu:i}))},a=function(t){Zc.isOpen(t)&&yl.getValue(t).each((function(n){switch(n.mode){case"menu":Zc.getState(t).each((function(e){vm.repositionMenus(e)}));break;case"position":var r=e.lazySink(t).getOrDie();Nc.positionWithinBounds(r,n.anchor,t,n.getBounds())}}))},u={setContent:function(e,t){Zc.setContent(e,t)},showAt:function(e,t,r){n(e,t,r,y.none())},showWithin:n,showWithinBounds:r,showMenuAt:function(e,t,n){i(e,t,n,(function(){return y.none()}))},showMenuWithinBounds:i,hide:function(e){yl.setValue(e,y.none()),Zc.close(e)},getContent:function(e){return Zc.getState(e)},reposition:a,isOpen:Zc.isOpen};return{uid:e.uid,dom:e.dom,behaviours:Cl(e.inlineBehaviours,[Zc.config({isPartOf:function(t,n,r){return Ra(n,r)||function(t,n){return e.getRelated(t).exists((function(e){return Ra(e,n)}))}(t,r)},getAttachPoint:function(t){return e.lazySink(t).getOrDie()},onOpen:function(t){e.onShow(t)},onClose:function(t){e.onHide(t)}}),yl.config({store:{mode:"memory",initialValue:y.none()}}),Fu.config({channels:d(d({},ol(d({isExtraPart:o(!1)},e.fireDismissalEventInstead.map((function(e){return{fireEventInstead:{event:e.event}}})).getOr({})))),al(d(d({isExtraPart:o(!1)},e.fireRepositionEventInstead.map((function(e){return{fireEventInstead:{event:e.event}}})).getOr({})),{doReposition:a})))})]),eventOrder:e.eventOrder,apis:u}},apis:{showAt:function(e,t,n,r){e.showAt(t,n,r)},showWithin:function(e,t,n,r,o){e.showWithin(t,n,r,o)},showWithinBounds:function(e,t,n,r,o){e.showWithinBounds(t,n,r,o)},showMenuAt:function(e,t,n,r){e.showMenuAt(t,n,r)},showMenuWithinBounds:function(e,t,n,r,o){e.showMenuWithinBounds(t,n,r,o)},hide:function(e,t){e.hide(t)},isOpen:function(e,t){return e.isOpen(t)},getContent:function(e,t){return e.getContent(t)},setContent:function(e,t,n){e.setContent(t,n)},reposition:function(e,t){e.reposition(t)}}}),ym=function(e){return e.x()},wm=function(e,t){return e.x()+e.width()/2-t.width()/2},xm=function(e,t){return e.x()+e.width()-t.width()},Cm=function(e){return e.y()},km=function(e,t){return e.y()+e.height()-t.height()},Sm=function(e,t,n){return tu(ym(e),km(e,t),n.innerSoutheast(),ru(),"layout-se")},Tm=function(e,t,n){return tu(xm(e,t),km(e,t),n.innerSouthwest(),ou(),"layout-sw")},Em=function(e,t,n){return tu(ym(e),Cm(e),n.innerNortheast(),iu(),"layout-ne")},Om=function(e,t,n){return tu(xm(e,t),Cm(e),n.innerNorthwest(),au(),"layout-nw")},_m=function(e,t,n){return tu(wm(e,t),Cm(e),n.innerNorth(),su(),"layout-n")},Am=function(e,t,n){return tu(wm(e,t),km(e,t),n.innerSouth(),uu(),"layout-s")},Dm=kf({name:"Button",factory:function(e){var t=Qp(e.action),n=e.dom.tag,r=function(t){return De(e.dom,"attributes").bind((function(e){return De(e,t)}))};return{uid:e.uid,dom:e.dom,components:e.components,events:t,behaviours:Sl(e.buttonBehaviours,[Lp.config({}),Op.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:function(){if("button"===n){var e=r("type").getOr("button"),t=r("role").map((function(e){return{role:e}})).getOr({});return d({type:e},t)}return{role:r("role").getOr("button")}}()},eventOrder:e.eventOrder}},configFields:[Kt("uid",void 0),It("dom"),Kt("components",[]),kl("buttonBehaviours",[Lp,Op]),$t("action"),$t("role"),Kt("eventOrder",{})]}),Nm=function(e){var t=function(e){return void 0!==e.uid}(e)&&ze(e,"uid")?e.uid:ti("memento");return{get:function(e){return e.getSystem().getByUid(t).getOrDie()},getOpt:function(e){return e.getSystem().getByUid(t).toOption()},asSpec:function(){return d(d({},e),{uid:t})}}},Mm=function(e){return y.from(e()["temporary-placeholder"]).getOr("!not found!")},Rm=function(e,t){return y.from(t()[e]).getOrThunk((function(){return Mm(t)}))},zm=function(e,t){return Ia(e,(function(e){return y.from(t()[e])})).getOrThunk((function(){return Mm(t)}))},Im={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},Bm=kf({name:"Notification",factory:function(e){var t=Nm({dom:{tag:"p",innerHtml:e.translationProvider(e.text)},behaviours:Nu([Mp.config({})])}),n=function(e){return{dom:{tag:"div",classes:["tox-bar"],attributes:{style:"width: "+e+"%"}}}},r=function(e){return{dom:{tag:"div",classes:["tox-text"],innerHtml:e+"%"}}},o=Nm({dom:{tag:"div",classes:e.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[n(0)]},r(0)],behaviours:Nu([Mp.config({})])}),i={updateProgress:function(e,t){e.getSystem().isConnected()&&o.getOpt(e).each((function(e){Mp.set(e,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[n(t)]},r(t)])}))},updateText:function(e,n){if(e.getSystem().isConnected()){var r=t.get(e);Mp.set(r,[Qi(n)])}}},a=W([e.icon.toArray(),e.level.toArray(),e.level.bind((function(e){return y.from(Im[e])})).toArray()]);return{uid:e.uid,dom:{tag:"div",attributes:{role:"alert"},classes:e.level.map((function(e){return["tox-notification","tox-notification--in","tox-notification--"+e]})).getOr(["tox-notification","tox-notification--in"])},components:[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:zm(a,e.iconProvider)}},{dom:{tag:"div",classes:["tox-notification__body"]},components:[t.asSpec()],behaviours:Nu([Mp.config({})])}].concat(e.progress?[o.asSpec()]:[]).concat(Dm.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"]},components:[{dom:{tag:"div",classes:["tox-icon"],innerHtml:Rm("close",e.iconProvider),attributes:{"aria-label":e.translationProvider("Close")}}}],action:function(t){e.onAction(t)}})),apis:i}},configFields:[$t("level"),It("progress"),It("icon"),It("onAction"),It("text"),It("iconProvider"),It("translationProvider")],apis:{updateProgress:function(e,t,n){e.updateProgress(t,n)},updateText:function(e,t,n){e.updateText(t,n)}}}),Pm=tinymce.util.Tools.resolve("tinymce.util.Delay");function Lm(e,t,n){var r=t.backstage;return{open:function(e,o){var i=function(){o(),bm.hide(u)},a=ta(Bm.sketch({text:e.text,level:B(["success","error","warning","warn","info"],e.type)?e.type:void 0,progress:!0===e.progressBar,icon:y.from(e.icon),onAction:i,iconProvider:r.shared.providers.icons,translationProvider:r.shared.providers.translate})),u=ta(bm.sketch({dom:{tag:"div",classes:["tox-notifications-container"]},lazySink:t.backstage.shared.getSink,fireDismissalEventInstead:{}}));return n.add(u),e.timeout>0&&Pm.setTimeout((function(){i()}),e.timeout),{close:i,moveTo:function(e,t){bm.showAt(u,{anchor:"makeshift",x:e,y:t},na(a))},moveRel:function(e,n){if("banner"!==n){var r=function(e){switch(e){case"bc-bc":return Am;case"tc-tc":return _m;case"tc-bc":return xu;case"bc-tc":default:return Cu}}(n),o={anchor:"node",root:Gn(),node:y.some(sn.fromDom(e)),layouts:{onRtl:function(){return[r]},onLtr:function(){return[r]}}};bm.showAt(u,o,na(a))}else bm.showAt(u,t.backstage.shared.anchors.banner(),na(a))},text:function(e){Bm.updateText(a,e)},settings:e,getEl:function(){return a.element().dom()},progressBar:{value:function(e){Bm.updateProgress(a,e)}}}},close:function(e){e.close()},reposition:function(e){!function(e){H(e,(function(e){return e.moveTo(0,0)}))}(e),function(e){e.length>0&&(Q(e).each((function(e){return e.moveRel(null,"banner")})),H(e,(function(t,n){n>0&&t.moveRel(e[n-1].getEl(),"bc-tc")})))}(e)},getArgs:function(e){return e.settings}}}var Fm,Hm=function(e,n){var r=null;return{cancel:function(){null!==r&&(t.clearTimeout(r),r=null)},throttle:function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];null!==r&&t.clearTimeout(r),r=t.setTimeout((function(){e.apply(null,o),r=null}),n)}}},jm=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),Vm=fe([{aborted:[]},{edge:["element"]},{success:["info"]}]),Um=fe([{abort:[]},{kontinue:[]},{finish:["info"]}]),$m=function(e,n,r,o,i,a){var u=function(){return a.fold(Vm.aborted,Vm.edge)},s=function(){var t=i();return t?$m(e,t,y.none(),o,i,y.some(n)):u()};if(function(e,t){return e.isBlock(t)||B(["BR","IMG","HR","INPUT"],t.nodeName)||"false"===e.getContentEditable(t)}(e,n))return u();if(function(e){return e.nodeType===t.Node.TEXT_NODE}(n)){var c=n.textContent;return o(Um,n,c,r).fold(Vm.aborted,(function(){return s()}),Vm.success)}return s()},qm=function(e,t,n,r,o){var i=new jm(t,o||e.getRoot());return $m(e,t,y.some(n),r,i.prev,y.none())},Wm=function(e,t){return Ym(sn.fromDom(e.selection.getNode())).getOrThunk((function(){var n=sn.fromHtml('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',e.getDoc());return Ao(n,sn.fromDom(t.extractContents())),t.insertNode(n.dom()),Co(n).each((function(e){return e.dom().normalize()})),As(n).map((function(t){e.selection.setCursorLocation(t.dom(),function(e){return"img"===$n(e)?1:ks(e).fold((function(){return So(e).length}),(function(e){return e.length}))}(t))})),n}))},Ym=function(e){return Da(e,"[data-mce-autocompleter]")},Xm=/[\u00a0 \t\r\n]/,Gm=function(e,t){return e.toString().substring(t.length).replace(/\u00A0/g," ").replace(/\uFEFF/g,"")},Km=function(e,t,n,r){if(void 0===r&&(r=0),!(o=t).collapsed||3!==o.startContainer.nodeType)return y.none();var o;return qm(e,t.startContainer,t.startOffset,(function(e,o,i,a){var u=a.getOr(i.length);return function(e,t,n,r){var o;for(o=t-1;o>=0;o--){var i=e.charAt(o);if(Xm.test(i))return y.none();if(i===n)break}return-1===o||t-o<r?y.none():y.some(e.substring(o+1,t))}(i,u,n,1).fold((function(){return i.match(Xm)?e.abort():e.kontinue()}),(function(a){var s=t.cloneRange();return s.setStart(o,u-a.length-1),s.setEnd(t.endContainer,t.endOffset),i.length<r?e.abort():e.finish({text:Gm(s,n),range:s,triggerChar:n})}))})).fold(y.none,y.none,y.some)},Jm=function(e,t,n,r){return void 0===r&&(r=0),Ym(sn.fromDom(t.startContainer)).fold((function(){return Km(e,t,n,r)}),(function(t){var r=e.createRng();return r.selectNode(t.dom()),y.some({range:r,text:Gm(r,n),triggerChar:n})}))},Qm=function(e,t){t.on("keypress compositionend",e.onKeypress.throttle),t.on("remove",e.onKeypress.cancel);var n=function(e,t){Xr(e,mr(),{raw:t})};t.on("keydown",(function(t){var r=function(){return e.getView().bind(Ff.getHighlighted)};8===t.which&&e.onKeypress.throttle(t),e.isActive()&&(27===t.which&&e.cancelIfNecessary(),e.isMenuOpen()?13===t.which?(r().each(Gr),t.preventDefault()):40===t.which?(r().fold((function(){e.getView().each(Ff.highlightFirst)}),(function(e){n(e,t)})),t.preventDefault(),t.stopImmediatePropagation()):37!==t.which&&38!==t.which&&39!==t.which||r().each((function(e){n(e,t),t.preventDefault(),t.stopImmediatePropagation()})):13!==t.which&&38!==t.which&&40!==t.which||e.cancelIfNecessary())})),t.on("NodeChange",(function(t){e.isActive()&&!e.isProcessingAction()&&Ym(sn.fromDom(t.element)).isNone()&&e.cancelIfNecessary()}))},Zm=tinymce.util.Tools.resolve("tinymce.util.Promise"),eh=function(e,t){return{element:e,offset:t}},th=function(e){if(function(e){return e.nodeType===t.Node.TEXT_NODE}(e))return eh(e,e.data.length);var n=e.childNodes;return n.length>0?th(n[n.length-1]):eh(e,n.length)},nh=function(e,n){var r=e.childNodes;return r.length>0&&n<r.length?nh(r[n],0):r.length>0&&function(e){return e.nodeType===t.Node.ELEMENT_NODE}(e)&&r.length===n?th(r[r.length-1]):eh(e,n)},rh=function(e,t){var n=t(),r=e.selection.getRng();return function(e,t,n){return Ia(n.triggerChars,(function(n){return Jm(e,t,n)}))}(e.dom,r,n).bind((function(n){return oh(e,t,n)}))},oh=function(e,t,n,r){void 0===r&&(r={});var a=t(),u=e.selection.getRng().startContainer.nodeValue,s=j(a.lookupByChar(n.triggerChar),(function(t){return n.text.length>=t.minChars&&t.matches.getOrThunk((function(){return function(e){var t=function(e,t,n,r){var o=r.getOr(n.length);return 0===o?e.kontinue():e.finish(/\s/.test(n.charAt(o-1)))};return function(n){var r=nh(n.startContainer,n.startOffset);return qm(e,r.element,r.offset,t).fold(o(!0),o(!0),i)}}(e.dom)}))(n.range,u,n.text)}));if(0===s.length)return y.none();var c=Zm.all(F(s,(function(e){return e.fetch(n.text,e.maxResults,r).then((function(t){return{matchText:n.text,items:t,columns:e.columns,onAction:e.onAction}}))})));return y.some({lookupData:c,context:n})},ih=ut([Lt("type"),Yt("text")]),ah=ut([on("type",(function(){return"autocompleteitem"})),on("active",(function(){return!1})),on("disabled",(function(){return!1})),Kt("meta",{}),Lt("value"),Yt("text"),Yt("icon")]),uh=ut([Lt("type"),Lt("ch"),Qt("minChars",1),Kt("columns",1),Qt("maxResults",10),Xt("matches"),Ht("fetch"),Ht("onAction")]),sh=function(e){var t=e.ui.registry.getAll().popups,n=oe(t,(function(e){return function(e){return wt("Autocompleter",uh,e)}(e).fold((function(e){throw new Error(kt(e))}),(function(e){return e}))})),r=function(e){var t={};return H(e,(function(e){t[e]={}})),te(t)}(ae(n,(function(e){return e.ch}))),o=se(n);return{dataset:n,triggerChars:r,lookupByChar:function(e){return j(o,(function(t){return t.ch===e}))}}},ch=[tn("disabled",!1),Yt("text"),Yt("shortcut"),pt("value","value",Ce((function(){return Yo("menuitem-value")})),Et()),Kt("meta",{})],lh=ut([Lt("type"),nn("onSetup",(function(){return n})),nn("onAction",n),Yt("icon")].concat(ch)),fh=ut([Lt("type"),Ht("getSubmenuItems"),nn("onSetup",(function(){return n})),Yt("icon")].concat(ch)),dh=ut([Lt("type"),tn("active",!1),nn("onSetup",(function(){return n})),Ht("onAction")].concat(ch)),ph=ut([Lt("type"),tn("active",!1),Yt("icon")].concat(ch)),mh=ut([Lt("type"),Ft("fancytype",["inserttable","colorswatch"]),nn("onAction",n)]),hh=function(e,t,n){var r=Bs(e.element(),"."+n);if(r.length>0){var o=q(r,(function(e){var n=e.dom().getBoundingClientRect().top,o=r[0].dom().getBoundingClientRect().top;return Math.abs(n-o)>t})).getOr(r.length);return y.some({numColumns:o,numRows:Math.ceil(r.length/o)})}return y.none()},gh=function(e,t){return Nu([Rp(e,t)])},vh=function(e){return gh(Yo("unnamed-events"),e)},bh=[It("lazySink"),It("tooltipDom"),Kt("exclusive",!0),Kt("tooltipComponents",[]),Kt("delay",300),en("mode","normal",["normal","follow-highlight"]),Kt("anchor",(function(e){return{anchor:"hotspot",hotspot:e,layouts:{onLtr:o([Cu,xu,vu,yu,bu,wu]),onRtl:o([Cu,xu,vu,yu,bu,wu])}}})),Xa("onHide"),Xa("onShow")],yh=Object.freeze({init:function(){var e=an(y.none()),n=an(y.none()),r=function(){e.get().each((function(e){t.clearTimeout(e)}))},i=o("not-implemented");return fi({getTooltip:function(){return n.get()},isShowing:function(){return n.get().isSome()},setTooltip:function(e){n.set(y.some(e))},clearTooltip:function(){n.set(y.none())},clearTimer:r,resetTimer:function(n,o){r(),e.set(y.some(t.setTimeout((function(){n()}),o)))},readState:i})}}),wh=Yo("tooltip.exclusive"),xh=Yo("tooltip.show"),Ch=Yo("tooltip.hide"),kh=function(e,t,n){e.getSystem().broadcastOn([wh],{})},Sh=Object.freeze({hideAllExclusive:kh,setComponents:function(e,t,n,r){n.getTooltip().each((function(e){e.getSystem().isConnected()&&Mp.set(e,r)}))}}),Th=Ru({fields:bh,name:"tooltipping",active:Object.freeze({events:function(e,t){var n=function(n){t.getTooltip().each((function(r){Fc(r),e.onHide(n,r),t.clearTooltip()})),t.clearTimer()};return Zr(W([[no(xh,(function(n){t.resetTimer((function(){!function(n){if(!t.isShowing()){kh(n);var r=e.lazySink(n).getOrDie(),o=n.getSystem().build({dom:e.tooltipDom,components:e.tooltipComponents,events:Zr("normal"===e.mode?[no(fr(),(function(e){Yr(n,xh)})),no(cr(),(function(e){Yr(n,Ch)}))]:[]),behaviours:Nu([Mp.config({})])});t.setTooltip(o),Bc(r,o),e.onShow(n,o),Nc.position(r,e.anchor(n),o)}}(n)}),e.delay)})),no(Ch,(function(r){t.resetTimer((function(){n(r)}),e.delay)})),no(Tr(),(function(e,t){B(t.channels(),wh)&&n(e)})),fo((function(e){n(e)}))],"normal"===e.mode?[no(dr(),(function(e){Yr(e,xh)})),no(kr(),(function(e){Yr(e,Ch)})),no(fr(),(function(e){Yr(e,xh)})),no(cr(),(function(e){Yr(e,Ch)}))]:[no(qr(),(function(e,t){Yr(e,xh)})),no(Wr(),(function(e){Yr(e,Ch)}))]]))}}),state:yh,apis:Sh}),Eh=function(e){var t=sn.fromHtml(e),n=So(t),r=function(e){var t=void 0!==e.dom().attributes?e.dom().attributes:[];return U(t,(function(e,t){var n;return"class"===t.name?e:d(d({},e),((n={})[t.name]=t.value,n))}),{})}(t),o=function(e){return Array.prototype.slice.call(e.dom().classList,0)}(t),i=0===n.length?{}:{innerHtml:zo(t)};return d({tag:$n(t),classes:o,attributes:r},i)},Oh=tinymce.util.Tools.resolve("tinymce.util.I18n"),_h="tox-menu-nav__js",Ah="tox-collection__item",Dh={normal:_h,color:"tox-swatch"},Nh="tox-collection__item-label",Mh="tox-collection__item--active",Rh=function(e){return De(Dh,e).getOr(_h)},zh=tinymce.util.Tools.resolve("tinymce.Env"),Ih=function(e){var t=zh.mac?{alt:"&#x2325;",ctrl:"&#x2303;",shift:"&#x21E7;",meta:"&#x2318;",access:"&#x2303;&#x2325;"}:{meta:"Ctrl",access:"Shift+Alt"},n=e.split("+"),r=F(n,(function(e){var n=e.toLowerCase().trim();return le(t,n)?t[n]:e}));return zh.mac?r.join(""):r.join("+")},Bh=function(e){return{dom:{tag:"div",classes:["tox-collection__item-icon"],innerHtml:e}}},Ph=function(e){return{dom:{tag:"div",classes:[Nh]},components:[Qi(Oh.translate(e))]}},Lh=function(e,t){return{dom:{tag:"div",classes:[Nh]},components:[{dom:{tag:e.tag,attributes:{style:e.styleAttr}},components:[Qi(Oh.translate(t))]}]}},Fh=function(e){return{dom:{tag:"div",classes:["tox-collection__item-accessory"],innerHtml:Ih(e)}}},Hh=function(e){return{dom:{tag:"div",classes:["tox-collection__item-icon","tox-collection__item-checkmark"],innerHtml:Rm("checkmark",e)}}},jh=function(e,t,n,r,o){var i=n?e.checkMark.orThunk((function(){return t.or(y.some("")).map(Bh)})):y.none(),a=e.ariaLabel.map((function(e){return{attributes:{title:Oh.translate(e)}}})).getOr({});return{dom:he({tag:"div",classes:[_h,Ah].concat(o?["tox-collection__item-icon-rtl"]:[])},a),optComponents:[i,e.htmlContent.fold((function(){return e.textContent.map(r)}),(function(e){return y.some(function(e){return{dom:{tag:"div",classes:[Nh],innerHtml:e}}}(e))})),e.shortcutContent.map(Fh),e.caret]}},Vh=["list-num-default","list-num-lower-alpha","list-num-lower-greek","list-num-lower-roman","list-num-upper-alpha","list-num-upper-roman"],Uh=["list-bull-circle","list-bull-default","list-bull-square"],$h=function(e,t,n,r){void 0===r&&(r=y.none());var o,i=Oh.isRtl()&&e.iconContent.exists((function(e){return B(Uh,e)})),u=(o=e.iconContent,o.map((function(e){return Oh.isRtl()&&B(Vh,e)?e+"-rtl":e}))).map((function(e){return function(e,t,n){return y.from(t()[e]).or(n).getOrThunk((function(){return Mm(t)}))}(e,t.icons,r)})),s=y.from(e.meta).fold((function(){return Ph}),(function(e){return le(e,"style")?a(Lh,e.style):Ph}));return"color"===e.presets?function(e,t,n,r){var o,i;return{dom:(o=n.getOr(""),i=e.map((function(e){return' title="'+r.translate(e)+'"'})).getOr(""),Eh("custom"===t?'<button class="tox-swatch tox-swatches__picker-btn"'+i+">"+o+"</button>":"remove"===t?'<div class="tox-swatch tox-swatch--remove"'+i+">"+o+"</div>":'<div class="tox-swatch" style="background-color: '+t+'" data-mce-color="'+t+'"'+i+"></div>")),optComponents:[]}}(e.ariaLabel,e.value,u,t):jh(e,u,n,s,i)},qh=["input","button","textarea","select"],Wh=function(e,t,n){t.disabled&&Qh(e,t)},Yh=function(e,t){return!0===t.useNative&&B(qh,$n(e.element()))},Xh=function(e){Po(e.element(),"disabled","disabled")},Gh=function(e){Ho(e.element(),"disabled")},Kh=function(e){Po(e.element(),"aria-disabled","true")},Jh=function(e){Po(e.element(),"aria-disabled","false")},Qh=function(e,t,n){t.disableClass.each((function(t){Ei(e.element(),t)})),(Yh(e,t)?Xh:Kh)(e),t.onDisabled(e)},Zh=function(e,t,n){t.disableClass.each((function(t){_i(e.element(),t)})),(Yh(e,t)?Gh:Jh)(e),t.onEnabled(e)},eg=function(e,t){return Yh(e,t)?function(e){return Fo(e.element(),"disabled")}(e):function(e){return"true"===Lo(e.element(),"aria-disabled")}(e)},tg=Object.freeze({enable:Zh,disable:Qh,isDisabled:eg,onLoad:Wh,set:function(e,t,n,r){(r?Qh:Zh)(e,t,n)}}),ng=Object.freeze({exhibit:function(e,t,n){return pi({classes:t.disabled?t.disableClass.map(J).getOr([]):[]})},events:function(e,t){return Zr([eo(Er(),(function(t,n){return eg(t,e)})),Ou(e,t,Wh)])}}),rg=[Kt("disabled",!1),Kt("useNative",!0),$t("disableClass"),Xa("onDisabled"),Xa("onEnabled")],og=Ru({fields:rg,name:"disabling",active:ng,apis:tg}),ig=function(e){return og.config({disabled:e,disableClass:"tox-collection__item--state-disabled"})},ag=function(e){return og.config({disabled:e})},ug=function(e){return og.config({disabled:e,disableClass:"tox-tbtn--disabled"})},sg=function(e){return og.config({disabled:e,disableClass:"tox-tbtn--disabled",useNative:!1})},cg=function(e,t){var n=e.getApi(t);return function(e){e(n)}},lg=function(e,t){return lo((function(n){cg(e,n)((function(n){var r=e.onSetup(n);null!=r&&t.set(r)}))}))},fg=function(e,t){return fo((function(n){return cg(e,n)(t.get())}))};!function(e){e[e.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",e[e.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"}(Fm||(Fm={}));var dg=Fm,pg=function(e,t){return mo((function(n,r){cg(e,n)(e.onAction),e.triggersSubmenu||t!==dg.CLOSE_ON_EXECUTE||(Yr(n,Dr()),r.stop())}))},mg={"alloy.execute":["disabling","alloy.base.behaviour","toggling","item-events"]},hg=function(e){return Y(e,(function(e){return e.toArray()}))},gg=function(e,t,r){var o=an(n);return{type:"item",dom:t.dom,components:hg(t.optComponents),data:e.data,eventOrder:mg,hasSubmenu:e.triggersSubmenu,itemBehaviours:Nu([Rp("item-events",[pg(e,r),lg(e,o),fg(e,o)]),ig(e.disabled),Mp.config({})].concat(e.itemBehaviours))}},vg=function(e){return{value:e.value,meta:he({text:e.text.getOr("")},e.meta)}},bg=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),yg=function(e,t){return ce(e,"tooltipWorker").map((function(e){return[Th.config({lazySink:t.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:function(e){return{anchor:"submenu",item:e,overrides:{maxHeightFunction:Cc}}},mode:"follow-highlight",onShow:function(t,n){e((function(e){Th.setComponents(t,[Zi({element:sn.fromDom(e)})])}))}})]})).getOr([])},wg=function(e,t){var n=function(e){return bg.DOM.encode(e)}(Oh.translate(e));if(t.length>0){var r=new RegExp(function(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}(t),"gi");return n.replace(r,(function(e){return'<span class="tox-autocompleter-highlight">'+e+"</span>"}))}return n},xg=o(ef("item-widget",im())),Cg=Yo("cell-over"),kg=Yo("cell-execute"),Sg=function(e,t,n){var r,o=function(n){return Xr(n,kg,{row:e,col:t})},i=function(e,t){t.stop(),o(e)};return ta({dom:{tag:"div",attributes:(r={role:"button"},r["aria-labelledby"]=n,r)},behaviours:Nu([Rp("insert-table-picker-cell",[no(fr(),Lp.focus),no(Er(),o),no(br(),i),no(_r(),i)]),Kp.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),Lp.config({onFocus:function(n){return Xr(n,Cg,{row:e,col:t})}})])})},Tg=function(e,t,n){for(var r=[],o=0;o<t;o++){for(var i=[],a=0;a<n;a++)i.push(Sg(o,a,e));r.push(i)}return r},Eg=function(e,t,n,r,o){for(var i=0;i<r;i++)for(var a=0;a<o;a++)Kp.set(e[i][a],i<=t&&a<=n)},Og=function(e){return Y(e,(function(e){return F(e,na)}))},_g=function(e,t){return Qi(t+1+"x"+(e+1))};var Ag=function(e){return{value:o(e)}},Dg=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Ng=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Mg=function(e){return Dg.test(e)||Ng.test(e)},Rg=function(e){var t=function(e){var t=e.value().replace(Dg,(function(e,t,n,r){return t+t+n+n+r+r}));return{value:o(t)}}(e),n=Ng.exec(t.value());return null===n?["FFFFFF","FF","FF","FF"]:n},zg=function(e){var t=e.toString(16);return 1===t.length?"0"+t:t},Ig=function(e){var t=zg(e.red())+zg(e.green())+zg(e.blue());return Ag(t)},Bg=Math.min,Pg=Math.max,Lg=Math.round,Fg=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)/,Hg=/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d?(?:\.\d+)?)\)/,jg=function(e,t,n,r){return{red:o(e),green:o(t),blue:o(n),alpha:o(r)}},Vg=function(e){var t=parseInt(e,10);return t.toString()===e&&t>=0&&t<=255},Ug=function(e){var t,n,r,o=(e.hue()||0)%360,i=e.saturation()/100,a=e.value()/100;if(i=Pg(0,Bg(i,1)),a=Pg(0,Bg(a,1)),0===i)return t=n=r=Lg(255*a),jg(t,n,r,1);var u=o/60,s=a*i,c=s*(1-Math.abs(u%2-1)),l=a-s;switch(Math.floor(u)){case 0:t=s,n=c,r=0;break;case 1:t=c,n=s,r=0;break;case 2:t=0,n=s,r=c;break;case 3:t=0,n=c,r=s;break;case 4:t=c,n=0,r=s;break;case 5:t=s,n=0,r=c;break;default:t=n=r=0}return t=Lg(255*(t+l)),n=Lg(255*(n+l)),r=Lg(255*(r+l)),jg(t,n,r,1)},$g=function(e){var t=Rg(e),n=parseInt(t[1],16),r=parseInt(t[2],16),o=parseInt(t[3],16);return jg(n,r,o,1)},qg=function(e,t,n,r){var o=parseInt(e,10),i=parseInt(t,10),a=parseInt(n,10),u=parseFloat(r);return jg(o,i,a,u)},Wg=function(e){return"rgba("+e.red()+","+e.green()+","+e.blue()+","+e.alpha()+")"},Yg=o(jg(255,0,0,1)),Xg=tinymce.util.Tools.resolve("tinymce.util.LocalStorage"),Gg="tinymce-custom-colors";var Kg="choiceitem",Jg=[{type:Kg,text:"Light Green",value:"#BFEDD2"},{type:Kg,text:"Light Yellow",value:"#FBEEB8"},{type:Kg,text:"Light Red",value:"#F8CAC6"},{type:Kg,text:"Light Purple",value:"#ECCAFA"},{type:Kg,text:"Light Blue",value:"#C2E0F4"},{type:Kg,text:"Green",value:"#2DC26B"},{type:Kg,text:"Yellow",value:"#F1C40F"},{type:Kg,text:"Red",value:"#E03E2D"},{type:Kg,text:"Purple",value:"#B96AD9"},{type:Kg,text:"Blue",value:"#3598DB"},{type:Kg,text:"Dark Turquoise",value:"#169179"},{type:Kg,text:"Orange",value:"#E67E23"},{type:Kg,text:"Dark Red",value:"#BA372A"},{type:Kg,text:"Dark Purple",value:"#843FA1"},{type:Kg,text:"Dark Blue",value:"#236FA1"},{type:Kg,text:"Light Gray",value:"#ECF0F1"},{type:Kg,text:"Medium Gray",value:"#CED4D9"},{type:Kg,text:"Gray",value:"#95A5A6"},{type:Kg,text:"Dark Gray",value:"#7E8C8D"},{type:Kg,text:"Navy Blue",value:"#34495E"},{type:Kg,text:"Black",value:"#000000"},{type:Kg,text:"White",value:"#ffffff"}],Qg=function(e){void 0===e&&(e=10);var t,n=Xg.getItem(Gg),r=S(n)?JSON.parse(n):[],o=e-(t=r).length<0?t.slice(0,e):t,i=function(e){o.splice(e,1)};return{add:function(t){I(o,t).each(i),o.unshift(t),o.length>e&&o.pop(),Xg.setItem(Gg,JSON.stringify(o))},state:function(){return o.slice(0)}}}(10),Zg=function(e){var n=[],r=t.document.createElement("canvas");r.height=1,r.width=1;for(var o=r.getContext("2d"),i=function(e,t){var n=t/255;return("0"+Math.round(e*n+255*(1-n)).toString(16)).slice(-2).toUpperCase()},a=function(e){if(/^[0-9A-Fa-f]{6}$/.test(e))return"#"+e.toUpperCase();o.clearRect(0,0,r.width,r.height),o.fillStyle="#FFFFFF",o.fillStyle=e,o.fillRect(0,0,1,1);var t=o.getImageData(0,0,1,1).data,n=t[0],a=t[1],u=t[2],s=t[3];return"#"+i(n,s)+i(a,s)+i(u,s)},u=0;u<e.length;u+=2)n.push({text:e[u+1],value:a(e[u]),type:"choiceitem"});return n},ev=function(e){return e.getParam("color_map")},tv=function(e,t){return e.getParam("color_cols",t,"number")},nv=function(e){return!1!==e.getParam("custom_colors")},rv=function(e){var t=ev(e);return void 0!==t?Zg(t):Jg},ov=function(){return F(Qg.state(),(function(e){return{type:Kg,text:e,value:e}}))},iv=function(e){Qg.add(e)},av=function(e){return e.fire("SkinLoaded")},uv=function(e){return e.fire("ResizeEditor")},sv=function(e,t){return e.fire("ScrollContent",t)},cv=function(e,t){return e.fire("ResizeContent",t)},lv=function(e,t){return e.fire("TextColorChange",t)},fv=function(e,t){var n;return e.dom.getParents(e.selection.getStart(),(function(e){var r;(r=e.style["forecolor"===t?"color":"background-color"])&&(n=n||r)})),n},dv=function(e){return Math.max(5,Math.ceil(Math.sqrt(e)))},pv=function(e){var t=rv(e),n=dv(t.length);return tv(e,n)},mv=function(e,t,n,r){"custom"===n?wv(e)((function(n){n.each((function(n){iv(n),e.execCommand("mceApplyTextcolor",t,n),r(n)}))}),"#000000"):"remove"===n?(r(""),e.execCommand("mceRemoveTextcolor",t)):(r(n),e.execCommand("mceApplyTextcolor",t,n))},hv=function(e,t){return e.concat(ov().concat(function(e){var t={type:"choiceitem",text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return e?[t,{type:"choiceitem",text:"Custom color",icon:"color-picker",value:"custom"}]:[t]}(t)))},gv=function(e,t){return function(n){n(hv(e,t))}},vv=function(e,t,n){var r,o;r="forecolor"===t?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color",o=n,e.setIconFill(r,o),e.setIconStroke(r,o)},bv=function(e,t,n,r,o){e.ui.registry.addSplitButton(t,{tooltip:r,presets:"color",icon:"forecolor"===t?"text-color":"highlight-bg-color",select:function(t){return y.from(fv(e,n)).bind((function(e){return function(e){if("transparent"===e)return y.some(jg(0,0,0,0));var t=Fg.exec(e);if(null!==t)return y.some(qg(t[1],t[2],t[3],"1"));var n=Hg.exec(e);return null!==n?y.some(qg(n[1],n[2],n[3],n[4])):y.none()}(e).map((function(e){var n=Ig(e).value();return kn(t.toLowerCase(),n)}))})).getOr(!1)},columns:pv(e),fetch:gv(rv(e),nv(e)),onAction:function(t){null!==o.get()&&mv(e,n,o.get(),(function(){}))},onItemAction:function(r,i){mv(e,n,i,(function(n){o.set(n),lv(e,{name:t,color:n})}))},onSetup:function(n){null!==o.get()&&vv(n,t,o.get());var r=function(e){e.name===t&&vv(n,e.name,e.color)};return e.on("TextColorChange",r),function(){e.off("TextColorChange",r)}}})},yv=function(e,t,r,o){e.ui.registry.addNestedMenuItem(t,{text:o,icon:"forecolor"===t?"text-color":"highlight-bg-color",getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"colorswatch",onAction:function(t){mv(e,r,t.value,n)}}]}})},wv=function(e){return function(t,n){var r={colorpicker:n},o=function(e){return function(t){var n=t.getData();e(y.from(n.colorpicker)),t.close()}}(t);e.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:r,onAction:function(e,t){"hex-valid"===t.name&&(t.value?e.enable("ok"):e.disable("ok"))},onSubmit:o,onClose:function(){},onCancel:function(){t(y.none())}})}},xv={register:function(e){!function(e){e.addCommand("mceApplyTextcolor",(function(t,n){!function(e,t,n){e.undoManager.transact((function(){e.focus(),e.formatter.apply(t,{value:n}),e.nodeChanged()}))}(e,t,n)})),e.addCommand("mceRemoveTextcolor",(function(t){!function(e,t){e.undoManager.transact((function(){e.focus(),e.formatter.remove(t,{value:null},null,!0),e.nodeChanged()}))}(e,t)}))}(e);var t=an(null),n=an(null);bv(e,"forecolor","forecolor","Text color",t),bv(e,"backcolor","hilitecolor","Background color",n),yv(e,"forecolor","forecolor","Text color"),yv(e,"backcolor","hilitecolor","Background color")},getColors:hv,getFetch:gv,colorPickerDialog:wv,getCurrentColor:fv,getColorCols:pv,calcCols:dv},Cv=function(e,t){return function(n){var r=L(n,t);return F(r,(function(t){return{dom:e,components:t}}))}},kv=function(e,t){var n=[],r=[];return H(e,(function(e,o){t(e,o)?(r.length>0&&n.push(r),r=[],le(e.dom,"innerHtml")&&r.push(e)):r.push(e)})),r.length>0&&n.push(r),F(n,(function(e){return{dom:{tag:"div",classes:["tox-collection__group"]},components:e}}))},Sv=function(e,t,n){return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(1===e?["tox-collection--list"]:["tox-collection--grid"])},components:[fm.parts().items({preprocess:function(n){return"auto"!==e&&e>1?Cv({tag:"div",classes:["tox-collection__group"]},e)(n):kv(n,(function(e,n){return"separator"===t[n].type}))}})]}},Tv=function(e){return"color"===e?"tox-swatches":"tox-menu"},Ev=function(e){return{backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:Tv(e),tieredMenu:"tox-tiered-menu"}},Ov=function(e){var t=Ev(e);return{backgroundMenu:t.backgroundMenu,selectedMenu:t.selectedMenu,menu:t.menu,selectedItem:t.selectedItem,item:Rh(e)}},_v=function(e,t,n){var r=Ev(n);return{tag:"div",classes:W([[r.menu,"tox-menu-"+t+"-column"],e?[r.hasIcons]:[]])}},Av=[fm.parts().items({})],Dv=function(e,t,n){var r=Ev(n);return{dom:{tag:"div",classes:W([[r.tieredMenu]])},markers:Ov(n)}},Nv=function(e){return void 0!==e.icon||"togglemenuitem"===e.type||"choicemenuitem"===e.type},Mv=function(e){return t.console.error(kt(e)),t.console.log(e),y.none()},Rv=function(e,t,n,r,o){var i,a=(i=n,{dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[fm.parts().items({preprocess:function(e){return kv(e,(function(e,t){return"separator"===i[t].type}))}})]});return{value:e,dom:a.dom,components:a.components,items:n}},zv=function(e,t,n,r,o){var a;return"color"===o?{value:e,dom:(a=function(e){return{dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[fm.parts().items({preprocess:"auto"!==e?Cv({tag:"div",classes:["tox-swatches__row"]},e):i})]}]}}(r)).dom,components:a.components,items:n}:"normal"===o&&"auto"===r?{value:e,dom:(a=Sv(r,n)).dom,components:a.components,items:n}:"normal"===o&&1===r?{value:e,dom:(a=Sv(1,n)).dom,components:a.components,items:n}:"normal"===o?{value:e,dom:(a=Sv(r,n)).dom,components:a.components,items:n}:"listpreview"===o&&"auto"!==r?{value:e,dom:(a=function(e){return{dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[fm.parts().items({preprocess:Cv({tag:"div",classes:["tox-collection__group"]},e)})]}}(r)).dom,components:a.components,items:n}:{value:e,dom:_v(t,r,o),components:Av,items:n}},Iv=function(e,t,n,r,o,i,a,u){var s=P(t,Nv),c=Bv(t,n,r,"color"!==o?"normal":"color",i,a,u);return zv(e,s,c,r,o)},Bv=function(e,t,n,r,o,i,a){return za(F(e,(function(e){return"choiceitem"===e.type?function(e){return wt("choicemenuitem",ph,e)}(e).fold(Mv,(function(u){return y.some(function(e,t,n,r,o,i,a){var u=$h({presets:n,textContent:t?e.text:y.none(),htmlContent:y.none(),ariaLabel:e.text,iconContent:e.icon,shortcutContent:t?e.shortcut:y.none(),checkMark:t?y.some(Hh(a.icons)):y.none(),caret:y.none(),value:e.value},a,!0);return me(gg({data:vg(e),disabled:e.disabled,getApi:function(e){return{setActive:function(t){Kp.set(e,t)},isActive:function(){return Kp.isOn(e)},isDisabled:function(){return og.isDisabled(e)},setDisabled:function(t){return og.set(e,t)}}},onAction:function(t){return r(e.value)},onSetup:function(e){return e.setActive(o),function(){}},triggersSubmenu:!1,itemBehaviours:[]},u,i),{toggling:{toggleClass:"tox-collection__item--enabled",toggleOnExecute:!1,selected:e.active}})}(u,1===n,r,t,i(e.value),o,a))})):y.none()})))},Pv=function(e,t){var n=Ov(t);return 1===e?{mode:"menu",moveOnTab:!0}:"auto"===e?{mode:"grid",selector:"."+n.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+("color"===t?"tox-swatches__row":"tox-collection__group")}};var Lv,Fv={inserttable:function(e){var t=Yo("size-label"),n=Tg(t,10,10),r=Nm({dom:{tag:"span",classes:["tox-insert-table-picker__label"],attributes:{id:t}},components:[Qi("0x0")],behaviours:Nu([Mp.config({})])});return{type:"widget",data:{value:Yo("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[xg().widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:Og(n).concat(r.asSpec()),behaviours:Nu([Rp("insert-table-picker",[ao(Cg,(function(e,t,o){var i=o.event().row(),a=o.event().col();Eg(n,i,a,10,10),Mp.set(r.get(e),[_g(i,a)])})),ao(kg,(function(t,n,r){e.onAction({numRows:r.event().row()+1,numColumns:r.event().col()+1}),Yr(t,Dr())}))]),Op.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:function(e,t){var n=xv.getColors(t.colorinput.getColors(),t.colorinput.hasCustomColors()),r=t.colorinput.getColorCols(),o=Iv(Yo("menu-value"),n,(function(t){e.onAction({value:t})}),r,"color",dg.CLOSE_ON_EXECUTE,(function(){return!1}),t.shared.providers),i=me(d(d({},o),{markers:Ov("color"),movement:Pv(r,"color")}));return{type:"widget",data:{value:Yo("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[xg().widget(fm.sketch(i))]}}},Hv=function(e,t,n,r,o,i,a,u){void 0===u&&(u=!0);var s=$h({presets:r,textContent:y.none(),htmlContent:n?e.text.map((function(e){return wg(e,t)})):y.none(),ariaLabel:e.text,iconContent:e.icon,shortcutContent:y.none(),checkMark:y.none(),caret:y.none(),value:e.value},a.providers,u,e.icon);return gg({data:vg(e),disabled:e.disabled,getApi:function(){return{}},onAction:function(t){return o(e.value,e.meta)},onSetup:function(){return function(){}},triggersSubmenu:!1,itemBehaviours:yg(e.meta,a)},s,i)},jv=function(e){var t=e.text.fold((function(){return{}}),(function(e){return{innerHtml:e}}));return{type:"separator",dom:d({tag:"div",classes:[Ah,"tox-collection__group-heading"]},t),components:[]}},Vv=function(e,t,n,r){void 0===r&&(r=!0);var o=$h({presets:"normal",iconContent:e.icon,textContent:e.text,htmlContent:y.none(),ariaLabel:e.text,caret:y.none(),checkMark:y.none(),shortcutContent:e.shortcut},n,r);return gg({data:vg(e),getApi:function(e){return{isDisabled:function(){return og.isDisabled(e)},setDisabled:function(t){return og.set(e,t)}}},disabled:e.disabled,onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:!1,itemBehaviours:[]},o,t)},Uv=function(e,t,r,o,i){void 0===o&&(o=!0),void 0===i&&(i=!1);var a,u=i?(a=r.icons,{dom:{tag:"div",classes:["tox-collection__item-caret"],innerHtml:Rm("chevron-down",a)}}):function(e){return{dom:{tag:"div",classes:["tox-collection__item-caret"],innerHtml:Rm("chevron-right",e)}}}(r.icons),s=$h({presets:"normal",iconContent:e.icon,textContent:e.text,htmlContent:y.none(),ariaLabel:e.text,caret:y.some(u),checkMark:y.none(),shortcutContent:e.shortcut},r,o);return gg({data:vg(e),getApi:function(e){return{isDisabled:function(){return og.isDisabled(e)},setDisabled:function(t){return og.set(e,t)}}},disabled:e.disabled,onAction:n,onSetup:e.onSetup,triggersSubmenu:!0,itemBehaviours:[]},s,t)},$v=function(e,t,n){var r=$h({iconContent:y.none(),textContent:e.text,htmlContent:y.none(),ariaLabel:e.text,checkMark:y.some(Hh(n.icons)),caret:y.none(),shortcutContent:e.shortcut,presets:"normal",meta:e.meta},n,!0);return me(gg({data:vg(e),disabled:e.disabled,getApi:function(e){return{setActive:function(t){Kp.set(e,t)},isActive:function(){return Kp.isOn(e)},isDisabled:function(){return og.isDisabled(e)},setDisabled:function(t){return og.set(e,t)}}},onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:!1,itemBehaviours:[]},r,t),{toggling:{toggleClass:"tox-collection__item--enabled",toggleOnExecute:!1,selected:e.active}})},qv=function(e,t){return(n=Fv,r=e.fancytype,Object.prototype.hasOwnProperty.call(n,r)?y.some(n[r]):y.none()).map((function(n){return n(e,t)}));var n,r};!function(e){e[e.ContentFocus=0]="ContentFocus",e[e.UiFocus=1]="UiFocus"}(Lv||(Lv={}));var Wv=function(e){return void 0!==e.icon||"togglemenuitem"===e.type||"choicemenuitem"===e.type},Yv=function(e){return P(e,Wv)},Xv=function(e,n,r,o,i){var a=r.shared.providers,u=function(e){return i?d(d({},e),{shortcut:y.none(),icon:e.text.isSome()?y.none():e.icon}):e};switch(e.type){case"menuitem":return function(e){return wt("menuitem",lh,e)}(e).fold(Mv,(function(e){return y.some(Vv(u(e),n,a,o))}));case"nestedmenuitem":return function(e){return wt("nestedmenuitem",fh,e)}(e).fold(Mv,(function(e){return y.some(Uv(u(e),n,a,o,i))}));case"togglemenuitem":return function(e){return wt("togglemenuitem",dh,e)}(e).fold(Mv,(function(e){return y.some($v(u(e),n,a))}));case"separator":return function(e){return wt("separatormenuitem",ih,e)}(e).fold(Mv,(function(e){return y.some(jv(e))}));case"fancymenuitem":return function(e){return wt("fancymenuitem",mh,e)}(e).fold(Mv,(function(e){return qv(u(e),r)}));default:return t.console.error("Unknown item in general menu",e),y.none()}},Gv=function(e,t,n,r,o,i){var a=1===r,u=!a||Yv(e);return za(F(e,(function(e){return"separator"===e.type?function(e){return wt("Autocompleter.Separator",ih,e)}(e).fold(Mv,(function(e){return y.some(jv(e))})):function(e){return wt("Autocompleter.Item",ah,e)}(e).fold(Mv,(function(e){return y.some(Hv(e,t,a,"normal",n,o,i,u))}))})))},Kv=function(e,t,n,r,o){var i=Yv(t),a=za(F(t,(function(e){var t=function(e){return Xv(e,n,r,function(e){return o?!e.hasOwnProperty("text"):i}(e),o)};return"nestedmenuitem"===e.type&&e.getSubmenuItems().length<=0?t(he(e,{disabled:!0})):t(e)})));return(o?Rv:zv)(e,i,a,1,"normal")},Jv=function(e){return vm.singleData(e.value,e)},Qv={register:function(e,n){var r=an(y.none()),o=an(!1),i=ta(bm.sketch({dom:{tag:"div",classes:["tox-autocompleter"]},components:[],fireDismissalEventInstead:{},inlineBehaviours:Nu([Rp("dismissAutocompleter",[no(Fr(),(function(){return s()}))])]),lazySink:n.getSink})),a=function(){return r.get().isSome()},u=function(){a()&&bm.hide(i)},s=function(){if(a()){var t=r.get().map((function(e){return e.element}));Ym(t.getOr(sn.fromDom(e.selection.getNode()))).each(Ro),u(),r.set(y.none()),o.set(!1)}},c=ge((function(){return sh(e)})),l=function(t,n,r,o){t.matchLength=n.text.length;var a=Ia(r,(function(e){return y.from(e.columns)})).getOr(1);bm.showAt(i,{anchor:"node",root:sn.fromDom(e.getBody()),node:y.from(t.element)},fm.sketch(function(e,t,n,r){var o=n===Lv.ContentFocus?Qf():Jf(),i=Pv(t,r),a=Ov(r);return{dom:e.dom,components:e.components,items:e.items,value:e.value,markers:{selectedItem:a.selectedItem,item:a.item},movement:i,fakeFocus:n===Lv.ContentFocus,focusManager:o,menuBehaviours:vh("auto"!==t?[]:[lo((function(e,t){hh(e,4,a.item).each((function(t){var n=t.numColumns,r=t.numRows;Op.setGridSize(e,r,n)}))}))])}}(zv("autocompleter-value",!0,o,a,"normal"),a,Lv.ContentFocus,"normal"))),bm.getContent(i).each(Ff.highlightFirst)},f=function(i){(function(t){return r.get().map((function(n){return Jm(e.dom,e.selection.getRng(),n.triggerChar).bind((function(n){return oh(e,c,n,t)}))})).getOrThunk((function(){return rh(e,c)}))})(i).fold(s,(function(i){!function(t){if(!a()){var n=Wm(e,t.range);r.set(y.some({triggerChar:t.triggerChar,element:n,matchLength:t.text.length})),o.set(!1)}}(i.context),i.lookupData.then((function(a){r.get().map((function(r){var c,d,p,m=i.context;if(r.triggerChar===m.triggerChar){var h=(c=m.triggerChar,p=Ia(d=a,(function(e){return y.from(e.columns)})).getOr(1),Y(d,(function(r){var i=r.items;return Gv(i,r.matchText,(function(n,i){var a=e.selection.getRng();Jm(e.dom,a,c).fold((function(){return t.console.error("Lost context. Cursor probably moved")}),(function(e){var t=e.range,a={hide:function(){s()},reload:function(e){u(),f(e)}};o.set(!0),r.onAction(a,t,n,i),o.set(!1)}))}),p,dg.BUBBLE_TO_SANDBOX,n)})));h.length>0?l(r,m,a,h):m.text.length-r.matchLength>=10?s():u()}}))}))}))},d={onKeypress:Hm((function(e){27!==e.which&&f()}),50),cancelIfNecessary:s,isMenuOpen:function(){return bm.isOpen(i)},isActive:a,isProcessingAction:o.get,getView:function(){return bm.getContent(i)}};Qm(d,e)}},Zv=function(e){var t=sn.fromDom(e.target),n=function(){e.stopPropagation()},i=function(){e.preventDefault()},a=r(i,n);return function(e,t,n,r,i,a,u){return{target:o(e),x:o(t),y:o(n),stop:r,prevent:i,kill:a,raw:o(u)}}(t,e.clientX,e.clientY,n,i,a,e)},eb=function(e,t,n,r,o){var i=function(e,t){return function(n){e(n)&&t(Zv(n))}}(n,r);return e.dom().addEventListener(t,i,o),{unbind:a(tb,e,t,i,o)}},tb=function(e,t,n,r){e.dom().removeEventListener(t,n,r)},nb=o(!0),rb=function(e,t,n){return function(e,t,n,r){return eb(e,t,n,r,!1)}(e,t,nb,n)},ob=function(e,t,n){return function(e,t,n,r){return eb(e,t,n,r,!0)}(e,t,nb,n)},ib=Zv,ab=function(e,t,n){return Da(e,t,n).isSome()};function ub(e,n){var r=null;return{cancel:function(){null!==r&&(t.clearTimeout(r),r=null)},schedule:function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];r=t.setTimeout((function(){e.apply(null,o),r=null}),n)}}}var sb=function(e){var t=e.raw();return void 0===t.touches||1!==t.touches.length?y.none():y.some(t.touches[0])},cb=function(e){var t=an(y.none()),n=an(!1),r=ub((function(t){e.triggerEvent(Ar(),t),n.set(!0)}),400),i=Me([{key:rr(),value:function(e){return sb(e).each((function(i){r.cancel();var a={x:o(i.clientX),y:o(i.clientY),target:e.target};r.schedule(e),n.set(!1),t.set(y.some(a))})),y.none()}},{key:or(),value:function(e){return r.cancel(),sb(e).each((function(e){t.get().each((function(n){(function(e,t){var n=Math.abs(e.clientX-t.x()),r=Math.abs(e.clientY-t.y());return n>5||r>5})(e,n)&&t.set(y.none())}))})),y.none()}},{key:ir(),value:function(o){r.cancel();return t.get().filter((function(e){return Hn(e.target(),o.target())})).map((function(t){return n.get()?(o.prevent(),!1):e.triggerEvent(_r(),o)}))}}]);return{fireIfReady:function(e,t){return De(i,t).bind((function(t){return t(e)}))}}},lb=Nn().browser.isFirefox(),fb=at([Ht("triggerEvent"),Kt("stopBackspace",!0)]),db=function(e,n){var r=Ct("Getting GUI events settings",fb,n),o=cb(r),i=F(["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"].concat(["selectstart","input","contextmenu","change","transitionend","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),(function(t){return rb(e,t,(function(e){o.fireIfReady(e,t).each((function(t){t&&e.kill()})),r.triggerEvent(t,e)&&e.kill()}))})),a=an(y.none()),u=rb(e,"paste",(function(e){o.fireIfReady(e,"paste").each((function(t){t&&e.kill()})),r.triggerEvent("paste",e)&&e.kill(),a.set(y.some(t.setTimeout((function(){r.triggerEvent(Sr(),e)}),0)))})),s=rb(e,"keydown",(function(e){r.triggerEvent("keydown",e)?e.kill():!0===r.stopBackspace&&function(e){return 8===e.raw().which&&!B(["input","textarea"],$n(e.target()))&&!ab(e.target(),'[contenteditable="true"]')}(e)&&e.prevent()})),c=function(e,t){return lb?ob(e,"focus",t):rb(e,"focusin",t)}(e,(function(e){r.triggerEvent("focusin",e)&&e.kill()})),l=an(y.none()),f=function(e,t){return lb?ob(e,"blur",t):rb(e,"focusout",t)}(e,(function(e){r.triggerEvent("focusout",e)&&e.kill(),l.set(y.some(t.setTimeout((function(){r.triggerEvent(kr(),e)}),0)))}));return{unbind:function(){H(i,(function(e){e.unbind()})),s.unbind(),c.unbind(),f.unbind(),u.unbind(),a.get().each(t.clearTimeout),l.get().each(t.clearTimeout)}}},pb=function(e,t){var n=De(e,"target").map((function(e){return e()})).getOr(t);return an(n)},mb=fe([{stopped:[]},{resume:["element"]},{complete:[]}]),hb=function(e,t,n,r,i,a){var u=e(t,r),s=function(e,t){var n=an(!1),r=an(!1);return{stop:function(){n.set(!0)},cut:function(){r.set(!0)},isStopped:n.get,isCut:r.get,event:o(e),setSource:t.set,getSource:t.get}}(n,i);return u.fold((function(){return a.logEventNoHandlers(t,r),mb.complete()}),(function(e){var n=e.descHandler();return hi(n)(s),s.isStopped()?(a.logEventStopped(t,e.element(),n.purpose()),mb.stopped()):s.isCut()?(a.logEventCut(t,e.element(),n.purpose()),mb.complete()):Co(e.element()).fold((function(){return a.logNoParent(t,e.element(),n.purpose()),mb.complete()}),(function(r){return a.logEventResponse(t,e.element(),n.purpose()),mb.resume(r)}))}))},gb=function(e,t,n,r,o,i){return hb(e,t,n,r,o,i).fold((function(){return!0}),(function(r){return gb(e,t,n,r,o,i)}),(function(){return!1}))},vb=function(e,t,r){var i=function(e){var t=an(!1);return{stop:function(){t.set(!0)},cut:n,isStopped:t.get,isCut:o(!1),event:o(e),setSource:s("Cannot set source of a broadcasted event"),getSource:s("Cannot get source of a broadcasted event")}}(t);return H(e,(function(e){var t=e.descHandler();hi(t)(i)})),i.isStopped()},bb=function(e,t,n,r,o){var i=pb(n,r);return gb(e,t,n,r,i,o)},yb=ho("element","descHandler"),wb=function(e,t){return{id:o(e),descHandler:o(t)}};function xb(){var e={};return{registerId:function(t,n,r){re(r,(function(r,o){var i=void 0!==e[o]?e[o]:{};i[n]=mi(r,t),e[o]=i}))},unregisterId:function(t){re(e,(function(e,n){e.hasOwnProperty(t)&&delete e[t]}))},filterByType:function(t){return De(e,t).map((function(e){return ae(e,(function(e,t){return wb(t,e)}))})).getOr([])},find:function(t,n,r){var o=_e(n)(e);return er(r,(function(e){return function(e,t){return ei(t).fold((function(){return y.none()}),(function(n){var r=_e(n);return e.bind(r).map((function(e){return yb(t,e)}))}))}(o,e)}),t)}}}function Cb(){var e=xb(),t={},n=function(n){ei(n.element()).each((function(n){delete t[n],e.unregisterId(n)}))};return{find:function(t,n,r){return e.find(t,n,r)},filter:function(t){return e.filterByType(t)},register:function(r){var o=function(e){var t=e.element();return ei(t).fold((function(){return Qo("uid-",e.element())}),(function(e){return e}))}(r);ze(t,o)&&function(e,r){var o=t[r];if(o!==e)throw new Error('The tagId "'+r+'" is already used by: '+Uo(o.element())+"\nCannot use it for: "+Uo(e.element())+"\nThe conflicting element is"+(Xn(o.element())?" ":" not ")+"already in the DOM");n(e)}(r,o);var i=[r];e.registerId(i,o,r.events()),t[o]=r},unregister:n,getById:function(e){return _e(e)(t)}}}var kb,Sb=kf({name:"Container",factory:function(e){var t=e.dom,n=t.attributes,r=p(t,["attributes"]);return{uid:e.uid,dom:d({tag:"div",attributes:d({role:"presentation"},n)},r),components:e.components,behaviours:xl(e.containerBehaviours),events:e.events,domModification:e.domModification,eventOrder:e.eventOrder}},configFields:[Kt("components",[]),wl("containerBehaviours",[]),Kt("events",{}),Kt("domModification",{}),Kt("eventOrder",{})]}),Tb=function(e){var t=function(t){return Co(e.element()).fold((function(){return!0}),(function(e){return Hn(t,e)}))},r=Cb(),i=function(e,n){return r.find(t,e,n)},a=db(e.element(),{triggerEvent:function(e,t){return Fa(e,t.target(),(function(n){return function(e,t,n,r){var o=n.target();return bb(e,t,n,o,r)}(i,e,t,n)}))}}),u={debugInfo:o("real"),triggerEvent:function(e,t,n){Fa(e,t,(function(r){bb(i,e,n,t,r)}))},triggerFocus:function(e,t){ei(e).fold((function(){ju(e)}),(function(r){Fa(Cr(),e,(function(r){!function(e,t,n,r,o){var i=pb(n,r);hb(e,t,n,r,i,o)}(i,Cr(),{originator:o(t),kill:n,prevent:n,target:o(e)},e,r)}))}))},triggerEscape:function(e,t){u.triggerEvent("keydown",e.element(),t.event())},getByUid:function(e){return g(e)},getByDom:function(e){return v(e)},build:ta,addToGui:function(e){l(e)},removeFromGui:function(e){f(e)},addToWorld:function(e){s(e)},removeFromWorld:function(e){c(e)},broadcast:function(e){p(e)},broadcastOn:function(e,t){m(e,t)},broadcastEvent:function(e,t){h(e,t)},isConnected:o(!0)},s=function(e){e.connect(u),Yn(e.element())||(r.register(e),H(e.components(),s),u.triggerEvent(Mr(),e.element(),{target:o(e.element())}))},c=function(e){Yn(e.element())||(H(e.components(),c),r.unregister(e)),e.disconnect()},l=function(t){Bc(e,t)},f=function(e){Fc(e)},d=function(e){var t=r.filter(Tr());H(t,(function(t){var n=t.descHandler();hi(n)(e)}))},p=function(e){d({universal:o(!0),data:o(e)})},m=function(e,t){d({universal:o(!1),channels:o(e),data:o(t)})},h=function(e,t){var n=r.filter(e);return vb(n,t)},g=function(e){return r.getById(e).fold((function(){return C.error(new Error('Could not find component with uid: "'+e+'" in system.'))}),C.value)},v=function(e){var t=ei(e).getOr("not found");return g(t)};return s(e),{root:o(e),element:e.element,destroy:function(){a.unbind(),Mo(e.element())},add:l,remove:f,getByUid:g,getByDom:v,addToWorld:s,removeFromWorld:c,broadcast:p,broadcastOn:m,broadcastEvent:h}},Eb=tinymce.util.Tools.resolve("tinymce.EditorManager"),Ob=function(e){return e.getParam("height",Math.max(e.getElement().offsetHeight,200))},_b=function(e){return e.getParam("width",bg.DOM.getStyle(e.getElement(),"width"))},Ab=function(e){return y.from(e.settings.min_width).filter(A)},Db=function(e){return y.from(e.settings.min_height).filter(A)},Nb=function(e){return y.from(e.getParam("max_width")).filter(A)},Mb=function(e){return y.from(e.getParam("max_height")).filter(A)},Rb=function(e){return!1!==e.getParam("menubar",!0,"boolean")},zb=function(e){var t=e.getParam("toolbar",!0),n=!0===t,r=S(t),o=E(t)&&t.length>0;return!Bb(e)&&(o||r||n)},Ib=function(e){var t=te(e.settings),n=j(t,(function(e){return/^toolbar([1-9])$/.test(e)})),r=F(n,(function(t){return e.getParam(t,!1,"string")})),o=j(r,(function(e){return"string"==typeof e}));return o.length>0?y.some(o):y.none()},Bb=function(e){return Ib(e).fold((function(){return e.getParam("toolbar",[],"string[]").length>0}),(function(){return!0}))};!function(e){e.default="",e.floating="floating",e.sliding="sliding",e.scrolling="scrolling"}(kb||(kb={}));var Pb=function(e){return e.getParam("toolbar_drawer","","string")},Lb=function(e){var t=function(e){return e.getParam("fixed_toolbar_container","","string")}(e);return t.length>0&&e.inline?Aa(Gn(),t):y.none()},Fb=function(e){return e.inline&&Lb(e).isSome()},Hb=function(e){return e.inline&&!Rb(e)&&!zb(e)&&!Bb(e)},jb=function(e){return(e.getParam("toolbar_sticky",!1,"boolean")||e.inline)&&!Fb(e)&&!Hb(e)},Vb=function(e){return void 0===e.touches||1!==e.touches.length?y.none():y.some(e.touches[0])},Ub=function(e){var t=an(y.none()),n=an(!1),r=Hm((function(t){e.fire("longpress",d(d({},t),{type:"longpress"})),n.set(!0)}),400);e.on("touchstart",(function(e){Vb(e).each((function(i){r.cancel();var a={x:o(i.clientX),y:o(i.clientY),target:o(e.target)};r.throttle(e),n.set(!1),t.set(y.some(a))}))}),!0),e.on("touchmove",(function(o){r.cancel(),Vb(o).each((function(r){t.get().each((function(o){(function(e,t){var n=Math.abs(e.clientX-t.x()),r=Math.abs(e.clientY-t.y());return n>5||r>5})(r,o)&&(t.set(y.none()),n.set(!1),e.fire("longpresscancel"))}))}))}),!0),e.on("touchend touchcancel",(function(o){r.cancel(),"touchcancel"!==o.type&&t.get().filter((function(e){return e.target().isEqualNode(o.target)})).each((function(){n.get()?o.preventDefault():e.fire("tap",{touches:o.touches}).isDefaultPrevented()&&o.preventDefault()}))}),!0)},$b=Yo("form-component-change"),qb=Yo("form-close"),Wb=Yo("form-cancel"),Yb=Yo("form-action"),Xb=Yo("form-submit"),Gb=Yo("form-block"),Kb=Yo("form-unblock"),Jb=Yo("form-tabchange"),Qb=Yo("form-resize"),Zb=o([Kt("prefix","form-field"),wl("fieldBehaviours",[_f,yl])]),ey=o([Gl({schema:[It("dom")],name:"label"}),Gl({factory:{sketch:function(e){return{uid:e.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:e.text}}}},schema:[It("text")],name:"aria-descriptor"}),Yl({factory:{sketch:function(e){var t=Oe(e,["factory"]);return e.factory.sketch(t)}},schema:[It("factory")],name:"field"})]),ty=Sf({name:"FormField",configFields:Zb(),partFields:ey(),factory:function(e,t,n,r){var o=Cl(e.fieldBehaviours,[_f.config({find:function(t){return sf(t,e,"field")}}),yl.config({store:{mode:"manual",getValue:function(e){return _f.getCurrent(e).bind(yl.getValue)},setValue:function(e,t){_f.getCurrent(e).each((function(e){yl.setValue(e,t)}))}}})]),i=Zr([lo((function(t,n){var r=lf(t,e,["label","field","aria-descriptor"]);r.field().each((function(t){var n=Yo(e.prefix);r.label().each((function(e){Po(e.element(),"for",n),Po(t.element(),"id",n)})),r["aria-descriptor"]().each((function(n){var r=Yo(e.prefix);Po(n.element(),"id",r),Po(t.element(),"aria-describedby",r)}))}))}))]),a={getField:function(t){return sf(t,e,"field")},getLabel:function(t){return sf(t,e,"label")}};return{uid:e.uid,dom:e.dom,components:t,behaviours:o,events:i,apis:a}},apis:{getField:function(e,t){return e.getField(t)},getLabel:function(e,t){return e.getLabel(t)}}}),ny=o([$t("data"),Kt("inputAttributes",{}),Kt("inputStyles",{}),Kt("tag","input"),Kt("inputClasses",[]),Xa("onSetValue"),Kt("styles",{}),Kt("eventOrder",{}),wl("inputBehaviours",[yl,Lp]),Kt("selectOnFocus",!0)]),ry=function(e){return Nu([Lp.config({onFocus:!1===e.selectOnFocus?n:function(e){var t=e.element(),n=Ui(t);t.dom().setSelectionRange(0,n.length)}})])},oy=function(e){return d(d({},ry(e)),Cl(e.inputBehaviours,[yl.config({store:{mode:"manual",initialValue:e.data.getOr(void 0),getValue:function(e){return Ui(e.element())},setValue:function(e,t){Ui(e.element())!==t&&$i(e.element(),t)}},onSetValue:e.onSetValue})]))},iy=function(e){return{tag:e.tag,attributes:d({type:"text"},e.inputAttributes),styles:e.inputStyles,classes:e.inputClasses}},ay=kf({name:"Input",configFields:ny(),factory:function(e,t){return{uid:e.uid,dom:iy(e),components:[],behaviours:oy(e),eventOrder:e.eventOrder}}}),uy={},sy={exports:uy};!function(t,n,r,o){!function(o){if("object"==typeof n&&void 0!==r)r.exports=o();else if("function"==typeof t&&t.amd)t([],o);else{("undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:this).EphoxContactWrapper=o()}}((function(){return function e(t,n,r){function i(u,s){if(!n[u]){if(!t[u]){var c="function"==typeof o&&o;if(!s&&c)return c(u,!0);if(a)return a(u,!0);var l=new Error("Cannot find module '"+u+"'");throw l.code="MODULE_NOT_FOUND",l}var f=n[u]={exports:{}};t[u][0].call(f.exports,(function(e){return i(t[u][1][e]||e)}),f,f.exports,e,t,n,r)}return n[u].exports}for(var a="function"==typeof o&&o,u=0;u<r.length;u++)i(r[u]);return i}({1:[function(e,t,n){var r,o,i=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:a}catch(e){r=a}try{o="function"==typeof clearTimeout?clearTimeout:u}catch(e){o=u}}();var c,l=[],f=!1,d=-1;function p(){f&&c&&(f=!1,c.length?l=c.concat(l):d=-1,l.length&&m())}function m(){if(!f){var e=s(p);f=!0;for(var t=l.length;t;){for(c=l,l=[];++d<t;)c&&c[d].run();d=-1,t=l.length}c=null,f=!1,function(e){if(o===clearTimeout)return clearTimeout(e);if((o===u||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(e);try{o(e)}catch(t){try{return o.call(null,e)}catch(t){return o.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function g(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new h(e,t)),1!==l.length||f||s(m)},h.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],2:[function(e,t,n){(function(e){!function(n){var r=setTimeout;function o(){}function i(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],f(e,this)}function a(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,i._immediateFn((function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var r;try{r=n(e._value)}catch(e){return void s(t.promise,e)}u(t.promise,r)}else(1===e._state?u:s)(t.promise,e._value)}))):e._deferreds.push(t)}function u(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof i)return e._state=3,e._value=t,void c(e);if("function"==typeof n)return void f((r=n,o=t,function(){r.apply(o,arguments)}),e)}e._state=1,e._value=t,c(e)}catch(t){s(e,t)}var r,o}function s(e,t){e._state=2,e._value=t,c(e)}function c(e){2===e._state&&0===e._deferreds.length&&i._immediateFn((function(){e._handled||i._unhandledRejectionFn(e._value)}));for(var t=0,n=e._deferreds.length;t<n;t++)a(e,e._deferreds[t]);e._deferreds=null}function l(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function f(e,t){var n=!1;try{e((function(e){n||(n=!0,u(t,e))}),(function(e){n||(n=!0,s(t,e))}))}catch(e){if(n)return;n=!0,s(t,e)}}i.prototype.catch=function(e){return this.then(null,e)},i.prototype.then=function(e,t){var n=new this.constructor(o);return a(this,new l(e,t,n)),n},i.all=function(e){var t=Array.prototype.slice.call(e);return new i((function(e,n){if(0===t.length)return e([]);var r=t.length;function o(i,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var u=a.then;if("function"==typeof u)return void u.call(a,(function(e){o(i,e)}),n)}t[i]=a,0==--r&&e(t)}catch(e){n(e)}}for(var i=0;i<t.length;i++)o(i,t[i])}))},i.resolve=function(e){return e&&"object"==typeof e&&e.constructor===i?e:new i((function(t){t(e)}))},i.reject=function(e){return new i((function(t,n){n(e)}))},i.race=function(e){return new i((function(t,n){for(var r=0,o=e.length;r<o;r++)e[r].then(t,n)}))},i._immediateFn="function"==typeof e?function(t){e(t)}:function(e){r(e,0)},i._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},i._setImmediateFn=function(e){i._immediateFn=e},i._setUnhandledRejectionFn=function(e){i._unhandledRejectionFn=e},void 0!==t&&t.exports?t.exports=i:n.Promise||(n.Promise=i)}(this)}).call(this,e("timers").setImmediate)},{timers:3}],3:[function(e,t,n){(function(t,r){var o=e("process/browser.js").nextTick,i=Function.prototype.apply,a=Array.prototype.slice,u={},s=0;function c(e,t){this._id=e,this._clearFn=t}n.setTimeout=function(){return new c(i.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new c(i.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(e){e.close()},c.prototype.unref=c.prototype.ref=function(){},c.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},n.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},n._unrefActive=n.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n.setImmediate="function"==typeof t?t:function(e){var t=s++,r=!(arguments.length<2)&&a.call(arguments,1);return u[t]=!0,o((function(){u[t]&&(r?e.apply(null,r):e.call(null),n.clearImmediate(t))})),t},n.clearImmediate="function"==typeof r?r:function(e){delete u[e]}}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":1,timers:3}],4:[function(e,t,n){var r=e("promise-polyfill"),o="undefined"!=typeof window?window:Function("return this;")();t.exports={boltExport:o.Promise||r}},{"promise-polyfill":2}]},{},[4])(4)}))}(void 0,uy,sy,void 0);var cy,ly=sy.exports.boltExport,fy=function(e){var n=y.none(),r=[],o=function(e){i()?u(e):r.push(e)},i=function(){return n.isSome()},a=function(e){H(e,u)},u=function(e){n.each((function(n){t.setTimeout((function(){e(n)}),0)}))};return e((function(e){n=y.some(e),a(r),r=[]})),{get:o,map:function(e){return fy((function(t){o((function(n){t(e(n))}))}))},isReady:i}},dy={nu:fy,pure:function(e){return fy((function(t){t(e)}))}},py=function(e){t.setTimeout((function(){throw e}),0)},my=function(e){var t=function(t){e().then(t,py)};return{map:function(t){return my((function(){return e().then(t)}))},bind:function(t){return my((function(){return e().then((function(e){return t(e).toPromise()}))}))},anonBind:function(t){return my((function(){return e().then((function(){return t.toPromise()}))}))},toLazy:function(){return dy.nu(t)},toCached:function(){var t=null;return my((function(){return null===t&&(t=e()),t}))},toPromise:e,get:t}},hy=function(e){return my((function(){return new ly(e)}))},gy=function(e){return my((function(){return ly.resolve(e)}))},vy=["input","textarea"],by=function(e){var t=$n(e);return B(vy,t)},yy=function(e,t){var n=t.getRoot(e).getOr(e.element());_i(n,t.invalidClass),t.notify.each((function(t){by(e.element())&&Po(e.element(),"aria-invalid",!1),t.getContainer(e).each((function(e){Io(e,t.validHtml)})),t.onValid(e)}))},wy=function(e,t,n,r){var o=t.getRoot(e).getOr(e.element());Ei(o,t.invalidClass),t.notify.each((function(t){by(e.element())&&Po(e.element(),"aria-invalid",!0),t.getContainer(e).each((function(e){Io(e,r)})),t.onInvalid(e,r)}))},xy=function(e,t,n){return t.validator.fold((function(){return gy(C.value(!0))}),(function(t){return t.validate(e)}))},Cy=function(e,t,n){return t.notify.each((function(t){t.onValidate(e)})),xy(e,t).map((function(n){return e.getSystem().isConnected()?n.fold((function(n){return wy(e,t,0,n),C.error(n)}),(function(n){return yy(e,t),C.value(n)})):C.error("No longer in system")}))},ky=Object.freeze({markValid:yy,markInvalid:wy,query:xy,run:Cy,isInvalid:function(e,t){var n=t.getRoot(e).getOr(e.element());return Ai(n,t.invalidClass)}}),Sy=Object.freeze({events:function(e,t){return e.validator.map((function(t){return Zr([no(t.onEvent,(function(t){Cy(t,e).get(i)}))].concat(t.validateOnLoad?[lo((function(t){Cy(t,e).get(n)}))]:[]))})).getOr({})}}),Ty=[It("invalidClass"),Kt("getRoot",y.none),Gt("notify",[Kt("aria","alert"),Kt("getContainer",y.none),Kt("validHtml",""),Xa("onValid"),Xa("onInvalid"),Xa("onValidate")]),Gt("validator",[It("validate"),Kt("onEvent","input"),Kt("validateOnLoad",!0)])],Ey=Ru({fields:Ty,name:"invalidating",active:Sy,apis:ky,extra:{validation:function(e){return function(t){var n=yl.getValue(t);return gy(e(n))}}}}),Oy=Object.freeze({exhibit:function(e,t){return pi({attributes:Me([{key:t.tabAttr,value:"true"}])})}}),_y=[Kt("tabAttr","data-alloy-tabstop")],Ay=Ru({fields:_y,name:"tabstopping",active:Oy}),Dy=function(e,t,n,r){var o=Ny(e,t,n,r);return ty.sketch(o)},Ny=function(e,t,n,r){return{dom:My(n),components:e.toArray().concat([t]),fieldBehaviours:Nu(r)}},My=function(e){return{tag:"div",classes:["tox-form__group"].concat(e)}},Ry=function(e,t){return ty.parts().label({dom:{tag:"label",classes:["tox-label"],innerHtml:t.translate(e)}})},zy=Object.freeze({getCoupled:function(e,t,n,r){return n.getOrCreate(e,t,r)}}),Iy=[Bt("others",yt(C.value,Et()))],By=Ru({fields:Iy,name:"coupling",apis:zy,state:Object.freeze({init:function(e){var t={},n=o({});return fi({readState:n,getOrCreate:function(e,n,r){var o=te(n.others);if(o)return De(t,r).getOrThunk((function(){var o=De(n.others,r).getOrDie("No information found for coupled component: "+r)(e),i=e.getSystem().build(o);return t[r]=i,i}));throw new Error("Cannot find coupled component: "+r+". Known coupled components: "+JSON.stringify(o,null,2))}})}})}),Py=o("sink"),Ly=o(Gl({name:Py(),overrides:o({dom:{tag:"div"},behaviours:Nu([Nc.config({useFixed:l})]),events:Zr([uo(mr()),uo(ur()),uo(br())])})}));!function(e){e[e.HighlightFirst=0]="HighlightFirst",e[e.HighlightNone=1]="HighlightNone"}(cy||(cy={}));var Fy=function(e,t){var n=e.getHotspot(t).getOr(t),r=e.getAnchorOverrides();return e.layouts.fold((function(){return{anchor:"hotspot",hotspot:n,overrides:r}}),(function(e){return{anchor:"hotspot",hotspot:n,overrides:r,layouts:e}}))},Hy=function(e,t,n,r,o,i,a){return function(e,t,n,r,o,i,a){var u=function(e,t,n){return(0,e.fetch)(n).map(t)}(e,t,r),s=$y(r,e);return u.map((function(e){return e.bind((function(e){return y.from(vm.sketch(d(d({},i.menu()),{uid:ti(""),data:e,highlightImmediately:a===cy.HighlightFirst,onOpenMenu:function(e,t){var r=s().getOrDie();Nc.position(r,n,t),Zc.decloak(o)},onOpenSubmenu:function(e,t,n){var r=s().getOrDie();Nc.position(r,{anchor:"submenu",item:t},n),Zc.decloak(o)},onRepositionMenu:function(e,t,r){var o=s().getOrDie();Nc.position(o,n,t),H(r,(function(e){Nc.position(o,{anchor:"submenu",item:e.triggeringItem},e.triggeredMenu)}))},onEscape:function(){return Lp.focus(r),Zc.close(o),y.some(!0)}})))}))}))}(e,t,Fy(e,n),n,r,o,a).map((function(e){return e.fold((function(){Zc.isOpen(r)&&Zc.close(r)}),(function(e){Zc.cloak(r),Zc.open(r,e),i(r)})),r}))},jy=function(e,t,n,r,o,i,a){return Zc.close(r),gy(r)},Vy=function(e,t,n,r,o,i){var a=By.getCoupled(n,"sandbox");return(Zc.isOpen(a)?jy:Hy)(e,t,n,a,r,o,i)},Uy=function(e,t,n){var r=_f.getCurrent(t).getOr(t),o=ma(e.element());n?Ii(r.element(),"min-width",o+"px"):function(e,t){pa.set(e,t)}(r.element(),o)},$y=function(e,t){return e.getSystem().getByUid(t.uid+"-"+Py()).map((function(e){return function(){return C.value(e)}})).getOrThunk((function(){return t.lazySink.fold((function(){return function(){return C.error(new Error("No internal sink is specified, nor could an external sink be found"))}}),(function(t){return function(){return t(e)}}))}))},qy=function(e){Zc.getState(e).each((function(e){vm.repositionMenus(e)}))},Wy=function(e,t,n){var r=Na(),i=$y(t,e);return{dom:{tag:"div",classes:e.sandboxClasses,attributes:{id:r.id(),role:"listbox"}},behaviours:Sl(e.sandboxBehaviours,[yl.config({store:{mode:"memory",initialValue:t}}),Zc.config({onOpen:function(o,i){var a=Fy(e,t);r.link(t.element()),e.matchWidth&&Uy(a.hotspot,i,e.useMinWidth),e.onOpen(a,o,i),void 0!==n&&void 0!==n.onOpen&&n.onOpen(o,i)},onClose:function(e,o){r.unlink(t.element()),void 0!==n&&void 0!==n.onClose&&n.onClose(e,o)},isPartOf:function(e,n,r){return Ra(n,r)||Ra(t,r)},getAttachPoint:function(){return i().getOrDie()}}),_f.config({find:function(e){return Zc.getState(e).bind((function(e){return _f.getCurrent(e)}))}}),Fu.config({channels:d(d({},ol({isExtraPart:o(!1)})),al({isExtraPart:o(!1),doReposition:qy}))})])}},Yy=function(e){var t=By.getCoupled(e,"sandbox");qy(t)},Xy=function(){return[Kt("sandboxClasses",[]),kl("sandboxBehaviours",[_f,Fu,Zc,yl])]},Gy=o([It("dom"),It("fetch"),Xa("onOpen"),Ga("onExecute"),Kt("getHotspot",y.some),Kt("getAnchorOverrides",o({})),Kt("layouts",y.none()),wl("dropdownBehaviours",[Kp,By,Op,Lp]),It("toggleClass"),Kt("eventOrder",{}),$t("lazySink"),Kt("matchWidth",!1),Kt("useMinWidth",!1),$t("role")].concat(Xy())),Ky=o([Xl({schema:[qa()],name:"menu",defaults:function(e){return{onExecute:e.onExecute}}}),Ly()]),Jy=Sf({name:"Dropdown",configFields:Gy(),partFields:Ky(),factory:function(e,t,r,o){var i,a,u=function(e){Zc.getState(e).each((function(e){vm.highlightPrimary(e)}))},s={expand:function(t){Kp.isOn(t)||Vy(e,(function(e){return e}),t,o,n,cy.HighlightNone).get(n)},open:function(t){Kp.isOn(t)||Vy(e,(function(e){return e}),t,o,n,cy.HighlightFirst).get(n)},isOpen:Kp.isOn,close:function(t){Kp.isOn(t)&&Vy(e,(function(e){return e}),t,o,n,cy.HighlightFirst).get(n)},repositionMenus:function(e){Kp.isOn(e)&&Yy(e)}},c=function(e,t){return Gr(e),y.some(!0)};return{uid:e.uid,dom:e.dom,components:t,behaviours:Cl(e.dropdownBehaviours,[Kp.config({toggleClass:e.toggleClass,aria:{mode:"expanded"}}),By.config({others:{sandbox:function(t){return Wy(e,t,{onOpen:function(){Kp.on(t)},onClose:function(){Kp.off(t)}})}}}),Op.config({mode:"special",onSpace:c,onEnter:c,onDown:function(e,t){if(Jy.isOpen(e)){var n=By.getCoupled(e,"sandbox");u(n)}else Jy.open(e);return y.some(!0)},onEscape:function(e,t){return Jy.isOpen(e)?(Jy.close(e),y.some(!0)):y.none()}}),Lp.config({})]),events:Qp(y.some((function(t){Vy(e,(function(e){return e}),t,o,u,cy.HighlightFirst).get(n)}))),eventOrder:d(d({},e.eventOrder),(i={},i[Er()]=["disabling","toggling","alloy.base.behaviour"],i)),apis:s,domModification:{attributes:d(d({"aria-haspopup":"true"},e.role.fold((function(){return{}}),(function(e){return{role:e}}))),"button"===e.dom.tag?{type:(a="type",De(e.dom,"attributes").bind((function(e){return De(e,a)}))).getOr("button")}:{})}}},apis:{open:function(e,t){return e.open(t)},expand:function(e,t){return e.expand(t)},close:function(e,t){return e.close(t)},isOpen:function(e,t){return e.isOpen(t)},repositionMenus:function(e,t){return e.repositionMenus(t)}}}),Qy=Object.freeze({events:function(e){return Zr([eo(wr(),o(!0))])},exhibit:function(e,t){return pi({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})}}),Zy=Ru({fields:[],name:"unselecting",active:Qy}),ew=Yo("color-input-change"),tw=Yo("color-swatch-change"),nw=Yo("color-picker-cancel"),rw=function(e,t,n){var r=ty.parts().field({factory:ay,inputClasses:["tox-textfield"],onSetValue:function(e){return Ey.run(e).get((function(){}))},inputBehaviours:Nu([Ay.config({}),Ey.config({invalidClass:"tox-textbox-field-invalid",getRoot:function(e){return Co(e.element())},notify:{onValid:function(e){var t=yl.getValue(e);Xr(e,ew,{color:t})}},validator:{validateOnLoad:!1,validate:function(e){var t=yl.getValue(e);if(0===t.length)return gy(C.value(!0));var n=sn.fromTag("span");Ii(n,"background-color",t);var r=Fi(n,"background-color").fold((function(){return C.error("blah")}),(function(e){return C.value(t)}));return gy(r)}}})]),selectOnFocus:!1}),o=e.label.map((function(e){return Ry(e,t.providers)})),i=function(e,t){Xr(e,tw,{value:t})},a=Nm(function(e,t){return Jy.sketch({dom:e.dom,components:e.components,toggleClass:"mce-active",dropdownBehaviours:Nu([Zy.config({}),Ay.config({})]),layouts:e.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:t.getSink,fetch:function(n){return hy((function(t){return e.fetch(t)})).map((function(r){return y.from(Jv(me(Iv(Yo("menu-value"),r,(function(t){e.onItemAction(n,t)}),e.columns,e.presets,dg.CLOSE_ON_EXECUTE,(function(){return!1}),t.providers),{movement:Pv(e.columns,e.presets)})))}))},parts:{menu:Dv(0,0,e.presets)}})}({dom:{tag:"span",attributes:{"aria-label":t.providers.translate("Color swatch")}},layouts:y.some({onRtl:function(){return[vu]},onLtr:function(){return[bu]}}),components:[],fetch:xv.getFetch(n.getColors(),n.hasCustomColors()),columns:n.getColorCols(),presets:"color",onItemAction:function(e,t){a.getOpt(e).each((function(e){"custom"===t?n.colorPicker((function(t){t.fold((function(){return Yr(e,nw)}),(function(t){i(e,t),iv(t)}))}),"#ffffff"):i(e,"remove"===t?"":t)}))}},t));return ty.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:o.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[r,a.asSpec()]}]),fieldBehaviours:Nu([Rp("form-field-events",[no(ew,(function(t,n){a.getOpt(t).each((function(e){Ii(e.element(),"background-color",n.event().color())})),Xr(t,$b,{name:e.name})})),no(tw,(function(e,t){ty.getField(e).each((function(n){yl.setValue(n,t.event().value()),_f.getCurrent(e).each(Lp.focus)}))})),no(nw,(function(e,t){ty.getField(e).each((function(t){_f.getCurrent(e).each(Lp.focus)}))}))])])})},ow=function(e,t,n){return{hue:o(e),saturation:o(t),value:o(n)}},iw=o(Yo("rgb-hex-update")),aw=o(Yo("slider-update")),uw=o(Yo("palette-update")),sw=Gl({schema:[It("dom")],name:"label"}),cw=function(e){return Gl({name:e+"-edge",overrides:function(t){return t.model.manager.edgeActions[e].fold((function(){return{}}),(function(e){return{events:Zr([ro(rr(),e,[t]),ro(ur(),e,[t]),ro(sr(),(function(t,n,r){r.mouseIsDown.get()&&e(t,r)}),[t])])}}))}})},lw=cw("top-left"),fw=cw("top"),dw=cw("top-right"),pw=cw("right"),mw=cw("bottom-right"),hw=cw("bottom"),gw=cw("bottom-left"),vw=[sw,cw("left"),pw,fw,hw,lw,dw,gw,mw,Yl({name:"thumb",defaults:o({dom:{styles:{position:"absolute"}}}),overrides:function(e){return{events:Zr([io(rr(),e,"spectrum"),io(or(),e,"spectrum"),io(ir(),e,"spectrum"),io(ur(),e,"spectrum"),io(sr(),e,"spectrum"),io(lr(),e,"spectrum")])}}}),Yl({schema:[on("mouseIsDown",(function(){return an(!1)}))],name:"spectrum",overrides:function(e){var t=e.model.manager,n=function(n,r){return t.getValueFromEvent(r).map((function(r){return t.setValueFrom(n,e,r)}))};return{behaviours:Nu([Op.config({mode:"special",onLeft:function(n){return t.onLeft(n,e)},onRight:function(n){return t.onRight(n,e)},onUp:function(n){return t.onUp(n,e)},onDown:function(n){return t.onDown(n,e)}}),Lp.config({})]),events:Zr([no(rr(),n),no(or(),n),no(ur(),n),no(sr(),(function(t,r){e.mouseIsDown.get()&&n(t,r)}))])}}})],bw=o("slider.change.value"),yw=function(e){var t=e.event().raw();if(function(e){return-1!==e.type.indexOf("touch")}(t)){var n=t;return void 0!==n.touches&&1===n.touches.length?y.some(n.touches[0]).map((function(e){return ca(e.clientX,e.clientY)})):y.none()}var r=t;return void 0!==r.clientX?y.some(r).map((function(e){return ca(e.clientX,e.clientY)})):y.none()},ww=function(e){return e.model.minX},xw=function(e){return e.model.minY},Cw=function(e){return e.model.minX-1},kw=function(e){return e.model.minY-1},Sw=function(e){return e.model.maxX},Tw=function(e){return e.model.maxY},Ew=function(e){return e.model.maxX+1},Ow=function(e){return e.model.maxY+1},_w=function(e,t,n){return t(e)-n(e)},Aw=function(e){return _w(e,Sw,ww)},Dw=function(e){return _w(e,Tw,xw)},Nw=function(e){return Aw(e)/2},Mw=function(e){return Dw(e)/2},Rw=function(e){return e.stepSize},zw=function(e){return e.snapToGrid},Iw=function(e){return e.snapStart},Bw=function(e){return e.rounded},Pw=function(e,t){return void 0!==e[t+"-edge"]},Lw=function(e){return Pw(e,"left")},Fw=function(e){return Pw(e,"right")},Hw=function(e){return Pw(e,"top")},jw=function(e){return Pw(e,"bottom")},Vw=function(e){return e.model.value.get()},Uw=function(e){return{x:o(e)}},$w=function(e){return{y:o(e)}},qw=function(e,t){return{x:o(e),y:o(t)}},Ww=function(e,t){Xr(e,bw(),{value:t})},Yw=function(e,t,n,r){return e<t?e:e>n?n:e===t?t-1:Math.max(t,e-r)},Xw=function(e,t,n,r){return e>n?e:e<t?t:e===n?n+1:Math.min(n,e+r)},Gw=function(e,t,n){return Math.max(t,Math.min(n,e))},Kw=function(e){var t=e.min,n=e.max,r=e.range,o=e.value,i=e.step,a=e.snap,u=e.snapStart,s=e.rounded,c=e.hasMinEdge,l=e.hasMaxEdge,f=e.minBound,d=e.maxBound,p=e.screenRange,m=c?t-1:t,h=l?n+1:n;if(o<f)return m;if(o>d)return h;var g=function(e,t,n){return Math.min(n,Math.max(e,t))-t}(o,f,d),v=Gw(g/p*r+t,m,h);return a&&v>=t&&v<=n?function(e,t,n,r,o){return o.fold((function(){var o=e-t,i=Math.round(o/r)*r;return Gw(t+i,t-1,n+1)}),(function(t){var o=(e-t)%r,i=Math.round(o/r),a=Math.floor((e-t)/r),u=Math.floor((n-t)/r),s=t+Math.min(u,a+i)*r;return Math.max(t,s)}))}(v,t,n,i,u):s?Math.round(v):v},Jw=function(e){var t=e.min,n=e.max,r=e.range,o=e.value,i=e.hasMinEdge,a=e.hasMaxEdge,u=e.maxBound,s=e.maxOffset,c=e.centerMinEdge,l=e.centerMaxEdge;return o<t?i?0:c:o>n?a?u:l:(o-t)/r*s},Qw=function(e){return e.element().dom().getBoundingClientRect()},Zw=function(e,t){return e[t]},ex=function(e){var t=Qw(e);return Zw(t,"left")},tx=function(e){var t=Qw(e);return Zw(t,"right")},nx=function(e){var t=Qw(e);return Zw(t,"top")},rx=function(e){var t=Qw(e);return Zw(t,"bottom")},ox=function(e){var t=Qw(e);return Zw(t,"width")},ix=function(e){var t=Qw(e);return Zw(t,"height")},ax=function(e,t,n){return(e+t)/2-n},ux=function(e,t){var n=Qw(e),r=Qw(t),o=Zw(n,"left"),i=Zw(n,"right"),a=Zw(r,"left");return ax(o,i,a)},sx=function(e,t){var n=Qw(e),r=Qw(t),o=Zw(n,"top"),i=Zw(n,"bottom"),a=Zw(r,"top");return ax(o,i,a)},cx=function(e,t){Xr(e,bw(),{value:t})},lx=function(e){return{x:o(e)}},fx=function(e,t,n){var r={min:ww(t),max:Sw(t),range:Aw(t),value:n,step:Rw(t),snap:zw(t),snapStart:Iw(t),rounded:Bw(t),hasMinEdge:Lw(t),hasMaxEdge:Fw(t),minBound:ex(e),maxBound:tx(e),screenRange:ox(e)};return Kw(r)},dx=function(e){return function(t,n){return function(e,t,n){var r=(e>0?Xw:Yw)(Vw(n).x(),ww(n),Sw(n),Rw(n));return cx(t,lx(r)),y.some(r)}(e,t,n).map((function(){return!0}))}},px=function(e,t,n,r,o,i){var a=function(e,t,n,r,o){var i=ox(e),a=r.bind((function(t){return y.some(ux(t,e))})).getOr(0),u=o.bind((function(t){return y.some(ux(t,e))})).getOr(i),s={min:ww(t),max:Sw(t),range:Aw(t),value:n,hasMinEdge:Lw(t),hasMaxEdge:Fw(t),minBound:ex(e),minOffset:0,maxBound:tx(e),maxOffset:i,centerMinEdge:a,centerMaxEdge:u};return Jw(s)}(t,i,n,r,o);return ex(t)-ex(e)+a},mx=dx(-1),hx=dx(1),gx=y.none,vx=y.none,bx={"top-left":y.none(),top:y.none(),"top-right":y.none(),right:y.some((function(e,t){Ww(e,Uw(Ew(t)))})),"bottom-right":y.none(),bottom:y.none(),"bottom-left":y.none(),left:y.some((function(e,t){Ww(e,Uw(Cw(t)))}))},yx=Object.freeze({setValueFrom:function(e,t,n){var r=fx(e,t,n),o=lx(r);return cx(e,o),r},setToMin:function(e,t){var n=ww(t);cx(e,lx(n))},setToMax:function(e,t){var n=Sw(t);cx(e,lx(n))},findValueOfOffset:fx,getValueFromEvent:function(e){return yw(e).map((function(e){return e.left()}))},findPositionOfValue:px,setPositionFromValue:function(e,t,n,r){var o=Vw(n),i=px(e,r.getSpectrum(e),o.x(),r.getLeftEdge(e),r.getRightEdge(e),n),a=ma(t.element())/2;Ii(t.element(),"left",i-a+"px")},onLeft:mx,onRight:hx,onUp:gx,onDown:vx,edgeActions:bx}),wx=function(e,t){Xr(e,bw(),{value:t})},xx=function(e){return{y:o(e)}},Cx=function(e,t,n){var r={min:xw(t),max:Tw(t),range:Dw(t),value:n,step:Rw(t),snap:zw(t),snapStart:Iw(t),rounded:Bw(t),hasMinEdge:Hw(t),hasMaxEdge:jw(t),minBound:nx(e),maxBound:rx(e),screenRange:ix(e)};return Kw(r)},kx=function(e){return function(t,n){return function(e,t,n){var r=(e>0?Xw:Yw)(Vw(n).y(),xw(n),Tw(n),Rw(n));return wx(t,xx(r)),y.some(r)}(e,t,n).map((function(){return!0}))}},Sx=function(e,t,n,r,o,i){var a=function(e,t,n,r,o){var i=ix(e),a=r.bind((function(t){return y.some(sx(t,e))})).getOr(0),u=o.bind((function(t){return y.some(sx(t,e))})).getOr(i),s={min:xw(t),max:Tw(t),range:Dw(t),value:n,hasMinEdge:Hw(t),hasMaxEdge:jw(t),minBound:nx(e),minOffset:0,maxBound:rx(e),maxOffset:i,centerMinEdge:a,centerMaxEdge:u};return Jw(s)}(t,i,n,r,o);return nx(t)-nx(e)+a},Tx=y.none,Ex=y.none,Ox=kx(-1),_x=kx(1),Ax={"top-left":y.none(),top:y.some((function(e,t){Ww(e,$w(kw(t)))})),"top-right":y.none(),right:y.none(),"bottom-right":y.none(),bottom:y.some((function(e,t){Ww(e,$w(Ow(t)))})),"bottom-left":y.none(),left:y.none()},Dx=Object.freeze({setValueFrom:function(e,t,n){var r=Cx(e,t,n),o=xx(r);return wx(e,o),r},setToMin:function(e,t){var n=xw(t);wx(e,xx(n))},setToMax:function(e,t){var n=Tw(t);wx(e,xx(n))},findValueOfOffset:Cx,getValueFromEvent:function(e){return yw(e).map((function(e){return e.top()}))},findPositionOfValue:Sx,setPositionFromValue:function(e,t,n,r){var o=Vw(n),i=Sx(e,r.getSpectrum(e),o.y(),r.getTopEdge(e),r.getBottomEdge(e),n),a=aa(t.element())/2;Ii(t.element(),"top",i-a+"px")},onLeft:Tx,onRight:Ex,onUp:Ox,onDown:_x,edgeActions:Ax}),Nx=function(e,t){Xr(e,bw(),{value:t})},Mx=function(e,t){return{x:o(e),y:o(t)}},Rx=function(e,t){return function(n,r){return function(e,t,n,r){var o=e>0?Xw:Yw,i=t?Vw(r).x():o(Vw(r).x(),ww(r),Sw(r),Rw(r)),a=t?o(Vw(r).y(),xw(r),Tw(r),Rw(r)):Vw(r).y();return Nx(n,Mx(i,a)),y.some(i)}(e,t,n,r).map((function(){return!0}))}},zx=Rx(-1,!1),Ix=Rx(1,!1),Bx=Rx(-1,!0),Px=Rx(1,!0),Lx={"top-left":y.some((function(e,t){Ww(e,qw(Cw(t),kw(t)))})),top:y.some((function(e,t){Ww(e,qw(Nw(t),kw(t)))})),"top-right":y.some((function(e,t){Ww(e,qw(Ew(t),kw(t)))})),right:y.some((function(e,t){Ww(e,qw(Ew(t),Mw(t)))})),"bottom-right":y.some((function(e,t){Ww(e,qw(Ew(t),Ow(t)))})),bottom:y.some((function(e,t){Ww(e,qw(Nw(t),Ow(t)))})),"bottom-left":y.some((function(e,t){Ww(e,qw(Cw(t),Ow(t)))})),left:y.some((function(e,t){Ww(e,qw(Cw(t),Mw(t)))}))},Fx=Object.freeze({setValueFrom:function(e,t,n){var r=fx(e,t,n.left()),o=Cx(e,t,n.top()),i=Mx(r,o);return Nx(e,i),i},setToMin:function(e,t){var n=ww(t),r=xw(t);Nx(e,Mx(n,r))},setToMax:function(e,t){var n=Sw(t),r=Tw(t);Nx(e,Mx(n,r))},getValueFromEvent:function(e){return yw(e)},setPositionFromValue:function(e,t,n,r){var o=Vw(n),i=px(e,r.getSpectrum(e),o.x(),r.getLeftEdge(e),r.getRightEdge(e),n),a=Sx(e,r.getSpectrum(e),o.y(),r.getTopEdge(e),r.getBottomEdge(e),n),u=ma(t.element())/2,s=aa(t.element())/2;Ii(t.element(),"left",i-u+"px"),Ii(t.element(),"top",a-s+"px")},onLeft:zx,onRight:Ix,onUp:Bx,onDown:Px,edgeActions:Lx}),Hx=Sf({name:"Slider",configFields:[Kt("stepSize",1),Kt("onChange",n),Kt("onChoose",n),Kt("onInit",n),Kt("onDragStart",n),Kt("onDragEnd",n),Kt("snapToGrid",!1),Kt("rounded",!0),$t("snapStart"),Bt("model",Tt("mode",{x:[Kt("minX",0),Kt("maxX",100),on("value",(function(e){return an(e.mode.minX)})),It("getInitialValue"),Qa("manager",yx)],y:[Kt("minY",0),Kt("maxY",100),on("value",(function(e){return an(e.mode.minY)})),It("getInitialValue"),Qa("manager",Dx)],xy:[Kt("minX",0),Kt("maxX",100),Kt("minY",0),Kt("maxY",100),on("value",(function(e){return an({x:o(e.mode.minX),y:o(e.mode.minY)})})),It("getInitialValue"),Qa("manager",Fx)]})),wl("sliderBehaviours",[Op,yl]),on("mouseIsDown",(function(){return an(!1)}))],partFields:vw,factory:function(e,t,n,r){var i,a=function(t){return cf(t,e,"thumb")},u=function(t){return cf(t,e,"spectrum")},s=function(t){return sf(t,e,"left-edge")},c=function(t){return sf(t,e,"right-edge")},l=function(t){return sf(t,e,"top-edge")},f=function(t){return sf(t,e,"bottom-edge")},d=e.model,p=d.manager,m=function(t,n){p.setPositionFromValue(t,n,e,{getLeftEdge:s,getRightEdge:c,getTopEdge:l,getBottomEdge:f,getSpectrum:u})},h=function(t,n){d.value.set(n);var r=a(t);return m(t,r),e.onChange(t,r,n),y.some(!0)},g=function(t){var n=e.mouseIsDown.get();e.mouseIsDown.set(!1),n&&sf(t,e,"thumb").each((function(n){var r=d.value.get();e.onChoose(t,n,r)}))},v=function(t,n){n.stop(),e.mouseIsDown.set(!0),e.onDragStart(t,a(t))},b=function(t,n){n.stop(),e.onDragEnd(t,a(t)),g(t)};return{uid:e.uid,dom:e.dom,components:t,behaviours:Cl(e.sliderBehaviours,[Op.config({mode:"special",focusIn:function(t){return sf(t,e,"spectrum").map(Op.focusIn).map(o(!0))}}),yl.config({store:{mode:"manual",getValue:function(e){return d.value.get()}}}),Fu.config({channels:(i={},i[nl()]={onReceive:g},i)})]),events:Zr([no(bw(),(function(e,t){h(e,t.event().value())})),lo((function(t,n){var r=d.getInitialValue();d.value.set(r);var o=a(t);m(t,o);var i=u(t);e.onInit(t,o,i,d.value.get())})),no(rr(),v),no(ir(),b),no(ur(),v),no(lr(),b)]),apis:{resetToMin:function(t){p.setToMin(t,e)},resetToMax:function(t){p.setToMax(t,e)},changeValue:h,refresh:m},domModification:{styles:{position:"relative"}}}},apis:{resetToMin:function(e,t){e.resetToMin(t)},resetToMax:function(e,t){e.resetToMax(t)},refresh:function(e,t){e.refresh(t)}}}),jx=function(e,t){var n=Hx.parts().spectrum({dom:{tag:"div",classes:[t("hue-slider-spectrum")],attributes:{role:"presentation"}}}),r=Hx.parts().thumb({dom:{tag:"div",classes:[t("hue-slider-thumb")],attributes:{role:"presentation"}}});return Hx.sketch({dom:{tag:"div",classes:[t("hue-slider")],attributes:{role:"presentation"}},rounded:!1,model:{mode:"y",getInitialValue:o({y:o(0)})},components:[n,r],sliderBehaviours:Nu([Lp.config({})]),onChange:function(e,t,n){Xr(e,aw(),{value:n})}})},Vx=[wl("formBehaviours",[yl])],Ux=function(e){return"<alloy.field."+e+">"},$x=function(e,t,n){return{uid:e.uid,dom:e.dom,components:t,behaviours:Cl(e.formBehaviours,[yl.config({store:{mode:"manual",getValue:function(t){var n=ff(t,e);return oe(n,(function(e,t){return e().bind((function(e){var t,n=_f.getCurrent(e);return t="missing current",n.fold((function(){return C.error(t)}),C.value)})).map(yl.getValue)}))},setValue:function(t,n){re(n,(function(n,r){sf(t,e,r).each((function(e){_f.getCurrent(e).each((function(e){yl.setValue(e,n)}))}))}))}}})]),apis:{getField:function(t,n){return sf(t,e,n).bind(_f.getCurrent)}}}},qx={getField:ci((function(e,t,n){return e.getField(t,n)})),sketch:function(e){var t=function(){var e=[];return{field:function(t,n){return e.push(t),nf("form",Ux(t),n)},record:function(){return e}}}(),n=e(t),r=t.record(),o=F(r,(function(e){return Yl({name:e,pname:Ux(e)})}));return bf("form",Vx,o,$x,n)}},Wx=Yo("valid-input"),Yx=Yo("invalid-input"),Xx=Yo("validating-input"),Gx=function(e,t,r,i){var a=function(n,r){return Ey.config({invalidClass:t("invalid"),notify:{onValidate:function(e){Xr(e,Xx,{type:n})},onValid:function(e){Xr(e,Wx,{type:n,value:yl.getValue(e)})},onInvalid:function(e){Xr(e,Yx,{type:n,value:yl.getValue(e)})}},validator:{validate:function(t){var n=yl.getValue(t),o=r(n)?C.value(!0):C.error(e("aria.input.invalid"));return gy(o)},validateOnLoad:!1}})},u=function(r,o,i,u,s){var c=e("colorcustom.rgb.range"),l=[ty.parts().label({dom:{tag:"label",innerHtml:i,attributes:{"aria-label":u}}}),ty.parts().field({data:s,factory:ay,inputAttributes:d({type:"text"},"hex"===o?{"aria-live":"polite"}:{}),inputClasses:[t("textfield")],inputBehaviours:Nu([a(o,r),Ay.config({})]),onSetValue:function(e){Ey.isInvalid(e)&&Ey.run(e).get(n)}})],f="hex"!==o?[ty.parts()["aria-descriptor"]({text:c})]:[];return{dom:{tag:"div",attributes:{role:"presentation"}},components:l.concat(f)}},s=function(e,t){var n=t.red(),r=t.green(),o=t.blue();yl.setValue(e,{red:n,green:r,blue:o})},c=Nm({dom:{tag:"div",classes:[t("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),l=function(e,t){c.getOpt(e).each((function(e){Ii(e.element(),"background-color","#"+t.value())}))};return kf({factory:function(){var n={red:o(an(y.some(255))),green:o(an(y.some(255))),blue:o(an(y.some(255))),hex:o(an(y.some("ffffff")))},a=function(e){return n[e]().get()},f=function(e,t){n[e]().set(t)},d=function(e){var t=e.red(),n=e.green(),r=e.blue();f("red",y.some(t)),f("green",y.some(n)),f("blue",y.some(r))},p=function(e,t){var n=t.event();"hex"!==n.type()?f(n.type(),y.none()):i(e)},m=function(e,t,n){var r=parseInt(n,10);f(t,y.some(r)),a("red").bind((function(e){return a("green").bind((function(t){return a("blue").map((function(n){return jg(e,t,n,1)}))}))})).each((function(t){var n=function(e,t){var n=Ig(t);return qx.getField(e,"hex").each((function(t){Lp.isFocused(t)||yl.setValue(e,{hex:n.value()})})),n}(e,t);l(e,n)}))},h=function(e,t){var n=t.event();!function(e){return"hex"===e.type()}(n)?m(e,n.type(),n.value()):function(e,t){r(e);var n=Ag(t);f("hex",y.some(t));var o=$g(n);s(e,o),d(o),Xr(e,iw(),{hex:n}),l(e,n)}(e,n.value())},g=function(t){return{label:e("colorcustom.rgb."+t+".label"),description:e("colorcustom.rgb."+t+".description")}},v=g("red"),b=g("green"),w=g("blue"),x=g("hex");return me(qx.sketch((function(n){return{dom:{tag:"form",classes:[t("rgb-form")],attributes:{"aria-label":e("aria.color.picker")}},components:[n.field("red",ty.sketch(u(Vg,"red",v.label,v.description,255))),n.field("green",ty.sketch(u(Vg,"green",b.label,b.description,255))),n.field("blue",ty.sketch(u(Vg,"blue",w.label,w.description,255))),n.field("hex",ty.sketch(u(Mg,"hex",x.label,x.description,"ffffff"))),c.asSpec()],formBehaviours:Nu([Ey.config({invalidClass:t("form-invalid")}),Rp("rgb-form-events",[no(Wx,h),no(Yx,p),no(Xx,p)])])}})),{apis:{updateHex:function(e,t){yl.setValue(e,{hex:t.value()}),function(e,t){var n=$g(t);s(e,n),d(n)}(e,t),l(e,t)}}})},name:"RgbForm",configFields:[],apis:{updateHex:function(e,t,n){e.updateHex(t,n)}},extraApis:{}})},Kx=function(e,t){var n=Hx.parts().spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[t("sv-palette-spectrum")]}}),r=Hx.parts().thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[t("sv-palette-thumb")],innerHtml:"<div class="+t("sv-palette-inner-thumb")+' role="presentation"></div>'}}),i=function(e,t){var n=e.width,r=e.height,o=e.getContext("2d");if(null!==o){o.fillStyle=t,o.fillRect(0,0,n,r);var i=o.createLinearGradient(0,0,n,0);i.addColorStop(0,"rgba(255,255,255,1)"),i.addColorStop(1,"rgba(255,255,255,0)"),o.fillStyle=i,o.fillRect(0,0,n,r);var a=o.createLinearGradient(0,0,0,r);a.addColorStop(0,"rgba(0,0,0,0)"),a.addColorStop(1,"rgba(0,0,0,1)"),o.fillStyle=a,o.fillRect(0,0,n,r)}};return kf({factory:function(e){var a=o({x:o(0),y:o(0)}),u=Nu([_f.config({find:y.some}),Lp.config({})]);return Hx.sketch({dom:{tag:"div",attributes:{role:"presentation"},classes:[t("sv-palette")]},model:{mode:"xy",getInitialValue:a},rounded:!1,components:[n,r],onChange:function(e,t,n){Xr(e,uw(),{value:n})},onInit:function(e,t,n,r){i(n.element().dom(),Wg(Yg()))},sliderBehaviours:u})},name:"SaturationBrightnessPalette",configFields:[],apis:{setRgba:function(e,t,n){!function(e,t){var n=e.components()[0].element().dom();i(n,Wg(t))}(t,n)}},extraApis:{}})},Jx=function(e,t){return kf({name:"ColourPicker",configFields:[It("dom"),Kt("onValidHex",n),Kt("onInvalidHex",n)],factory:function(n){var r,i=Gx(e,t,n.onValidHex,n.onInvalidHex),a=Kx(e,t),u={paletteRgba:o(an(Yg()))},s=Nm(a.sketch({})),c=Nm(i.sketch({})),l=function(e,t){s.getOpt(e).each((function(e){var n=$g(t);u.paletteRgba().set(n),a.setRgba(e,n)}))},f=function(e,t){c.getOpt(e).each((function(e){i.updateHex(e,t)}))},d=function(e,t,n){H(n,(function(n){n(e,t)}))};return{uid:n.uid,dom:n.dom,components:[s.asSpec(),jx(e,t),c.asSpec()],behaviours:Nu([Rp("colour-picker-events",[no(uw(),(r=[f],function(e,t){var n=t.event().value(),o=function(e){var t,n=0,r=0,o=e.red()/255,i=e.green()/255,a=e.blue()/255,u=Math.min(o,Math.min(i,a)),s=Math.max(o,Math.max(i,a));return u===s?ow(0,0,100*(r=u)):(n=60*((n=o===u?3:a===u?1:5)-(o===u?i-a:a===u?o-i:a-o)/(s-u)),t=(s-u)/s,r=s,ow(Math.round(n),Math.round(100*t),Math.round(100*r)))}(u.paletteRgba().get()),i=ow(o.hue(),n.x(),100-n.y()),a=Ug(i),s=Ig(a);d(e,s,r)})),no(aw(),function(){var e=[l,f];return function(t,n){var r=function(e){var t=ow((100-e)/100*360,100,100),n=Ug(t);return Ig(n)}(n.event().value().y());d(t,r,e)}}())]),_f.config({find:function(e){return c.getOpt(e)}}),Op.config({mode:"acyclic"})])}}})},Qx=function(){return _f.config({find:y.some})},Zx=function(e){return _f.config({find:e.getOpt})},eC=function(e){return _f.config({find:function(t){return To(t.element(),e).bind((function(e){return t.getSystem().getByDom(e).toOption()}))}})},tC={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.sb.saturation":"Saturation","colorcustom.sb.brightness":"Brightness","colorcustom.sb.picker":"Saturation and Brightness Picker","colorcustom.sb.palette":"Saturation and Brightness Palette","colorcustom.sb.instructions":"Use arrow keys to select saturation and brightness, on x and y axes","colorcustom.hue.hue":"Hue","colorcustom.hue.slider":"Hue Slider","colorcustom.hue.palette":"Hue Palette","colorcustom.hue.instructions":"Use arrow keys to select a hue","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},nC=function(e){return function(e){return tC[e]}(e)},rC=tinymce.util.Tools.resolve("tinymce.Resource"),oC=ut([Kt("preprocess",i),Kt("postprocess",i)]),iC=function(e,t,n){return yl.config(me({store:{mode:"manual",getValue:t,setValue:n}},e.map((function(e){return{store:{initialValue:e}}})).getOr({})))},aC=function(e,t,n){return iC(e,(function(e){return t(e.element())}),(function(e,t){return n(e.element(),t)}))},uC=function(e,t){var n=Ct("RepresentingConfigs.memento processors",oC,t);return yl.config({store:{mode:"manual",getValue:function(t){var r=e.get(t),o=yl.getValue(r);return n.postprocess(o)},setValue:function(t,r){var o=n.preprocess(r),i=e.get(t);yl.setValue(i,o)}}})},sC=iC,cC=function(e){return aC(e,zo,Io)},lC=function(e){return yl.config({store:{mode:"memory",initialValue:e}})},fC=function(e,t){var n=function(e,t){t.stop()},r=function(e){return function(t,n){H(e,(function(e){e(t,n)}))}},o=function(e,t){if(!og.isDisabled(e)){var n=t.event().raw();a(e,n.dataTransfer.files)}},i=function(e,t){var n=t.event().raw().target.files;a(e,n)},a=function(t,n){yl.setValue(t,function(e){var t=new RegExp("("+".jpg,.jpeg,.png,.gif".split(/\s*,\s*/).join("|")+")$","i");return j(ee(e),(function(e){return t.test(e.name)}))}(n)),Xr(t,$b,{name:e.name})},u=Nm({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:Nu([Rp("input-file-events",[uo(br()),uo(_r())])])}),s=e.label.map((function(e){return Ry(e,t)})),c=ty.parts().field({factory:{sketch:function(e){return{uid:e.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:Nu([lC([]),Qx(),og.config({}),Kp.config({toggleClass:"dragenter",toggleOnExecute:!1}),Rp("dropzone-events",[no("dragenter",r([n,Kp.toggle])),no("dragleave",r([n,Kp.toggle])),no("dragover",n),no("drop",r([n,o])),no(vr(),i)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p",innerHtml:t.translate("Drop an image here")}},Dm.sketch({dom:{tag:"button",innerHtml:t.translate("Browse for an image"),styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[u.asSpec()],action:function(e){u.get(e).element().dom().click()},buttonBehaviours:Nu([Ay.config({})])})]}]}}}});return Dy(s,c,["tox-form__group--stretched"],[])},dC=Yo("alloy-fake-before-tabstop"),pC=Yo("alloy-fake-after-tabstop"),mC=function(e){return{dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:e},behaviours:Nu([Lp.config({ignore:!0}),Ay.config({})])}},hC=function(e,t){Xr(e,mr(),{raw:{which:9,shiftKey:t}})},gC=function(e){return ab(e,["."+dC,"."+pC].join(","),o(!1))},vC=function(e,t){var n=t.element();Ai(n,dC)?hC(e,!0):Ai(n,pC)&&hC(e,!1)},bC=function(e){return{dom:{tag:"div",classes:["tox-navobj"]},components:[mC([dC]),e,mC([pC])],behaviours:Nu([eC(1)])}},yC=!(Nn().browser.isIE()||Nn().browser.isEdge()),wC=function(e,t){var n=yC&&e.sandboxed,r=d(d({},e.label.map((function(e){return{title:e}})).getOr({})),n?{sandbox:"allow-scripts allow-same-origin"}:{}),o=function(e){var t=an("");return{getValue:function(e){return t.get()},setValue:function(n,r){if(e)Po(n.element(),"srcdoc",r);else{Po(n.element(),"src","javascript:''");var o=n.element().dom().contentWindow.document;o.open(),o.write(r),o.close()}t.set(r)}}}(n),i=e.label.map((function(e){return Ry(e,t)})),a=ty.parts().field({factory:{sketch:function(e){return bC({uid:e.uid,dom:{tag:"iframe",attributes:r},behaviours:Nu([Ay.config({}),Lp.config({}),sC(y.none(),o.getValue,o.setValue)])})}}});return Dy(i,a,["tox-form__group--stretched"],[])};function xC(e,n){return SC(t.document.createElement("canvas"),e,n)}function CC(e){var t=xC(e.width,e.height);return kC(t).drawImage(e,0,0),t}function kC(e){return e.getContext("2d")}function SC(e,t,n){return e.width=t,e.height=n,e}function TC(e){return e.naturalWidth||e.width}function EC(e){return e.naturalHeight||e.height}var OC=window.Promise?window.Promise:function(){var e=function(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],l(e,r(a,this),r(u,this))},n=e.immediateFn||"function"==typeof window.setImmediate&&window.setImmediate||function(e){t.setTimeout(e,1)};function r(e,t){return function(){return e.apply(t,arguments)}}var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function i(e){var t=this;null!==this._state?n((function(){var n=t._state?e.onFulfilled:e.onRejected;if(null!==n){var r;try{r=n(t._value)}catch(t){return void e.reject(t)}e.resolve(r)}else(t._state?e.resolve:e.reject)(t._value)})):this._deferreds.push(e)}function a(e){try{if(e===this)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var t=e.then;if("function"==typeof t)return void l(r(t,e),r(a,this),r(u,this))}this._state=!0,this._value=e,s.call(this)}catch(e){u.call(this,e)}}function u(e){this._state=!1,this._value=e,s.call(this)}function s(){for(var e=0,t=this._deferreds;e<t.length;e++){var n=t[e];i.call(this,n)}this._deferreds=[]}function c(e,t,n,r){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=r}function l(e,t,n){var r=!1;try{e((function(e){r||(r=!0,t(e))}),(function(e){r||(r=!0,n(e))}))}catch(e){if(r)return;r=!0,n(e)}}return e.prototype.catch=function(e){return this.then(null,e)},e.prototype.then=function(t,n){var r=this;return new e((function(e,o){i.call(r,new c(t,n,e,o))}))},e.all=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=Array.prototype.slice.call(1===t.length&&o(t[0])?t[0]:t);return new e((function(e,t){if(0===r.length)return e([]);var n=r.length;function o(i,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var u=a.then;if("function"==typeof u)return void u.call(a,(function(e){o(i,e)}),t)}r[i]=a,0==--n&&e(r)}catch(e){t(e)}}for(var i=0;i<r.length;i++)o(i,r[i])}))},e.resolve=function(t){return t&&"object"==typeof t&&t.constructor===e?t:new e((function(e){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var r=0,o=t;r<o.length;r++){o[r].then(e,n)}}))},e}();function _C(e){return new OC((function(n,r){(function(e){var n=e.split(","),r=/data:([^;]+)/.exec(n[0]);if(!r)return y.none();for(var o=r[1],i=n[1],a=t.atob(i),u=a.length,s=Math.ceil(u/1024),c=new Array(s),l=0;l<s;++l){for(var f=1024*l,d=Math.min(f+1024,u),p=new Array(d-f),m=f,h=0;m<d;++h,++m)p[h]=a[m].charCodeAt(0);c[l]=new Uint8Array(p)}return y.some(new t.Blob(c,{type:o}))})(e).fold((function(){r("uri is not base64: "+e)}),n)}))}function AC(e,n,r){return n=n||"image/png",t.HTMLCanvasElement.prototype.toBlob?new OC((function(t,o){e.toBlob((function(e){e?t(e):o()}),n,r)})):_C(e.toDataURL(n,r))}function DC(e){return function(e){return new OC((function(n,r){var o=t.URL.createObjectURL(e),i=new t.Image,a=function(){i.removeEventListener("load",u),i.removeEventListener("error",s)};function u(){a(),n(i)}function s(){a(),r("Unable to load data of type "+e.type+": "+o)}i.addEventListener("load",u),i.addEventListener("error",s),i.src=o,i.complete&&u()}))}(e).then((function(e){!function(e){t.URL.revokeObjectURL(e.src)}(e);var n=xC(TC(e),EC(e));return kC(n).drawImage(e,0,0),n}))}function NC(e,t,n){var r=t.type;function i(t,n){return e.then((function(e){return function(e,t,n){return t=t||"image/png",e.toDataURL(t,n)}(e,t,n)}))}return{getType:o(r),toBlob:function(){return OC.resolve(t)},toDataURL:function(){return n},toBase64:function(){return n.split(",")[1]},toAdjustedBlob:function(t,n){return e.then((function(e){return AC(e,t,n)}))},toAdjustedDataURL:i,toAdjustedBase64:function(e,t){return i(e,t).then((function(e){return e.split(",")[1]}))},toCanvas:function(){return e.then(CC)}}}function MC(e){return function(e){return new OC((function(n){var r=new t.FileReader;r.onloadend=function(){n(r.result)},r.readAsDataURL(e)}))}(e).then((function(t){return NC(DC(e),e,t)}))}function RC(e,t){return AC(e,t).then((function(t){return NC(OC.resolve(e),t,e.toDataURL())}))}function zC(e,t,n){var r="string"==typeof e?parseFloat(e):e;return r>n?r=n:r<t&&(r=t),r}var IC=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10];function BC(e,t){for(var n,r=[],o=new Array(25),i=0;i<5;i++){for(var a=0;a<5;a++)r[a]=t[a+5*i];for(a=0;a<5;a++){n=0;for(var u=0;u<5;u++)n+=e[a+5*u]*r[u];o[a+5*i]=n}}return o}function PC(e,t){return e.toCanvas().then((function(n){return function(e,t,n){var r=kC(e);var o=function(e,t){for(var n,r,o,i,a=e.data,u=t[0],s=t[1],c=t[2],l=t[3],f=t[4],d=t[5],p=t[6],m=t[7],h=t[8],g=t[9],v=t[10],b=t[11],y=t[12],w=t[13],x=t[14],C=t[15],k=t[16],S=t[17],T=t[18],E=t[19],O=0;O<a.length;O+=4)n=a[O],r=a[O+1],o=a[O+2],i=a[O+3],a[O]=n*u+r*s+o*c+i*l+f,a[O+1]=n*d+r*p+o*m+i*h+g,a[O+2]=n*v+r*b+o*y+i*w+x,a[O+3]=n*C+r*k+o*S+i*T+E;return e}(r.getImageData(0,0,e.width,e.height),n);return r.putImageData(o,0,0),RC(e,t)}(n,e.getType(),t)}))}function LC(e,t){return e.toCanvas().then((function(n){return function(e,t,n){var r=kC(e);var o=r.getImageData(0,0,e.width,e.height),i=r.getImageData(0,0,e.width,e.height);return i=function(e,t,n){function r(e,t,n){return e>n?e=n:e<t&&(e=t),e}for(var o=Math.round(Math.sqrt(n.length)),i=Math.floor(o/2),a=e.data,u=t.data,s=e.width,c=e.height,l=0;l<c;l++)for(var f=0;f<s;f++){for(var d=0,p=0,m=0,h=0;h<o;h++)for(var g=0;g<o;g++){var v=r(f+g-i,0,s-1),b=4*(r(l+h-i,0,c-1)*s+v),y=n[h*o+g];d+=a[b]*y,p+=a[b+1]*y,m+=a[b+2]*y}var w=4*(l*s+f);u[w]=r(d,0,255),u[w+1]=r(p,0,255),u[w+2]=r(m,0,255)}return t}(o,i,n),r.putImageData(i,0,0),RC(e,t)}(n,e.getType(),t)}))}function FC(e){return function(t,n){return PC(t,e([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1],n))}}var HC,jC,VC=function(e){return function(t){return PC(t,e)}}([-1,0,0,0,255,0,-1,0,0,255,0,0,-1,0,255,0,0,0,1,0,0,0,0,0,1]),UC=FC((function(e,t){return BC(e,[1,0,0,0,t=zC(255*t,-255,255),0,1,0,0,t,0,0,1,0,t,0,0,0,1,0,0,0,0,0,1])})),$C=FC((function(e,t){var n;return t=zC(t,-1,1),BC(e,[(n=(t*=100)<0?127+t/100*127:127*(n=0===(n=t%1)?IC[t]:IC[Math.floor(t)]*(1-n)+IC[Math.floor(t)+1]*n)+127)/127,0,0,0,.5*(127-n),0,n/127,0,0,.5*(127-n),0,0,n/127,0,.5*(127-n),0,0,0,1,0,0,0,0,0,1])})),qC=function(e,t,n,r){return PC(e,function(e,t,n,r){return BC(e,[t=zC(t,0,2),0,0,0,0,0,n=zC(n,0,2),0,0,0,0,0,r=zC(r,0,2),0,0,0,0,0,1,0,0,0,0,0,1])}([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1],t,n,r))},WC=(HC=[0,-1,0,-1,5,-1,0,-1,0],function(e){return LC(e,HC)}),YC=(jC=function(e,t){return 255*Math.pow(e/255,1-t)},function(e,t){return e.toCanvas().then((function(n){return function(e,t,n){for(var r=kC(e),o=new Array(256),i=0;i<o.length;i++)o[i]=jC(i,n);var a=function(e,t){for(var n=e.data,r=0;r<n.length;r+=4)n[r]=t[n[r]],n[r+1]=t[n[r+1]],n[r+2]=t[n[r+2]];return e}(r.getImageData(0,0,e.width,e.height),o);return r.putImageData(a,0,0),RC(e,t)}(n,e.getType(),t)}))});function XC(e,t,n){var r=TC(e),o=EC(e),i=t/r,a=n/o,u=!1;(i<.5||i>2)&&(i=i<.5?.5:2,u=!0),(a<.5||a>2)&&(a=a<.5?.5:2,u=!0);var s=function(e,t,n){return new OC((function(r){var o=TC(e),i=EC(e),a=Math.floor(o*t),u=Math.floor(i*n),s=xC(a,u);kC(s).drawImage(e,0,0,o,i,0,0,a,u),r(s)}))}(e,i,a);return u?s.then((function(e){return XC(e,t,n)})):s}function GC(e,t){return e.toCanvas().then((function(n){return function(e,t,n){var r=xC(e.width,e.height),o=kC(r),i=0,a=0;90!==(n=n<0?360+n:n)&&270!==n||SC(r,r.height,r.width);90!==n&&180!==n||(i=r.width);270!==n&&180!==n||(a=r.height);return o.translate(i,a),o.rotate(n*Math.PI/180),o.drawImage(e,0,0),RC(r,t)}(n,e.getType(),t)}))}function KC(e,t){return e.toCanvas().then((function(n){return function(e,t,n){var r=xC(e.width,e.height),o=kC(r);"v"===n?(o.scale(1,-1),o.drawImage(e,0,-r.height)):(o.scale(-1,1),o.drawImage(e,-r.width,0));return RC(r,t)}(n,e.getType(),t)}))}function JC(e,t,n,r,o){return e.toCanvas().then((function(i){return function(e,t,n,r,o,i){var a=xC(o,i);return kC(a).drawImage(e,-n,-r),RC(a,t)}(i,e.getType(),t,n,r,o)}))}var QC=function(e){return VC(e)},ZC=function(e){return WC(e)},ek=function(e,t){return YC(e,t)},tk=function(e,t){return UC(e,t)},nk=function(e,t){return $C(e,t)},rk=function(e,t){return KC(e,t)},ok=function(e,t,n){return function(e,t,n){return e.toCanvas().then((function(r){return XC(r,t,n).then((function(t){return RC(t,e.getType())}))}))}(e,t,n)},ik=function(e,t){return GC(e,t)},ak=function(e,t){return d({dom:{tag:"span",innerHtml:e,classes:["tox-icon","tox-tbtn__icon-wrap"]}},t)},uk=function(e,t){return ak(Rm(e,t),{})},sk=function(e,t){return ak(Rm(e,t),{behaviours:Nu([Mp.config({})])})},ck=function(e,t,n){return{dom:{tag:"span",innerHtml:n.translate(e),classes:[t+"__select-label"]},behaviours:Nu([Mp.config({})])}},lk=Yo("toolbar.button.execute"),fk={"alloy.execute":["disabling","alloy.base.behaviour","toggling","toolbar-button-events"]},dk=Yo("update-menu-text"),pk=Yo("update-menu-icon"),mk=function(e,t,r){var o=an(n),i=e.text.map((function(e){return Nm(ck(e,t,r.providers))})),a=e.icon.map((function(e){return Nm(sk(e,r.providers.icons))})),u=function(e,t){var n=yl.getValue(e);return Lp.focus(n),Xr(n,"keydown",{raw:t.event().raw()}),Jy.close(n),y.some(!0)},s=e.role.fold((function(){return{}}),(function(e){return{role:e}})),c=e.tooltip.fold((function(){return{}}),(function(e){var t=r.providers.translate(e);return{title:t,"aria-label":t}}));return Nm(Jy.sketch(d(d({},s),{dom:{tag:"button",classes:[t,t+"--select"].concat(F(e.classes,(function(e){return t+"--"+e}))),attributes:d({},c)},components:hg([a.map((function(e){return e.asSpec()})),i.map((function(e){return e.asSpec()})),y.some({dom:{tag:"div",classes:[t+"__select-chevron"],innerHtml:Rm("chevron-down",r.providers.icons)}})]),matchWidth:!0,useMinWidth:!0,dropdownBehaviours:Nu(m(e.dropdownBehaviours,[ag(e.disabled),Zy.config({}),Mp.config({}),Rp("dropdown-events",[lg(e,o),fg(e,o)]),Rp("menubutton-update-display-text",[no(dk,(function(e,t){i.bind((function(t){return t.getOpt(e)})).each((function(e){Mp.set(e,[Qi(r.providers.translate(t.event().text()))])}))})),no(pk,(function(e,t){a.bind((function(t){return t.getOpt(e)})).each((function(e){Mp.set(e,[sk(t.event().icon(),r.providers.icons)])}))}))])])),eventOrder:me(fk,{mousedown:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"]}),sandboxBehaviours:Nu([Op.config({mode:"special",onLeft:u,onRight:u})]),lazySink:r.getSink,toggleClass:t+"--active",parts:{menu:Dv(0,e.columns,e.presets)},fetch:function(){return hy(e.fetch)}}))).asSpec()},hk=function(e){return"separator"===e.type},gk={type:"separator"},vk=function(e,t){var n=U(e,(function(e,n){return function(e){return S(e)}(n)?""===n?e:"|"===n?e.length>0&&!hk(e[e.length-1])?e.concat([gk]):e:le(t,n.toLowerCase())?e.concat([t[n.toLowerCase()]]):e:e.concat([n])}),[]);return n.length>0&&hk(n[n.length-1])&&n.pop(),n},bk=function(e,t){return function(e){return le(e,"getSubmenuItems")}(e)?function(e,t){var n=e.getSubmenuItems(),r=yk(n,t);return{item:e,menus:me(r.menus,Ne(e.value,r.items)),expansions:me(r.expansions,Ne(e.value,e.value))}}(e,t):{item:e,menus:{},expansions:{}}},yk=function(e,t){var n=vk(S(e)?e.split(" "):e,t);return V(n,(function(e,n){var r=function(e){if(hk(e))return e;var t=De(e,"value").getOrThunk((function(){return Yo("generated-menu-item")}));return me({value:t},e)}(n),o=bk(r,t);return{menus:me(e.menus,o.menus),items:[o.item].concat(e.items),expansions:me(e.expansions,o.expansions)}}),{menus:{},expansions:{},items:[]})},wk=function(e,t,n,r){var o=Yo("primary-menu"),i=yk(e,n.shared.providers.menuItems());if(0===i.items.length)return y.none();var a=Kv(o,i.items,t,n,r),u=oe(i.menus,(function(e,r){return Kv(r,e,t,n,!1)})),s=me(u,Ne(o,a));return y.from(vm.tieredData(o,s,i.expansions))},xk=function(e){return{isDisabled:function(){return og.isDisabled(e)},setDisabled:function(t){return og.set(e,t)},setActive:function(t){var n=e.element();t?(Ei(n,"tox-tbtn--enabled"),Po(n,"aria-pressed",!0)):(_i(n,"tox-tbtn--enabled"),Ho(n,"aria-pressed"))},isActive:function(){return Ai(e.element(),"tox-tbtn--enabled")}}},Ck=function(e,t,n,r){return mk({text:e.text,icon:e.icon,tooltip:e.tooltip,role:r,fetch:function(t){e.fetch((function(e){t(wk(e,dg.CLOSE_ON_EXECUTE,n,!1))}))},onSetup:e.onSetup,getApi:xk,columns:1,presets:"normal",classes:[],dropdownBehaviours:[Ay.config({})]},t,n.shared)},kk=function(e,t,n){var r=function(e){return function(r){var o=!r.isActive();r.setActive(o),e.storage.set(o),n.shared.getSink().each((function(n){t().getOpt(n).each((function(t){ju(t.element()),Xr(t,Yb,{name:e.name,value:e.storage.get()})}))}))}},o=function(e){return function(t){t.setActive(e.storage.get())}};return function(t){t(F(e,(function(e){var t=e.text.fold((function(){return{}}),(function(e){return{text:e}}));return d(d({type:e.type},t),{onAction:r(e),onSetup:o(e)})})))}},Sk=function(e,t,n,r,o){void 0===n&&(n=[]);var i=t.fold((function(){return{}}),(function(e){return{action:e}})),a=d({buttonBehaviours:Nu([ag(e.disabled),Ay.config({}),Rp("button press",[to("click"),to("mousedown")])].concat(n)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]}},i),u=me(a,{dom:r});return me(u,{components:o})},Tk=function(e,t,n,r){void 0===r&&(r=[]);var o={tag:"button",classes:["tox-tbtn"],attributes:e.tooltip.map((function(e){return{"aria-label":n.translate(e),title:n.translate(e)}})).getOr({})},i=e.icon.map((function(e){return uk(e,n.icons)})),a=hg([i]);return Sk(e,t,r,o,a)},Ek=function(e,t,n,r){void 0===r&&(r=[]);var o=Tk(e,y.some(t),n,r);return Dm.sketch(o)},Ok=function(e,t,n,r,o){void 0===r&&(r=[]),void 0===o&&(o=[]);var i=n.translate(e.text),a=e.icon?e.icon.map((function(e){return uk(e,n.icons)})):y.none(),u=a.isSome()?hg([a]):[],s=a.isSome()?{}:{innerHtml:i},c=m(e.primary||e.borderless?["tox-button"]:["tox-button","tox-button--secondary"],a.isSome()?["tox-button--icon"]:[],e.borderless?["tox-button--naked"]:[],o),l=d(d({tag:"button",classes:c},s),{attributes:{title:i}});return Sk(e,t,r,l,u)},_k=function(e,t,n,r,o){void 0===r&&(r=[]),void 0===o&&(o=[]);var i=Ok(e,y.some(t),n,r,o);return Dm.sketch(i)},Ak=function(e,n){return function(r){"custom"===n?Xr(r,Yb,{name:e,value:{}}):"submit"===n?Yr(r,Xb):"cancel"===n?Yr(r,Wb):t.console.error("Unknown button type: ",n)}},Dk=function(e,n,r){if(function(e,t){return"menu"===t}(0,n)){var o=e,i=d(d({},e),{fetch:kk(o.items,(function(){return a}),r)}),a=Nm(Ck(i,"tox-tbtn",r,y.none()));return a.asSpec()}if(function(e,t){return"custom"===t||"cancel"===t||"submit"===t}(0,n)){var u=Ak(e.name,n),s=d(d({},e),{borderless:!1});return _k(s,u,r.shared.providers,[])}t.console.error("Unknown footer button type: ",n)},Nk=function(e,t){var n,r,o=Ak(e.name,"custom");return n=y.none(),r=ty.parts().field(d({factory:Dm},Ok(e,y.some(o),t,[lC(""),Qx()]))),Dy(n,r,[],[])},Mk=o([Kt("field1Name","field1"),Kt("field2Name","field2"),Ka("onLockedChange"),Wa(["lockClass"]),Kt("locked",!1),kl("coupledFieldBehaviours",[_f,yl])]),Rk=function(e,t){return Yl({factory:ty,name:e,overrides:function(e){return{fieldBehaviours:Nu([Rp("coupled-input-behaviour",[no(gr(),(function(n){(function(e,t,n){return sf(e,t,n).bind(_f.getCurrent)})(n,e,t).each((function(t){sf(n,e,"lock").each((function(r){Kp.isOn(r)&&e.onLockedChange(n,t,r)}))}))}))])])}}})},zk=o([Rk("field1","field2"),Rk("field2","field1"),Yl({factory:Dm,schema:[It("dom")],name:"lock",overrides:function(e){return{buttonBehaviours:Nu([Kp.config({selected:e.locked,toggleClass:e.markers.lockClass,aria:{mode:"pressed"}})])}}})]),Ik=Sf({name:"FormCoupledInputs",configFields:Mk(),partFields:zk(),factory:function(e,t,n,r){return{uid:e.uid,dom:e.dom,components:t,behaviours:Sl(e.coupledFieldBehaviours,[_f.config({find:y.some}),yl.config({store:{mode:"manual",getValue:function(t){var n,r=pf(t,e,["field1","field2"]);return(n={})[e.field1Name]=yl.getValue(r.field1()),n[e.field2Name]=yl.getValue(r.field2()),n},setValue:function(t,n){var r=pf(t,e,["field1","field2"]);ze(n,e.field1Name)&&yl.setValue(r.field1(),n[e.field1Name]),ze(n,e.field2Name)&&yl.setValue(r.field2(),n[e.field2Name])}}})]),apis:{getField1:function(t){return sf(t,e,"field1")},getField2:function(t){return sf(t,e,"field2")},getLock:function(t){return sf(t,e,"lock")}}}},apis:{getField1:function(e,t){return e.getField1(t)},getField2:function(e,t){return e.getField2(t)},getLock:function(e,t){return e.getLock(t)}}}),Bk=function(e){var t=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(e);if(null!==t){var n=parseFloat(t[1]),r=t[2];return C.value({value:n,unit:r})}return C.error(e)},Pk=function(e,t){var n={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},r=function(e){return Object.prototype.hasOwnProperty.call(n,e)};return e.unit===t?y.some(e.value):r(e.unit)&&r(t)?n[e.unit]===n[t]?y.some(e.value):y.some(e.value/n[e.unit]*n[t]):y.none()},Lk=function(e){return y.none()},Fk=function(e,t){var n,r,o,i=Bk(e).toOption(),a=Bk(t).toOption();return(n=i,r=a,o=function(e,t){return Pk(e,t.unit).map((function(e){return t.value/e})).map((function(e){return function(e,t){return function(n){return Pk(n,t).map((function(n){return{value:n*e,unit:t}}))}}(e,t.unit)})).getOr(Lk)},n.isSome()&&r.isSome()?y.some(o(n.getOrDie(),r.getOrDie())):y.none()).getOr(Lk)},Hk=function(e,t){var n=Lk,r=Yo("ratio-event"),o=Ik.parts().lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{title:t.translate(e.label.getOr("Constrain proportions"))}},components:[{dom:{tag:"span",classes:["tox-icon","tox-lock-icon__lock"],innerHtml:Rm("lock",t.icons)}},{dom:{tag:"span",classes:["tox-icon","tox-lock-icon__unlock"],innerHtml:Rm("unlock",t.icons)}}],buttonBehaviours:Nu([ag(e.disabled),Ay.config({})])}),i=function(e){return{dom:{tag:"div",classes:["tox-form__group"]},components:e}},a=function(t){return ty.parts().field({factory:ay,inputClasses:["tox-textfield"],inputBehaviours:Nu([og.config({disabled:e.disabled}),Ay.config({}),Rp("size-input-events",[no(dr(),(function(e,n){Xr(e,r,{isField1:t})})),no(vr(),(function(t,n){Xr(t,$b,{name:e.name})}))])]),selectOnFocus:!1})},u=function(e){return{dom:{tag:"label",classes:["tox-label"],innerHtml:t.translate(e)}}},s=Ik.parts().field1(i([ty.parts().label(u("Width")),a(!0)])),c=Ik.parts().field2(i([ty.parts().label(u("Height")),a(!1)]));return Ik.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[s,c,i([u("&nbsp;"),o])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:function(e,t,r){Bk(yl.getValue(e)).each((function(e){n(e).each((function(e){yl.setValue(t,function(e){var t,n={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4},r=e.value.toFixed((t=e.unit)in n?n[t]:1);return-1!==r.indexOf(".")&&(r=r.replace(/\.?0*$/,"")),r+e.unit}(e))}))}))},coupledFieldBehaviours:Nu([og.config({disabled:e.disabled,onDisabled:function(e){Ik.getField1(e).bind(ty.getField).each(og.disable),Ik.getField2(e).bind(ty.getField).each(og.disable),Ik.getLock(e).each(og.disable)},onEnabled:function(e){Ik.getField1(e).bind(ty.getField).each(og.enable),Ik.getField2(e).bind(ty.getField).each(og.enable),Ik.getLock(e).each(og.enable)}}),Rp("size-input-events2",[no(r,(function(e,t){var r=t.event().isField1(),o=r?Ik.getField1(e):Ik.getField2(e),i=r?Ik.getField2(e):Ik.getField1(e),a=o.map(yl.getValue).getOr(""),u=i.map(yl.getValue).getOr("");n=Fk(a,u)}))])])})},jk={undo:o(Yo("undo")),redo:o(Yo("redo")),zoom:o(Yo("zoom")),back:o(Yo("back")),apply:o(Yo("apply")),swap:o(Yo("swap")),transform:o(Yo("transform")),tempTransform:o(Yo("temp-transform")),transformApply:o(Yo("transform-apply"))},Vk=o("save-state"),Uk=o("disable"),$k=o("enable"),qk={formActionEvent:Yb,saveState:Vk,disable:Uk,enable:$k},Wk=function(e,t){var r=function(e,n,r,o){return Nm(_k({name:e,text:e,disabled:r,primary:o,icon:y.none(),borderless:!1},n,t))},i=function(e,n,r,o){return Nm(Ek({name:e,icon:y.some(e),tooltip:y.some(n),disabled:o,primary:!1,borderless:!1},r,t))},a=function(e,t){e.map((function(e){var n=e.get(t);n.hasConfigured(og)&&og.disable(n)}))},u=function(e,t){e.map((function(e){var n=e.get(t);n.hasConfigured(og)&&og.enable(n)}))},s={tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools-edit-panel"]},c=n,l=function(e,t,n){Xr(e,t,n)},f=function(e){return Yr(e,qk.disable())},d=function(e){return Yr(e,qk.enable())},p=function(e,t){f(e),l(e,jk.transform(),{transform:t}),d(e)},m=function(e){return function(){te.getOpt(e).each((function(e){Mp.set(e,[Z])}))}},h=function(e,t){f(e),l(e,jk.transformApply(),{transform:t,swap:m(e)}),d(e)},g=function(){return r("Back",(function(e){return l(e,jk.back(),{swap:m(e)})}),!1,!1)},v=function(){return Nm({dom:{tag:"div",classes:["tox-spacer"]},behaviours:Nu([og.config({})])})},b=function(){return r("Apply",(function(e){return l(e,jk.apply(),{swap:m(e)})}),!0,!0)},w=function(){return function(t){var n=e.getRect();return function(e,t,n,r,o){return JC(e,t,n,r,o)}(t,n.x,n.y,n.w,n.h)}},x=[g(),v(),r("Apply",(function(t){var n=w();h(t,n),e.hideCrop()}),!1,!0)],C=Sb.sketch({dom:s,components:x.map((function(e){return e.asSpec()})),containerBehaviours:Nu([Rp("image-tools-crop-buttons-events",[no(qk.disable(),(function(e,t){a(x,e)})),no(qk.enable(),(function(e,t){u(x,e)}))])])}),k=Nm(Hk({name:"size",label:y.none(),constrain:!0,disabled:!1},t)),S=[g(),v(),k,v(),r("Apply",(function(e){k.getOpt(e).each((function(t){var n=yl.getValue(t),r=function(e,t){return function(n){return ok(n,e,t)}}(parseInt(n.width,10),parseInt(n.height,10));h(e,r)}))}),!1,!0)],T=Sb.sketch({dom:s,components:S.map((function(e){return e.asSpec()})),containerBehaviours:Nu([Rp("image-tools-resize-buttons-events",[no(qk.disable(),(function(e,t){a(S,e)})),no(qk.enable(),(function(e,t){u(S,e)}))])])}),E=function(e,t){return function(n){return e(n,t)}},O=E(rk,"h"),_=E(rk,"v"),A=E(ik,-90),D=E(ik,90),N=function(e,t){!function(e,t){f(e),l(e,jk.tempTransform(),{transform:t}),d(e)}(e,t)},M=[g(),v(),i("flip-horizontally","Flip horizontally",(function(e){N(e,O)}),!1),i("flip-vertically","Flip vertically",(function(e){N(e,_)}),!1),i("rotate-left","Rotate counterclockwise",(function(e){N(e,A)}),!1),i("rotate-right","Rotate clockwise",(function(e){N(e,D)}),!1),v(),b()],R=Sb.sketch({dom:s,components:M.map((function(e){return e.asSpec()})),containerBehaviours:Nu([Rp("image-tools-fliprotate-buttons-events",[no(qk.disable(),(function(e,t){a(M,e)})),no(qk.enable(),(function(e,t){u(M,e)}))])])}),z=function(e,n,r,i,a){var u=Hx.parts().label({dom:{tag:"label",classes:["tox-label"],innerHtml:t.translate(e)}}),s=Hx.parts().spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),c=Hx.parts().thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return Nm(Hx.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:r,maxX:a,getInitialValue:o({x:o(i)})},components:[u,s,c],sliderBehaviours:Nu([Lp.config({})]),onChoose:n}))},I=function(e,t,n,r,o){return z(e,(function(e,n,r){var o=E(t,r.x()/100);p(e,o)}),n,r,o)},B=function(e,t,n,r,o){var i=function(e,t,n,r,o){return[g(),I(e,t,n,r,o),b()]}(e,t,n,r,o);return Sb.sketch({dom:s,components:i.map((function(e){return e.asSpec()})),containerBehaviours:Nu([Rp("image-tools-filter-panel-buttons-events",[no(qk.disable(),(function(e,t){a(i,e)})),no(qk.enable(),(function(e,t){u(i,e)}))])])})},P=[g(),v(),b()],L=Sb.sketch({dom:s,components:P.map((function(e){return e.asSpec()}))}),F=B("Brightness",tk,-100,0,100),H=B("Contrast",nk,-100,0,100),j=B("Gamma",ek,-100,0,100),V=function(e,t,n){return function(r){return function(e,t,n,r){return qC(e,t,n,r)}(r,e,t,n)}},U=function(e){return z(e,(function(e,t,n){var r=$.getOpt(e),o=W.getOpt(e),i=q.getOpt(e);r.each((function(t){o.each((function(n){i.each((function(r){var o=yl.getValue(t).x()/100,i=yl.getValue(r).x()/100,a=yl.getValue(n).x()/100,u=V(o,i,a);p(e,u)}))}))}))}),0,100,200)},$=U("R"),q=U("G"),W=U("B"),Y=[g(),$,q,W,b()],X=Sb.sketch({dom:s,components:Y.map((function(e){return e.asSpec()}))}),G=function(e,t,n){return function(r){l(r,jk.swap(),{transform:t,swap:function(){te.getOpt(r).each((function(t){Mp.set(t,[e]),n(t)}))}})}},K=y.some(ZC),J=y.some(QC),Q=[i("crop","Crop",G(C,y.none(),(function(t){e.showCrop()})),!1),i("resize","Resize",G(T,y.none(),(function(t){k.getOpt(t).each((function(t){var n=e.getMeasurements(),r=n.width,o=n.height;yl.setValue(t,{width:r,height:o})}))})),!1),i("orientation","Orientation",G(R,y.none(),c),!1),i("brightness","Brightness",G(F,y.none(),c),!1),i("sharpen","Sharpen",G(L,K,c),!1),i("contrast","Contrast",G(H,y.none(),c),!1),i("color-levels","Color levels",G(X,y.none(),c),!1),i("gamma","Gamma",G(j,y.none(),c),!1),i("invert","Invert",G(L,J,c),!1)],Z=Sb.sketch({dom:s,components:Q.map((function(e){return e.asSpec()}))}),ee=Sb.sketch({dom:{tag:"div"},components:[Z],containerBehaviours:Nu([Mp.config({})])}),te=Nm(ee);return{memContainer:te,getApplyButton:function(e){return te.getOpt(e).map((function(e){var t=e.components()[0];return t.components()[t.components().length-1]}))}}},Yk=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),Xk=tinymce.util.Tools.resolve("tinymce.geom.Rect"),Gk=tinymce.util.Tools.resolve("tinymce.util.Observable"),Kk=tinymce.util.Tools.resolve("tinymce.util.Tools"),Jk=tinymce.util.Tools.resolve("tinymce.util.VK");function Qk(e){var t,n;if(e.changedTouches)for(t="screenX screenY pageX pageY clientX clientY".split(" "),n=0;n<t.length;n++)e[t[n]]=e.changedTouches[0][t[n]]}function Zk(e,n){var r,o,i,a,u,s,c,l=n.document||t.document;n=n||{};var f=l.getElementById(n.handle||e);i=function(e){var i,d,p=function(e){var t,n,r,o,i,a,u,s=Math.max;return t=e.documentElement,n=e.body,r=s(t.scrollWidth,n.scrollWidth),o=s(t.clientWidth,n.clientWidth),i=s(t.offsetWidth,n.offsetWidth),a=s(t.scrollHeight,n.scrollHeight),u=s(t.clientHeight,n.clientHeight),{width:r<i?o:r,height:a<s(t.offsetHeight,n.offsetHeight)?u:a}}(l);Qk(e),e.preventDefault(),o=e.button,i=f,s=e.screenX,c=e.screenY,d=t.window.getComputedStyle?t.window.getComputedStyle(i,null).getPropertyValue("cursor"):i.runtimeStyle.cursor,r=Yk("<div></div>").css({position:"absolute",top:0,left:0,width:p.width,height:p.height,zIndex:2147483647,opacity:1e-4,cursor:d}).appendTo(l.body),Yk(l).on("mousemove touchmove",u).on("mouseup touchend",a),n.start(e)},u=function(e){if(Qk(e),e.button!==o)return a(e);e.deltaX=e.screenX-s,e.deltaY=e.screenY-c,e.preventDefault(),n.drag(e)},a=function(e){Qk(e),Yk(l).off("mousemove touchmove",u).off("mouseup touchend",a),r.remove(),n.stop&&n.stop(e)},this.destroy=function(){Yk(f).off()},Yk(f).on("mousedown touchstart",i)}var eS=0,tS=function(e,t,n,r,o){var i,a,u,s="tox-",c=s+"crid-"+eS++,l=[{name:"move",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:0,deltaH:0,label:"Crop Mask"},{name:"nw",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:-1,deltaH:-1,label:"Top Left Crop Handle"},{name:"ne",xMul:1,yMul:0,deltaX:0,deltaY:1,deltaW:1,deltaH:-1,label:"Top Right Crop Handle"},{name:"sw",xMul:0,yMul:1,deltaX:1,deltaY:0,deltaW:-1,deltaH:1,label:"Bottom Left Crop Handle"},{name:"se",xMul:1,yMul:1,deltaX:0,deltaY:0,deltaW:1,deltaH:1,label:"Bottom Right Crop Handle"}];u=["top","right","bottom","left"];var f=function(e,t){return{x:t.x+e.x,y:t.y+e.y,w:t.w,h:t.h}},d=function(e,t){return{x:t.x-e.x,y:t.y-e.y,w:t.w,h:t.h}};function p(t,r,o,a){var u,s,c,l,f;u=r.x,s=r.y,c=r.w,l=r.h,u+=o*t.deltaX,s+=a*t.deltaY,(c+=o*t.deltaW)<20&&(c=20),(l+=a*t.deltaH)<20&&(l=20),f=e=Xk.clamp({x:u,y:s,w:c,h:l},n,"move"===t.name),f=d(n,f),i.fire("updateRect",{rect:f}),g(f)}function m(e){function n(e,t){t.h<0&&(t.h=0),t.w<0&&(t.w=0),Yk("#"+c+"-"+e,r).css({left:t.x,top:t.y,width:t.w,height:t.h})}Kk.each(l,(function(t){Yk("#"+c+"-"+t.name,r).css({left:e.w*t.xMul+e.x,top:e.h*t.yMul+e.y})})),n("top",{x:t.x,y:t.y,w:t.w,h:e.y-t.y}),n("right",{x:e.x+e.w,y:e.y,w:t.w-e.x-e.w+t.x,h:e.h}),n("bottom",{x:t.x,y:e.y+e.h,w:t.w,h:t.h-e.y-e.h+t.y}),n("left",{x:t.x,y:e.y,w:e.x-t.x,h:e.h}),n("move",e)}function h(t){m(e=t)}function g(e){h(f(n,e))}return Yk('<div id="'+c+'" class="'+s+'croprect-container" role="grid" aria-dropeffect="execute">').appendTo(r),Kk.each(u,(function(e){Yk("#"+c,r).append('<div id="'+c+"-"+e+'"class="'+s+'croprect-block" style="display: none" data-mce-bogus="all">')})),Kk.each(l,(function(e){Yk("#"+c,r).append('<div id="'+c+"-"+e.name+'" class="'+s+"croprect-handle "+s+"croprect-handle-"+e.name+'"style="display: none" data-mce-bogus="all" role="gridcell" tabindex="-1" aria-label="'+e.label+'" aria-grabbed="false" title="'+e.label+'">')})),a=Kk.map(l,(function(t){var n;return new Zk(c,{document:r.ownerDocument,handle:c+"-"+t.name,start:function(){n=e},drag:function(e){p(t,n,e.deltaX,e.deltaY)}})})),m(e),Yk(r).on("focusin focusout",(function(e){Yk(e.target).attr("aria-grabbed","focus"===e.type?"true":"false")})),Yk(r).on("keydown",(function(t){var n;function r(e,t,r,o,i){e.stopPropagation(),e.preventDefault(),p(n,r,o,i)}switch(Kk.each(l,(function(e){if(t.target.id===c+"-"+e.name)return n=e,!1})),t.keyCode){case Jk.LEFT:r(t,0,e,-10,0);break;case Jk.RIGHT:r(t,0,e,10,0);break;case Jk.UP:r(t,0,e,0,-10);break;case Jk.DOWN:r(t,0,e,0,10);break;case Jk.ENTER:case Jk.SPACEBAR:t.preventDefault(),o()}})),i=Kk.extend({toggleVisibility:function(e){var t;t=Kk.map(l,(function(e){return"#"+c+"-"+e.name})).concat(Kk.map(u,(function(e){return"#"+c+"-"+e}))).join(","),e?Yk(t,r).show():Yk(t,r).hide()},setClampRect:function(t){n=t,m(e)},setRect:h,getInnerRect:function(){return d(n,e)},setInnerRect:g,setViewPortRect:function(n){t=n,m(e)},destroy:function(){Kk.each(a,(function(e){e.destroy()})),a=[]}},Gk)},nS=function(e){var t=Nm({dom:{tag:"div",classes:["tox-image-tools__image-bg"],attributes:{role:"presentation"}}}),n=an(1),r=an(y.none()),o=an({x:0,y:0,w:1,h:1}),i=an({x:0,y:0,w:1,h:1}),a=function(e,i){c.getOpt(e).each((function(e){var a=n.get(),u=ma(e.element()),s=aa(e.element()),c=i.dom().naturalWidth*a,l=i.dom().naturalHeight*a,f=Math.max(0,u/2-c/2),d=Math.max(0,s/2-l/2),p={left:f.toString()+"px",top:d.toString()+"px",width:c.toString()+"px",height:l.toString()+"px",position:"absolute"};Bi(i,p),t.getOpt(e).each((function(e){Bi(e.element(),p)})),r.get().each((function(e){var t=o.get();e.setRect({x:t.x*a+f,y:t.y*a+d,w:t.w*a,h:t.h*a}),e.setClampRect({x:f,y:d,w:c,h:l}),e.setViewPortRect({x:0,y:0,w:u,h:s})}))}))},u=function(e,t){var r,u=sn.fromTag("img");return Po(u,"src",t),(r=u.dom(),new Zm((function(e){var t=function(){r.removeEventListener("load",t),e(r)};r.complete?e(r):r.addEventListener("load",t)}))).then((function(){return c.getOpt(e).map((function(e){var t=Zi({element:u});Mp.replaceAt(e,1,y.some(t));var r=i.get(),s={x:0,y:0,w:u.dom().naturalWidth,h:u.dom().naturalHeight};i.set(s);var l=Xk.inflate(s,-20,-20);return o.set(l),r.w===s.w&&r.h===s.h||function(e,t){c.getOpt(e).each((function(e){var r=ma(e.element()),o=aa(e.element()),i=t.dom().naturalWidth,a=t.dom().naturalHeight,u=Math.min(r/i,o/a);u>=1?n.set(1):n.set(u)}))}(e,u),a(e,u),u}))}))},s=Sb.sketch({dom:{tag:"div",classes:["tox-image-tools__image"]},components:[t.asSpec(),{dom:{tag:"img",attributes:{src:e}}},{dom:{tag:"div"},behaviours:Nu([Rp("image-panel-crop-events",[lo((function(e){c.getOpt(e).each((function(e){var t=e.element().dom(),i=tS({x:10,y:10,w:100,h:100},{x:0,y:0,w:200,h:200},{x:0,y:0,w:200,h:200},t,(function(){}));i.toggleVisibility(!1),i.on("updateRect",(function(e){var t=e.rect,r=n.get(),i={x:Math.round(t.x/r),y:Math.round(t.y/r),w:Math.round(t.w/r),h:Math.round(t.h/r)};o.set(i)})),r.set(y.some(i))}))}))])])}],containerBehaviours:Nu([Mp.config({}),Rp("image-panel-events",[lo((function(t){u(t,e)}))])])}),c=Nm(s);return{memContainer:c,updateSrc:u,zoom:function(e,t){var r=n.get(),o=t>0?Math.min(2,r+.1):Math.max(.1,r-.1);n.set(o),c.getOpt(e).each((function(e){var t=e.components()[1].element();a(e,t)}))},showCrop:function(){r.get().each((function(e){e.toggleVisibility(!0)}))},hideCrop:function(){r.get().each((function(e){e.toggleVisibility(!1)}))},getRect:function(){return o.get()},getMeasurements:function(){var e=i.get();return{width:e.w,height:e.h}}}},rS=function(e,t,n,r,o){return Ek({name:e,icon:y.some(t),disabled:n,tooltip:y.some(e),primary:!1,borderless:!1},r,o)},oS=function(e,t){t?og.enable(e):og.disable(e)};var iS,aS,uS=function(e){var n=an(e),r=an(y.none()),o=function(){var e=[],t=-1;function n(){return t>0}function r(){return-1!==t&&t<e.length-1}return{data:e,add:function(n){var r;return r=e.splice(++t),e.push(n),{state:n,removed:r}},undo:function(){if(n())return e[--t]},redo:function(){if(r())return e[++t]},canUndo:n,canRedo:r}}();o.add(e);var i=function(e){n.set(e)},a=function(e){return{blob:e,url:t.URL.createObjectURL(e)}},u=function(e){t.URL.revokeObjectURL(e.url)},s=function(){r.get().each(u),r.set(y.none())},c=function(e){var t=a(e);i(t);var n,r=o.add(t).removed;return n=r,Kk.each(n,u),t.url};return{getBlobState:function(){return n.get()},setBlobState:i,addBlobState:c,getTempState:function(){return r.get().fold((function(){return n.get()}),(function(e){return e}))},updateTempState:function(e){var t=a(e);return s(),r.set(y.some(t)),t.url},addTempState:function(e){var t=a(e);return r.set(y.some(t)),t.url},applyTempState:function(e){return r.get().fold((function(){}),(function(t){c(t.blob),e()}))},destroyTempState:s,undo:function(){var e=o.undo();return i(e),e.url},redo:function(){var e=o.redo();return i(e),e.url},getHistoryStates:function(){return{undoEnabled:o.canUndo(),redoEnabled:o.canRedo()}}}},sS=function(e,r){var o=uS(e.currentState),i=function(e){var t=o.getHistoryStates();m.updateButtonUndoStates(e,t.undoEnabled,t.redoEnabled),Xr(e,qk.formActionEvent,{name:qk.saveState(),value:t.undoEnabled})},a=function(e){return e.toBlob()},u=function(e){Xr(e,qk.formActionEvent,{name:qk.disable(),value:{}})},s=function(e){h.getApplyButton(e).each((function(e){og.enable(e)})),Xr(e,qk.formActionEvent,{name:qk.enable(),value:{}})},c=function(e,t){return u(e),p.updateSrc(e,t)},l=function(e,n,r,o,l){return u(e),function(e){return MC(e)}(n).then(r).then(a).then(o).then((function(t){return c(e,t).then((function(t){return i(e),l(),s(e),t}))})).catch((function(n){return t.console.log(n),s(e),n}))},f=function(e,t,n){var r=o.getBlobState().blob;l(e,r,t,(function(e){return o.updateTempState(e)}),n)},d=function(e){var t=o.getBlobState().url;return o.destroyTempState(),i(e),t},p=nS(e.currentState.url),m=function(e){var t=Nm(rS("Undo","undo",!0,(function(e){Xr(e,jk.undo(),{direction:1})}),e)),n=Nm(rS("Redo","redo",!0,(function(e){Xr(e,jk.redo(),{direction:1})}),e));return{container:Sb.sketch({dom:{tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools__sidebar"]},components:[t.asSpec(),n.asSpec(),rS("Zoom in","zoom-in",!1,(function(e){Xr(e,jk.zoom(),{direction:1})}),e),rS("Zoom out","zoom-out",!1,(function(e){Xr(e,jk.zoom(),{direction:-1})}),e)]}),updateButtonUndoStates:function(e,r,o){t.getOpt(e).each((function(e){oS(e,r)})),n.getOpt(e).each((function(e){oS(e,o)}))}}}(r),h=Wk(p,r);return{dom:{tag:"div",attributes:{role:"presentation"}},components:[h.memContainer.asSpec(),p.memContainer.asSpec(),m.container],behaviours:Nu([yl.config({store:{mode:"manual",getValue:function(){return o.getBlobState()}}}),Rp("image-tools-events",[no(jk.undo(),(function(e,t){var n=o.undo();c(e,n).then((function(t){s(e),i(e)}))})),no(jk.redo(),(function(e,t){var n=o.redo();c(e,n).then((function(t){s(e),i(e)}))})),no(jk.zoom(),(function(e,t){var n=t.event().direction();p.zoom(e,n)})),no(jk.back(),(function(e,t){!function(e){var t=d(e);c(e,t).then((function(t){s(e)}))}(e),t.event().swap()(),p.hideCrop()})),no(jk.apply(),(function(e,t){o.applyTempState((function(){d(e),t.event().swap()()}))})),no(jk.transform(),(function(e,t){return f(e,t.event().transform(),n)})),no(jk.tempTransform(),(function(e,t){return function(e,t){var r=o.getTempState().blob;l(e,r,t,(function(e){return o.addTempState(e)}),n)}(e,t.event().transform())})),no(jk.transformApply(),(function(e,t){return function(e,t,n){var r=o.getBlobState().blob;l(e,r,t,(function(t){var n=o.addBlobState(t);return d(e),n}),n)}(e,t.event().transform(),t.event().swap())})),no(jk.swap(),(function(e,t){!function(e){m.updateButtonUndoStates(e,!1,!1)}(e);var n=t.event().transform(),r=t.event().swap();n.fold((function(){r()}),(function(t){f(e,t,r)}))}))]),Qx()])}},cS=kf({name:"HtmlSelect",configFields:[It("options"),wl("selectBehaviours",[Lp,yl]),Kt("selectClasses",[]),Kt("selectAttributes",{}),$t("data")],factory:function(e,t){var n=F(e.options,(function(e){return{dom:{tag:"option",value:e.value,innerHtml:e.text}}})),r=e.data.map((function(e){return Ne("initialValue",e)})).getOr({});return{uid:e.uid,dom:{tag:"select",classes:e.selectClasses,attributes:e.selectAttributes},components:n,behaviours:Cl(e.selectBehaviours,[Lp.config({}),yl.config({store:d({mode:"manual",getValue:function(e){return Ui(e.element())},setValue:function(t,n){$(e.options,(function(e){return e.value===n})).isSome()&&$i(t.element(),n)}},r)})])}}}),lS=function(e,t){var n=e.label.map((function(e){return Ry(e,t)})),r=[og.config({disabled:e.disabled}),Op.config({mode:"execution",useEnter:!0!==e.multiline,useControlEnter:!0===e.multiline,execute:function(e){return Yr(e,Xb),y.some(!0)}}),Rp("textfield-change",[no(gr(),(function(t,n){Xr(t,$b,{name:e.name})})),no(Sr(),(function(t,n){Xr(t,$b,{name:e.name})}))]),Ay.config({})],i=e.validation.map((function(e){return Ey.config({getRoot:function(e){return Co(e.element())},invalidClass:"tox-invalid",validator:{validate:function(t){var n=yl.getValue(t),r=e.validator(n);return gy(!0===r?C.value(n):C.error(r))},validateOnLoad:e.validateOnLoad}})})).toArray(),a=e.placeholder.fold(o({}),(function(e){return{placeholder:t.translate(e)}})),u=e.inputMode.fold(o({}),(function(e){return{inputmode:e}})),s=d(d({},a),u),c=ty.parts().field({tag:!0===e.multiline?"textarea":"input",inputAttributes:s,inputClasses:[e.classname],inputBehaviours:Nu(W([r,i])),selectOnFocus:!1,factory:ay}),l=(e.flex?["tox-form__group--stretched"]:[]).concat(e.maximized?["tox-form-group--maximize"]:[]),f=[og.config({disabled:e.disabled,onDisabled:function(e){ty.getField(e).each(og.disable)},onEnabled:function(e){ty.getField(e).each(og.enable)}})];return Dy(n,c,l,f)},fS=Object.freeze({events:function(e,t){var n=e.stream.streams.setup(e,t);return Zr([no(e.event,n),fo((function(){return t.cancel()}))].concat(e.cancelEvent.map((function(e){return[no(e,(function(){return t.cancel()}))]})).getOr([])))}}),dS=function(e){var t=an(null);return fi({readState:function(){return{timer:null!==t.get()?"set":"unset"}},setTimer:function(e){t.set(e)},cancel:function(){var e=t.get();null!==e&&e.cancel()}})},pS=Object.freeze({throttle:dS,init:function(e){return e.stream.streams.state(e)}}),mS=[Bt("stream",Tt("mode",{throttle:[It("delay"),Kt("stopEvent",!0),Qa("streams",{setup:function(e,t){var n=e.stream,r=Hm(e.onStream,n.delay);return t.setTimer(r),function(e,t){r.throttle(e,t),n.stopEvent&&t.stop()}},state:dS})]})),Kt("event","input"),$t("cancelEvent"),Ka("onStream")],hS=Ru({fields:mS,name:"streaming",active:fS,state:pS}),gS=function(e,t,n){var r=yl.getValue(n);yl.setValue(t,r),bS(t)},vS=function(e,t){var n=e.element(),r=Ui(n),o=n.dom();"number"!==Lo(n,"type")&&t(o,r)},bS=function(e){vS(e,(function(e,t){return e.setSelectionRange(t.length,t.length)}))},yS=function(e,t,n){if(e.selectsOver){var r=yl.getValue(t),o=e.getDisplayText(r),i=yl.getValue(n);return 0===e.getDisplayText(i).indexOf(o)?y.some((function(){gS(0,t,n),function(e,t){vS(e,(function(e,n){return e.setSelectionRange(t,n.length)}))}(t,o.length)})):y.none()}return y.none()},wS=o("alloy.typeahead.itemexecute"),xS=o([$t("lazySink"),It("fetch"),Kt("minChars",5),Kt("responseTime",1e3),Xa("onOpen"),Kt("getHotspot",y.some),Kt("getAnchorOverrides",o({})),Kt("layouts",y.none()),Kt("eventOrder",{}),rn("model",{},[Kt("getDisplayText",(function(e){return void 0!==e.meta&&void 0!==e.meta.text?e.meta.text:e.value})),Kt("selectsOver",!0),Kt("populateFromBrowse",!0)]),Xa("onSetValue"),Ga("onExecute"),Xa("onItemExecute"),Kt("inputClasses",[]),Kt("inputAttributes",{}),Kt("inputStyles",{}),Kt("matchWidth",!0),Kt("useMinWidth",!1),Kt("dismissOnBlur",!0),Wa(["openClass"]),$t("initialData"),wl("typeaheadBehaviours",[Lp,yl,hS,Op,Kp,By]),on("previewing",(function(){return an(!0)}))].concat(ny()).concat(Xy())),CS=o([Xl({schema:[qa()],name:"menu",overrides:function(e){return{fakeFocus:!0,onHighlight:function(t,n){e.previewing.get()?t.getSystem().getByUid(e.uid).each((function(r){yS(e.model,r,n).fold((function(){return Ff.dehighlight(t,n)}),(function(e){return e()}))})):t.getSystem().getByUid(e.uid).each((function(t){e.model.populateFromBrowse&&gS(e.model,t,n)})),e.previewing.set(!1)},onExecute:function(t,n){return t.getSystem().getByUid(e.uid).toOption().map((function(e){return Xr(e,wS(),{item:n}),!0}))},onHover:function(t,n){e.previewing.set(!1),t.getSystem().getByUid(e.uid).each((function(t){e.model.populateFromBrowse&&gS(e.model,t,n)}))}}}})]),kS=Sf({name:"Typeahead",configFields:xS(),partFields:CS(),factory:function(e,t,r,o){var i=function(t,r,i){e.previewing.set(!1);var a=By.getCoupled(t,"sandbox");if(Zc.isOpen(a))_f.getCurrent(a).each((function(e){Ff.getHighlighted(e).fold((function(){i(e)}),(function(){Qr(a,e.element(),"keydown",r)}))}));else{Hy(e,u(t),t,a,o,(function(e){_f.getCurrent(e).each(i)}),cy.HighlightFirst).get(n)}},a=ry(e),u=function(e){return function(t){return t.map((function(t){var n=se(t.menus),r=Y(n,(function(e){return j(e.items,(function(e){return"item"===e.type}))}));return yl.getState(e).update(F(r,(function(e){return e.data}))),t}))}},s=[Lp.config({}),yl.config({onSetValue:e.onSetValue,store:d({mode:"dataset",getDataKey:function(e){return Ui(e.element())},getFallbackEntry:function(e){return{value:e,meta:{}}},setValue:function(t,n){$i(t.element(),e.model.getDisplayText(n))}},e.initialData.map((function(e){return Ne("initialValue",e)})).getOr({}))}),hS.config({stream:{mode:"throttle",delay:e.responseTime,stopEvent:!1},onStream:function(t,r){var i=By.getCoupled(t,"sandbox");if(Lp.isFocused(t)&&Ui(t.element()).length>=e.minChars){var a=_f.getCurrent(i).bind((function(e){return Ff.getHighlighted(e).map(yl.getValue)}));e.previewing.set(!0);Hy(e,u(t),t,i,o,(function(t){_f.getCurrent(i).each((function(t){a.fold((function(){e.model.selectsOver&&Ff.highlightFirst(t)}),(function(e){Ff.highlightBy(t,(function(t){return yl.getValue(t).value===e.value})),Ff.getHighlighted(t).orThunk((function(){return Ff.highlightFirst(t),y.none()}))}))}))}),cy.HighlightFirst).get(n)}},cancelEvent:Nr()}),Op.config({mode:"special",onDown:function(e,t){return i(e,t,Ff.highlightFirst),y.some(!0)},onEscape:function(e){var t=By.getCoupled(e,"sandbox");return Zc.isOpen(t)?(Zc.close(t),y.some(!0)):y.none()},onUp:function(e,t){return i(e,t,Ff.highlightLast),y.some(!0)},onEnter:function(t){var n=By.getCoupled(t,"sandbox"),r=Zc.isOpen(n);if(r&&!e.previewing.get())return _f.getCurrent(n).bind((function(e){return Ff.getHighlighted(e)})).map((function(e){return Xr(t,wS(),{item:e}),!0}));var o=yl.getValue(t);return Yr(t,Nr()),e.onExecute(n,t,o),r&&Zc.close(n),y.some(!0)}}),Kp.config({toggleClass:e.markers.openClass,aria:{mode:"expanded"}}),By.config({others:{sandbox:function(t){return Wy(e,t,{onOpen:function(){return Kp.on(t)},onClose:function(){return Kp.off(t)}})}}}),Rp("typeaheadevents",[mo((function(t){var r=n;Vy(e,u(t),t,o,r,cy.HighlightFirst).get(n)})),no(wS(),(function(t,n){var r=By.getCoupled(t,"sandbox");gS(e.model,t,n.event().item()),Yr(t,Nr()),e.onItemExecute(t,r,n.event().item(),yl.getValue(t)),Zc.close(r),bS(t)}))].concat(e.dismissOnBlur?[no(kr(),(function(e){var t=By.getCoupled(e,"sandbox");Uu(t.element()).isNone()&&Zc.close(t)}))]:[]))];return{uid:e.uid,dom:iy(me(e,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:d(d({},a),Cl(e.typeaheadBehaviours,s)),eventOrder:e.eventOrder}}}),SS=function(e){return d(d({},e),{toCached:function(){return SS(e.toCached())},bindFuture:function(t){return SS(e.bind((function(e){return e.fold((function(e){return gy(C.error(e))}),(function(e){return t(e)}))})))},bindResult:function(t){return SS(e.map((function(e){return e.bind(t)})))},mapResult:function(t){return SS(e.map((function(e){return e.map(t)})))},mapError:function(t){return SS(e.map((function(e){return e.mapError(t)})))},foldResult:function(t,n){return e.map((function(e){return e.fold(t,n)}))},withTimeout:function(n,r){return SS(hy((function(o){var i=!1,a=t.setTimeout((function(){i=!0,o(C.error(r()))}),n);e.get((function(e){i||(t.clearTimeout(a),o(e))}))})))}})},TS=function(e){return SS(hy(e))},ES=TS,OS={type:"separator"},_S=function(e){return{type:"menuitem",value:e.url,text:e.title,meta:{attach:e.attach},onAction:function(){}}},AS=function(e,t){return{type:"menuitem",value:t,text:e,meta:{attach:void 0},onAction:function(){}}},DS=function(e,t){return function(e){return F(e,_S)}(function(e,t){return j(t,(function(t){return t.type===e}))}(e,t))},NS=function(e){return DS("header",e.targets)},MS=function(e){return DS("anchor",e.targets)},RS=function(e){return y.from(e.anchorTop).map((function(e){return AS("<top>",e)})).toArray()},zS=function(e){return y.from(e.anchorBottom).map((function(e){return AS("<bottom>",e)})).toArray()},IS=function(e,t){var n=e.toLowerCase();return j(t,(function(e){var t=void 0!==e.meta&&void 0!==e.meta.text?e.meta.text:e.text;return kn(t.toLowerCase(),n)||kn(e.value.toLowerCase(),n)}))},BS=function(e,t,n){var r=yl.getValue(t),o=void 0!==r.meta.text?r.meta.text:r.value;return n.getLinkInformation().fold((function(){return[]}),(function(t){var r,i=IS(o,function(e){return F(e,(function(e){return AS(e,e)}))}(n.getHistory(e)));return"file"===e?(r=[i,IS(o,NS(t)),IS(o,W([RS(t),MS(t),zS(t)]))],U(r,(function(e,t){return 0===e.length||0===t.length?e.concat(t):e.concat(OS,t)}),[])):i}))},PS=Yo("aria-invalid"),LS=function(e,t){var n,r,o=e.label.map((function(e){return Ry(e,t)})),a=function(e){return function(t,n){Da(n.event().target(),"[data-collection-item-value]").each((function(r){e(t,n,r,Lo(r,"data-collection-item-value"))}))}},u=a((function(t,n,r,o){n.stop(),Xr(t,Yb,{name:e.name,value:o})})),s=[no(fr(),a((function(e,t,n){ju(n)}))),no(br(),u),no(_r(),u),no(dr(),a((function(e,t,n){Aa(e.element(),"."+Mh).each((function(e){_i(e,Mh)})),Ei(n,Mh)}))),no(pr(),a((function(e){Aa(e.element(),"."+Mh).each((function(e){_i(e,Mh)}))}))),mo(a((function(t,n,r,o){Xr(t,Yb,{name:e.name,value:o})})))],c=ty.parts().field({dom:{tag:"div",classes:["tox-collection"].concat(1!==e.columns?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:i},behaviours:Nu([Mp.config({}),yl.config({store:{mode:"memory",initialValue:[]},onSetValue:function(t,n){!function(t,n){var r=F(n,(function(t){var n,r=Oh.translate(t.text),o=1===e.columns?'<div class="tox-collection__item-label">'+r+"</div>":"",i='<div class="tox-collection__item-icon">'+t.icon+"</div>",a={_:" "," - ":" ","-":" "},u=r.replace(/\_| \- |\-/g,(function(e){return a[e]}));return'<div class="tox-collection__item" tabindex="-1" data-collection-item-value="'+('"'===(n=t.value)?"&quot;":n)+'" title="'+u+'" aria-label="'+u+'">'+i+o+"</div>"})),o=e.columns>1&&"auto"!==e.columns?L(r,e.columns):[r],i=F(o,(function(e){return'<div class="tox-collection__group">'+e.join("")+"</div>"}));Io(t.element(),i.join(""))}(t,n),"auto"===e.columns&&hh(t,5,"tox-collection__item").each((function(e){var n=e.numRows,r=e.numColumns;Op.setGridSize(t,n,r)})),Yr(t,Qb)}}),Ay.config({}),Op.config((n=e.columns,r="normal",1===n?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:"auto"===n?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:"color"===r?".tox-swatches__row":".tox-collection__group",cell:"color"===r?".tox-swatch":"."+Ah}})),Rp("collection-events",s)])});return Dy(o,c,["tox-form__group--collection"],[])},FS=function(e){return function(t,n,r){return De(n,"name").fold((function(){return e(n,r)}),(function(o){return t.field(o,e(n,r))}))}},HS={bar:FS((function(e,t){return function(e,t){return{dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:F(e.items,t.interpreter)}}(e,t.shared)})),collection:FS((function(e,t){return LS(e,t.shared.providers)})),alertbanner:FS((function(e,t){return function(e,t){return Sb.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in","tox-notification--"+e.level]},components:[{dom:{tag:"div",classes:["tox-notification__icon"]},components:[Dm.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:Rm(e.icon,t.icons),attributes:{title:t.translate(e.iconTooltip)}},action:function(t){Xr(t,Yb,{name:"alert-banner",value:e.url})}})]},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:t.translate(e.text)}}]})}(e,t.shared.providers)})),input:FS((function(e,t){return function(e,t){return lS({name:e.name,multiline:!1,label:e.label,inputMode:e.inputMode,placeholder:e.placeholder,flex:!1,disabled:e.disabled,classname:"tox-textfield",validation:y.none(),maximized:e.maximized},t)}(e,t.shared.providers)})),textarea:FS((function(e,t){return function(e,t){return lS({name:e.name,multiline:!0,label:e.label,inputMode:y.none(),placeholder:e.placeholder,flex:!0,disabled:e.disabled,classname:"tox-textarea",validation:y.none(),maximized:e.maximized},t)}(e,t.shared.providers)})),label:FS((function(e,t){return function(e,t){var n={dom:{tag:"label",innerHtml:t.providers.translate(e.label),classes:["tox-label"]}},r=F(e.items,t.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[n].concat(r),behaviours:Nu([Qx(),Mp.config({}),cC(y.none()),Op.config({mode:"acyclic"})])}}(e,t.shared)})),iframe:function(e){return function(t,n,r){var o=me(n,{source:"dynamic"});return FS(e)(t,o,r)}}((function(e,t){return wC(e,t.shared.providers)})),button:FS((function(e,t){return Nk(e,t.shared.providers)})),checkbox:FS((function(e,t){return function(e,t){var n=yl.config({store:{mode:"manual",getValue:function(e){return e.element().dom().checked},setValue:function(e,t){e.element().dom().checked=t}}}),r=function(e){return e.element().dom().click(),y.some(!0)},o=ty.parts().field({factory:{sketch:i},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:Nu([Qx(),og.config({disabled:e.disabled}),Ay.config({}),Lp.config({}),n,Op.config({mode:"special",onEnter:r,onSpace:r,stopSpaceKeyup:!0}),Rp("checkbox-events",[no(vr(),(function(t,n){Xr(t,$b,{name:e.name})}))])])}),a=ty.parts().label({dom:{tag:"span",classes:["tox-checkbox__label"],innerHtml:t.translate(e.label)},behaviours:Nu([Zy.config({})])}),u=function(e){return{dom:{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+e],innerHtml:Rm("checked"===e?"selected":"unselected",t.icons)}}},s=Nm({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[u("checked"),u("unchecked")]});return ty.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[o,s.asSpec(),a],fieldBehaviours:Nu([og.config({disabled:e.disabled,disableClass:"tox-checkbox--disabled",onDisabled:function(e){ty.getField(e).each(og.disable)},onEnabled:function(e){ty.getField(e).each(og.enable)}})])})}(e,t.shared.providers)})),colorinput:FS((function(e,t){return rw(e,t.shared,t.colorinput)})),colorpicker:FS((function(e){var n=function(e){return"tox-"+e},r=Jx(nC,n),o=Nm(r.sketch({dom:{tag:"div",classes:[n("color-picker-container")],attributes:{role:"presentation"}},onValidHex:function(e){Xr(e,Yb,{name:"hex-valid",value:!0})},onInvalidHex:function(e){Xr(e,Yb,{name:"hex-valid",value:!1})}}));return{dom:{tag:"div"},components:[o.asSpec()],behaviours:Nu([yl.config({store:{mode:"manual",getValue:function(e){var t=o.get(e);return _f.getCurrent(t).bind((function(e){return yl.getValue(e).hex})).map((function(e){return"#"+e})).getOr("")},setValue:function(e,n){var r=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/.exec(n),i=o.get(e);_f.getCurrent(i).fold((function(){t.console.log("Can not find form")}),(function(e){yl.setValue(e,{hex:y.from(r[1]).getOr("")}),qx.getField(e,"hex").each((function(e){Yr(e,gr())}))}))}}}),Qx()])}})),dropzone:FS((function(e,t){return fC(e,t.shared.providers)})),grid:FS((function(e,t){return function(e,t){return{dom:{tag:"div",classes:["tox-form__grid","tox-form__grid--"+e.columns+"col"]},components:F(e.items,t.interpreter)}}(e,t.shared)})),selectbox:FS((function(e,t){return function(e,t){var n=F(e.items,(function(e){return{text:t.translate(e.text),value:e.value}})),r=e.label.map((function(e){return Ry(e,t)})),o=ty.parts().field({dom:{},selectAttributes:{size:e.size},options:n,factory:cS,selectBehaviours:Nu([og.config({disabled:e.disabled}),Ay.config({}),Rp("selectbox-change",[no(vr(),(function(t,n){Xr(t,$b,{name:e.name})}))])])}),i=e.size>1?y.none():y.some({dom:{tag:"div",classes:["tox-selectfield__icon-js"],innerHtml:Rm("chevron-down",t.icons)}}),a={dom:{tag:"div",classes:["tox-selectfield"]},components:W([[o],i.toArray()])};return ty.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:W([r.toArray(),[a]]),fieldBehaviours:Nu([og.config({disabled:e.disabled,onDisabled:function(e){ty.getField(e).each(og.disable)},onEnabled:function(e){ty.getField(e).each(og.enable)}})])})}(e,t.shared.providers)})),sizeinput:FS((function(e,t){return Hk(e,t.shared.providers)})),urlinput:FS((function(e,t){return function(e,t,r){var o,i=t.shared.providers,a=function(t){var n=yl.getValue(t);r.addToHistory(n.value,e.filetype)},u=ty.parts().field({factory:kS,dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":PS,type:"url"},minChars:0,responseTime:0,fetch:function(n){var o=BS(e.filetype,n,r),i=wk(o,dg.BUBBLE_TO_SANDBOX,t,!1);return gy(i)},getHotspot:function(e){return m.getOpt(e)},onSetValue:function(e,t){e.hasConfigured(Ey)&&Ey.run(e).get(n)},typeaheadBehaviours:Nu(W([r.getValidationHandler().map((function(t){return Ey.config({getRoot:function(e){return Co(e.element())},invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:function(e,t){c.getOpt(e).each((function(e){Po(e.element(),"title",i.translate(t))}))}},validator:{validate:function(n){var r=yl.getValue(n);return ES((function(n){t({type:e.filetype,url:r.value},(function(e){if("invalid"===e.status){var t=C.error(e.message);n(t)}else{var r=C.value(e.message);n(r)}}))}))},validateOnLoad:!1}})})).toArray(),[og.config({disabled:e.disabled}),Ay.config({}),Rp("urlinput-events",W(["file"===e.filetype?[no(gr(),(function(t){Xr(t,$b,{name:e.name})}))]:[],[no(vr(),(function(t){Xr(t,$b,{name:e.name}),a(t)})),no(Sr(),(function(t){Xr(t,$b,{name:e.name}),a(t)}))]]))]])),eventOrder:(o={},o[gr()]=["streaming","urlinput-events","invalidating"],o),model:{getDisplayText:function(e){return e.value},selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:t.shared.getSink,parts:{menu:Dv(0,0,"normal")},onExecute:function(e,t,n){Xr(t,Xb,{})},onItemExecute:function(t,n,r,o){a(t),Xr(t,$b,{name:e.name})}}),s=e.label.map((function(e){return Ry(e,i)})),c=Nm(function(e,t,n,r){return void 0===n&&(n=e),void 0===r&&(r=e),{dom:{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+e],innerHtml:Rm(n,i.icons),attributes:d({title:i.translate(r),"aria-live":"polite"},t.fold((function(){return{}}),(function(e){return{id:e}})))}}}("invalid",y.some(PS),"warning")),l=Nm({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[c.asSpec()]}),f=r.getUrlPicker(e.filetype),p=Yo("browser.url.event"),m=Nm({dom:{tag:"div",classes:["tox-control-wrap"]},components:[u,l.asSpec()],behaviours:Nu([og.config({disabled:e.disabled})])}),h=Nm(_k({name:e.name,icon:y.some("browse"),text:e.label.getOr(""),disabled:e.disabled,primary:!1,borderless:!0},(function(e){return Yr(e,p)}),i,[],["tox-browse-url"]));return ty.sketch({dom:My([]),components:s.toArray().concat([{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:W([[m.asSpec()],f.map((function(){return h.asSpec()})).toArray()])}]),fieldBehaviours:Nu([og.config({disabled:e.disabled,onDisabled:function(e){ty.getField(e).each(og.disable),h.getOpt(e).each(og.disable)},onEnabled:function(e){ty.getField(e).each(og.enable),h.getOpt(e).each(og.enable)}}),Rp("url-input-events",[no(p,(function(t){_f.getCurrent(t).each((function(n){var r=yl.getValue(n);f.each((function(o){o(r).get((function(r){yl.setValue(n,r),Xr(t,$b,{name:e.name})}))}))}))}))])])})}(e,t,t.urlinput)})),customeditor:FS((function(e){var t=an(y.none()),n=Nm({dom:{tag:e.tag}}),r=an(y.none());return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:Nu([Rp("editor-foo-events",[lo((function(o){n.getOpt(o).each((function(n){(!function(e){return Object.prototype.hasOwnProperty.call(e,"init")}(e)?rC.load(e.scriptId,e.scriptUrl).then((function(t){return t(n.element().dom(),e.settings)})):e.init(n.element().dom())).then((function(e){r.get().each((function(t){e.setValue(t)})),r.set(y.none()),t.set(y.some(e))}))}))}))]),yl.config({store:{mode:"manual",getValue:function(){return t.get().fold((function(){return r.get().getOr("")}),(function(e){return e.getValue()}))},setValue:function(e,n){t.get().fold((function(){r.set(y.some(n))}),(function(e){return e.setValue(n)}))}}}),Qx()]),components:[n.asSpec()]}})),htmlpanel:FS((function(e){return"presentation"===e.presets?Sb.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:e.html}}):Sb.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:e.html,attributes:{role:"document"}},containerBehaviours:Nu([Ay.config({}),Lp.config({})])})})),imagetools:FS((function(e,t){return sS(e,t.shared.providers)})),table:FS((function(e,t){return function(e,t){var n,r,o=function(e){return{dom:{tag:"th",innerHtml:t.translate(e)}}},i=function(e){return{dom:{tag:"td",innerHtml:t.translate(e)}}},a=function(e){return{dom:{tag:"tr"},components:F(e,i)}};return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[(r=e.header,{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:F(r,o)}]}),(n=e.cells,{dom:{tag:"tbody"},components:F(n,a)})],behaviours:Nu([Ay.config({}),Lp.config({})])}}(e,t.shared.providers)})),panel:FS((function(e,t){return function(e,t){return{dom:{tag:"div",classes:e.classes},components:F(e.items,t.shared.interpreter)}}(e,t)}))},jS={field:function(e,t){return t}},VS=function(e,t,n){var r=me(n,{shared:{interpreter:function(t){return US(e,t,r)}}});return US(e,t,r)},US=function(e,n,r){return De(HS,n.type).fold((function(){return t.console.error('Unknown factory type "'+n.type+'", defaulting to container: ',n),n}),(function(t){return t(e,n,r)}))},$S=o((function(e,t){!function(e,t){var n=pa.max(e,t,["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"]);Ii(e,"max-width",n+"px")}(e,Math.floor(t))})),qS={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},WS=function(e,t,n){return n?function(){return{anchor:"node",root:e(),node:y.from(e()),bubble:Wu(-12,-12,qS),layouts:{onRtl:function(){return[Em]},onLtr:function(){return[Om]}},overrides:{maxHeightFunction:Cc()}}}:function(){return{anchor:"hotspot",hotspot:t(),bubble:Wu(-12,12,qS),layouts:{onRtl:function(){return[vu]},onLtr:function(){return[bu]}},overrides:{maxHeightFunction:Cc()}}}},YS=function(e,t,n){return n?function(){return{anchor:"node",root:e(),node:y.from(e()),layouts:{onRtl:function(){return[_m]},onLtr:function(){return[_m]}}}}:function(){return{anchor:"hotspot",hotspot:t(),layouts:{onRtl:function(){return[Cu]},onLtr:function(){return[Cu]}}}}},XS=function(e){return function(){return{anchor:"hotspot",hotspot:e(),overrides:{maxWidthFunction:$S()},layouts:{onRtl:function(){return[vu,bu]},onLtr:function(){return[bu,vu]}}}}},GS=function(e,t){return function(){return{anchor:"selection",root:t(),getSelection:function(){var t=e.selection.getRng();return y.some(ps.range(sn.fromDom(t.startContainer),t.startOffset,sn.fromDom(t.endContainer),t.endOffset))}}}},KS=function(e){return function(t){return{anchor:"node",root:e(),node:t}}},JS=function(e,t,n){var r=Fb(e),o=function(){return sn.fromDom(e.getBody())};return{toolbar:WS(o,t,r),toolbarOverflow:XS(n),banner:YS(o,t,r),cursor:GS(e,o),node:KS(o)}},QS=function(e){return function(t,n){xv.colorPickerDialog(e)(t,n)}},ZS=function(e){return function(){return nv(e)}},eT=function(e){return function(){return rv(e)}},tT=function(e){return function(){return xv.getColorCols(e)}},nT=function(e){return{colorPicker:QS(e),hasCustomColors:ZS(e),getColors:eT(e),getColorCols:tT(e)}},rT=function(e){return function(){return function(e){return e.getParam("draggable_modal",!1,"boolean")}(e)}},oT=function(e){return{isDraggableModal:rT(e)}},iT=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",icon:"bold",format:"bold"},{title:"Italic",icon:"italic",format:"italic"},{title:"Underline",icon:"underline",format:"underline"},{title:"Strikethrough",icon:"strike-through",format:"strikethrough"},{title:"Superscript",icon:"superscript",format:"superscript"},{title:"Subscript",icon:"subscript",format:"subscript"},{title:"Code",icon:"code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",icon:"align-left",format:"alignleft"},{title:"Center",icon:"align-center",format:"aligncenter"},{title:"Right",icon:"align-right",format:"alignright"},{title:"Justify",icon:"align-justify",format:"alignjustify"}]}],aT=function(e){return U(e,(function(e,t){if(le(t,"items")){var n=aT(t.items);return{customFormats:e.customFormats.concat(n.customFormats),formats:e.formats.concat([{title:t.title,items:n.formats}])}}if(function(e){return le(e,"inline")}(t)||function(e){return le(e,"block")}(t)||function(e){return le(e,"selector")}(t)){var r="custom-"+t.title.toLowerCase();return{customFormats:e.customFormats.concat([{name:r,format:t}]),formats:e.formats.concat([{title:t.title,format:r,icon:t.icon}])}}return d(d({},e),{formats:e.formats.concat(t)})}),{customFormats:[],formats:[]})},uT=function(e){return function(e){return y.from(e.getParam("style_formats")).filter(E)}(e).map((function(t){var n=function(e,t){var n=aT(t),r=function(t){H(t,(function(t){e.formatter.has(t.name)||e.formatter.register(t.name,t.format)}))};return e.formatter?r(n.customFormats):e.on("init",(function(){r(n.customFormats)})),n.formats}(e,t);return function(e){return e.getParam("style_formats_merge",!1,"boolean")}(e)?iT.concat(n):n})).getOr(iT)},sT=function(e,t,n){var r={type:"formatter",isSelected:t(e.format),getStylePreview:n(e.format)};return me(e,r)},cT=function(e,t,n,r){var i=function(t){return F(t,(function(t){var a=te(t);if(ze(t,"items")){var u=i(t.items);return me(function(e){var t={type:"submenu",isSelected:o(!1),getStylePreview:function(){return y.none()}};return me(e,t)}(t),{getStyleItems:function(){return u}})}return ze(t,"format")?function(e){return sT(e,n,r)}(t):1===a.length&&B(a,"title")?me(t,{type:"separator"}):function(t){var o=Yo(t.title),i={type:"formatter",format:o,isSelected:n(o),getStylePreview:r(o)},a=me(t,i);return e.formatter.register(o,a),a}(t)}))};return i(t)},lT=function(e){var t=function(t){return function(){return e.formatter.match(t)}},n=function(t){return function(){var n=e.formatter.get(t);return void 0!==n?y.some({tag:n.length>0&&(n[0].inline||n[0].block)||"div",styleAttr:e.formatter.getCssText(t)}):y.none()}},r=function(e){var t=e.items;return void 0!==t&&t.length>0?Y(t,r):[e.format]},o=an([]),i=an([]),a=an([]),u=an([]),s=an(!1);e.on("init",(function(){var a=uT(e),u=cT(e,a,t,n);o.set(u),i.set(Y(u,r))})),e.on("addStyleModifications",(function(o){var i=cT(e,o.items,t,n);a.set(i),s.set(o.replace),u.set(Y(i,r))}));return{getData:function(){var e=s.get()?[]:o.get(),t=a.get();return e.concat(t)},getFlattenedKeys:function(){var e=s.get()?[]:i.get(),t=u.get();return e.concat(t)}}},fT=Kk.trim,dT=function(e){return function(t){if(t&&1===t.nodeType){if(t.contentEditable===e)return!0;if(t.getAttribute("data-mce-contenteditable")===e)return!0}return!1}},pT=dT("true"),mT=dT("false"),hT=function(e,t,n,r,o){return{type:e,title:t,url:n,level:r,attach:o}},gT=function(e){return e.innerText||e.textContent},vT=function(e){return function(e){return e&&"A"===e.nodeName&&void 0!==(e.id||e.name)}(e)&&yT(e)},bT=function(e){return e&&/^(H[1-6])$/.test(e.nodeName)},yT=function(e){return function(e){for(;e=e.parentNode;){var t=e.contentEditable;if(t&&"inherit"!==t)return pT(e)}return!1}(e)&&!mT(e)},wT=function(e){return bT(e)&&yT(e)},xT=function(e){var t=function(e){return e.id?e.id:Yo("h")}(e);return hT("header",gT(e),"#"+t,function(e){return bT(e)?parseInt(e.nodeName.substr(1),10):0}(e),(function(){e.id=t}))},CT=function(e){var t=e.id||e.name,r=gT(e);return hT("anchor",r||"#"+t,"#"+t,0,n)},kT=function(e){var t,n;return t="h1,h2,h3,h4,h5,h6,a:not([href])",n=e,F(Bs(sn.fromDom(n),t),(function(e){return e.dom()}))},ST=function(e){return fT(e.title).length>0},TT=function(e){var t=kT(e);return j(function(e){return F(j(e,wT),xT)}(t).concat(function(e){return F(j(e,vT),CT)}(t)),ST)},ET="tinymce-url-history",OT=function(e){return S(e)&&/^https?/.test(e)},_T=function(e){return T(e)&&ue(e,(function(e){return!(E(t=e)&&t.length<=5&&X(t,OT));var t})).isNone()},AT=function(){var e,n=t.localStorage.getItem(ET);if(null===n)return{};try{e=JSON.parse(n)}catch(e){if(e instanceof SyntaxError)return t.console.log("Local storage "+ET+" was not valid JSON",e),{};throw e}return _T(e)?e:(t.console.log("Local storage "+ET+" was not valid format",e),{})},DT=function(e){var t=AT();return Object.prototype.hasOwnProperty.call(t,e)?t[e]:[]},NT=function(e,n){if(OT(e)){var r=AT(),o=Object.prototype.hasOwnProperty.call(r,n)?r[n]:[],i=j(o,(function(t){return t!==e}));r[n]=[e].concat(i).slice(0,5),function(e){if(!_T(e))throw new Error("Bad format for history:\n"+JSON.stringify(e));t.localStorage.setItem(ET,JSON.stringify(e))}(r)}},MT=Object.prototype.hasOwnProperty,RT=function(e){return!!e},zT=function(e){return oe(Kk.makeMap(e,/[, ]/),RT)},IT=function(e,t,n){var r,o,i=(r=e,o=t,MT.call(r,o)?y.some(r[o]):y.none()).getOr(n);return S(i)?y.some(i):y.none()},BT=function(e){return y.some(e.file_picker_callback).filter(_)},PT=function(e,t){var n=function(e){var t=y.some(e.file_picker_types).filter(RT),n=y.some(e.file_browser_callback_types).filter(RT),r=t.or(n).map(zT);return BT(e).fold((function(){return!1}),(function(e){return r.fold((function(){return!0}),(function(e){return te(e).length>0&&e}))}))}(e);return O(n)?n?BT(e):y.none():n[t]?BT(e):y.none()},LT=function(e){return{getHistory:DT,addToHistory:NT,getLinkInformation:function(){return function(e){return!1===e.settings.typeahead_urls?y.none():y.some({targets:TT(e.getBody()),anchorTop:IT(e.settings,"anchor_top","#top").getOrUndefined(),anchorBottom:IT(e.settings,"anchor_bottom","#bottom").getOrUndefined()})}(e)},getValidationHandler:function(){return function(e){return y.from(e.settings.file_picker_validator_handler).filter(_).orThunk((function(){return y.from(e.settings.filepicker_validator_handler).filter(_)}))}(e)},getUrlPicker:function(t){return function(e,t){return PT(e.settings,t).map((function(n){return function(r){return hy((function(o){var i=Kk.extend({filetype:t},y.from(r.meta).getOr({}));n.call(e,(function(e,t){if(!S(e))throw new Error("Expected value to be string");if(void 0!==t&&!T(t))throw new Error("Expected meta to be a object");o({value:e,meta:t})}),r.value,i)}))}}))}(e,t)}}},FT=function(e,t,n,r){var o=an(!1),i={shared:{providers:{icons:function(){return t.ui.registry.getAll().icons},menuItems:function(){return t.ui.registry.getAll().menuItems},translate:Oh.translate},interpreter:function(e){return function(e,t){return US(jS,e,t)}(e,i)},anchors:JS(t,n,r),getSink:function(){return C.value(e)}},urlinput:LT(t),styleselect:lT(t),colorinput:nT(t),dialog:oT(t),isContextMenuOpen:function(){return o.get()},setContextMenuState:function(e){return o.set(e)}};return i},HT=o([It("dom"),Kt("shell",!0),wl("toolbarBehaviours",[Mp])]),jT=o([Gl({name:"groups",overrides:function(e){return{behaviours:Nu([Mp.config({})])}}})]),VT=Sf({name:"Toolbar",configFields:HT(),partFields:jT(),factory:function(e,n,r,o){var i=function(t){return e.shell?y.some(t):sf(t,e,"groups")},a=e.shell?{behaviours:[Mp.config({})],components:[]}:{behaviours:[],components:n};return{uid:e.uid,dom:e.dom,components:a.components,behaviours:Cl(e.toolbarBehaviours,a.behaviours),apis:{setGroups:function(e,n){i(e).fold((function(){throw t.console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")}),(function(e){Mp.set(e,n)}))}},domModification:{attributes:{role:"group"}}}},apis:{setGroups:function(e,t,n){e.setGroups(t,n)}}}),UT=ho("within","extra","withinWidth"),$T=function(e,t,n){var r,i=(r=function(e,t){var r=n(e);return y.some({element:o(e),start:o(t),finish:o(t+r),width:o(r)})},U(e,(function(e,t){return r(t,e.len).fold(o(e),(function(t){return{len:t.finish(),list:e.list.concat([t])}}))}),{len:0,list:[]}).list),a=j(i,(function(e){return e.finish()<=t})),u=V(a,(function(e,t){return e+t.width()}),0),s=i.slice(a.length);return{within:o(a),extra:o(s),withinWidth:o(u)}},qT=function(e){return F(e,(function(e){return e.element()}))},WT=function(e,t,n,r){var o=function(e,t,n){var r=$T(t,e,n);return 0===r.extra().length?y.some(r):y.none()}(e,t,n).getOrThunk((function(){return $T(t,e-n(r),n)})),i=o.within(),a=o.extra(),u=o.withinWidth();return 1===a.length&&a[0].width()<=n(r)?function(e,t,n){var r=qT(e.concat(t));return UT(r,[],n)}(i,a,u):a.length>=1?function(e,t,n,r){var o=qT(e).concat([n]);return UT(o,qT(t),r)}(i,a,r,u):function(e,t,n){return UT(qT(e),[],n)}(i,0,u)},YT=function(e,t){var n=F(t,(function(e){return na(e)}));VT.setGroups(e,n)},XT=function(e,t,n,r){var o=cf(e,t,"primary"),i=sf(e,t,"overflow-button"),a=By.getCoupled(e,"overflowGroup");Ii(o.element(),"visibility","hidden");var u=function(e,t){return e.bind((function(e){return Uu(e.element()).bind((function(t){return e.getSystem().getByDom(t).toOption()}))})).orThunk((function(){return t.filter(Lp.isFocused)}))}(n,i);n.each((function(e){VT.setGroups(e,[])}));var s=t.builtGroups.get();YT(o,s.concat([a]));var c=ma(o.element()),l=WT(c,s,(function(e){return ma(e.element())}),a);0===l.extra().length?(Mp.remove(o,a),n.each((function(e){VT.setGroups(e,[])}))):(YT(o,l.within()),n.each((function(e){YT(e,l.extra())}))),ji(o.element(),"visibility"),Vi(o.element()),n.each((function(e){i.each((function(t){return Kp.set(t,r(e))})),u.each(Lp.focus)}))},GT=o([It("items"),Wa(["itemSelector"]),wl("tgroupBehaviours",[Op])]),KT=o([Kl({name:"items",unit:"item"})]),JT=Sf({name:"ToolbarGroup",configFields:GT(),partFields:KT(),factory:function(e,t,n,r){return{uid:e.uid,dom:e.dom,components:t,behaviours:Cl(e.tgroupBehaviours,[Op.config({mode:"flow",selector:e.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}}}),QT=o([wl("splitToolbarBehaviours",[By]),on("builtGroups",(function(){return an([])}))]),ZT=function(e,t,n,r,o){return{uid:e.uid,dom:e.dom,components:t,behaviours:Cl(e.splitToolbarBehaviours,[By.config({others:d(d({},o.coupling),{overflowGroup:function(e){return JT.sketch(d(d({},r["overflow-group"]()),{items:[Dm.sketch(d(d({},r["overflow-button"]()),{action:function(t){Yr(e,"alloy.toolbar.toggle")}}))]}))}})}),Rp("toolbar-toggle-events",[no("alloy.toolbar.toggle",(function(e){o.apis.toggle(e)}))])]),apis:d({setGroups:function(t,n){!function(t,n){var r=F(n,t.getSystem().build);e.builtGroups.set(r)}(t,n),o.apis.refresh(t)},getMoreButton:function(t){return function(t){return sf(t,e,"overflow-button")}(t)}},o.apis),domModification:{attributes:{role:"group"}}}},eE=o([Wa(["overflowToggledClass"]),It("getAnchor"),Xt("getOverflowBounds"),It("lazySink")].concat(QT())),tE=o([Yl({factory:VT,schema:HT(),name:"primary"}),Xl({factory:VT,schema:HT(),name:"overflow",overrides:function(e){return{toolbarBehaviours:Nu([Op.config({mode:"cyclic",onEscape:function(t){return sf(t,e,"overflow-button").each(Lp.focus),y.none()}})])}}}),Xl({name:"overflow-button",overrides:function(e){return{dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:Nu([Kp.config({toggleClass:e.markers.overflowToggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])}}}),Xl({name:"overflow-group"})]),nE=function(e){return e.getSystem().isConnected()},rE=function(e,t,n){var r=t.lazySink(e).getOrDie(),o=t.getAnchor(e),i=t.getOverflowBounds.map((function(e){return e()}));Nc.positionWithinBounds(r,o,n,i)},oE=function(e,t){var n=Zc.getState(By.getCoupled(e,"sandbox"));XT(e,t,n,nE),n.each((function(n){return rE(e,t,n)}))},iE=function(e,t){Zc.getState(By.getCoupled(e,"sandbox")).each((function(n){return rE(e,t,n)}))},aE=Sf({name:"SplitFloatingToolbar",configFields:eE(),partFields:tE(),factory:function(e,t,n,r){return ZT(e,t,0,r,{coupling:{sandbox:function(t){return function(e,t){var n=Na();return{dom:{tag:"div",attributes:{id:n.id()}},behaviours:Nu([Op.config({mode:"special",onEscape:function(e){return Zc.close(e),y.some(!0)}}),Zc.config({onOpen:function(r,o){oE(e,t),sf(e,t,"overflow-button").each((function(e){Kp.on(e),n.link(e.element())})),Op.focusIn(o)},onClose:function(){sf(e,t,"overflow-button").each((function(e){Kp.off(e),Lp.focus(e),n.unlink(e.element())}))},isPartOf:function(t,n,r){return Ra(n,r)||Ra(e,r)},getAttachPoint:function(){return t.lazySink(e).getOrDie()}}),Fu.config({channels:d({},al({isExtraPart:o(!1),doReposition:function(){return iE(e,t)}}))})])}}(t,e)}},apis:{refresh:function(t){return oE(t,e)},toggle:function(e){return function(e,t,n){var r=By.getCoupled(e,"sandbox");Zc.isOpen(r)?Zc.close(r):Zc.open(r,n.overflow())}(e,0,r)},getOverflow:function(e){return Zc.getState(By.getCoupled(e,"sandbox"))},reposition:function(t){return iE(t,e)}}})},apis:{setGroups:function(e,t,n){e.setGroups(t,n)},refresh:function(e,t){e.refresh(t)},reposition:function(e,t){e.reposition(t)},getMoreButton:function(e,t){return e.getMoreButton(t)},getOverflow:function(e,t){return e.getOverflow(t)},toggle:function(e,t){e.toggle(t)}}}),uE=function(e,t){return t.getAnimationRoot.fold((function(){return e.element()}),(function(t){return t(e)}))},sE=function(e){return e.dimension.property},cE=function(e,t){return e.dimension.getDimension(t)},lE=function(e,t){var n=uE(e,t);Ni(n,[t.shrinkingClass,t.growingClass])},fE=function(e,t){_i(e.element(),t.openClass),Ei(e.element(),t.closedClass),Ii(e.element(),sE(t),"0px"),Vi(e.element())},dE=function(e,t){_i(e.element(),t.closedClass),Ei(e.element(),t.openClass),ji(e.element(),sE(t))},pE=function(e,t,n,r){n.setCollapsed(),Ii(e.element(),sE(t),cE(t,e.element())),Vi(e.element()),lE(e,t),fE(e,t),t.onStartShrink(e),t.onShrunk(e)},mE=function(e,t,n,r){var o=r.getOrThunk((function(){return cE(t,e.element())}));n.setCollapsed(),Ii(e.element(),sE(t),o),Vi(e.element());var i=uE(e,t);_i(i,t.growingClass),Ei(i,t.shrinkingClass),fE(e,t),t.onStartShrink(e)},hE=function(e,t,n){var r=cE(t,e.element());("0px"===r?pE:mE)(e,t,n,y.some(r))},gE=function(e,t,n){var r=uE(e,t),o=Ai(r,t.shrinkingClass),i=cE(t,e.element());dE(e,t);var a=cE(t,e.element());(o?function(){Ii(e.element(),sE(t),i),Vi(e.element())}:function(){fE(e,t)})(),_i(r,t.shrinkingClass),Ei(r,t.growingClass),dE(e,t),Ii(e.element(),sE(t),a),n.setExpanded(),t.onStartGrow(e)},vE=function(e,t,n){var r=uE(e,t);return!0===Ai(r,t.growingClass)},bE=function(e,t,n){var r=uE(e,t);return!0===Ai(r,t.shrinkingClass)},yE=Object.freeze({refresh:function(e,t,n){if(n.isExpanded()){ji(e.element(),sE(t));var r=cE(t,e.element());Ii(e.element(),sE(t),r)}},grow:function(e,t,n){n.isExpanded()||gE(e,t,n)},shrink:function(e,t,n){n.isExpanded()&&hE(e,t,n)},immediateShrink:function(e,t,n){n.isExpanded()&&pE(e,t,n)},hasGrown:function(e,t,n){return n.isExpanded()},hasShrunk:function(e,t,n){return n.isCollapsed()},isGrowing:vE,isShrinking:bE,isTransitioning:function(e,t,n){return!0===vE(e,t)||!0===bE(e,t)},toggleGrow:function(e,t,n){(n.isExpanded()?hE:gE)(e,t,n)},disableTransitions:lE}),wE=Object.freeze({exhibit:function(e,t){var n=t.expanded;return pi(n?{classes:[t.openClass],styles:{}}:{classes:[t.closedClass],styles:Ne(t.dimension.property,"0px")})},events:function(e,t){return Zr([co(yr(),(function(n,r){r.event().raw().propertyName===e.dimension.property&&(lE(n,e),t.isExpanded()&&ji(n.element(),e.dimension.property),(t.isExpanded()?e.onGrown:e.onShrunk)(n))}))])}}),xE=[It("closedClass"),It("openClass"),It("shrinkingClass"),It("growingClass"),$t("getAnimationRoot"),Xa("onShrunk"),Xa("onStartShrink"),Xa("onGrown"),Xa("onStartGrow"),Kt("expanded",!1),Bt("dimension",Tt("property",{width:[Qa("property","width"),Qa("getDimension",(function(e){return ma(e)+"px"}))],height:[Qa("property","height"),Qa("getDimension",(function(e){return aa(e)+"px"}))]}))],CE=Ru({fields:xE,name:"sliding",active:wE,apis:yE,state:Object.freeze({init:function(e){var t=an(e.expanded);return fi({isExpanded:function(){return!0===t.get()},isCollapsed:function(){return!1===t.get()},setCollapsed:a(t.set,!1),setExpanded:a(t.set,!0),readState:function(){return"expanded: "+t.get()}})}})}),kE=o([Wa(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),Xa("onOpened"),Xa("onClosed")].concat(QT())),SE=o([Yl({factory:VT,schema:HT(),name:"primary"}),Yl({factory:VT,schema:HT(),name:"overflow",overrides:function(e){return{toolbarBehaviours:Nu([CE.config({dimension:{property:"height"},closedClass:e.markers.closedClass,openClass:e.markers.openClass,shrinkingClass:e.markers.shrinkingClass,growingClass:e.markers.growingClass,onShrunk:function(t){sf(t,e,"overflow-button").each((function(e){Kp.off(e),Lp.focus(e)})),e.onClosed(t)},onGrown:function(t){Op.focusIn(t),e.onOpened(t)},onStartGrow:function(t){sf(t,e,"overflow-button").each(Kp.on)}}),Op.config({mode:"acyclic",onEscape:function(t){return sf(t,e,"overflow-button").each(Lp.focus),y.some(!0)}})])}}}),Xl({name:"overflow-button",overrides:function(e){return{buttonBehaviours:Nu([Kp.config({toggleClass:e.markers.overflowToggledClass,aria:{mode:"pressed"},toggleOnExecute:!1})])}}}),Xl({name:"overflow-group"})]),TE=function(e){return CE.hasGrown(e)},EE=function(e,t){var n=sf(e,t,"overflow");XT(e,t,n,TE),n.each(CE.refresh)},OE=Sf({name:"SplitSlidingToolbar",configFields:kE(),partFields:SE(),factory:function(e,t,n,r){return ZT(e,t,0,r,{coupling:{},apis:{refresh:function(t){return EE(t,e)},toggle:function(t){return function(e,t){sf(e,t,"overflow").each((function(n){EE(e,t),CE.toggleGrow(n)}))}(t,e)},getOverflow:function(t){return sf(t,e,"overflow")}}})},apis:{setGroups:function(e,t,n){e.setGroups(t,n)},refresh:function(e,t){e.refresh(t)},getMoreButton:function(e,t){return e.getMoreButton(t)},getOverflow:function(e,t){return e.getOverflow(t)},toggle:function(e,t){e.toggle(t)}}}),_E=o(Yo("toolbar-height-change")),AE=ut([(iS="readonly",Bt(iS,Dt))]),DE=function(e,t){var n=e.outerContainer;!function(e,t){var n=e.outerContainer.element();t&&(e.mothership.broadcastOn([el()],{target:n}),e.uiMothership.broadcastOn([el()],{target:n})),e.mothership.broadcastOn(["silver.readonly"],{readonly:t}),e.uiMothership.broadcastOn(["silver.readonly"],{readonly:t})}(e,t),Fn("*",n.element()).forEach((function(e){n.getSystem().getByDom(e).each((function(e){e.hasConfigured(og)&&og.set(e,t)}))}))},NE=function(e,t){e.on("init",(function(){e.readonly&&DE(t,!0)})),e.on("SwitchMode",(function(){return DE(t,e.readonly)})),function(e){return e.getParam("readonly",!1,"boolean")}(e)&&e.setMode("readonly")},ME=function(e){var t;return Fu.config({channels:(t={},t["silver.readonly"]={schema:AE,onReceive:function(t,n){e(t).each((function(e){!function(e,t){Fn("*",e.element()).forEach((function(n){e.getSystem().getByDom(n).each((function(e){e.hasConfigured(og)&&og.set(e,t)}))}))}(e,n.readonly)}))}},t)})},RE=function(e){var t=e.title.fold((function(){return{}}),(function(e){return{attributes:{title:e}}}));return{dom:d({tag:"div",classes:["tox-toolbar__group"]},t),components:[JT.parts().items({})],items:e.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled])"},tgroupBehaviours:Nu([Ay.config({}),Lp.config({})])}},zE=function(e){return JT.sketch(RE(e))},IE=function(e,t,n){var r=lo((function(t){var n=F(e.initGroups,zE);VT.setGroups(t,n)}));return Nu([Op.config({mode:t,onEscape:e.onEscape,selector:".tox-toolbar__group"}),Rp("toolbar-events",[r]),ME(n)])},BE=function(e,t){var n=e.cyclicKeying?"cyclic":"acyclic";return{uid:e.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":RE({title:y.none(),items:[]}),"overflow-button":Tk({name:"more",icon:y.some("more-drawer"),disabled:!1,tooltip:y.some("More..."),primary:!1,borderless:!1},y.none(),e.backstage.shared.providers)},splitToolbarBehaviours:IE(e,n,t)}},PE=function(e){var t=BE(e,aE.getOverflow),n=aE.parts().primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return aE.sketch(d(d({},t),{lazySink:e.getSink,getAnchor:function(){return e.backstage.shared.anchors.toolbarOverflow()},getOverflowBounds:function(){var t=e.moreDrawerData.lazyHeader().element(),n=Ea(t),r=wo(t),o=Ea(r);return Sa(n.x()+4,o.y(),n.width()-8,o.height())},parts:d(d({},t.parts),{overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"]}}}),components:[n],markers:{overflowToggledClass:"tox-tbtn--enabled"}}))},LE=function(e){var t=OE.parts().primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),n=OE.parts().overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),r=BE(e,OE.getOverflow);return OE.sketch(d(d({},r),{components:[t,n],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:function(e){e.getSystem().broadcastOn([_E()],{type:"opened"})},onClosed:function(e){e.getSystem().broadcastOn([_E()],{type:"closed"})}}))},FE=function(e){var t=e.cyclicKeying?"cyclic":"acyclic";return VT.sketch({uid:e.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(e.type===kb.scrolling?["tox-toolbar--scrolling"]:[])},components:[VT.parts().groups({})],toolbarBehaviours:IE(e,t,o(y.none()))})},HE=[tn("disabled",!1),Yt("tooltip"),Yt("icon"),Yt("text"),nn("onSetup",(function(){return n}))],jE=ut([Lt("type"),Ht("onAction")].concat(HE)),VE=function(e){return wt("toolbarbutton",jE,e)},UE=[Yt("text"),Yt("tooltip"),Yt("icon"),Ht("fetch"),nn("onSetup",(function(){return n}))],$E=ut(m([Lt("type")],UE)),qE=function(e){return wt("menubutton",$E,e)},WE=ut([Lt("type"),Yt("tooltip"),Yt("icon"),Yt("text"),Xt("select"),Ht("fetch"),nn("onSetup",(function(){return n})),en("presets","normal",["normal","color","listpreview"]),Kt("columns",1),Ht("onAction"),Ht("onItemAction")]),YE=[tn("active",!1)].concat(HE),XE=ut(YE.concat([Lt("type"),Ht("onAction")])),GE=function(e){return wt("ToggleButton",XE,e)},KE=[nn("predicate",(function(){return!1})),en("scope","node",["node","editor"]),en("position","selection",["node","selection","line"])],JE=HE.concat([Kt("type","contextformbutton"),Kt("primary",!1),Ht("onAction"),on("original",i)]),QE=YE.concat([Kt("type","contextformbutton"),Kt("primary",!1),Ht("onAction"),on("original",i)]),ZE=HE.concat([Kt("type","contextformbutton")]),eO=YE.concat([Kt("type","contextformtogglebutton")]),tO=Tt("type",{contextformbutton:JE,contextformtogglebutton:QE}),nO=ut([Kt("type","contextform"),nn("initValue",(function(){return""})),Yt("label"),Ut("commands",tO),qt("launch",Tt("type",{contextformbutton:ZE,contextformtogglebutton:eO}))].concat(KE)),rO=ut([Kt("type","contexttoolbar"),Lt("items")].concat(KE)),oO=Object.freeze({getState:function(e,t,n){return n}}),iO=Object.freeze({events:function(e,t){var n=function(n,r){e.updateState.each((function(e){var o=e(n,r);t.set(o)})),e.renderComponents.each((function(e){var o=e(r,t.get()),i=F(o,n.getSystem().build);Ic(n,i)}))};return Zr([no(Tr(),(function(t,r){var o=e.channel;B(r.channels(),o)&&n(t,r.data())})),lo((function(t,r){e.initialData.each((function(e){n(t,e)}))}))])}}),aO=Object.freeze({init:function(e){var t=an(y.none());return{readState:function(){return t.get().fold((function(){return"none"}),(function(e){return e}))},get:function(){return t.get()},set:function(e){return t.set(e)},clear:function(){return t.set(y.none())}}}}),uO=[It("channel"),$t("renderComponents"),$t("updateState"),$t("initialData")],sO=Ru({fields:uO,name:"reflecting",active:iO,apis:oO,state:aO}),cO=o([It("toggleClass"),It("fetch"),Ka("onExecute"),Kt("getHotspot",y.some),Kt("getAnchorOverrides",o({})),Kt("layouts",y.none()),Ka("onItemExecute"),$t("lazySink"),It("dom"),Xa("onOpen"),wl("splitDropdownBehaviours",[By,Op,Lp]),Kt("matchWidth",!1),Kt("useMinWidth",!1),Kt("eventOrder",{}),$t("role")].concat(Xy())),lO=Yl({factory:Dm,schema:[It("dom")],name:"arrow",defaults:function(e){return{buttonBehaviours:Nu([Lp.revoke()])}},overrides:function(e){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(t){t.getSystem().getByUid(e.uid).each(Gr)},buttonBehaviours:Nu([Kp.config({toggleOnExecute:!1,toggleClass:e.toggleClass})])}}}),fO=Yl({factory:Dm,schema:[It("dom")],name:"button",defaults:function(e){return{buttonBehaviours:Nu([Lp.revoke()])}},overrides:function(e){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(t){t.getSystem().getByUid(e.uid).each((function(n){e.onExecute(n,t)}))}}}}),dO=o([lO,fO,Gl({factory:{sketch:function(e){return{uid:e.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:e.text}}}},schema:[It("text")],name:"aria-descriptor"}),Xl({schema:[qa()],name:"menu",defaults:function(e){return{onExecute:function(t,n){t.getSystem().getByUid(e.uid).each((function(r){e.onItemExecute(r,t,n)}))}}}}),Ly()]),pO=Sf({name:"SplitDropdown",configFields:cO(),partFields:dO(),factory:function(e,t,r,o){var i=function(e){_f.getCurrent(e).each((function(e){Ff.highlightFirst(e),Op.focusIn(e)}))},a=function(t){Vy(e,(function(e){return e}),t,o,i,cy.HighlightFirst).get(n)},u=function(t){var n=cf(t,e,"button");return Gr(n),y.some(!0)},s=he(Zr([lo((function(t,n){sf(t,e,"aria-descriptor").each((function(e){var n=Yo("aria");Po(e.element(),"id",n),Po(t.element(),"aria-describedby",n)}))}))]),Qp(y.some(a))),c={repositionMenus:function(e){Kp.isOn(e)&&Yy(e)}};return{uid:e.uid,dom:e.dom,components:t,apis:c,eventOrder:d(d({},e.eventOrder),{"alloy.execute":["disabling","toggling","alloy.base.behaviour"]}),events:s,behaviours:Cl(e.splitDropdownBehaviours,[By.config({others:{sandbox:function(t){var n=cf(t,e,"arrow");return Wy(e,t,{onOpen:function(){Kp.on(n),Kp.on(t)},onClose:function(){Kp.off(n),Kp.off(t)}})}}}),Op.config({mode:"special",onSpace:u,onEnter:u,onDown:function(e){return a(e),y.some(!0)}}),Lp.config({}),Kp.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:e.role.getOr("button"),"aria-haspopup":!0}}}},apis:{repositionMenus:function(e,t){return e.repositionMenus(t)}}}),mO=function(e){return{isDisabled:function(){return og.isDisabled(e)},setDisabled:function(t){return og.set(e,t)}}},hO=function(e){return{setActive:function(t){Kp.set(e,t)},isActive:function(){return Kp.isOn(e)},isDisabled:function(){return og.isDisabled(e)},setDisabled:function(t){return og.set(e,t)}}},gO=function(e,t){return e.map((function(e){return{"aria-label":t.translate(e),title:t.translate(e)}})).getOr({})},vO=Yo("focus-button"),bO=["checklist","ordered-list"],yO=["indent","outdent","table-insert-column-after","table-insert-column-before","unordered-list"],wO=function(e,t,n,r,o,i){var a,u=function(e){return Oh.isRtl()&&B(bO,e)?e+"-rtl":e},s=Oh.isRtl()&&e.exists((function(e){return B(yO,e)}));return{dom:{tag:"button",classes:["tox-tbtn"].concat(t.isSome()?["tox-tbtn--select"]:[]).concat(s?["tox-tbtn__icon-rtl"]:[]),attributes:gO(n,i)},components:hg([e.map((function(e){return uk(u(e),i.icons)})),t.map((function(e){return ck(e,"tox-tbtn",i)}))]),eventOrder:(a={},a[ur()]=["focusing","alloy.base.behaviour","common-button-display-events"],a),buttonBehaviours:Nu([Rp("common-button-display-events",[no(ur(),(function(e,t){t.event().prevent(),Yr(e,vO)}))])].concat(r.map((function(n){return sO.config({channel:n,initialData:{icon:e,text:t},renderComponents:function(e,t){return hg([e.icon.map((function(e){return uk(u(e),i.icons)})),e.text.map((function(e){return ck(e,"tox-tbtn",i)}))])}})})).toArray()).concat(o.getOr([])))}},xO=function(e,t,r){var o,i=an(n),a=wO(e.icon,e.text,e.tooltip,y.none(),y.none(),r);return Dm.sketch({dom:a.dom,components:a.components,eventOrder:fk,buttonBehaviours:Nu([Rp("toolbar-button-events",[(o={onAction:e.onAction,getApi:t.getApi},mo((function(e,t){cg(o,e)((function(t){Xr(e,lk,{buttonApi:t}),o.onAction(t)}))}))),lg(t,i),fg(t,i)]),sg(e.disabled)].concat(t.toolbarButtonBehaviours))})},CO=function(e,t,n){return xO(e,{toolbarButtonBehaviours:[].concat(n.length>0?[Rp("toolbarButtonWith",n)]:[]),getApi:mO,onSetup:e.onSetup},t)},kO=function(e,t,n){return me(xO(e,{toolbarButtonBehaviours:[Mp.config({}),Kp.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(n.length>0?[Rp("toolbarToggleButtonWith",n)]:[]),getApi:hO,onSetup:e.onSetup},t))},SO=function(e,t,n){return function(r){return hy((function(e){return t.fetch(e)})).map((function(o){return y.from(Jv(me(Iv(Yo("menu-value"),o,(function(n){t.onItemAction(e(r),n)}),t.columns,t.presets,dg.CLOSE_ON_EXECUTE,t.select.getOr((function(){return!1})),n),{movement:Pv(t.columns,t.presets),menuBehaviours:vh("auto"!==t.columns?[]:[lo((function(e,n){hh(e,4,Rh(t.presets)).each((function(t){var n=t.numRows,r=t.numColumns;Op.setGridSize(e,n,r)}))}))])})))}))}},TO=function(e,t){return no(lk,(function(n,r){var o=function(e){return{hide:function(){return Yr(e,Dr())},getValue:function(){return yl.getValue(e)}}}(e.get(n));t.onAction(o,r.event().buttonApi())}))},EO=function(e,t,n){var r={backstage:{shared:{providers:n}}};return"contextformtogglebutton"===t.type?function(e,t,n){var r=t.original,o=(r.primary,p(r,["primary"])),i=xt(GE(d(d({},o),{type:"togglebutton",onAction:function(){}})));return kO(i,n.backstage.shared.providers,[TO(e,t)])}(e,t,r):function(e,t,n){var r=t.original,o=(r.primary,p(r,["primary"])),i=xt(VE(d(d({},o),{type:"button",onAction:function(){}})));return CO(i,n.backstage.shared.providers,[TO(e,t)])}(e,t,r)},OO=function(e,t,n){var r=t.label.fold((function(){return{}}),(function(e){return{"aria-label":e}})),o=Nm(ay.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:t.initValue(),inputAttributes:r,selectOnFocus:!0,inputBehaviours:Nu([Op.config({mode:"special",onEnter:function(e){return i.findPrimary(e).map((function(e){return Gr(e),!0}))},onLeft:function(e,t){return t.cut(),y.none()},onRight:function(e,t){return t.cut(),y.none()}})])})),i=function(e,t,n){var r=F(t,(function(t){return Nm(EO(e,t,n))}));return{asSpecs:function(){return F(r,(function(e){return e.asSpec()}))},findPrimary:function(e){return Ia(t,(function(t,n){return t.primary?y.from(r[n]).bind((function(t){return t.getOpt(e)})).filter(u(og.isDisabled)):y.none()}))}}}(o,t.commands,n.shared.providers);return FE({type:e,uid:Yo("context-toolbar"),initGroups:[{title:y.none(),items:[o.asSpec()]},{title:y.none(),items:i.asSpecs()}],onEscape:y.none,cyclicKeying:!0,backstage:n,getSink:function(){return C.error("")}})},_O=function(e,t){var n=Math.max(t.x(),e.x()),r=e.right()-n,o=t.width()-(n-t.x());return{x:n,width:Math.min(r,o)}},AO=function(e){var n=Rb(e)||zb(e)||Bb(e),r=ba(t.window),o=Ta(sn.fromDom(e.getContentAreaContainer()));return e.inline&&!n?function(e,t,n){var r=_O(t,n),o=r.x,i=r.width;return Sa(o,n.y(),i,n.height())}(0,o,r):e.inline?function(e,t,n){var r=_O(t,n),o=r.x,i=r.width,a=sn.fromDom(e.getContainer()),u=Aa(a,".tox-editor-header").getOr(a),s=Ta(u),c=n.height(),l=n.y();if(s.y()>=t.bottom()){var f=Math.min(c+l,s.y());return Sa(o,l,i,f-l)}var d=Math.max(l,s.bottom());return Sa(o,d,i,c-(d-l))}(e,o,r):function(e,t,n){var r=_O(t,n),o=r.x,i=r.width,a=sn.fromDom(e.getContainer()),u=Aa(a,".tox-editor-header").getOr(a),s=Ta(a),c=Ta(u),l=Math.max(n.y(),t.y(),c.bottom()),f=s.bottom()-l,d=n.height()-(l-n.y()),p=Math.min(f,d);return Sa(o,l,i,p)}(e,o,r)},DO=function(e,t){return Ia(t,(function(t){return t.predicate(e.dom())?y.some({toolbarApi:t,elem:e}):y.none()}))},NO=function(e,t){var n=function(e){return e.dom()===t.getBody()},r=sn.fromDom(t.selection.getNode());return DO(r,e.inNodeScope).orThunk((function(){return DO(r,e.inEditorScope).orThunk((function(){return function(e,t,n){for(var r=e.dom(),i=_(n)?n:o(!1);r.parentNode;){r=r.parentNode;var a=sn.fromDom(r),u=t(a);if(u.isSome())return u;if(i(a))break}return y.none()}(r,(function(t){return DO(t,e.inNodeScope)}),n)}))}))},MO=function(e,t){var n={},r=[],o=[],i={},a={},u=function(e,u){var s=xt(function(e){return wt("ContextForm",nO,e)}(u));n[e]=s,s.launch.map((function(n){i["form:"+e]=d(d({},u.launch),{type:"contextformtogglebutton"===n.type?"togglebutton":"button",onAction:function(){t(s)}})})),"editor"===s.scope?o.push(s):r.push(s),a[e]=s},s=function(e,t){(function(e){return wt("ContextToolbar",rO,e)})(t).each((function(n){"editor"===t.scope?o.push(n):r.push(n),a[e]=n}))},c=te(e);return H(c,(function(t){var n=e[t];"contextform"===n.type?u(t,n):"contexttoolbar"===n.type&&s(t,n)})),{forms:n,inNodeScope:r,inEditorScope:o,lookupTable:a,formNavigators:i}},RO=Yo("forward-slide"),zO=Yo("backward-slide"),IO=Yo("change-slide-event"),BO=function(e,t){return function(n){var r=an(y.none()),o=function(){n.setActive(e.formatter.match(t));var o=e.formatter.formatChanged(t,n.setActive).unbind;r.set(y.some(o))};return e.initialized?o():e.on("init",o),function(){return r.get().each((function(e){return e()}))}}},PO=function(e){return function(t){return function(){e.undoManager.transact((function(){e.focus(),e.execCommand("mceToggleFormat",!1,t.format)}))}}},LO=function(e,t,n){var r=function(e,r,i,a){var u=t.shared.providers.translate(e.title);if("separator"===e.type)return y.some({type:"separator",text:u});if("submenu"===e.type){var s=Y(e.getStyleItems(),(function(e){return o(e,r,a)}));return 0===r&&s.length<=0?y.none():y.some({type:"nestedmenuitem",text:u,disabled:s.length<=0,getSubmenuItems:function(){return Y(e.getStyleItems(),(function(e){return o(e,r,a)}))}})}return y.some(d({type:"togglemenuitem",text:u,active:e.isSelected(a),disabled:i,onAction:n.onAction(e)},e.getStylePreview().fold((function(){return{}}),(function(e){return{meta:{style:e}}}))))},o=function(e,t,o){var i="formatter"===e.type&&n.isInvalid(e);return 0===t?i?[]:r(e,t,!1,o).toArray():r(e,t,i,o).toArray()},i=function(e){var t=n.getCurrentValue(),r=n.shouldHide?0:1;return Y(e,(function(e){return o(e,r,t)}))};return{validateItems:i,getFetch:function(e,t){return function(n){var r=t(),o=i(r);n(wk(o,dg.CLOSE_ON_EXECUTE,e,!1))}}}},FO=function(e,t,n){var r=n.dataset,o="basic"===r.type?function(){return F(r.data,(function(e){return sT(e,n.isSelectedFor,n.getPreviewFor)}))}:r.getData;return{items:LO(0,t,n),getStyleItems:o}},HO=function(e,t,r){var o=FO(0,t,r),i=o.items,a=o.getStyleItems;return mk({text:r.icon.isSome()?y.none():y.some(""),icon:r.icon,tooltip:y.from(r.tooltip),role:y.none(),fetch:i.getFetch(t,a),onSetup:function(t){return r.setInitialValue.each((function(e){return e(t.getComponent())})),r.nodeChangeHandler.map((function(n){var r=n(t.getComponent());return e.on("NodeChange",r),function(){e.off("NodeChange",r)}})).getOr(n)},getApi:function(e){return{getComponent:function(){return e}}},columns:1,presets:"normal",classes:r.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[]},"tox-tbtn",t.shared)};!function(e){e[e.SemiColon=0]="SemiColon",e[e.Space=1]="Space"}(aS||(aS={}));var jO,VO=function(e,t,n,r){return{type:"basic",data:function(e){return F(e,(function(e){var t=e,n=e,r=e.split("=");return r.length>1&&(t=r[0],n=r[1]),{title:t,format:n}}))}(function(e,t){return t===aS.SemiColon?e.replace(/;$/,"").split(";"):e.split(" ")}(De(e.settings,t).getOr(n),r))}},UO=[{title:"Left",icon:"align-left",format:"alignleft"},{title:"Center",icon:"align-center",format:"aligncenter"},{title:"Right",icon:"align-right",format:"alignright"},{title:"Justify",icon:"align-justify",format:"alignjustify"}],$O=function(e){var t=function(t){var n=$(UO,(function(t){return e.formatter.match(t.format)})).fold((function(){return"left"}),(function(e){return e.title.toLowerCase()}));Xr(t,pk,{icon:"align-"+n})},n=y.some((function(e){return function(){return t(e)}})),r=y.some((function(e){return t(e)})),i={type:"basic",data:UO};return{tooltip:"Align",icon:y.some("align-left"),isSelectedFor:function(t){return function(){return e.formatter.match(t)}},getCurrentValue:o(y.none()),getPreviewFor:function(e){return function(){return y.none()}},onAction:PO(e),setInitialValue:r,nodeChangeHandler:n,dataset:i,shouldHide:!1,isInvalid:function(t){return!e.formatter.canApply(t.format)}}},qO=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],WO=function(e){var t=e.split(/\s*,\s*/);return F(t,(function(e){return e.replace(/^['"]+|['"]+$/g,"")}))},YO=function(e){var t=function(){var t=function(e){return e?WO(e)[0]:""},n=e.queryCommandValue("FontName"),r=i.data,o=n?n.toLowerCase():"";return{matchOpt:$(r,(function(e){var n=e.format;return n.toLowerCase()===o||t(n).toLowerCase()===t(o).toLowerCase()})).orThunk((function(){return function(e){var t;return 0===e.indexOf("-apple-system")&&(t=WO(e.toLowerCase()),X(qO,(function(e){return t.indexOf(e.toLowerCase())>-1})))}(o)?y.from({title:"System Font",format:o}):y.none()})),font:n}},n=function(e){var n=t(),r=n.matchOpt,o=n.font,i=r.fold((function(){return o}),(function(e){return e.title}));Xr(e,dk,{text:i})},r=y.some((function(e){return function(){return n(e)}})),o=y.some((function(e){return n(e)})),i=VO(e,"font_formats","Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats",aS.SemiColon);return{tooltip:"Fonts",icon:y.none(),isSelectedFor:function(e){return function(t){return t.exists((function(t){return t.format===e}))}},getCurrentValue:function(){return t().matchOpt},getPreviewFor:function(e){return function(){return y.some({tag:"div",styleAttr:-1===e.indexOf("dings")?"font-family:"+e:""})}},onAction:function(t){return function(){e.undoManager.transact((function(){e.focus(),e.execCommand("FontName",!1,t.format)}))}},setInitialValue:o,nodeChangeHandler:r,dataset:i,shouldHide:!1,isInvalid:function(){return!1}}},XO={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},GO=function(e,t){return/[0-9.]+px$/.test(e)?function(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n}(72*parseInt(e,10)/96,t||0)+"pt":e},KO=function(e){var t=function(){var t=y.none(),n=u.data,r=e.queryCommandValue("FontSize");if(r)for(var o=function(e){var o=GO(r,e),i=ce(XO,o).getOr("");t=$(n,(function(e){return e.format===r||e.format===o||e.format===i}))},i=3;t.isNone()&&i>=0;i--)o(i);return{matchOpt:t,px:r}},n=o(o(y.none())),r=function(e){var n=t(),r=n.matchOpt,o=n.px,i=r.fold((function(){return o}),(function(e){return e.title}));Xr(e,dk,{text:i})},i=y.some((function(e){return function(){return r(e)}})),a=y.some((function(e){return r(e)})),u=VO(e,"fontsize_formats","8pt 10pt 12pt 14pt 18pt 24pt 36pt",aS.Space);return{tooltip:"Font sizes",icon:y.none(),isSelectedFor:function(e){return function(t){return t.exists((function(t){return t.format===e}))}},getPreviewFor:n,getCurrentValue:function(){return t().matchOpt},onAction:function(t){return function(){e.undoManager.transact((function(){e.focus(),e.execCommand("FontSize",!1,t.format)}))}},setInitialValue:a,nodeChangeHandler:i,dataset:u,shouldHide:!1,isInvalid:function(){return!1}}},JO=function(e,t,n){var r=t();return Ia(n,(function(t){return $(r,(function(n){return e.formatter.matchNode(t,n.format)}))})).orThunk((function(){return e.formatter.match("p")?y.some({title:"Paragraph",format:"p"}):y.none()}))},QO=function(e){var t=e.selection.getStart(!0)||e.getBody();return e.dom.getParents(t,(function(){return!0}),e.getBody())},ZO=function(e){var t=function(t,n){var r=JO(e,(function(){return i.data}),t).fold((function(){return"Paragraph"}),(function(e){return e.title}));Xr(n,dk,{text:r})},n=y.some((function(e){return function(n){return t(n.parents,e)}})),r=y.some((function(n){var r=QO(e);t(r,n)})),i=VO(e,"block_formats","Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre",aS.SemiColon);return{tooltip:"Blocks",icon:y.none(),isSelectedFor:function(t){return function(){return e.formatter.match(t)}},getCurrentValue:o(y.none()),getPreviewFor:function(t){return function(){var n=e.formatter.get(t);return y.some({tag:n.length>0&&(n[0].inline||n[0].block)||"div",styleAttr:e.formatter.getCssText(t)})}},onAction:PO(e),setInitialValue:r,nodeChangeHandler:n,dataset:i,shouldHide:!1,isInvalid:function(t){return!e.formatter.canApply(t.format)}}},e_=function(e,t){var n=function(t,n){var r=function(e){var t=e.items;return void 0!==t&&t.length>0?Y(t,r):[{title:e.title,format:e.format}]},o=Y(uT(e),r),i=JO(e,(function(){return o}),t).fold((function(){return"Paragraph"}),(function(e){return e.title}));Xr(n,dk,{text:i})},r=y.some((function(e){return function(t){return n(t.parents,e)}})),i=y.some((function(t){var r=QO(e);n(r,t)}));return{tooltip:"Formats",icon:y.none(),isSelectedFor:function(t){return function(){return e.formatter.match(t)}},getCurrentValue:o(y.none()),getPreviewFor:function(t){return function(){var n=e.formatter.get(t);return void 0!==n?y.some({tag:n.length>0&&(n[0].inline||n[0].block)||"div",styleAttr:e.formatter.getCssText(t)}):y.none()}},onAction:PO(e),setInitialValue:i,nodeChangeHandler:r,shouldHide:e.getParam("style_formats_autohide",!1,"boolean"),isInvalid:function(t){return!e.formatter.canApply(t.format)},dataset:t}},t_=[{name:"history",items:["undo","redo"]},{name:"styles",items:["styleselect"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],n_=function(e,t){return function(n,r){var o=e(n).mapError((function(e){return kt(e)})).getOrDie();return t(o,r)}},r_={button:n_(VE,(function(e,t){return function(e,t){return CO(e,t,[])}(e,t.backstage.shared.providers)})),togglebutton:n_(GE,(function(e,t){return function(e,t){return kO(e,t,[])}(e,t.backstage.shared.providers)})),menubutton:n_(qE,(function(e,t){return Ck(e,"tox-tbtn",t.backstage,y.none())})),splitbutton:n_((function(e){return wt("SplitButton",WE,e)}),(function(e,t){return function(e,t){var r,o=Yo("channel-update-split-dropdown-display"),i=function(e){return{isDisabled:function(){return og.isDisabled(e)},setDisabled:function(t){return og.set(e,t)},setIconFill:function(t,n){Aa(e.element(),'svg path[id="'+t+'"], rect[id="'+t+'"]').each((function(e){Po(e,"fill",n)}))},setIconStroke:function(t,n){Aa(e.element(),'svg path[id="'+t+'"], rect[id="'+t+'"]').each((function(e){Po(e,"stroke",n)}))},setActive:function(t){Po(e.element(),"aria-pressed",t),Aa(e.element(),"span").each((function(n){e.getSystem().getByDom(n).each((function(e){return Kp.set(e,t)}))}))},isActive:function(){return Aa(e.element(),"span").exists((function(t){return e.getSystem().getByDom(t).exists(Kp.isOn)}))}}},a=an(n),u={getApi:i,onSetup:e.onSetup};return pO.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:he({"aria-pressed":!1},gO(e.tooltip,t.providers))},onExecute:function(t){e.onAction(i(t))},onItemExecute:function(e,t,n){},splitDropdownBehaviours:Nu([ug(!1),Rp("split-dropdown-events",[no(vO,Lp.focus),lg(u,a),fg(u,a)]),Zy.config({})]),eventOrder:(r={},r[Pr()]=["alloy.base.behaviour","split-dropdown-events"],r),toggleClass:"tox-tbtn--enabled",lazySink:t.getSink,fetch:SO(i,e,t.providers),parts:{menu:Dv(0,e.columns,e.presets)},components:[pO.parts().button(wO(e.icon,e.text,y.none(),y.some(o),y.some([Kp.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),t.providers)),pO.parts().arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:Rm("chevron-down",t.providers.icons)}}),pO.parts()["aria-descriptor"]({text:t.providers.translate("To open the popup, press Shift+Enter")})]})}(e,t.backstage.shared)})),styleSelectButton:function(e,t){return function(e,t){var n=d({type:"advanced"},t.styleselect);return HO(e,t,e_(e,n))}(e,t.backstage)},fontsizeSelectButton:function(e,t){return function(e,t){return HO(e,t,KO(e))}(e,t.backstage)},fontSelectButton:function(e,t){return function(e,t){return HO(e,t,YO(e))}(e,t.backstage)},formatButton:function(e,t){return function(e,t){return HO(e,t,ZO(e))}(e,t.backstage)},alignMenuButton:function(e,t){return function(e,t){return HO(e,t,$O(e))}(e,t.backstage)}},o_={styleselect:r_.styleSelectButton,fontsizeselect:r_.fontsizeSelectButton,fontselect:r_.fontSelectButton,formatselect:r_.formatButton,align:r_.alignMenuButton},i_=function(e){var n,r=e.toolbar,o=e.buttons;return!1===r?[]:void 0===r||!0===r?function(e){var t=F(t_,(function(t){var n=j(t.items,(function(t){return le(e,t)||le(o_,t)}));return{name:t.name,items:n}}));return j(t,(function(e){return e.items.length>0}))}(o):S(r)?(n=r.split("|"),F(n,(function(e){return{items:e.trim().split(" ")}}))):function(e){return D(e,(function(e){return le(e,"name")&&le(e,"items")}))}(r)?r:(t.console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])},a_=function(e,n,r,o,i){return ce(n,r.toLowerCase()).orThunk((function(){return i.bind((function(e){return Ia(e,(function(e){return ce(n,e+r.toLowerCase())}))}))})).fold((function(){return ce(o_,r.toLowerCase()).map((function(t){return t(e,o)})).orThunk((function(){return y.none()}))}),(function(e){return function(e,n){return ce(r_,e.type).fold((function(){return t.console.error("skipping button defined by",e),y.none()}),(function(t){return y.some(t(e,n))}))}(e,o)}))},u_=function(e,t,n,r){var o=i_(t),i=F(o,(function(o){var i=Y(o.items,(function(o){return 0===o.trim().length?[]:a_(e,t.buttons,o,n,r).toArray()}));return{title:y.from(e.translate(o.name)),items:i}}));return j(i,(function(e){return e.items.length>0}))},s_={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},c_={maxHeightFunction:Cc(),maxWidthFunction:$S()},l_={onLtr:function(){return[xu,Cu,yu,vu,wu,bu,_m,Am,Em,Sm,Om,Tm]},onRtl:function(){return[xu,Cu,wu,bu,yu,vu,_m,Am,Om,Tm,Em,Sm]}},f_={onLtr:function(){return[Cu,vu,bu,yu,wu,xu,_m,Am,Em,Sm,Om,Tm]},onRtl:function(){return[Cu,bu,vu,wu,yu,xu,_m,Am,Om,Tm,Em,Sm]}},d_=function(e,t,n,r){var o=Nn().deviceType.isTouch,i=ta(function(e){var t=an([]);return bm.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:function(e){t.set([]),bm.getContent(e).each((function(e){ji(e.element(),"visibility")})),_i(e.element(),"tox-pop--resizing"),ji(e.element(),"width")},inlineBehaviours:Nu([Rp("context-toolbar-events",[co(yr(),(function(e,t){bm.getContent(e).each((function(e){})),_i(e.element(),"tox-pop--resizing"),ji(e.element(),"width")})),no(IO,(function(e,t){ji(e.element(),"width");var n=ma(e.element());bm.setContent(e,t.event().contents()),Ei(e.element(),"tox-pop--resizing");var r=ma(e.element());Ii(e.element(),"width",n+"px"),bm.getContent(e).each((function(n){t.event().focus().bind((function(t){return ju(t),Uu(e.element())})).orThunk((function(){return Op.focusIn(n),Vu()}))})),Pm.setTimeout((function(){Ii(e.element(),"width",r+"px")}),0)})),no(RO,(function(e,n){bm.getContent(e).each((function(e){t.set(t.get().concat([{bar:e,focus:Vu()}]))})),Xr(e,IO,{contents:n.event().forwardContents(),focus:y.none()})})),no(zO,(function(e,n){Z(t.get()).each((function(n){t.set(t.get().slice(0,t.get().length-1)),Xr(e,IO,{contents:na(n.bar),focus:n.focus})}))}))]),Op.config({mode:"special",onEscape:function(n){return Z(t.get()).fold((function(){return e.onEscape()}),(function(e){return Yr(n,zO),y.some(!0)}))}})]),lazySink:function(){return C.value(e.sink)}})}({sink:n,onEscape:function(){return e.focus(),y.some(!0)}})),a=function(){return AO(e)},u=function(){if(o()&&r.backstage.isContextMenuOpen())return!0;var t,n,i,u,s,c,l=(t=f.get().map((function(e){return e.getBoundingClientRect()})).getOrThunk((function(){return e.selection.getRng().getBoundingClientRect()})),n=e.inline?ga().top():Ea(sn.fromDom(e.getBody())).y(),{y:t.top+n,bottom:t.bottom+n}),d=a();return i=l.y,u=l.bottom,s=d.y(),c=d.bottom(),!(Math.max(i,s)<=Math.min(u,c))},s=function(){bm.hide(i)},c=function(){l.get().each((function(e){var t=i.element();ji(t,"display"),u()?Ii(t,"display","none"):Nc.positionWithinBounds(n,e,i,y.some(a()))}))},l=an(y.none()),f=an(y.none()),d=an(null),p=function(t){return{dom:{tag:"div",classes:["tox-pop__dialog"]},components:[t],behaviours:Nu([Op.config({mode:"acyclic"}),Rp("pop-dialog-wrap-events",[lo((function(t){e.shortcuts.add("ctrl+F9","focus statusbar",(function(){return Op.focusIn(t)}))})),fo((function(t){e.shortcuts.remove("ctrl+F9")}))])])}},m=ge((function(){return MO(t,(function(e){var t=h(e);Xr(i,RO,{forwardContents:p(t)})}))})),h=function(t){var n,o,i=e.ui.registry.getAll().buttons,a=Pb(e)===kb.scrolling?kb.scrolling:kb.default,u=m();return"contexttoolbar"===t.type?(n=he(i,u.formNavigators),o=u_(e,{buttons:n,toolbar:t.items},r,y.some(["form:"])),FE({type:a,uid:Yo("context-toolbar"),initGroups:o,onEscape:y.none,cyclicKeying:!0,backstage:r.backstage,getSink:function(){return C.error("")}})):OO(a,t,r.backstage)};e.on("contexttoolbar-show",(function(t){var n=m();De(n.lookupTable,t.toolbarKey).each((function(n){v(n,t.target===e?y.none():y.some(t)),bm.getContent(i).each(Op.focusIn)}))}));var g=function(e,t){var n="node"===e?r.backstage.shared.anchors.node(t):r.backstage.shared.anchors.cursor();return me(n,function(e,t){return"line"===e?{bubble:Wu(12,0,s_),layouts:{onLtr:function(){return[ku]},onRtl:function(){return[Su]}},overrides:c_}:{bubble:Wu(0,12,s_),layouts:t?f_:l_,overrides:c_}}(e,o()))},v=function(e,t){if(w(),!o()||!r.backstage.isContextMenuOpen()){var n=h(e),s=t.map(sn.fromDom),c=g(e.position,s);l.set(y.some(c)),f.set(t);var d=i.element();ji(d,"display"),bm.showWithinBounds(i,c,p(n),(function(){return y.some(a())})),u()&&Ii(d,"display","none")}},b=function(){var t=m();NO(t,e).fold((function(){l.set(y.none()),bm.hide(i)}),(function(e){v(e.toolbarApi,y.some(e.elem.dom()))}))},w=function(){var e=d.get();null!==e&&(Pm.clearTimeout(e),d.set(null))},x=function(e){w(),d.set(e)};e.on("init",(function(){e.on("contexttoolbar-hide",s),e.on("ScrollContent ScrollWindow longpress",c),e.on("click keyup SetContent ObjectResized ResizeEditor",(function(t){x(Pm.setEditorTimeout(e,b,0))})),e.on("focusout",(function(t){Pm.setEditorTimeout(e,(function(){Uu(n.element()).isNone()&&Uu(i.element()).isNone()&&(l.set(y.none()),bm.hide(i))}),0)})),e.on("SwitchMode",(function(){e.readonly&&(l.set(y.none()),bm.hide(i))})),e.on("NodeChange",(function(t){Uu(i.element()).fold((function(){x(Pm.setEditorTimeout(e,b,0))}),(function(e){}))}))}))},p_=function(e,n,r){var o=function(e,t){H([n,r],(function(n){n.broadcastEvent(e,t)}))},i=function(e,t){H([n,r],(function(n){n.broadcastOn([e],t)}))},a=function(e){return i(el(),{target:e.target()})},u=rb(sn.fromDom(t.document),"touchstart",a),s=rb(sn.fromDom(t.document),"touchmove",(function(e){return o(Rr(),e)})),c=rb(sn.fromDom(t.document),"touchend",(function(e){return o(zr(),e)})),l=rb(sn.fromDom(t.document),"mousedown",a),f=rb(sn.fromDom(t.document),"mouseup",(function(e){0===e.raw().button&&i(nl(),{target:e.target()})})),d=function(e){return i(el(),{target:sn.fromDom(e.target)})},p=function(e){0===e.button&&i(nl(),{target:sn.fromDom(e.target)})},m=function(e){return o(Ir(),ib(e))},h=function(e){i(tl(),{}),o(Br(),ib(e))},g=function(){return i(tl(),{})};e.on("PostRender",(function(){e.on("click",d),e.on("tap",d),e.on("mouseup",p),e.on("ScrollWindow",m),e.on("ResizeWindow",h),e.on("ResizeEditor",g)})),e.on("remove",(function(){e.off("click",d),e.off("tap",d),e.off("mouseup",p),e.off("ScrollWindow",m),e.off("ResizeWindow",h),e.off("ResizeEditor",g),l.unbind(),u.unbind(),s.unbind(),c.unbind(),f.unbind()})),e.on("detach",(function(){Uc(n),Uc(r),n.destroy(),r.destroy()}))},m_=gf,h_=Ql,g_=o([Kt("shell",!1),It("makeItem"),Kt("setupItem",n),kl("listBehaviours",[Mp])]),v_=Gl({name:"items",overrides:function(e){return{behaviours:Nu([Mp.config({})])}}}),b_=o([v_]),y_=o("CustomList"),w_=Sf({name:y_(),configFields:g_(),partFields:b_(),factory:function(e,n,r,o){var i=e.shell?{behaviours:[Mp.config({})],components:[]}:{behaviours:[],components:n},a=function(t){return e.shell?y.some(t):sf(t,e,"items")};return{uid:e.uid,dom:e.dom,components:i.components,behaviours:Cl(e.listBehaviours,i.behaviours),apis:{setItems:function(n,r){a(n).fold((function(){throw t.console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")}),(function(t){var o=Mp.contents(t),i=r.length,a=i-o.length,u=a>0?function(e,t){for(var n=[],r=0;r<e;r++)n.push(t(r));return n}(a,(function(){return e.makeItem()})):[],s=o.slice(i);H(s,(function(e){return Mp.remove(t,e)})),H(u,(function(e){return Mp.append(t,e)}));var c=Mp.contents(t);H(c,(function(t,o){e.setupItem(n,t,r[o],o)}))}))}}}},apis:{setItems:function(e,t,n){e.setItems(t,n)}}}),x_=function(e){return(Fi(e,"position").is("fixed")?y.none():ko(e)).orThunk((function(){var t=sn.fromTag("span");Eo(e,t);var n=ko(t);return Mo(t),n})).map(fa).getOrThunk((function(){return ca(0,0)}))},C_=fe([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),k_=function(e){return function(t){return t.translate(-e.left(),-e.top())}},S_=function(e){return function(t){return t.translate(e.left(),e.top())}},T_=function(e){return function(t,n){return U(e,(function(e,t){return t(e)}),ca(t,n))}},E_=function(e,t,n){return e.fold(T_([S_(n),k_(t)]),T_([k_(t)]),T_([]))},O_=function(e,t,n){return e.fold(T_([S_(n)]),T_([]),T_([S_(t)]))},__=function(e,t,n){return e.fold(T_([]),T_([k_(n)]),T_([S_(t),k_(n)]))},A_=function(e,t,n){return e.fold((function(e,t){return{position:"absolute",left:e+"px",top:t+"px"}}),(function(e,t){return{position:"absolute",left:e-n.left()+"px",top:t-n.top()+"px"}}),(function(e,t){return{position:"fixed",left:e+"px",top:t+"px"}}))},D_=function(e,t,n,r){var o=function(e,o){return function(i,a){var u=e(t,n,r);return o(i.getOr(u.left()),a.getOr(u.top()))}};return e.fold(o(__,C_.offset),o(O_,C_.absolute),o(E_,C_.fixed))},N_=C_.offset,M_=C_.absolute,R_=C_.fixed,z_=fe([{static:[]},{absolute:["x","y"]},{fixed:["x","y"]}]),I_=function(e,t){var n=e.element();Ei(n,t.transitionClass),_i(n,t.fadeOutClass),Ei(n,t.fadeInClass),t.onShow(e)},B_=function(e,t){var n=e.element();Ei(n,t.transitionClass),_i(n,t.fadeInClass),Ei(n,t.fadeOutClass),t.onHide(e)},P_=function(e,t,n){return X(e,(function(e){switch(e){case"bottom":return function(e,t){return e.bottom()<=t.bottom()}(t,n);case"top":return function(e,t){return e.y()>=t.y()}(t,n)}}))},L_=function(e,t){return Fo(e,t)?y.some(parseInt(Lo(e,t),10)):y.none()},F_=function(e,t){return L_(e,t.leftAttr).bind((function(n){return L_(e,t.topAttr).map((function(t){var r=ma(e),o=aa(e);return Sa(n,t,r,o)}))}))},H_=function(e,t,n){var r=Lo(e,t.positionAttr);switch(function(e,t){Ho(e,t.leftAttr),Ho(e,t.topAttr),Ho(e,t.positionAttr)}(e,t),r){case"static":return y.some(z_.static());case"absolute":return y.some(z_.absolute(n.x(),n.y()));default:return y.none()}},j_=function(e,t,n,r,o){var i=Ta(e);if(P_(t.modes,i,n))return y.none();var a=o(),u=Pi(e,"position");!function(e,t,n,r,o){Po(e,t.leftAttr,n),Po(e,t.topAttr,r),Po(e,t.positionAttr,o)}(e,t,i.x(),i.y(),u);var s=M_(i.x(),i.y()),c=E_(s,r,a),l=M_(n.x(),n.y()),f=E_(l,r,a),d=i.y()<=n.y()?f.top():f.top()+n.height()-i.height();return y.some(z_.fixed(c.left(),d))},V_=function(e,t,n,r,o){var i=e.element();return Fi(i,"position").is("fixed")?function(e,t,n){return F_(e,t).filter((function(e){return P_(t.modes,e,n)})).bind((function(n){return H_(e,t,n)}))}(i,t,n):j_(i,t,n,r,o)},U_=function(e,t){H(["left","top","position"],(function(t){return ji(e.element(),t)})),t.onUndocked(e)},$_=function(e,t,n,r,o){var i=A_(o,0,r);Bi(e.element(),i),("fixed"===i.position?t.onDocked:t.onUndocked)(e)},q_=function(e,t,n,r,o){void 0===o&&(o=!1),t.contextual.each((function(t){t.lazyContext(e).each((function(i){var a=function(e,t){return e.y()<t.bottom()&&e.bottom()>t.y()}(i,r);a!==n.isVisible()&&(n.setVisible(a),o&&!a?(Di(e.element(),[t.fadeOutClass]),t.onHide(e)):(a?I_:B_)(e,t))}))}))},W_=function(e,t,r){var o=e.element();r.setDocked(!1),function(e,t){var n=e.element();return F_(n,t).bind((function(e){return H_(n,t,e)}))}(e,t).each((function(r){r.fold((function(){return U_(e,t)}),(function(n,r){var i=yo(o),a=(ga(i),x_(o));$_(e,t,0,a,M_(n,r))}),n)})),r.setVisible(!0),t.contextual.each((function(t){Ni(o,[t.fadeInClass,t.fadeOutClass,t.transitionClass]),t.onShow(e)})),Y_(e,t,r)},Y_=function(e,t,n){e.getSystem().isConnected()&&function(e,t,n){var r=t.lazyViewport(e),o=e.element(),i=yo(o),a=ga(i),u=ge((function(){return x_(o)})),s=n.isDocked();s&&q_(e,t,n,r),V_(e,t,r,a,u).each((function(o){n.setDocked(!s),o.fold((function(){return U_(e,t)}),(function(n,r){return $_(e,t,0,u(),M_(n,r))}),(function(o,i){q_(e,t,n,r,!0),$_(e,t,0,u(),R_(o,i))}))}))}(e,t,n)},X_=function(e,t,n){n.isDocked()&&W_(e,t,n)},G_=Object.freeze({refresh:Y_,reset:X_,isDocked:function(e,t,n){return n.isDocked()}}),K_=Object.freeze({events:function(e,t){return Zr([co(yr(),(function(n,r){e.contextual.each((function(e){Ai(n.element(),e.transitionClass)&&(Ni(n.element(),[e.transitionClass,e.fadeInClass]),(t.isVisible()?e.onShown:e.onHidden)(n));r.stop()}))})),no(Ir(),(function(n,r){Y_(n,e,t)})),no(Br(),(function(n,r){X_(n,e,t)}))])}}),J_=[Gt("contextual",[Lt("fadeInClass"),Lt("fadeOutClass"),Lt("transitionClass"),Ht("lazyContext"),Xa("onShow"),Xa("onShown"),Xa("onHide"),Xa("onHidden")]),nn("lazyViewport",Oa),Lt("leftAttr"),Lt("topAttr"),Lt("positionAttr"),function(e,t,n){return Jt(e,t,st(n))}("modes",["top","bottom"],At),Xa("onDocked"),Xa("onUndocked")],Q_=Object.freeze({init:function(){var e=an(!1),t=an(!0);return fi({isDocked:function(){return e.get()},setDocked:function(t){return e.set(t)},isVisible:function(){return t.get()},setVisible:function(e){return t.set(e)},readState:function(){return"docked:  "+e.get()+", visible: "+t.get()}})}}),Z_=Ru({fields:J_,name:"docking",active:K_,apis:G_,state:Q_}),eA={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},tA=function(e){var t=e.element();Co(t).each((function(n){if(Z_.isDocked(e)){var r=ma(n);Ii(t,"width",r+"px");var o=ua(t);Ii(n,"padding-top",o+"px")}else ji(t,"width"),ji(n,"padding-top")}))},nA=function(e,t){t?(_i(e,eA.fadeOutClass),Di(e,[eA.transitionClass,eA.fadeInClass])):(_i(e,eA.fadeInClass),Di(e,[eA.fadeOutClass,eA.transitionClass]))},rA=function(e,t){var n=sn.fromDom(e.getContainer());t?(Ei(n,"tox-tinymce--toolbar-sticky-on"),_i(n,"tox-tinymce--toolbar-sticky-off")):(Ei(n,"tox-tinymce--toolbar-sticky-off"),_i(n,"tox-tinymce--toolbar-sticky-on"))},oA=function(e,t){var n,r=an(y.none()),o=function(e){t().each((function(t){return e(t.element())}))},i=function(n){e.inline||tA(n),rA(e,Z_.isDocked(n)),n.getSystem().broadcastOn([tl()],{}),t().each((function(e){return e.getSystem().broadcastOn([tl()],{})}))},a=e.inline?[]:[Fu.config({channels:(n={},n[_E()]={onReceive:tA},n)})];return m([Lp.config({}),Z_.config({leftAttr:"data-dock-left",topAttr:"data-dock-top",positionAttr:"data-dock-pos",contextual:d({lazyContext:function(t){var n=ua(t.element()),r=e.inline?e.getContentAreaContainer():e.getContainer(),o=Ta(sn.fromDom(r)),i=o.height()-n;return y.some(Sa(o.x(),o.y(),o.width(),i))},onShow:function(){o((function(e){return nA(e,!0)}))},onShown:function(e){o((function(e){return Ni(e,[eA.transitionClass,eA.fadeInClass])})),r.get().each((function(t){var n,o,i;n=e.element(),i=yo(o=t),Vu(i).filter((function(e){return!Hn(o,e)})).filter((function(e){return Hn(e,sn.fromDom(i.dom().body))||jn(n,e)})).each((function(){return ju(o)})),r.set(y.none())}))},onHide:function(e){r.set(function(e,t){return Uu(e).orThunk((function(){return t().toOption().bind((function(e){return Uu(e.element())}))}))}(e.element(),t)),o((function(e){return nA(e,!1)}))},onHidden:function(){o((function(e){return Ni(e,[eA.transitionClass])}))}},eA),modes:["top"],onDocked:i,onUndocked:i})],a)},iA=Object.freeze({setup:function(e,t){e.inline||(e.on("ResizeWindow ResizeEditor ResizeContent",(function(){t().each(tA)})),e.on("SkinLoaded",(function(){t().each(Z_.reset)})),e.on("FullscreenStateChanged",(function(){t().each(Z_.refresh)}))),e.on("PostRender",(function(){rA(e,!1)}))},isDocked:function(e){return e().map(Z_.isDocked).getOr(!1)},getBehaviours:oA}),aA=n,uA=c,sA=o([]),cA=Object.freeze({setup:aA,isDocked:uA,getBehaviours:sA}),lA=kf({factory:function(e,t){var n={focus:Op.focusIn,setMenus:function(e,n){var r=F(n,(function(e){var n={type:"menubutton",text:e.text,fetch:function(t){t(e.getItems())}},r=qE(n).mapError((function(e){return kt(e)})).getOrDie();return Ck(r,"tox-mbtn",t.backstage,y.some("menuitem"))}));Mp.set(e,r)}};return{uid:e.uid,dom:e.dom,components:[],behaviours:Nu([Mp.config({}),Rp("menubar-events",[lo((function(t){e.onSetup(t)})),no(fr(),(function(e,t){Aa(e.element(),".tox-mbtn--active").each((function(n){Da(t.event().target(),".tox-mbtn").each((function(t){Hn(n,t)||e.getSystem().getByDom(n).each((function(n){e.getSystem().getByDom(t).each((function(e){Jy.expand(e),Jy.close(n),Lp.focus(e)}))}))}))}))})),no(jr(),(function(e,t){t.event().prevFocus().bind((function(t){return e.getSystem().getByDom(t).toOption()})).each((function(n){t.event().newFocus().bind((function(t){return e.getSystem().getByDom(t).toOption()})).each((function(e){Jy.isOpen(n)&&(Jy.expand(e),Jy.close(n))}))}))}))]),Op.config({mode:"flow",selector:".tox-mbtn",onEscape:function(t){return e.onEscape(t),y.some(!0)}}),Ay.config({})]),apis:n,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[It("dom"),It("uid"),It("onEscape"),It("backstage"),Kt("onSetup",n)],apis:{focus:function(e,t){e.focus(t)},setMenus:function(e,t,n){e.setMenus(t,n)}}}),fA=[wl("slotBehaviours",[])],dA=function(e){return"<alloy.field."+e+">"},pA=function(e,t,n){var r,o=function(t){return df(e)},i=function(t,n){return void 0===n&&(n=void 0),function(r,o){return sf(r,e,o).map((function(e){return t(e,o)})).getOr(n)}},a=function(e,t){return"true"!==Lo(e.element(),"aria-hidden")},u=i(a,!1),s=i((function(e,t){if(a(e)){var n=e.element();Ii(n,"display","none"),Po(n,"aria-hidden","true"),Xr(e,Vr(),{name:t,visible:!1})}})),c=(r=s,function(e,t){H(t,(function(t){return r(e,t)}))}),l=i((function(e,t){if(!a(e)){var n=e.element();ji(n,"display"),Ho(n,"aria-hidden"),Xr(e,Vr(),{name:t,visible:!0})}})),f={getSlotNames:o,getSlot:function(t,n){return sf(t,e,n)},isShowing:u,hideSlot:s,hideAllSlots:function(e){return c(e,o())},showSlot:l};return{uid:e.uid,dom:e.dom,components:t,behaviours:xl(e.slotBehaviours),apis:f}},mA=oe({getSlotNames:function(e,t){return e.getSlotNames(t)},getSlot:function(e,t,n){return e.getSlot(t,n)},isShowing:function(e,t,n){return e.isShowing(t,n)},hideSlot:function(e,t,n){return e.hideSlot(t,n)},hideAllSlots:function(e,t){return e.hideAllSlots(t)},showSlot:function(e,t,n){return e.showSlot(t,n)}},ci),hA=d(d({},mA),{sketch:function(e){var t=function(){var e=[];return{slot:function(t,n){return e.push(t),nf("container",dA(t),n)},record:function(){return e}}}(),n=e(t),r=t.record(),o=F(r,(function(e){return Yl({name:e,pname:dA(e)})}));return bf("container",fA,o,pA,n)}}),gA=ut([Yt("icon"),Yt("tooltip"),nn("onShow",n),nn("onHide",n),nn("onSetup",(function(){return n}))]),vA=function(e){return{element:function(){return e.element().dom()}}},bA=function(e,t){var r=F(te(t),(function(e){var n=t[e],r=xt(function(e){return wt("sidebar",gA,e)}(n));return{name:e,getApi:vA,onSetup:r.onSetup,onShow:r.onShow,onHide:r.onHide}}));return F(r,(function(t){var o=an(n);return e.slot(t.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:vh([lg(t,o),fg(t,o),no(Vr(),(function(e,t){var n=t.event();$(r,(function(e){return e.name===n.name()})).each((function(t){(n.visible()?t.onShow:t.onHide)(t.getApi(e))}))}))])})}))},yA=function(e){return hA.sketch((function(t){return{dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:bA(t,e),slotBehaviours:vh([lo((function(e){return hA.hideAllSlots(e)}))])}}))},wA=function(e){return _f.getCurrent(e).bind((function(e){return CE.isGrowing(e)||CE.hasGrown(e)?_f.getCurrent(e).bind((function(e){return $(hA.getSlotNames(e),(function(t){return hA.isShowing(e,t)}))})):y.none()}))},xA=Yo("FixSizeEvent"),CA=Yo("AutoSizeEvent"),kA=function(e){return{dom:{tag:"div",attributes:{"aria-label":e.translate("Loading...")},classes:["tox-throbber__busy-spinner"]},components:[{dom:Eh('<div class="tox-spinner"><div></div><div></div><div></div></div>')}],behaviours:Nu([Op.config({mode:"special",onTab:function(){return y.some(!0)},onShiftTab:function(){return y.some(!0)}}),Lp.config({})])}},SA=function(e,t,n){var r=an(!1),o=an(y.none()),i=function(e){e!==r.get()&&(!function(e,t,n){var r=e.element();!0===t?(Mp.set(e,[kA(n)]),ji(r,"display"),Ho(r,"aria-hidden")):(Mp.set(e,[]),Ii(r,"display","none"),Po(r,"aria-hidden","true"))}(t(),e,n.providers),r.set(e))};e.on("ProgressState",(function(t){if(o.get().each(Pm.clearTimeout),A(t.time)){var n=Pm.setEditorTimeout(e,(function(){return i(t.state)}),t.time);o.set(y.some(n))}else i(t.state),o.set(y.none())}))},TA=h_.optional({factory:lA,name:"menubar",schema:[It("backstage")]}),EA=h_.optional({factory:{sketch:function(e){return w_.sketch({uid:e.uid,dom:e.dom,listBehaviours:Nu([Op.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:function(){return FE({type:e.split,uid:Yo("multiple-toolbar-item"),backstage:e.backstage,cyclicKeying:!1,getSink:e.getSink,initGroups:[],onEscape:function(){return y.none()}})},setupItem:function(e,t,n,r){VT.setGroups(t,n)},shell:!0})}},name:"multiple-toolbar",schema:[It("dom"),It("onEscape")]}),OA=h_.optional({factory:{sketch:function(e){return function(e){return e.split===kb.sliding?LE:e.split===kb.floating?PE:FE}(e)({type:e.split,uid:e.uid,onEscape:function(){return e.onEscape(),y.some(!0)},cyclicKeying:!1,initGroups:[],getSink:e.getSink,backstage:e.backstage,moreDrawerData:{lazyToolbar:e.lazyToolbar,lazyMoreButton:e.lazyMoreButton,lazyHeader:e.lazyHeader}})}},name:"toolbar",schema:[It("dom"),It("onEscape"),It("getSink")]}),_A=h_.optional({factory:{sketch:function(e){var t=e.editor,n=e.sticky?oA:sA;return{uid:e.uid,dom:e.dom,components:e.components,behaviours:Nu(n(t,e.getSink))}}},name:"header",schema:[It("dom")]}),AA=h_.optional({name:"socket",schema:[It("dom")]}),DA=h_.optional({factory:{sketch:function(e){return{uid:e.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"complementary"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:Nu([Ay.config({}),Lp.config({}),CE.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:function(e){_f.getCurrent(e).each(hA.hideAllSlots),Yr(e,CA)},onGrown:function(e){Yr(e,CA)},onStartGrow:function(e){Xr(e,xA,{width:Fi(e.element(),"width").getOr("")})},onStartShrink:function(e){Xr(e,xA,{width:ma(e.element())+"px"})}}),Mp.config({}),_f.config({find:function(e){var t=Mp.contents(e);return Q(t)}})])}],behaviours:Nu([eC(0),Rp("sidebar-sliding-events",[no(xA,(function(e,t){Ii(e.element(),"width",t.event().width())})),no(CA,(function(e,t){ji(e.element(),"width")}))])])}}},name:"sidebar",schema:[It("dom")]}),NA=h_.optional({factory:{sketch:function(e){return{uid:e.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:Nu([Mp.config({})]),components:[]}}},name:"throbber",schema:[It("dom")]}),MA=Sf({name:"OuterContainer",factory:function(e,t,n){var r={getSocket:function(t){return m_.getPart(t,e,"socket")},setSidebar:function(t,n){m_.getPart(t,e,"sidebar").each((function(e){return function(e,t){_f.getCurrent(e).each((function(e){return Mp.set(e,[yA(t)])}))}(e,n)}))},toggleSidebar:function(t,n){m_.getPart(t,e,"sidebar").each((function(e){return function(e,t){_f.getCurrent(e).each((function(e){_f.getCurrent(e).each((function(n){CE.hasGrown(e)?hA.isShowing(n,t)?CE.shrink(e):(hA.hideAllSlots(n),hA.showSlot(n,t)):(hA.hideAllSlots(n),hA.showSlot(n,t),CE.grow(e))}))}))}(e,n)}))},whichSidebar:function(t){return m_.getPart(t,e,"sidebar").bind(wA).getOrNull()},getHeader:function(t){return m_.getPart(t,e,"header")},getToolbar:function(t){return m_.getPart(t,e,"toolbar")},setToolbar:function(t,n){m_.getPart(t,e,"toolbar").each((function(e){e.getApis().setGroups(e,n)}))},setToolbars:function(t,n){m_.getPart(t,e,"multiple-toolbar").each((function(e){w_.setItems(e,n)}))},refreshToolbar:function(t){m_.getPart(t,e,"toolbar").each((function(e){return e.getApis().refresh(e)}))},getMoreButton:function(t){return m_.getPart(t,e,"toolbar").bind((function(e){return e.getApis().getMoreButton(e)}))},getThrobber:function(t){return m_.getPart(t,e,"throbber")},focusToolbar:function(t){m_.getPart(t,e,"toolbar").orThunk((function(){return m_.getPart(t,e,"multiple-toolbar")})).each((function(e){Op.focusIn(e)}))},setMenubar:function(t,n){m_.getPart(t,e,"menubar").each((function(e){lA.setMenus(e,n)}))},focusMenubar:function(t){m_.getPart(t,e,"menubar").each((function(e){lA.focus(e)}))}};return{uid:e.uid,dom:e.dom,components:t,apis:r,behaviours:e.behaviours}},configFields:[It("dom"),It("behaviours")],partFields:[_A,TA,OA,EA,AA,DA,NA],apis:{getSocket:function(e,t){return e.getSocket(t)},setSidebar:function(e,t,n){e.setSidebar(t,n)},toggleSidebar:function(e,t,n){e.toggleSidebar(t,n)},whichSidebar:function(e,t){return e.whichSidebar(t)},getHeader:function(e,t){return e.getHeader(t)},getToolbar:function(e,t){return e.getToolbar(t)},setToolbar:function(e,t,n){var r=F(n,(function(e){return zE(e)}));e.setToolbar(t,r)},setToolbars:function(e,t,n){var r=F(n,(function(e){return F(e,zE)}));e.setToolbars(t,r)},getMoreButton:function(e,t){return e.getMoreButton(t)},refreshToolbar:function(e,t){return e.refreshToolbar(t)},getThrobber:function(e,t){return e.getThrobber(t)},setMenubar:function(e,t,n){e.setMenubar(t,n)},focusMenubar:function(e,t){e.focusMenubar(t)},focusToolbar:function(e,t){e.focusToolbar(t)}}}),RA={file:{title:"File",items:"newdocument restoredraft | preview | print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor toc | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | formats blockformats fontformats fontsizes align | forecolor backcolor | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | a11ycheck code wordcount"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},zA=function(e){return"string"==typeof e?e.split(" "):e},IA=function(e,t){var n=he(RA,t.menus),r=te(t.menus).length>0,o=void 0===t.menubar||!0===t.menubar?zA("file edit view insert format tools table help"):zA(!1===t.menubar?"":t.menubar),i=j(o,(function(e){return r&&t.menus.hasOwnProperty(e)&&t.menus[e].hasOwnProperty("items")||RA.hasOwnProperty(e)})),a=F(i,(function(r){var o=n[r];return function(e,t,n){var r=function(e){return e.getParam("removed_menuitems","")}(n).split(/[ ,]/);return{text:e.title,getItems:function(){return Y(e.items,(function(e){var n=e.toLowerCase();return 0===n.trim().length?[]:P(r,(function(e){return e===n}))?[]:"separator"===n||"|"===n?[{type:"separator"}]:t.menuItems[n]?[t.menuItems[n]]:[]}))}}}({title:o.title,items:zA(o.items)},t,e)}));return j(a,(function(e){return e.getItems().length>0&&P(e.getItems(),(function(e){return"separator"!==e.type}))}))},BA=function(e){var t=function(){e._skinLoaded=!0,av(e)};return function(){e.initialized?t():e.on("init",t)}},PA=function(e,t){var n,r=function(e){var t=e.settings,n=t.skin,r=t.skin_url;if(!1!==n){var o=n||"oxide";r=r?e.documentBaseURI.toAbsolute(r):Eb.baseURL+"/skins/ui/"+o}return r}(t);r&&(n=r+"/skin.min.css",t.contentCSS.push(r+(e?"/content.inline":"/content")+".min.css")),!1===function(e){return!1===e.getParam("skin")}(t)&&n?bg.DOM.styleSheetLoader.load(n,BA(t)):BA(t)()},LA=a(PA,!1),FA=a(PA,!0),HA=function(e,t,n,r){var o=t.outerContainer,i=n.toolbar,a=n.buttons;if(D(i,S)){var u=i.map((function(t){return u_(e,{toolbar:t,buttons:a},{backstage:r},y.none())}));MA.setToolbars(o,u)}else MA.setToolbar(o,u_(e,n,{backstage:r},y.none()))},jA=bg.DOM,VA=Nn(),UA=VA.os.isiOS()&&VA.os.version.major<=12,$A={render:function(e,n,r,o,i){var a=an(0);LA(e),function(e,t){Vc(e,t,Oo)}(sn.fromDom(i.targetNode),n.mothership),jc(Gn(),n.uiMothership),e.on("PostRender",(function(){HA(e,n,r,o),a.set(e.getWin().innerWidth),MA.setMenubar(n.outerContainer,IA(e,r)),MA.setSidebar(n.outerContainer,r.sidebar),function(e){var t=e.getWin(),n=e.getDoc().documentElement,r=an(ca(t.innerWidth,t.innerHeight)),o=an(ca(n.offsetWidth,n.offsetHeight)),i=function(n){var i=e.getDoc().documentElement,a=r.get(),u=o.get();a.left()!==t.innerWidth||a.top()!==t.innerHeight?(r.set(ca(t.innerWidth,t.innerHeight)),cv(e,n)):u.left()===i.offsetWidth&&u.top()===i.offsetHeight||(o.set(ca(i.offsetWidth,i.offsetHeight)),cv(e,n))},a=function(t){return sv(e,t)};jA.bind(t,"resize",i),jA.bind(t,"scroll",a);var u=ob(sn.fromDom(e.getBody()),"load",i);e.on("remove",(function(){u.unbind(),jA.unbind(t,"resize",i),jA.unbind(t,"scroll",a)}))}(e)}));var u,s,c,l=MA.getSocket(n.outerContainer).getOrDie("Could not find expected socket element");if(!0===UA){Bi(l.element(),{overflow:"scroll","-webkit-overflow-scrolling":"touch"});var f=(u=function(){e.fire("ScrollContent")},s=20,c=null,{cancel:function(){null!==c&&(t.clearTimeout(c),c=null)},throttle:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];null===c&&(c=t.setTimeout((function(){u.apply(null,e),c=null}),s))}});rb(l.element(),"scroll",f.throttle)}NE(e,n),e.addCommand("ToggleSidebar",(function(t,r){MA.toggleSidebar(n.outerContainer,r),e.fire("ToggleSidebar")})),e.addQueryValueHandler("ToggleSidebar",(function(){return MA.whichSidebar(n.outerContainer)}));var d=Pb(e);return d!==kb.sliding&&d!==kb.floating||e.on("ResizeWindow ResizeEditor ResizeContent",(function(){var t=e.getWin().innerWidth;t!==a.get()&&(MA.refreshToolbar(n.outerContainer),a.set(t))})),{iframeContainer:l.element().dom(),editorContainer:n.outerContainer.element().dom()}}},qA=function(e,t,n){var r=t.filter((function(t){return e<t})),o=n.filter((function(t){return e>t}));return r.or(o).getOr(e)},WA=function(e){return/^[0-9\.]+(|px)$/i.test(""+e)?y.some(parseInt(""+e,10)):y.none()},YA=function(e){return A(e)?e+"px":e},XA=function(e){return function(e){var t=Ob(e),n=Db(e),r=Mb(e);return WA(t).map((function(e){return qA(e,n,r)}))}(e).getOr(Ob(e))},GA=function(e){var t=_b(e),n=Ab(e),r=Nb(e);return WA(t).map((function(e){return qA(e,n,r)}))},KA={render:function(e,t,n,r,o){var i,a=bg.DOM,u=Fb(e),s=jb(e),c=sn.fromDom(o.targetNode),l=Nb(e).or(GA(e)),f=Pb(e),d=f===kb.sliding||f===kb.floating;FA(e);var p=function(e){(void 0===e&&(e=!1),d&&MA.refreshToolbar(t.outerContainer),u)||function(e){var n=d?e.fold((function(){return 0}),(function(e){return e.components().length>1?aa(e.components()[1].element()):0})):0,r=fa(c),o=r.top()-aa(i.element())+n;Bi(t.outerContainer.element(),{position:"absolute",top:Math.round(o)+"px",left:Math.round(r.left())+"px"});var a=l.getOrThunk((function(){var e=WA(Pi(Gn(),"margin-left")).getOr(0);return ma(Gn())-r.left()+e}));Ii(i.element(),"max-width",a+"px")}(MA.getToolbar(t.outerContainer));s&&(e?Z_.reset(i):Z_.refresh(i))},m=function(){Ii(t.outerContainer.element(),"display","flex"),a.addClass(e.getBody(),"mce-edit-focus"),ji(t.uiMothership.element(),"display"),p()},h=function(){t.outerContainer&&(Ii(t.outerContainer.element(),"display","none"),a.removeClass(e.getBody(),"mce-edit-focus")),Ii(t.uiMothership.element(),"display","none")},g=function(){if(i)m();else{i=MA.getHeader(t.outerContainer).getOrDie();var o=function(e){return Lb(e).getOr(Gn())}(e);jc(o,t.mothership),jc(o,t.uiMothership),HA(e,t,n,r),MA.setMenubar(t.outerContainer,IA(e,n)),m(),e.on("activate",m),e.on("deactivate",h),e.on("NodeChange SkinLoaded ResizeWindow",(function(){e.hidden||p(!0)})),e.nodeChanged()}};return e.on("focus",g),e.on("blur hide",h),e.on("init",(function(){e.hasFocus()&&g()})),NE(e,t),{editorContainer:t.outerContainer.element().dom()}}},JA=function(e){Kk.each([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],(function(t){e.ui.registry.addToggleButton(t.name,{tooltip:t.text,onAction:function(){return e.execCommand(t.cmd)},icon:t.icon,onSetup:BO(e,t.name)})}));var t="alignnone",n="No alignment",r="JustifyNone",o="align-none";e.ui.registry.addButton(t,{tooltip:n,onAction:function(){return e.execCommand(r)},icon:o})},QA=function(e,t){return function(){e.execCommand("mceToggleFormat",!1,t)}},ZA=function(e){!function(e){Kk.each([{name:"bold",text:"Bold",icon:"bold"},{name:"italic",text:"Italic",icon:"italic"},{name:"underline",text:"Underline",icon:"underline"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(function(t,n){e.ui.registry.addToggleButton(t.name,{tooltip:t.text,icon:t.icon,onSetup:BO(e,t.name),onAction:QA(e,t.name)})}));for(var t=1;t<=6;t++){var n="h"+t;e.ui.registry.addToggleButton(n,{text:n.toUpperCase(),tooltip:"Heading "+t,onSetup:BO(e,n),onAction:QA(e,n)})}}(e),function(e){Kk.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"help",text:"Help",action:"mceHelp",icon:"help"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"}],(function(t){e.ui.registry.addButton(t.name,{tooltip:t.text,icon:t.icon,onAction:function(){return e.execCommand(t.action)}})}))}(e),function(e){Kk.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],(function(t){e.ui.registry.addToggleButton(t.name,{tooltip:t.text,icon:t.icon,onAction:function(){return e.execCommand(t.action)},onSetup:BO(e,t.name)})}))}(e)},eD=function(e){ZA(e),function(e){Kk.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through",shortcut:""},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript",shortcut:""},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript",shortcut:""},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting",shortcut:""},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document",shortcut:""},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"}],(function(t){e.ui.registry.addMenuItem(t.name,{text:t.text,icon:t.icon,shortcut:t.shortcut,onAction:function(){return e.execCommand(t.action)}})})),e.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onAction:QA(e,"code")})}(e)},tD=function(e,t,n){var r=function(){return!!t.undoManager&&t.undoManager[n]()},o=function(){e.setDisabled(t.readonly||!r())};return e.setDisabled(!r()),t.on("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",o),function(){return t.off("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",o)}},nD=function(e){!function(e){e.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:function(t){return tD(t,e,"hasUndo")},onAction:function(){return e.execCommand("undo")}}),e.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:function(t){return tD(t,e,"hasRedo")},onAction:function(){return e.execCommand("redo")}})}(e),function(e){e.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",onSetup:function(t){return tD(t,e,"hasUndo")},onAction:function(){return e.execCommand("undo")}}),e.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",onSetup:function(t){return tD(t,e,"hasRedo")},onAction:function(){return e.execCommand("redo")}})}(e)},rD=function(e){!function(e){e.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:function(){return e.execCommand("mceToggleVisualAid")}})}(e),function(e){e.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:function(t){return function(e,t){e.setActive(t.hasVisual);var n=function(t){e.setActive(t.hasVisual)};return t.on("VisualAid",n),function(){return t.off("VisualAid",n)}}(t,e)},onAction:function(){e.execCommand("mceToggleVisualAid")}})}(e)},oD=function(e){!function(e){e.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:function(t){return function(e,t){e.setDisabled(!t.queryCommandState("outdent"));var n=function(){e.setDisabled(!t.queryCommandState("outdent"))};return t.on("NodeChange",n),function(){return t.off("NodeChange",n)}}(t,e)},onAction:function(){return e.execCommand("outdent")}}),e.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onAction:function(){return e.execCommand("indent")}})}(e)},iD=function(e,t){!function(e,t){var n=FO(0,t,$O(e));e.ui.registry.addNestedMenuItem("align",{text:t.shared.providers.translate("Align"),getSubmenuItems:function(){return n.items.validateItems(n.getStyleItems())}})}(e,t),function(e,t){var n=FO(0,t,YO(e));e.ui.registry.addNestedMenuItem("fontformats",{text:t.shared.providers.translate("Fonts"),getSubmenuItems:function(){return n.items.validateItems(n.getStyleItems())}})}(e,t),function(e,t){var n=d({type:"advanced"},t.styleselect),r=FO(0,t,e_(e,n));e.ui.registry.addNestedMenuItem("formats",{text:"Formats",getSubmenuItems:function(){return r.items.validateItems(r.getStyleItems())}})}(e,t),function(e,t){var n=FO(0,t,ZO(e));e.ui.registry.addNestedMenuItem("blockformats",{text:"Blocks",getSubmenuItems:function(){return n.items.validateItems(n.getStyleItems())}})}(e,t),function(e,t){var n=FO(0,t,KO(e));e.ui.registry.addNestedMenuItem("fontsizes",{text:"Font sizes",getSubmenuItems:function(){return n.items.validateItems(n.getStyleItems())}})}(e,t)},aD=function(e,t){JA(e),eD(e),iD(e,t),nD(e),xv.register(e),rD(e),oD(e)},uD=function(e,t){return{anchor:"makeshift",x:e,y:t}},sD=function(e){return"longpress"===e.type||0===e.type.indexOf("touch")},cD=function(e,t){var n=bg.DOM.getPos(e);return function(e,t,n){return uD(e.x+t,e.y+n)}(t,n.x,n.y)},lD=function(e,t){return"contextmenu"===t.type?e.inline?function(e){if(sD(e)){var t=e.touches[0];return uD(t.pageX,t.pageY)}return uD(e.pageX,e.pageY)}(t):cD(e.getContentAreaContainer(),function(e){if(sD(e)){var t=e.touches[0];return uD(t.clientX,t.clientY)}return uD(e.clientX,e.clientY)}(t)):fD(e)},fD=function(e){return{anchor:"selection",root:sn.fromDom(e.selection.getNode())}},dD=function(e){return{anchor:"node",node:y.some(sn.fromDom(e.selection.getNode())),root:sn.fromDom(e.getBody())}},pD=function(e,t,n,r,o,i){var a=n(),u=function(e,t,n){return n?dD(e):lD(e,t)}(e,t,i);wk(a,dg.CLOSE_ON_EXECUTE,r,!1).map((function(e){t.preventDefault(),bm.showMenuAt(o,u,{menu:{markers:Ov("normal")},data:e})}))},mD={onLtr:function(){return[Cu,vu,bu,yu,wu,xu,_m,Am,Em,Sm,Om,Tm]},onRtl:function(){return[Cu,bu,vu,wu,yu,xu,_m,Am,Om,Tm,Em,Sm]}},hD={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},gD=function(e,t,n,r,o,i){var a=function(e,t){var n=t?dD(e):fD(e);return d({bubble:Wu(0,12,hD),layouts:mD,overrides:{maxWidthFunction:$S(),maxHeightFunction:Cc()}},n)}(e,i);wk(n,dg.CLOSE_ON_EXECUTE,r,!0).map((function(n){t.preventDefault(),bm.showMenuWithinBounds(o,a,{menu:{markers:Ov("normal")},data:n,type:"horizontal"},(function(){return y.some(AO(e))})),e.fire("contexttoolbar-hide")}))},vD=function(e,t,n,r,o,i){var a=Nn(),u=a.os.isiOS(),s=a.os.isOSX(),c=a.os.isAndroid(),l=function(){var a=n();gD(e,t,a,r,o,i)};if(!s&&!u||i)c&&!i&&e.selection.setCursorLocation(t.target,0),l();else{var f=function(){!function(e){var t=e.selection.getRng(),n=function(){Pm.setEditorTimeout(e,(function(){e.selection.setRng(t)}),10),i()};e.once("touchend",n);var r=function(e){e.preventDefault(),e.stopImmediatePropagation()};e.on("mousedown",r,!0);var o=function(){return i()};e.once("longpresscancel",o);var i=function(){e.off("touchend",n),e.off("longpresscancel",o),e.off("mousedown",r)}}(e),l()};!function(e,t){var n=e.selection;if(n.isCollapsed()||t.touches.length<1)return!1;var r=t.touches[0],o=n.getRng();return Fs(e.getWin(),ps.domRange(o)).exists((function(e){return e.left()<=r.clientX&&e.right()>=r.clientX&&e.top()<=r.clientY&&e.bottom()>=r.clientY}))}(e,t)?(e.once("selectionchange",f),e.once("touchend",(function(){return e.off("selectionchange",f)}))):f()}},bD=function(e){return"string"==typeof e?e.split(/[ ,]/):e},yD=function(e){return e.settings.contextmenu_never_use_native||!1},wD=function(e){return function(e,t,n){var r=e.ui.registry.getAll().contextMenus;return ce(e.settings,t).map(bD).getOrThunk((function(){return j(bD(n),(function(e){return le(r,e)}))}))}(e,"contextmenu","link linkchecker image imagetools table spellchecker configurepermanentpen")},xD=function(e){return!1===e.getParam("contextmenu")},CD=function(e){return S(e)?"|"===e:"separator"===e.type},kD={type:"separator"},SD=function(e){if(S(e))return e;switch(e.type){case"separator":return kD;case"submenu":return{type:"nestedmenuitem",text:e.text,icon:e.icon,getSubmenuItems:function(){var t=e.getSubmenuItems();return S(t)?t:F(t,SD)}};default:return{type:"menuitem",text:e.text,icon:e.icon,onAction:(t=e.onAction,function(){return t()})}}var t},TD=function(e,t){if(0===t.length)return e;var n=Z(e).filter((function(e){return!CD(e)})).fold((function(){return[]}),(function(e){return[kD]}));return e.concat(n).concat(t).concat([kD])},ED=function(e,t,n){var r=Nn().deviceType.isTouch,o=ta(bm.sketch({dom:{tag:"div"},lazySink:t,onEscape:function(){return e.focus()},onShow:function(){return n.setContextMenuState(!0)},onHide:function(){return n.setContextMenuState(!1)},fireDismissalEventInstead:{},inlineBehaviours:Nu([Rp("dismissContextMenu",[no(Fr(),(function(t,n){Zc.close(t),e.focus()}))])])})),i=function(e){return bm.hide(o)},a=function(t){var i="longpress"===t.type;if(yD(e)&&t.preventDefault(),!function(e,t){return t.ctrlKey&&!yD(e)}(e,t)&&!xD(e)){var a=!i&&(2!==t.button||t.target===e.getBody());(r()?vD:pD)(e,t,(function(){var n=a?e.selection.getStart(!0):t.target,r=e.ui.registry.getAll(),o=wD(e);return function(e,t,n){var r=U(t,(function(t,r){if(le(e,r)){var o=e[r].update(n);if(S(o))return TD(t,o.split(" "));if(o.length>0){var i=F(o,SD);return TD(t,i)}return t}return t.concat([r])}),[]);return r.length>0&&CD(r[r.length-1])&&r.pop(),r}(r.contextMenus,o,n)}),n,o,a)}};e.on("init",(function(){var t="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(r()?"":" ResizeWindow");e.on(t,i),e.on(r()?"longpress":"longpress contextmenu",a)}))},OD=function(e,t){e.getSystem().addToGui(t),function(e){Co(e.element()).filter(Wn).each((function(t){Fi(t,"z-index").each((function(e){Po(t,"data-initial-z-index",e)})),Ii(t,"z-index",Pi(e.element(),"z-index"))}))}(t)},_D=function(e){!function(e){Co(e.element()).filter(Wn).each((function(e){var t=Lo(e,"data-initial-z-index");Fo(e,"data-initial-z-index")?Ii(e,"z-index",t):ji(e,"z-index"),Ho(e,"data-initial-z-index")}))}(e),e.getSystem().removeFromGui(e)},AD=function(e,t,n){return e.getSystem().build(Sb.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[t]},events:n}))},DD=Gt("snaps",[It("getSnapPoints"),Xa("onSensor"),It("leftAttr"),It("topAttr"),Kt("lazyViewport",Oa),Kt("mustSnap",!1)]),ND=[Kt("useFixed",c),It("blockerClass"),Kt("getTarget",i),Kt("onDrag",n),Kt("repositionTarget",!0),Kt("onDrop",n),nn("getBounds",Oa),DD],MD=function(e,t,n,r){return function(e,t){var n=e.element(),r=parseInt(Lo(n,t.leftAttr),10),o=parseInt(Lo(n,t.topAttr),10);return isNaN(r)||isNaN(o)?y.none():y.some(ca(r,o))}(e,t).fold((function(){return n}),(function(e){return R_(e.left()+r.left(),e.top()+r.top())}))},RD=function(e,t,n,r,o,i){var a=MD(e,t,n,r),u=t.mustSnap?BD(e,t,a,o,i):PD(e,t,a,o,i),s=E_(a,o,i);return function(e,t,n){var r=e.element();Po(r,t.leftAttr,n.left()+"px"),Po(r,t.topAttr,n.top()+"px")}(e,t,s),u.fold((function(){return{coord:R_(s.left(),s.top()),extra:y.none()}}),(function(e){return{coord:e.output(),extra:e.extra()}}))},zD=function(e,t){!function(e,t){var n=e.element();Ho(n,t.leftAttr),Ho(n,t.topAttr)}(e,t)},ID=function(e,t,n,r){return Ia(e,(function(e){var i=e.sensor();return function(e,t,n,r,o,i){var a=O_(e,o,i),u=O_(t,o,i);return Math.abs(a.left()-u.left())<=n&&Math.abs(a.top()-u.top())<=r}(t,i,e.range().left(),e.range().top(),n,r)?y.some({output:o(D_(e.output(),t,n,r)),extra:e.extra}):y.none()}))},BD=function(e,t,n,r,i){var a=t.getSnapPoints(e);return ID(a,n,r,i).orThunk((function(){return U(a,(function(e,t){var o=t.sensor(),a=function(e,t,n,r,o,i){var a=O_(e,o,i),u=O_(t,o,i),s=Math.abs(a.left()-u.left()),c=Math.abs(a.top()-u.top());return ca(s,c)}(n,o,t.range().left(),t.range().top(),r,i);return e.deltas.fold((function(){return{deltas:y.some(a),snap:y.some(t)}}),(function(n){return(a.left()+a.top())/2<=(n.left()+n.top())/2?{deltas:y.some(a),snap:y.some(t)}:e}))}),{deltas:y.none(),snap:y.none()}).snap.map((function(e){return{output:o(D_(e.output(),n,r,i)),extra:e.extra}}))}))},PD=function(e,t,n,r,o){var i=t.getSnapPoints(e);return ID(i,n,r,o)},LD=function(e){return(t=Fi(e,"left"),n=Fi(e,"top"),r=Fi(e,"position"),o=function(e,t,n){return("fixed"===n?R_:N_)(parseInt(e,10),parseInt(t,10))},t.isSome()&&n.isSome()&&r.isSome()?y.some(o(t.getOrDie(),n.getOrDie(),r.getOrDie())):y.none()).getOrThunk((function(){var t=fa(e);return M_(t.left(),t.top())}));var t,n,r,o},FD=function(e,t,n,r,o,i,a){return function(e,t,n,r,o){var i=o.bounds,a=O_(t,n,r),u=hc(a.left(),i.x(),i.x()+i.width()-o.width),s=hc(a.top(),i.y(),i.y()+i.height()-o.height),c=M_(u,s);return t.fold((function(){var e=__(c,n,r);return N_(e.left(),e.top())}),(function(){return c}),(function(){var e=E_(c,n,r);return R_(e.left(),e.top())}))}(0,t.fold((function(){var e,t,a,u=(e=n,t=i.left(),a=i.top(),e.fold((function(e,n){return C_.offset(e+t,n+a)}),(function(e,n){return C_.absolute(e+t,n+a)}),(function(e,n){return C_.fixed(e+t,n+a)}))),s=E_(u,r,o);return R_(s.left(),s.top())}),(function(t){var a=RD(e,t,n,i,r,o);return a.extra.each((function(n){t.onSensor(e,n)})),a.coord})),r,o,a)},HD=function(e,t){return{bounds:e.getBounds(),height:ua(t.element()),width:ha(t.element())}},jD=function(e,t,n,r,o){var i=n.update(r,o),a=n.getStartData().getOrThunk((function(){return HD(t,e)}));i.each((function(n){!function(e,t,n,r){var o=t.getTarget(e.element());if(t.repositionTarget){var i=yo(e.element()),a=ga(i),u=x_(o),s=LD(o),c=FD(e,t.snaps,s,a,u,r,n),l=A_(c,0,u);Bi(o,l)}t.onDrag(e,o,r)}(e,t,a,n)}))},VD=function(e,t,n,r){t.each(_D),n.snaps.each((function(t){zD(e,t)}));var o=n.getTarget(e.element());r.reset(),n.onDrop(e,o)},UD=function(e){return function(t,n){var r=function(e){n.setStartData(HD(t,e))};return Zr(m([no(Ir(),(function(e){n.getStartData().each((function(){return r(e)}))}))],e(t,n,r)))}},$D=Object.freeze({getData:function(e){return y.from(ca(e.x(),e.y()))},getDelta:function(e,t){return ca(t.left()-e.left(),t.top()-e.top())}}),qD=function(e,t,n){return[no(ur(),(function(r,o){if(0===o.event().raw().button){o.stop();var i=function(){return VD(r,y.some(s),e,t)},a=ub(i,200),u={drop:i,delayDrop:a.schedule,forceDrop:i,move:function(n){a.cancel(),jD(r,e,t,$D,n)}},s=AD(r,e.blockerClass,function(e){return Zr([no(ur(),e.forceDrop),no(lr(),e.drop),no(sr(),(function(t,n){e.move(n.event())})),no(cr(),e.delayDrop)])}(u));n(r),OD(r,s)}}))]},WD=m(ND,[Qa("dragger",{handlers:UD(qD)})]),YD=Object.freeze({getData:function(e){var t=e.raw().touches;return 1===t.length?function(e){var t=e[0];return y.some(ca(t.clientX,t.clientY))}(t):y.none()},getDelta:function(e,t){return ca(t.left()-e.left(),t.top()-e.top())}}),XD=function(e,t,n){var r=an(y.none());return[no(rr(),(function(o,i){i.stop();var a=function(){VD(o,r.get(),e,t),r.set(y.none())},u={drop:a,delayDrop:function(){},forceDrop:a,move:function(n){jD(o,e,t,YD,n)}},s=AD(o,e.blockerClass,function(e){return Zr([no(rr(),e.forceDrop),no(ir(),e.drop),no(ar(),e.drop),no(or(),(function(t,n){e.move(n.event())}))])}(u));r.set(y.some(s));n(o),OD(o,s)})),no(or(),(function(n,r){r.stop(),jD(n,e,t,YD,r.event())})),no(ir(),(function(n,o){o.stop(),VD(n,r.get(),e,t),r.set(y.none())})),no(ar(),(function(n){VD(n,r.get(),e,t),r.set(y.none())}))]},GD=WD,KD=m(ND,[Qa("dragger",{handlers:UD(XD)})]),JD=m(ND,[Qa("dragger",{handlers:UD((function(e,t,n){return m(qD(e,t,n),XD(e,t,n))}))})]),QD=Object.freeze({mouse:GD,touch:KD,mouseOrTouch:JD}),ZD=Object.freeze({init:function(){var e=y.none(),t=y.none(),n=o({});return fi({readState:n,reset:function(){e=y.none(),t=y.none()},update:function(t,n){return t.getData(n).bind((function(n){return function(t,n){var r=e.map((function(e){return t.getDelta(e,n)}));return e=y.some(n),r}(t,n)}))},getStartData:function(){return t},setStartData:function(e){t=y.some(e)}})}}),eN=Object.freeze({snapTo:function(e,t,n,r){var o=t.getTarget(e.element());if(t.repositionTarget){var i=yo(e.element()),a=ga(i),u=x_(o),s=function(e,t,n){return{coord:D_(e.output(),e.output(),t,n),extra:e.extra()}}(r,a,u),c=A_(s.coord,0,u);Bi(o,c)}}}),tN=Iu({branchKey:"mode",branches:QD,name:"dragging",active:{events:function(e,t){return e.dragger.handlers(e,t)}},extra:{snap:bo(["sensor","range","output"],["extra"])},state:ZD,apis:eN}),nN=Nn(),rN=function(e,t,n,r,o,i){return e.fold((function(){return tN.snap({sensor:M_(n-20,r-20),range:ca(o,i),output:M_(y.some(n),y.some(r)),extra:{td:t}})}),(function(e){var o=n-20,i=r-20,a=e.element().dom().getBoundingClientRect();return tN.snap({sensor:M_(o,i),range:ca(40,40),output:M_(y.some(n-a.width/2),y.some(r-a.height/2)),extra:{td:t}})}))},oN=function(e,t,n){return{getSnapPoints:e,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:function(e,r){var o=r.td;(function(e,t){return e.exists((function(e){return Hn(e,t)}))})(t.get(),o)||(t.set(y.some(o)),n(o))},mustSnap:!0}},iN=function(e){return Nm(Dm.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:Nu([tN.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:e}),Zy.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}}))},aN=function(e,t){var n=an([]),r=an([]),o=an(!1),i=an(y.none()),a=an(y.none()),u=function(e){var n=Ea(e);return rN(f.getOpt(t),e,n.x(),n.y(),n.width(),n.height())},s=function(e){var n=Ea(e);return rN(d.getOpt(t),e,n.right(),n.bottom(),n.width(),n.height())},c=oN((function(){return F(n.get(),(function(e){return u(e)}))}),i,(function(t){a.get().each((function(n){e.fire("TableSelectorChange",{start:t,finish:n})}))})),l=oN((function(){return F(r.get(),(function(e){return s(e)}))}),a,(function(t){i.get().each((function(n){e.fire("TableSelectorChange",{start:n,finish:t})}))})),f=iN(c),d=iN(l),p=ta(f.asSpec()),m=ta(d.asSpec()),h=function(t,n,r,o){var i=r(n);tN.snapTo(t,i);!function(t,n,r,o){var i=n.dom().getBoundingClientRect();ji(t.element(),"display");var a=xo(sn.fromDom(e.getBody())).dom().innerHeight,u=r(i),s=o(i,a);(u||s)&&Ii(t.element(),"display","none")}(t,n,(function(e){return e[o]<0}),(function(e,t){return e[o]>t}))},g=function(e){return h(p,e,u,"top")},v=function(e){return h(m,e,s,"bottom")};nN.deviceType.isTouch()&&(e.on("TableSelectionChange",(function(e){o.get()||(Bc(t,p),Bc(t,m),o.set(!0)),i.set(y.some(e.start)),a.set(y.some(e.finish)),e.otherCells.each((function(t){n.set(t.upOrLeftCells),r.set(t.downOrRightCells),g(e.start),v(e.finish)}))})),e.on("ResizeEditor ResizeWindow ScrollContent",(function(){i.get().each(g),a.get().each(v)})),e.on("TableSelectionClear",(function(){o.get()&&(Fc(p),Fc(m),o.set(!1)),i.set(y.none()),a.set(y.none())})))};!function(e){e[e.None=0]="None",e[e.Both=1]="Both",e[e.Vertical=2]="Vertical"}(jO||(jO={}));var uN,sN=function(e,t,n){var r=sn.fromDom(e.getContainer()),o=function(e,t,n,r,o){var i={};return i.height=qA(r+t.top(),Db(e),Mb(e)),n===jO.Both&&(i.width=qA(o+t.left(),Ab(e),Nb(e))),i}(e,t,n,aa(r),ma(r));re(o,(function(e,t){return Ii(r,t,YA(e))})),uv(e)},cN=function(e){if(1===e.nodeType){if("BR"===e.nodeName||e.getAttribute("data-mce-bogus"))return!0;if("bookmark"===e.getAttribute("data-mce-type"))return!0}return!1},lN=function(e,t){t.delimiter||(t.delimiter="»");return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:Nu([Op.config({mode:"flow",selector:"div[role=button]"}),Ay.config({}),Mp.config({}),Rp("elementPathEvents",[lo((function(n,r){e.shortcuts.add("alt+F11","focus statusbar elementpath",(function(){return Op.focusIn(n)})),e.on("NodeChange",(function(r){var o,i,a=function(t){for(var n=[],r=t.length;r-- >0;){var o=t[r];if(1===o.nodeType&&!cN(o)){var i=e.fire("ResolveName",{name:o.nodeName.toLowerCase(),target:o});if(i.isDefaultPrevented()||n.push({name:i.name,element:o}),i.isPropagationStopped())break}}return n}(r.parents);a.length>0&&Mp.set(n,(o=F(a||[],(function(t,n){return Dm.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{role:"button","data-index":n,"tab-index":-1,"aria-level":n+1},innerHtml:t.name},action:function(n){e.focus(),e.selection.select(t.element),e.nodeChanged()}})})),i={dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0},innerHtml:" "+t.delimiter+" "}},U(o.slice(1),(function(e,t){var n=e;return n.push(i),n.push(t),n}),[o[0]])))}))}))])]),components:[]}},fN=function(e,t){var n=function(){var n,r=[];return e.getParam("elementpath",!0,"boolean")&&r.push(lN(e,{})),kn(e.settings.plugins,"wordcount")&&r.push(function(e,t){var n=function(e,n,r){return Mp.set(e,[Qi(t.translate(["{0} "+r,n[r]]))])};return Dm.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:Nu([Ay.config({}),Mp.config({}),yl.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),Rp("wordcount-events",[mo((function(e){var t=yl.getValue(e),r="words"===t.mode?"characters":"words";yl.setValue(e,{mode:r,count:t.count}),n(e,t.count,r)})),lo((function(t){e.on("wordCountUpdate",(function(e){var r=yl.getValue(t).mode;yl.setValue(t,{mode:r,count:e.wordCount}),n(t,e.wordCount,r)}))}))])])})}(e,t)),e.getParam("branding",!0,"boolean")&&r.push({dom:{tag:"span",classes:["tox-statusbar__branding"],innerHtml:'<a href="https://www.tiny.cloud/?utm_campaign=editor_referral&amp;utm_medium=poweredby&amp;utm_source=tinymce&amp;utm_content=v5" rel="noopener" target="_blank" tabindex="-1" aria-label="'+(n=Oh.translate(["Powered by {0}","Tiny"]))+'">'+n+"</a>"}}),r.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container"]},components:r}]:[]};return{dom:{tag:"div",classes:["tox-statusbar"]},components:function(){var r=n(),o=function(e){var t=!kn(e.settings.plugins,"autoresize"),n=e.getParam("resize",t);return!1===n?jO.None:"both"===n?jO.Both:jO.Vertical}(e);return o!==jO.None&&r.push(function(n){return{dom:{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{title:t.translate("Resize")},innerHtml:Rm("resize-handle",t.icons)},behaviours:Nu([tN.config({mode:"mouse",repositionTarget:!1,onDrag:function(t,r,o){sN(e,o,n)},blockerClass:"tox-blocker"})])}}(o)),r}()}},dN={setup:function(e){var t=e.inline,n=t?KA:$A,r=jb(e)?iA:cA,o=y.none(),i=Nn(),a=i.browser.isIE()?["tox-platform-ie"]:[],u=i.deviceType.isTouch()?["tox-platform-touch"]:[],s=Oh.isRtl()?{attributes:{dir:"rtl"}}:{},c=function(){return o.bind(MA.getHeader)},l=ta({dom:d({tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(a).concat(u)},s),behaviours:Nu([Nc.config({useFixed:function(){return r.isDocked(c)}})])}),f=function(){return C.value(l)},p=Nm({dom:{tag:"div",classes:["tox-anchorbar"]}}),m=function(){return o.bind((function(e){return MA.getMoreButton(e)})).getOrDie("Could not find more button element")},h=function(){return o.bind((function(e){return MA.getThrobber(e)})).getOrDie("Could not find throbber element")},g=FT(l,e,(function(){return o.bind((function(e){return p.getOpt(e)})).getOrDie("Could not find a anchor bar element")}),m),v=MA.parts().menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:g,onEscape:function(){e.focus()}}),b=Pb(e),w=MA.parts().toolbar({dom:{tag:"div",classes:["tox-toolbar"]},getSink:f,backstage:g,onEscape:function(){e.focus()},split:b,lazyToolbar:function(){return o.bind((function(e){return MA.getToolbar(e)})).getOrDie("Could not find more toolbar element")},lazyMoreButton:m,lazyHeader:function(){return c().getOrDie("Could not find header element")}}),x=MA.parts()["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},onEscape:function(){},split:b}),k=MA.parts().socket({dom:{tag:"div",classes:["tox-edit-area"]}}),S=MA.parts().sidebar({dom:{tag:"div",classes:["tox-sidebar"]}}),T=MA.parts().throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:g}),E=e.getParam("statusbar",!0,"boolean")&&!t?y.some(fN(e,g.shared.providers)):y.none(),O={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[k,S]},_=Bb(e),A=zb(e),D=Rb(e),N=MA.parts().header({dom:{tag:"div",classes:["tox-editor-header"]},components:W([D?[v]:[],_?[x]:A?[w]:[],Fb(e)?[]:[p.asSpec()]]),sticky:jb(e),editor:e,getSink:f}),M=W([[N],t?[]:[O]]),R=W([[{dom:{tag:"div",classes:["tox-editor-container"]},components:M}],t?[]:E.toArray(),[T]]),z=Hb(e),I=d(d({role:"application"},Oh.isRtl()?{dir:"rtl"}:{}),z?{"aria-hidden":"true"}:{}),B=ta(MA.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(t?["tox-tinymce-inline"]:[]).concat(u).concat(a),styles:d({visibility:"hidden"},z?{opacity:"0",border:"0"}:{}),attributes:I},components:R,behaviours:Nu([Op.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a"})])}));o=y.some(B),e.shortcuts.add("alt+F9","focus menubar",(function(){MA.focusMenubar(B)})),e.shortcuts.add("alt+F10","focus toolbar",(function(){MA.focusToolbar(B)}));var P=Tb(B),L=Tb(l);p_(e,P,L),Ub(e);var F=function(){var t=YA(XA(e)),n=YA(function(e){return GA(e).getOr(_b(e))}(e));return e.inline||(Hi("div","width",n)&&Ii(B.element(),"width",n),Hi("div","height",t)?Ii(B.element(),"height",t):Ii(B.element(),"height","200px")),t};return{mothership:P,uiMothership:L,backstage:g,renderUI:function(){r.setup(e,c),aD(e,g),ED(e,f,g),function(e){var t=e.ui.registry.getAll().sidebars;H(te(t),(function(n){var r=t[n],o=function(){return y.from(e.queryCommandValue("ToggleSidebar")).is(n)};e.ui.registry.addToggleButton(n,{icon:r.icon,tooltip:r.tooltip,onAction:function(t){e.execCommand("ToggleSidebar",!1,n),t.setActive(o())},onSetup:function(t){var n=function(){return t.setActive(o())};return e.on("ToggleSidebar",n),function(){e.off("ToggleSidebar",n)}}})}))}(e),SA(e,h,g.shared);var t=e.ui.registry.getAll(),o=t.buttons,i=t.menuItems,a=t.contextToolbars,u=t.sidebars,s=Ib(e),d={menuItems:i,menus:e.settings.menu?oe(e.settings.menu,(function(e){return he(e,{items:e.items})})):{},menubar:e.settings.menubar,toolbar:s.getOrThunk((function(){return e.getParam("toolbar",!0)})),buttons:o,sidebar:u};d_(e,a,l,{backstage:g}),aN(e,l);var p=e.getElement(),m=F(),v={mothership:P,uiMothership:L,outerContainer:B},b={targetNode:p,height:m};return n.render(e,v,d,g,b)},getUi:function(){return{channels:{broadcastAll:L.broadcast,broadcastOn:L.broadcastOn,register:function(){}}}}}}},pN=function(e,t){var n=y.from(Lo(e,"id")).fold((function(){var e=Yo("dialog-label");return Po(t,"id",e),e}),i);Po(e,"aria-labelledby",n)},mN=o([It("lazySink"),$t("dragBlockClass"),nn("getBounds",Oa),Kt("useTabstopAt",o(!0)),Kt("eventOrder",{}),wl("modalBehaviours",[Op]),Ga("onExecute"),Ja("onEscape")]),hN={sketch:i},gN=o([Gl({name:"draghandle",overrides:function(e,t){return{behaviours:Nu([tN.config({mode:"mouse",getTarget:function(e){return _a(e,'[role="dialog"]').getOr(e)},blockerClass:e.dragBlockClass.getOrDie(new Error("The drag blocker class was not specified for a dialog with a drag handle: \n"+JSON.stringify(t,null,2)).message),getBounds:e.getDragBounds})])}}}),Yl({schema:[It("dom")],name:"title"}),Yl({factory:hN,schema:[It("dom")],name:"close"}),Yl({factory:hN,schema:[It("dom")],name:"body"}),Gl({factory:hN,schema:[It("dom")],name:"footer"}),Xl({factory:{sketch:function(e,t){return d(d({},e),{dom:t.dom,components:t.components})}},schema:[Kt("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),Kt("components",[])],name:"blocker"})]),vN=Sf({name:"ModalDialog",configFields:mN(),partFields:gN(),factory:function(e,t,n,r){var o=Yo("alloy.dialog.busy"),a=Yo("alloy.dialog.idle"),u=Nu([Op.config({mode:"special",onTab:function(){return y.some(!0)},onShiftTab:function(){return y.some(!0)}}),Lp.config({})]),s=Yo("modal-events"),c=d(d({},e.eventOrder),{"alloy.system.attached":[s].concat(e.eventOrder["alloy.system.attached"]||[])});return{uid:e.uid,dom:e.dom,components:t,apis:{show:function(t){var n=e.lazySink(t).getOrDie(),i=an(y.none()),s=r.blocker(),c=n.getSystem().build(d(d({},s),{components:s.components.concat([na(t)]),behaviours:Nu([Lp.config({}),Rp("dialog-blocker-events",[co(dr(),(function(){Op.focusIn(t)})),no(a,(function(e,n){Fo(t.element(),"aria-busy")&&(Ho(t.element(),"aria-busy"),i.get().each((function(e){return Mp.remove(t,e)})))})),no(o,(function(e,n){Po(t.element(),"aria-busy","true");var r=n.event().getBusySpec();i.get().each((function(e){Mp.remove(t,e)}));var o=r(t,u),a=e.getSystem().build(o);i.set(y.some(a)),Mp.append(t,na(a)),a.hasConfigured(Op)&&Op.focusIn(a)}))])])}));Bc(n,c),Op.focusIn(t)},hide:function(e){Co(e.element()).each((function(t){e.getSystem().getByDom(t).each((function(e){Fc(e)}))}))},getBody:function(t){return cf(t,e,"body")},getFooter:function(t){return cf(t,e,"footer")},setIdle:function(e){Yr(e,a)},setBusy:function(e,t){Xr(e,o,{getBusySpec:t})}},eventOrder:c,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:Cl(e.modalBehaviours,[Mp.config({}),Op.config({mode:"cyclic",onEnter:e.onExecute,onEscape:e.onEscape,useTabstopAt:e.useTabstopAt}),Rp(s,[lo((function(t){var n,r,o;pN(t.element(),cf(t,e,"title").element()),n=t.element(),r=cf(t,e,"body").element(),o=y.from(Lo(n,"id")).fold((function(){var e=Yo("dialog-describe");return Po(r,"id",e),e}),i),Po(n,"aria-describedby",o)}))])])}},apis:{show:function(e,t){e.show(t)},hide:function(e,t){e.hide(t)},getBody:function(e,t){return e.getBody(t)},getFooter:function(e,t){return e.getFooter(t)},setBusy:function(e,t,n){e.setBusy(t,n)},setIdle:function(e,t){e.setIdle(t)}}}),bN=[Lt("type"),Lt("text"),Ft("level",["info","warn","error","success"]),Lt("icon"),Kt("url","")],yN=ut(bN),wN=[Lt("type"),Lt("text"),tn("disabled",!1),tn("primary",!1),pt("name","name",Ce((function(){return Yo("button-name")})),At),Yt("icon"),tn("borderless",!1)],xN=ut(wN),CN=[Lt("type"),Lt("name"),Lt("label"),tn("disabled",!1)],kN=ut(CN),SN=Dt,TN=[Lt("type"),Lt("name")],EN=TN.concat([Yt("label")]),ON=ut(EN),_N=At,AN=ut(EN),DN=At,NN=ut(EN),MN=st(gt),RN=function(e){return[Lt("type"),Pt("columns"),e]},zN=EN.concat([tn("sandboxed",!0)]),IN=ut(zN),BN=At,PN=EN.concat([Yt("inputMode"),Yt("placeholder"),tn("maximized",!1),tn("disabled",!1)]),LN=ut(PN),FN=At,HN=EN.concat([Vt("items",[Lt("text"),Lt("value")]),Qt("size",1),tn("disabled",!1)]),jN=ut(HN),VN=At,UN=EN.concat([tn("constrain",!0),tn("disabled",!1)]),$N=ut(UN),qN=ut([Lt("width"),Lt("height")]),WN=EN.concat([Yt("placeholder"),tn("maximized",!1),tn("disabled",!1)]),YN=ut(WN),XN=At,GN=EN.concat([en("filetype","file",["image","media","file"]),Kt("disabled",!1)]),KN=ut(GN),JN=ut([Lt("value"),Kt("meta",{})]),QN=TN.concat([Zt("tag","textarea"),Lt("scriptId"),Lt("scriptUrl"),function(e,t){return Jt(e,t,Rt)}("settings",void 0)]),ZN=TN.concat([Zt("tag","textarea"),Ht("init")]),eM=bt((function(e){return wt("customeditor.old",at(ZN),e).orThunk((function(){return wt("customeditor.new",at(QN),e)}))})),tM=At,nM=[Lt("type"),Lt("html"),en("presets","presentation",["presentation","document"])],rM=ut(nM),oM=EN.concat([Bt("currentState",ut([It("blob"),Lt("url")]))]),iM=ut(oM),aM=EN.concat([Kt("columns","auto")]),uM=ut(aM),sM=(uN=[Lt("value"),Lt("text"),Lt("icon")],ft(uN)),cM=function(e){return[Lt("type"),Lt("label"),e]},lM=[Lt("type"),Ut("header",At),Ut("cells",st(At))],fM=ut(lM),dM=function(e){return pt("items","items",we(),st(bt((function(t){return wt("Checking item of "+e,pM,t).fold((function(e){return C.error(kt(e))}),(function(e){return C.value(e)}))}))))},pM=vt((function(){return St("type",{alertbanner:yN,bar:ut((e=dM("bar"),[Lt("type"),e])),button:xN,checkbox:kN,colorinput:ON,colorpicker:AN,dropzone:NN,grid:ut(RN(dM("grid"))),iframe:IN,input:LN,selectbox:jN,sizeinput:$N,textarea:YN,urlinput:KN,customeditor:eM,htmlpanel:rM,imagetools:iM,collection:uM,label:ut(cM(dM("label"))),table:fM,panel:hM});var e})),mM=[Lt("type"),Kt("classes",[]),Ut("items",pM)],hM=ut(mM),gM=[pt("name","name",Ce((function(){return Yo("tab-name")})),At),Lt("title"),Ut("items",pM)],vM=[Lt("type"),Vt("tabs",gM)],bM=ut(vM),yM=ut([Lt("type"),Lt("name"),tn("active",!1)].concat(ch)),wM=Dt,xM=[pt("name","name",Ce((function(){return Yo("button-name")})),At),Yt("icon"),en("align","end",["start","end"]),tn("primary",!1),tn("disabled",!1)],CM=m(xM,[Lt("text")]),kM=m([Ft("type",["submit","cancel","custom"])],CM),SM=m([Ft("type",["menu"]),Yt("text"),Yt("tooltip"),Yt("icon"),Ut("items",yM),nn("onSetup",(function(){return n}))],xM),TM=CM,EM=Tt("type",{submit:kM,cancel:kM,custom:kM,menu:SM}),OM=ut([Lt("title"),Bt("body",St("type",{panel:hM,tabpanel:bM})),Zt("size","normal"),Ut("buttons",EM),Kt("initialData",{}),nn("onAction",n),nn("onChange",n),nn("onSubmit",n),nn("onClose",n),nn("onCancel",n),Kt("onTabChange",n)]),_M=function(e){return T(e)?[e].concat(Y(se(e),_M)):E(e)?Y(e,_M):[]},AM=function(e){return S(e.type)&&S(e.name)},DM={checkbox:SN,colorinput:_N,colorpicker:DN,dropzone:MN,input:FN,iframe:BN,sizeinput:qN,selectbox:VN,size:qN,textarea:XN,urlinput:JN,customeditor:tM,collection:sM,togglemenuitem:wM},NM=function(e){var t=function(e){return j(_M(e),AM)}(e),n=Y(t,(function(e){return function(e){return y.from(DM[e.type])}(e).fold((function(){return[]}),(function(t){return[Bt(e.name,t)]}))}));return ut(n)},MM=ut(m([Ft("type",["cancel","custom"])],TM)),RM=ut([Lt("title"),Lt("url"),Wt("height"),Wt("width"),function(e,t){return qt(e,st(t))}("buttons",MM),nn("onAction",n),nn("onCancel",n),nn("onClose",n),nn("onMessage",n)]),zM=function(e){return{internalDialog:xt(function(e){return wt("dialog",OM,e)}(e)),dataValidator:NM(e),initialData:e.initialData}},IM={open:function(e,t){var n=zM(t);return e(n.internalDialog,n.initialData,n.dataValidator)},openUrl:function(e,t){return e(xt(function(e){return wt("dialog",RM,e)}(t)))},redial:function(e){return zM(e)}},BM=function(e){var t=[],n={};return re(e,(function(e,r){e.fold((function(){t.push(r)}),(function(e){n[r]=e}))})),t.length>0?C.error(t):C.value(n)},PM=function(e,n){var r=Nm(qx.sketch((function(t){return{dom:{tag:"div",classes:["tox-form"].concat(e.classes)},components:F(e.items,(function(e){return VS(t,e,n)}))}})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[r.asSpec()]}],behaviours:Nu([Op.config({mode:"acyclic",useTabstopAt:u(gC)}),Zx(r),uC(r,{postprocess:function(e){return BM(e).fold((function(e){return t.console.error(e),{}}),(function(e){return e}))}})])}},LM=kf({name:"TabButton",configFields:[Kt("uid",void 0),It("value"),pt("dom","dom",ke((function(e){return{attributes:{role:"tab",id:Yo("aria"),"aria-selected":"false"}}})),Et()),$t("action"),Kt("domModification",{}),wl("tabButtonBehaviours",[Lp,Op,yl]),It("view")],factory:function(e,t){return{uid:e.uid,dom:e.dom,components:e.components,events:Qp(e.action),behaviours:Cl(e.tabButtonBehaviours,[Lp.config({}),Op.config({mode:"execution",useSpace:!0,useEnter:!0}),yl.config({store:{mode:"memory",initialValue:e.value}})]),domModification:e.domModification}}}),FM=o([It("tabs"),It("dom"),Kt("clickToDismiss",!1),wl("tabbarBehaviours",[Ff,Op]),Wa(["tabClass","selectedClass"])]),HM=Kl({factory:LM,name:"tabs",unit:"tab",overrides:function(e,t){var r=function(e,t){Ff.dehighlight(e,t),Xr(e,$r(),{tabbar:e,button:t})},o=function(e,t){Ff.highlight(e,t),Xr(e,Ur(),{tabbar:e,button:t})};return{action:function(t){var i=t.getSystem().getByUid(e.uid).getOrDie(),a=Ff.isHighlighted(i,t);(a&&e.clickToDismiss?r:a?n:o)(i,t)},domModification:{classes:[e.markers.tabClass]}}}}),jM=o([HM]),VM=Sf({name:"Tabbar",configFields:FM(),partFields:jM(),factory:function(e,t,n,r){return{uid:e.uid,dom:e.dom,components:t,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:Cl(e.tabbarBehaviours,[Ff.config({highlightClass:e.markers.selectedClass,itemClass:e.markers.tabClass,onHighlight:function(e,t){Po(t.element(),"aria-selected","true")},onDehighlight:function(e,t){Po(t.element(),"aria-selected","false")}}),Op.config({mode:"flow",getInitial:function(e){return Ff.getHighlighted(e).map((function(e){return e.element()}))},selector:"."+e.markers.tabClass,executeOnMove:!0})])}}}),UM=kf({name:"Tabview",configFields:[wl("tabviewBehaviours",[Mp])],factory:function(e,t){return{uid:e.uid,dom:e.dom,behaviours:Cl(e.tabviewBehaviours,[Mp.config({})]),domModification:{attributes:{role:"tabpanel"}}}}}),$M=o([Kt("selectFirst",!0),Xa("onChangeTab"),Xa("onDismissTab"),Kt("tabs",[]),wl("tabSectionBehaviours",[])]),qM=Yl({factory:VM,schema:[It("dom"),jt("markers",[It("tabClass"),It("selectedClass")])],name:"tabbar",defaults:function(e){return{tabs:e.tabs}}}),WM=Yl({factory:UM,name:"tabview"}),YM=o([qM,WM]),XM=Sf({name:"TabSection",configFields:$M(),partFields:YM(),factory:function(e,t,n,r){var o=function(t,n){sf(t,e,"tabbar").each((function(e){n(e).each(Gr)}))};return{uid:e.uid,dom:e.dom,components:t,behaviours:xl(e.tabSectionBehaviours),events:Zr(W([e.selectFirst?[lo((function(e,t){o(e,Ff.getFirst)}))]:[],[no(Ur(),(function(t,n){!function(t){var n=yl.getValue(t);sf(t,e,"tabview").each((function(r){$(e.tabs,(function(e){return e.value===n})).each((function(n){var o=n.view();Po(r.element(),"aria-labelledby",Lo(t.element(),"id")),Mp.set(r,o),e.onChangeTab(r,t,o)}))}))}(n.event().button())})),no($r(),(function(t,n){var r=n.event().button();e.onDismissTab(t,r)}))]])),apis:{getViewItems:function(t){return sf(t,e,"tabview").map((function(e){return Mp.contents(e)})).getOr([])},showTab:function(e,t){o(e,(function(e){var n=Ff.getCandidates(e);return $(n,(function(e){return yl.getValue(e)===t})).filter((function(t){return!Ff.isHighlighted(e,t)}))}))}}}},apis:{getViewItems:function(e,t){return e.getViewItems(t)},showTab:function(e,t,n){e.showTab(t,n)}}}),GM=function(e){return Q((t=e,n=function(e,t){return e>t?-1:e<t?1:0},(r=N.call(t,0)).sort(n),r));var t,n,r},KM=function(e,t){Ii(e,"height",t+"px"),Nn().browser.isIE()?ji(e,"flex-basis"):Ii(e,"flex-basis",t+"px")},JM=function(e,n,r){_a(e,'[role="dialog"]').each((function(e){Aa(e,'[role="tablist"]').each((function(o){r.get().map((function(r){return Ii(n,"height","0"),Ii(n,"flex-basis","0"),Math.min(r,function(e,n,r){var o,i=wo(e).dom(),a=_a(e,".tox-dialog-wrap").getOr(e);o="fixed"===Pi(a,"position")?Math.max(i.clientHeight,t.window.innerHeight):Math.max(i.offsetHeight,i.scrollHeight);var u=aa(n),s=n.dom().offsetLeft>=r.dom().offsetLeft+ma(r)?Math.max(aa(r),u):u,c=parseInt(Pi(e,"margin-top"),10)||0,l=parseInt(Pi(e,"margin-bottom"),10)||0;return o-(aa(e)+c+l-s)}(e,n,o))})).each((function(e){KM(n,e)}))}))}))},QM=function(e){return Aa(e,'[role="tabpanel"]')},ZM=function(e){var t;return{smartTabHeight:(t=an(y.none()),{extraEvents:[lo((function(n){var r=n.element();QM(r).each((function(o){Ii(o,"visibility","hidden"),n.getSystem().getByDom(o).toOption().each((function(n){var r=function(e,t,n){return F(e,(function(r,o){Mp.set(n,e[o].view());var i=t.dom().getBoundingClientRect();return Mp.set(n,[]),i.height}))}(e,o,n),i=GM(r);t.set(i)})),JM(r,o,t),ji(o,"visibility"),function(e,t){Q(e).each((function(e){return XM.showTab(t,e.value)}))}(e,n),Pm.requestAnimationFrame((function(){JM(r,o,t)}))}))})),no(Br(),(function(e){var n=e.element();QM(n).each((function(e){JM(n,e,t)}))})),no(Qb,(function(e,n){var r=e.element();QM(r).each((function(e){var n=Vu();Ii(e,"visibility","hidden");var o=Fi(e,"height").map((function(e){return parseInt(e,10)}));ji(e,"height"),ji(e,"flex-basis");var i=e.dom().getBoundingClientRect().height;o.forall((function(e){return i>e}))?(t.set(y.from(i)),JM(r,e,t)):o.each((function(t){KM(e,t)})),ji(e,"visibility"),n.each(ju)}))}))],selectFirst:!1}),naiveTabHeight:{extraEvents:[],selectFirst:!0}}},eR=function(e,t){var n=an({}),r=function(e){var t=yl.getValue(e),r=BM(t).getOr({}),o=n.get(),i=me(o,r);n.set(i)},o=function(e){var t=n.get();yl.setValue(e,t)},i=an(null),a=F(e.tabs,(function(e){return{value:e.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"],innerHtml:t.shared.providers.translate(e.title)},view:function(){return[qx.sketch((function(n){return{dom:{tag:"div",classes:["tox-form"]},components:F(e.items,(function(e){return VS(n,e,t)})),formBehaviours:Nu([Op.config({mode:"acyclic",useTabstopAt:u(gC)}),Rp("TabView.form.events",[lo(o),fo(r)]),Fu.config({channels:Me([{key:"send-data-to-section",value:{onReceive:r}},{key:"send-data-to-view",value:{onReceive:o}}])})])}}))]}}})),s=ZM(a).smartTabHeight;return XM.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:function(e,t,n){var r=yl.getValue(t);Xr(e,Jb,{name:r,oldName:i.get()}),i.set(r)},tabs:a,components:[XM.parts().tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[VM.parts().tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:Nu([Ay.config({})])}),XM.parts().tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:s.selectFirst,tabSectionBehaviours:Nu([Rp("tabpanel",s.extraEvents),Op.config({mode:"acyclic"}),_f.config({find:function(e){return Q(XM.getViewItems(e))}}),yl.config({store:{mode:"manual",getValue:function(e){return e.getSystem().broadcastOn(["send-data-to-section"],{}),n.get()},setValue:function(e,t){n.set(t),e.getSystem().broadcastOn(["send-data-to-view"],{})}}})])})},tR=Yo("update-dialog"),nR=Yo("update-title"),rR=Yo("update-body"),oR=Yo("update-footer"),iR=Yo("body-send-message"),aR=function(e,t,n,r){return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:d(d({},t.map((function(e){return{id:e}})).getOr({})),r?{"aria-live":"polite"}:{})},components:[],behaviours:Nu([eC(0),sO.config({channel:rR,updateState:function(e,t){return y.some({isTabPanel:function(){return"tabpanel"===t.body.type}})},renderComponents:function(e){switch(e.body.type){case"tabpanel":return[eR(e.body,n)];default:return[PM(e.body,n)]}},initialData:e})])}},uR=function(e,t){return[ao(dr(),vC),e(qb,(function(e,n){t.onClose(),n.onClose()})),e(Wb,(function(e,t,n,r){t.onCancel(e),Yr(r,qb)})),no(Kb,(function(e,n){return t.onUnblock()})),no(Gb,(function(e,n){return t.onBlock(n.event())}))]},sR=function(e,t){var n=function(t,n){return no(t,(function(t,o){r(t,(function(r,i){n(e(),r,o.event(),t)}))}))},r=function(e,t){sO.getState(e).get().each((function(n){t(n,e)}))};return m(uR(n,t),[n(Yb,(function(e,t,n){t.onAction(e,{name:n.name()})}))])},cR=function(e,t){var n=function(t,n){return no(t,(function(t,o){r(t,(function(r,i){n(e(),r,o.event(),t)}))}))},r=function(e,t){sO.getState(e).get().each((function(n){t(n.internalDialog,e)}))};return m(uR(n,t),[n(Xb,(function(e,t){return t.onSubmit(e)})),n($b,(function(e,t,n){t.onChange(e,{name:n.name()})})),n(Yb,(function(e,t,n,r){var o=function(){return Op.focusIn(r)},i=Vu();t.onAction(e,{name:n.name(),value:n.value()}),Vu().fold((function(){o()}),(function(e){!jn(r.element(),e)||Fo(e,"disabled")?o():jn(e,i.getOrNull())&&Fo(i.getOrDie(),"disabled")&&o()}))})),n(Jb,(function(e,t,n){t.onTabChange(e,{newTabName:n.name(),oldTabName:n.oldName()})})),fo((function(t){var n=e();yl.setValue(t,n.getData())}))])},lR=function(e,t){var n=function(e,t){for(var n=[],r=[],o=0,i=e.length;o<i;o++){var a=e[o];(t(a,o)?n:r).push(a)}return{pass:n,fail:r}}(t.map((function(e){return e.footerButtons})).getOr([]),(function(e){return"start"===e.align})),r=function(e,t){return Sb.sketch({dom:{tag:"div",classes:["tox-dialog__footer-"+e]},components:F(t,(function(e){return e.memento.asSpec()}))})};return[r("start",n.pass),r("end",n.fail)]},fR=function(e,t){return{dom:Eh('<div class="tox-dialog__footer"></div>'),components:[],behaviours:Nu([sO.config({channel:oR,initialData:e,updateState:function(e,n){var r=F(n.buttons,(function(e){var n=Nm(function(e,t){return Dk(e,e.type,t)}(e,t));return{name:e.name,align:e.align,memento:n}}));return y.some({lookupByName:function(e,t){return function(e,t,n){return $(t,(function(e){return e.name===n})).bind((function(t){return t.memento.getOpt(e)}))}(e,r,t)},footerButtons:r})},renderComponents:lR})])}},dR=function(e,t){return vN.parts().footer(fR(e,t))},pR=function(e,t){if(e.getRoot().getSystem().isConnected()){var n=_f.getCurrent(e.getFormWrapper()).getOr(e.getFormWrapper());return qx.getField(n,t).fold((function(){var r=e.getFooter();return sO.getState(r).get().bind((function(e){return e.lookupByName(n,t)}))}),(function(e){return y.some(e)}))}return y.none()},mR=function(e,t,n){var r=function(t){var n=e.getRoot();n.getSystem().isConnected()&&t(n)},o={getData:function(){var t=e.getRoot(),r=t.getSystem().isConnected()?e.getFormWrapper():t,o=yl.getValue(r),i=oe(n,(function(e){return e.get()}));return d(d({},o),i)},setData:function(t){r((function(r){var i=o.getData(),a=he(i,t),u=function(e,t){var n=e.getRoot();return sO.getState(n).get().map((function(e){return xt(wt("data",e.dataValidator,t))})).getOr(t)}(e,a),s=e.getFormWrapper();yl.setValue(s,u),re(n,(function(e,t){le(a,t)&&e.set(a[t])}))}))},disable:function(t){pR(e,t).each(og.disable)},enable:function(t){pR(e,t).each(og.enable)},focus:function(t){pR(e,t).each(Lp.focus)},block:function(e){if(!S(e))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");r((function(t){Xr(t,Gb,{message:e})}))},unblock:function(){r((function(e){Yr(e,Kb)}))},showTab:function(t){r((function(n){var r=e.getBody();sO.getState(r).get().exists((function(e){return e.isTabPanel()}))&&_f.getCurrent(r).each((function(e){XM.showTab(e,t)}))}))},redial:function(e){r((function(n){var r=t(e);n.getSystem().broadcastOn([tR],r),n.getSystem().broadcastOn([nR],r.internalDialog),n.getSystem().broadcastOn([rR],r.internalDialog),n.getSystem().broadcastOn([oR],r.internalDialog),o.setData(r.initialData)}))},close:function(){r((function(e){Yr(e,qb)}))}};return o},hR=zh.deviceType.isTouch(),gR=function(e,t){return{dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[e,t]}},vR=function(e,t){return vN.parts().close(Dm.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":t.translate("Close")}},action:e,buttonBehaviours:Nu([Ay.config({})])}))},bR=function(){return vN.parts().title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}})},yR=function(e,t){return vN.parts().body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:Eh("<p>"+t.translate(e)+"</p>")}]}]})},wR=function(e){return vN.parts().footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:e})},xR=function(e,t){return[Sb.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:e}),Sb.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:t})]},CR=function(e){var t,n="tox-dialog",r=n+"-wrap",o=r+"__backdrop",i=n+"__disable-scroll";return vN.sketch({lazySink:e.lazySink,onEscape:function(t){return e.onEscape(t),y.some(!0)},useTabstopAt:function(e){return!gC(e)},dom:{tag:"div",classes:[n].concat(e.extraClasses),styles:d({position:"relative"},e.extraStyles)},components:m([e.header,e.body],e.footer.toArray()),parts:{blocker:{dom:Eh('<div class="'+r+'"></div>'),components:[{dom:{tag:"div",classes:hR?[o,o+"--opaque"]:[o]}}]}},dragBlockClass:r,modalBehaviours:Nu(m([Lp.config({}),Rp("dialog-events",e.dialogEvents.concat([co(dr(),(function(e,t){Op.focusIn(e)}))])),Rp("scroll-lock",[lo((function(){Ei(Gn(),i)})),fo((function(){_i(Gn(),i)}))])],e.extraBehaviours)),eventOrder:d((t={},t[Er()]=["dialog-events"],t[Pr()]=["scroll-lock","dialog-events","alloy.base.behaviour"],t[Lr()]=["alloy.base.behaviour","dialog-events","scroll-lock"],t),e.eventOrder)})},kR=function(e){return Dm.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":e.translate("Close"),title:e.translate("Close")}},components:[{dom:{tag:"div",classes:["tox-icon"],innerHtml:'<svg width="24" height="24" xmlns="http://www.w3.org/2000/svg"><path d="M17.953 7.453L13.422 12l4.531 4.547-1.406 1.406L12 13.422l-4.547 4.531-1.406-1.406L10.578 12 6.047 7.453l1.406-1.406L12 10.578l4.547-4.531z" fill-rule="evenodd"></path></svg>'}}],action:function(e){Yr(e,Wb)}})},SR=function(e,t,n){var r=function(e){return[Qi(n.translate(e.title))]};return{dom:{tag:"div",classes:["tox-dialog__title"],attributes:d({},t.map((function(e){return{id:e}})).getOr({}))},components:r(e),behaviours:Nu([sO.config({channel:nR,renderComponents:r})])}},TR=function(){return{dom:Eh('<div class="tox-dialog__draghandle"></div>')}},ER=function(e,t){return function(e,t){var n=vN.parts().title(SR(e,y.none(),t)),r=vN.parts().draghandle(TR()),o=vN.parts().close(kR(t)),i=[n].concat(e.draggable?[r]:[]).concat([o]);return Sb.sketch({dom:Eh('<div class="tox-dialog__header"></div>'),components:i})}({title:t.shared.providers.translate(e),draggable:t.dialog.isDraggableModal()},t.shared.providers)},OR=function(e,t){return{onClose:function(){return t.closeWindow()},onBlock:function(t){vN.setBusy(e(),(function(e,n){return{dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":t.message()},styles:{left:"0px",right:"0px",bottom:"0px",top:"0px",position:"absolute"}},behaviours:n,components:[{dom:Eh('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}}))},onUnblock:function(){vN.setIdle(e())}}},_R=function(e,t,n,r){var o;return ta(CR(d(d({},e),{lazySink:r.shared.getSink,extraBehaviours:m([sO.config({channel:tR,updateState:function(e,t){return y.some(t)},initialData:t}),lC({})],e.extraBehaviours),onEscape:function(e){Yr(e,Wb)},dialogEvents:n,eventOrder:(o={},o[Tr()]=["reflecting","receiving"],o[Pr()]=["scroll-lock","reflecting","messages","dialog-events","alloy.base.behaviour"],o[Lr()]=["alloy.base.behaviour","dialog-events","messages","reflecting","scroll-lock"],o)})))},AR=function(e){return F(e,(function(e){return"menu"===e.type?function(e){var t=F(e.items,(function(e){var t=an(!1);return d(d({},e),{storage:t})}));return d(d({},e),{items:t})}(e):e}))},DR=function(e){return U(e,(function(e,t){return"menu"===t.type?U(t.items,(function(e,t){return e[t.name]=t.storage,e}),e):e}),{})},NR=function(e,t,n){var r=ER(e.internalDialog.title,n),o=function(e,t){var n=aR(e,y.none(),t,!1);return vN.parts().body(n)}({body:e.internalDialog.body},n),i=AR(e.internalDialog.buttons),a=DR(i),u=dR({buttons:i},n),s=cR((function(){return d}),OR((function(){return f}),t)),c="normal"!==e.internalDialog.size?"large"===e.internalDialog.size?["tox-dialog--width-lg"]:["tox-dialog--width-md"]:[],l={header:r,body:o,footer:y.some(u),extraClasses:c,extraBehaviours:[],extraStyles:{}},f=_R(l,e,s,n),d=mR({getRoot:function(){return f},getBody:function(){return vN.getBody(f)},getFooter:function(){return vN.getFooter(f)},getFormWrapper:function(){var e=vN.getBody(f);return _f.getCurrent(e).getOr(e)}},t.redial,a);return{dialog:f,instanceApi:d}},MR=function(e,t,n,r){var o,i,a=Yo("dialog-label"),u=Yo("dialog-content"),s=Nm(function(e,t,n){return Sb.sketch({dom:Eh('<div class="tox-dialog__header"></div>'),components:[SR(e,y.some(t),n),TR(),kR(n)],containerBehaviours:Nu([tN.config({mode:"mouse",blockerClass:"blocker",getTarget:function(e){return Da(e,'[role="dialog"]').getOrDie()},snaps:{getSnapPoints:function(){return[]},leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])})}({title:e.internalDialog.title,draggable:!0},a,n.shared.providers)),c=Nm(function(e,t,n,r){return aR(e,y.some(t),n,r)}({body:e.internalDialog.body},u,n,r)),l=AR(e.internalDialog.buttons),f=DR(l),d=Nm(function(e,t){return fR(e,t)}({buttons:l},n)),p=cR((function(){return h}),{onBlock:function(){},onUnblock:function(){},onClose:function(){return t.closeWindow()}}),m=ta({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline"],attributes:(o={role:"dialog"},o["aria-labelledby"]=a,o["aria-describedby"]=""+u,o)},eventOrder:(i={},i[Tr()]=[sO.name(),Fu.name()],i[Er()]=["execute-on-form"],i[Pr()]=["reflecting","execute-on-form"],i),behaviours:Nu([Op.config({mode:"cyclic",onEscape:function(e){return Yr(e,qb),y.some(!0)},useTabstopAt:function(e){return!gC(e)&&("button"!==$n(e)||"disabled"!==Lo(e,"disabled"))}}),sO.config({channel:tR,updateState:function(e,t){return y.some(t)},initialData:e}),Lp.config({}),Rp("execute-on-form",p.concat([co(dr(),(function(e,t){Op.focusIn(e)}))])),lC({})]),components:[s.asSpec(),c.asSpec(),d.asSpec()]}),h=mR({getRoot:function(){return m},getFooter:function(){return d.get(m)},getBody:function(){return c.get(m)},getFormWrapper:function(){var e=c.get(m);return _f.getCurrent(e).getOr(e)}},t.redial,f);return{dialog:m,instanceApi:h}},RR=tinymce.util.Tools.resolve("tinymce.util.URI"),zR=["insertContent","setContent","execCommand","close","block","unblock"],IR=function(e){return T(e)&&-1!==zR.indexOf(e.mceAction)},BR=function(e,n,r,o){var i,a,s,c=ER(e.title,o),l=function(e){var t={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[bC({dom:{tag:"iframe",attributes:{src:e.url}},behaviours:Nu([Ay.config({}),Lp.config({})])})]}],behaviours:Nu([Op.config({mode:"acyclic",useTabstopAt:u(gC)})])};return vN.parts().body(t)}(e),f=e.buttons.bind((function(e){return 0===e.length?y.none():y.some(dR({buttons:e},o))})),p=sR((function(){return C}),OR((function(){return x}),n)),m=d(d({},e.height.fold((function(){return{}}),(function(e){return{height:e+"px","max-height":e+"px"}}))),e.width.fold((function(){return{}}),(function(e){return{width:e+"px","max-width":e+"px"}}))),h=e.width.isNone()&&e.height.isNone()?["tox-dialog--width-lg"]:[],g=new RR(e.url,{base_uri:new RR(t.window.location.href)}),v=g.protocol+"://"+g.host+(g.port?":"+g.port:""),b=an(y.none()),w=[Rp("messages",[lo((function(){var n=rb(sn.fromDom(t.window),"message",(function(t){if(g.isSameOrigin(new RR(t.raw().origin))){var n=t.raw().data;IR(n)?function(e,t,n){switch(n.mceAction){case"insertContent":e.insertContent(n.content);break;case"setContent":e.setContent(n.content);break;case"execCommand":var r=!!O(n.ui)&&n.ui;e.execCommand(n.cmd,r,n.value);break;case"close":t.close();break;case"block":t.block(n.message);break;case"unblock":t.unblock()}}(r,C,n):function(e){return!IR(e)&&T(e)&&le(e,"mceAction")}(n)&&e.onMessage(C,n)}}));b.set(y.some(n))})),fo((function(){b.get().each((function(e){return e.unbind()}))}))]),Fu.config({channels:(i={},i[iR]={onReceive:function(e,t){Aa(e.element(),"iframe").each((function(e){e.dom().contentWindow.postMessage(t,v)}))}},i)})],x=_R({header:c,body:l,footer:f,extraClasses:h,extraBehaviours:w,extraStyles:m},e,p,o),C=(a=x,s=function(e){a.getSystem().isConnected()&&e(a)},{block:function(e){if(!S(e))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");s((function(t){Xr(t,Gb,{message:e})}))},unblock:function(){s((function(e){Yr(e,Kb)}))},close:function(){s((function(e){Yr(e,qb)}))},sendMessage:function(e){s((function(t){t.getSystem().broadcastOn([iR],e)}))}});return{dialog:x,instanceApi:C}},PR=function(e,t){return t?[]:[Z_.config({contextual:{lazyContext:function(){return y.some(Ta(sn.fromDom(e.getContentAreaContainer())))},fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},leftAttr:"data-dock-left",topAttr:"data-dock-top",positionAttr:"data-dock-pos",modes:["top"]})]},LR={setup:function(e){var t=e.backstage,n=e.editor,r=jb(n),o=function(e){var t=e.backstage.shared;return{open:function(n,r){var o=function(){vN.hide(s),r()},i=Nm(Dk({name:"close-alert",text:"OK",primary:!0,align:"end",disabled:!1,icon:y.none()},"cancel",e.backstage)),a=bR(),u=vR(o,t.providers),s=ta(CR({lazySink:function(){return t.getSink()},header:gR(a,u),body:yR(n,t.providers),footer:y.some(wR(xR([],[i.asSpec()]))),onEscape:o,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[no(Wb,o)],eventOrder:{}}));vN.show(s);var c=i.get(s);Lp.focus(c)}}}(e),i=function(e){var t=e.backstage.shared;return{open:function(n,r){var o=function(e){vN.hide(c),r(e)},i=Nm(Dk({name:"yes",text:"Yes",primary:!0,align:"end",disabled:!1,icon:y.none()},"submit",e.backstage)),a=Dk({name:"no",text:"No",primary:!0,align:"end",disabled:!1,icon:y.none()},"cancel",e.backstage),u=bR(),s=vR((function(){return o(!1)}),t.providers),c=ta(CR({lazySink:function(){return t.getSink()},header:gR(u,s),body:yR(n,t.providers),footer:y.some(wR(xR([],[a,i.asSpec()]))),onEscape:function(){return o(!1)},extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[no(Wb,(function(){return o(!1)})),no(Xb,(function(){return o(!0)}))],eventOrder:{}}));vN.show(c);var l=i.get(c);Lp.focus(l)}}}(e),a=function(e,r){return IM.openUrl((function(e){var o=BR(e,{closeWindow:function(){vN.hide(o.dialog),r(o.instanceApi)}},n,t);return vN.show(o.dialog),o.instanceApi}),e)},u=function(e,n){return IM.open((function(e,r,o){var i=r,a=NR({dataValidator:o,initialData:i,internalDialog:e},{redial:IM.redial,closeWindow:function(){vN.hide(a.dialog),n(a.instanceApi)}},t);return vN.show(a.dialog),a.instanceApi.setData(i),a.instanceApi}),e)},s=function(e,o,i,a){return IM.open((function(e,u,s){var c,l=xt(wt("data",s,u)),f=(c=an(y.none()),{clear:function(){c.set(y.none())},set:function(e){c.set(y.some(e))},isSet:function(){return c.get().isSome()},on:function(e){c.get().each(e)}}),d=function(){return f.on((function(e){Z_.refresh(e)}))},p=MR({dataValidator:s,initialData:l,internalDialog:e},{redial:IM.redial,closeWindow:function(){f.on(bm.hide),n.off("ResizeEditor",d),f.clear(),i(p.instanceApi)}},t,a),h=ta(bm.sketch({lazySink:t.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:{},inlineBehaviours:Nu(m([Rp("window-manager-inline-events",[no(Fr(),(function(e,t){Yr(p.dialog,Wb)}))])],PR(n,r)))}));return f.set(h),bm.showWithin(h,o,na(p.dialog),y.some(Gn())),r||(Z_.refresh(h),n.on("ResizeEditor",d)),p.instanceApi.setData(l),Op.focusIn(p.dialog),p.instanceApi}),e)};return{open:function(e,n,r){return void 0!==n&&"toolbar"===n.inline?s(e,t.shared.anchors.toolbar(),r,n.ariaAttrs):void 0!==n&&"cursor"===n.inline?s(e,t.shared.anchors.cursor(),r,n.ariaAttrs):u(e,r)},openUrl:function(e,t){return a(e,t)},alert:function(e,t){o.open(e,(function(){t()}))},close:function(e){e.close()},confirm:function(e,t){i.open(e,(function(e){t(e)}))}}}};f.add("silver",(function(e){var t=dN.setup(e),n=t.uiMothership,r=t.backstage,i=t.renderUI,a=t.getUi;Qv.register(e,r.shared);var u=LR.setup({editor:e,backstage:r});return{renderUI:i,getWindowManagerImpl:o(u),getNotificationManagerImpl:function(){return Lm(0,{backstage:r},n)},ui:a()}}))}(window)}).call(this,n(1))},function(e,t,n){n(39)},function(e,t,n){(function(e){!function(t){"use strict";var n=function(){return(n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function r(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function o(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,u=i.length;a<u;a++,o++)r[o]=i[a];return r}var i=function(){},a=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e(t.apply(null,n))}},u=function(e){return function(){return e}},s=function(e){return e};function c(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=t.concat(n);return e.apply(null,o)}}var l,f=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return!e.apply(null,t)}},d=function(e){return function(){throw new Error(e)}},p=function(e){return e()},m=u(!1),h=u(!0),g=function(){return v},v=function(){var e=function(e){return e.isNone()},t=function(e){return e()},n=function(e){return e},r={fold:function(e,t){return e()},is:m,isSome:m,isNone:h,getOr:n,getOrThunk:t,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:u(null),getOrUndefined:u(void 0),or:n,orThunk:t,map:g,each:i,bind:g,exists:m,forall:h,filter:g,equals:e,equals_:e,toArray:function(){return[]},toString:u("none()")};return Object.freeze&&Object.freeze(r),r}(),b=function(e){var t=u(e),n=function(){return o},r=function(t){return t(e)},o={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:h,isNone:m,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return b(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:v},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(m,(function(t){return n(e,t)}))}};return o},y={some:b,none:g,from:function(e){return null==e?v:b(e)}},w=Object.keys,x=Object.hasOwnProperty,C=function(e,t){for(var n=w(e),r=0,o=n.length;r<o;r++){var i=n[r];t(e[i],i)}},k=function(e,t){return S(e,(function(e,n){return{k:n,v:t(e,n)}}))},S=function(e,t){var n={};return C(e,(function(e,r){var o=t(e,r);n[o.k]=o.v})),n},T=function(e,t){var n=[];return C(e,(function(e,r){n.push(t(e,r))})),n},E=function(e,t){return x.call(e,t)},O=function(e){var t=e,n=function(){return t};return{get:n,set:function(e){t=e},clone:function(){return O(n())}}},_=function(){return A(0,0)},A=function(e,t){return{major:e,minor:t}},D={nu:A,detect:function(e,t){var n=String(t).toLowerCase();return 0===e.length?_():function(e,t){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t))return r}}(e,t);if(!n)return{major:0,minor:0};var r=function(e){return Number(t.replace(n,"$"+e))};return A(r(1),r(2))}(e,n)},unknown:_},N=function(e,t){return function(){return t===e}},M=function(e){var t=e.current;return{current:t,version:e.version,isEdge:N("Edge",t),isChrome:N("Chrome",t),isIE:N("IE",t),isOpera:N("Opera",t),isFirefox:N("Firefox",t),isSafari:N("Safari",t)}},R={unknown:function(){return M({current:void 0,version:D.unknown()})},nu:M,edge:u("Edge"),chrome:u("Chrome"),ie:u("IE"),opera:u("Opera"),firefox:u("Firefox"),safari:u("Safari")},z=function(e,t){return function(){return t===e}},I=function(e){var t=e.current;return{current:t,version:e.version,isWindows:z("Windows",t),isiOS:z("iOS",t),isAndroid:z("Android",t),isOSX:z("OSX",t),isLinux:z("Linux",t),isSolaris:z("Solaris",t),isFreeBSD:z("FreeBSD",t)}},B={unknown:function(){return I({current:void 0,version:D.unknown()})},nu:I,windows:u("Windows"),ios:u("iOS"),android:u("Android"),linux:u("Linux"),osx:u("OSX"),solaris:u("Solaris"),freebsd:u("FreeBSD")},P=function(e){return function(t){return function(e){if(null===e)return"null";var t=typeof e;return"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t}(t)===e}},L=P("string"),F=P("object"),H=P("array"),j=P("boolean"),V=P("function"),U=P("number"),$=Array.prototype.slice,q=Array.prototype.indexOf,W=Array.prototype.push,Y=function(e,t){return function(e,t){return q.call(e,t)}(e,t)>-1},X=function(e,t){for(var n=0,r=e.length;n<r;n++){if(t(e[n],n))return!0}return!1},G=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o)}return r},K=function(e,t){for(var n=0,r=e.length;n<r;n++){t(e[n],n)}},J=function(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];t(i,r)&&n.push(i)}return n},Q=function(e,t,n){return function(e,t){for(var n=e.length-1;n>=0;n--){t(e[n],n)}}(e,(function(e){n=t(n,e)})),n},Z=function(e,t,n){return K(e,(function(e){n=t(n,e)})),n},ee=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];if(t(o,n))return y.some(o)}return y.none()},te=function(e,t){for(var n=0,r=e.length;n<r;n++){if(t(e[n],n))return y.some(n)}return y.none()},ne=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!H(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);W.apply(t,e[n])}return t},re=function(e,t){var n=G(e,t);return ne(n)},oe=function(e,t){for(var n=0,r=e.length;n<r;++n){if(!0!==t(e[n],n))return!1}return!0},ie=function(e){var t=$.call(e,0);return t.reverse(),t},ae=function(e,t){return J(e,(function(e){return!Y(t,e)}))},ue=function(e){return[e]},se=(V(Array.from)&&Array.from,function(e,t){var n=String(t).toLowerCase();return ee(e,(function(e){return e.search(n)}))}),ce=function(e,t){return se(e,t).map((function(e){var n=D.detect(e.versionRegexes,t);return{current:e.name,version:n}}))},le=function(e,t){return se(e,t).map((function(e){var n=D.detect(e.versionRegexes,t);return{current:e.name,version:n}}))},fe=function(e,t){return-1!==e.indexOf(t)},de=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,pe=function(e){return function(t){return fe(t,e)}},me=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return fe(e,"edge/")&&fe(e,"chrome")&&fe(e,"safari")&&fe(e,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,de],search:function(e){return fe(e,"chrome")&&!fe(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return fe(e,"msie")||fe(e,"trident")}},{name:"Opera",versionRegexes:[de,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:pe("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:pe("firefox")},{name:"Safari",versionRegexes:[de,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(fe(e,"safari")||fe(e,"mobile/"))&&fe(e,"applewebkit")}}],he=[{name:"Windows",search:pe("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return fe(e,"iphone")||fe(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:pe("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:pe("os x"),versionRegexes:[/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:pe("linux"),versionRegexes:[]},{name:"Solaris",search:pe("sunos"),versionRegexes:[]},{name:"FreeBSD",search:pe("freebsd"),versionRegexes:[]}],ge={browsers:u(me),oses:u(he)},ve=function(e,t){var n=ge.browsers(),r=ge.oses(),o=ce(n,e).fold(R.unknown,R.nu),i=le(r,e).fold(B.unknown,B.nu),a=function(e,t,n,r){var o=e.isiOS()&&!0===/ipad/i.test(n),i=e.isiOS()&&!o,a=e.isiOS()||e.isAndroid(),s=a||r("(pointer:coarse)"),c=o||!i&&a&&r("(min-device-width:768px)"),l=i||a&&!c,f=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n),d=!l&&!c&&!f;return{isiPad:u(o),isiPhone:u(i),isTablet:u(c),isPhone:u(l),isTouch:u(s),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:u(f),isDesktop:u(d)}}(i,o,e,t);return{browser:o,os:i,deviceType:a}},be=O(ve(t.navigator.userAgent,(function(e){return t.window.matchMedia(e).matches}))),ye=function(){return be.get()},we=u("touchstart"),xe=u("touchmove"),Ce=u("touchend"),ke=u("mousedown"),Se=u("mousemove"),Te=u("mouseup"),Ee=u("mouseover"),Oe=u("keydown"),_e=u("keyup"),Ae=u("input"),De=u("change"),Ne=u("click"),Me=u("transitionend"),Re=u("selectstart"),ze={tap:u("alloy.tap")},Ie=u("alloy.focus"),Be=u("alloy.blur.post"),Pe=u("alloy.paste.post"),Le=u("alloy.receive"),Fe=u("alloy.execute"),He=u("alloy.focus.item"),je=ze.tap,Ve=u("alloy.longpress"),Ue=u("alloy.system.init"),$e=u("alloy.system.attached"),qe=u("alloy.system.detached"),We=u("alloy.focusmanager.shifted"),Ye=u("alloy.highlight"),Xe=u("alloy.dehighlight"),Ge=function(e,t){Ze(e,e.element(),t,{})},Ke=function(e,t,n){Ze(e,e.element(),t,n)},Je=function(e){Ge(e,Fe())},Qe=function(e,t,n){Ze(e,t,n,{})},Ze=function(e,t,r,o){var i=n({target:t},o);e.getSystem().triggerEvent(r,t,k(i,u))},et=function(e){var t,n=!1;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return n||(n=!0,t=e.apply(null,r)),t}},tt=function(e){if(null==e)throw new Error("Node cannot be null or undefined");return{dom:u(e)}},nt={fromHtml:function(e,n){var r=(n||t.document).createElement("div");if(r.innerHTML=e,!r.hasChildNodes()||r.childNodes.length>1)throw t.console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return tt(r.childNodes[0])},fromTag:function(e,n){var r=(n||t.document).createElement(e);return tt(r)},fromText:function(e,n){var r=(n||t.document).createTextNode(e);return tt(r)},fromDom:tt,fromPoint:function(e,t,n){var r=e.dom();return y.from(r.elementFromPoint(t,n)).map(tt)}},rt=(t.Node.ATTRIBUTE_NODE,t.Node.CDATA_SECTION_NODE,t.Node.COMMENT_NODE,t.Node.DOCUMENT_NODE),ot=(t.Node.DOCUMENT_TYPE_NODE,t.Node.DOCUMENT_FRAGMENT_NODE,t.Node.ELEMENT_NODE),it=t.Node.TEXT_NODE,at=(t.Node.PROCESSING_INSTRUCTION_NODE,t.Node.ENTITY_REFERENCE_NODE,t.Node.ENTITY_NODE,t.Node.NOTATION_NODE,void 0!==t.window?t.window:Function("return this;")(),function(e){return e.dom().nodeName.toLowerCase()}),ut=function(e){return function(t){return function(e){return e.dom().nodeType}(t)===e}},st=ut(ot),ct=ut(it),lt=function(e){var t=ct(e)?e.dom().parentNode:e.dom();return null!=t&&t.ownerDocument.body.contains(t)},ft=et((function(){return dt(nt.fromDom(t.document))})),dt=function(e){var t=e.dom().body;if(null==t)throw new Error("Body is not available yet");return nt.fromDom(t)},pt=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(e.length!==t.length)throw new Error('Wrong number of arguments to struct. Expected "['+e.length+']", got '+t.length+" arguments");var r={};return K(e,(function(e,n){r[e]=u(t[n])})),r}},mt=function(e){return e.slice(0).sort()},ht=function(e,t){if(!H(t))throw new Error("The "+e+" fields must be an array. Was: "+t+".");K(t,(function(t){if(!L(t))throw new Error("The value "+t+" in the "+e+" fields was not a string.")}))},gt=function(e,t){var n=e.concat(t);if(0===n.length)throw new Error("You must specify at least one required or optional field.");return ht("required",e),ht("optional",t),function(e){var t=mt(e);ee(t,(function(e,n){return n<t.length-1&&e===t[n+1]})).each((function(e){throw new Error("The field: "+e+" occurs more than once in the combined fields: ["+t.join(", ")+"].")}))}(n),function(r){var o=w(r);oe(e,(function(e){return Y(o,e)}))||function(e,t){throw new Error("All required keys ("+mt(e).join(", ")+") were not specified. Specified keys were: "+mt(t).join(", ")+".")}(e,o);var i=J(o,(function(e){return!Y(n,e)}));i.length>0&&function(e){throw new Error("Unsupported keys for object: "+mt(e).join(", "))}(i);var a={};return K(e,(function(e){a[e]=u(r[e])})),K(t,(function(e){a[e]=u(Object.prototype.hasOwnProperty.call(r,e)?y.some(r[e]):y.none())})),a}},vt=function(e,t,n){return 0!=(e.compareDocumentPosition(t)&n)},bt=function(e,n){return vt(e,n,t.Node.DOCUMENT_POSITION_CONTAINED_BY)},yt=ot,wt=rt,xt=function(e,t){var n=e.dom();if(n.nodeType!==yt)return!1;var r=n;if(void 0!==r.matches)return r.matches(t);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(t);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(t);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},Ct=function(e){return e.nodeType!==yt&&e.nodeType!==wt||0===e.childElementCount},kt=function(e,n){var r=void 0===n?t.document:n.dom();return Ct(r)?[]:G(r.querySelectorAll(e),nt.fromDom)},St=function(e,n){var r=void 0===n?t.document:n.dom();return Ct(r)?y.none():y.from(r.querySelector(e)).map(nt.fromDom)},Tt=function(e,t){return e.dom()===t.dom()},Et=(ye().browser.isIE(),function(e){return nt.fromDom(e.dom().ownerDocument)}),Ot=function(e){return y.from(e.dom().parentNode).map(nt.fromDom)},_t=function(e){return G(e.dom().childNodes,nt.fromDom)},At=function(e,t){var n=e.dom().childNodes;return y.from(n[t]).map(nt.fromDom)},Dt=(pt("element","offset"),function(e,t){Ot(e).each((function(n){n.dom().insertBefore(t.dom(),e.dom())}))}),Nt=function(e,t){(function(e){return y.from(e.dom().nextSibling).map(nt.fromDom)})(e).fold((function(){Ot(e).each((function(e){Rt(e,t)}))}),(function(e){Dt(e,t)}))},Mt=function(e,t){(function(e){return At(e,0)})(e).fold((function(){Rt(e,t)}),(function(n){e.dom().insertBefore(t.dom(),n.dom())}))},Rt=function(e,t){e.dom().appendChild(t.dom())},zt=function(e,t){K(t,(function(t){Rt(e,t)}))},It=function(e){e.dom().textContent="",K(_t(e),(function(e){Bt(e)}))},Bt=function(e){var t=e.dom();null!==t.parentNode&&t.parentNode.removeChild(t)},Pt=function(e){Ge(e,qe());var t=e.components();K(t,Pt)},Lt=function(e){var t=e.components();K(t,Lt),Ge(e,$e())},Ft=function(e,t){Rt(e.element(),t.element())},Ht=function(e,t){var n=e.components();!function(e){K(e.components(),(function(e){return Bt(e.element())})),It(e.element()),e.syncComponents()}(e);var r=ae(n,t);K(r,(function(t){Pt(t),e.getSystem().removeFromWorld(t)})),K(t,(function(t){t.getSystem().isConnected()?Ft(e,t):(e.getSystem().addToWorld(t),Ft(e,t),lt(e.element())&&Lt(t)),e.syncComponents()}))},jt=function(e,t,n){e.getSystem().addToWorld(t),n(e.element(),t.element()),lt(e.element())&&Lt(t),e.syncComponents()},Vt=function(e){var t=Ot(e.element()).bind((function(t){return e.getSystem().getByDom(t).toOption()}));!function(e){Pt(e),Bt(e.element()),e.getSystem().removeFromWorld(e)}(e),t.each((function(e){e.syncComponents()}))},Ut=function(e,t,n){n(e,t.element());var r=_t(t.element());K(r,(function(e){t.getByDom(e).each(Lt)}))},$t=function(e){return{is:function(t){return e===t},isValue:h,isError:m,getOr:u(e),getOrThunk:u(e),getOrDie:u(e),or:function(t){return $t(e)},orThunk:function(t){return $t(e)},fold:function(t,n){return n(e)},map:function(t){return $t(t(e))},mapError:function(t){return $t(e)},each:function(t){t(e)},bind:function(t){return t(e)},exists:function(t){return t(e)},forall:function(t){return t(e)},toOption:function(){return y.some(e)}}},qt=function(e){return{is:m,isValue:m,isError:h,getOr:s,getOrThunk:function(e){return e()},getOrDie:function(){return d(String(e))()},or:function(e){return e},orThunk:function(e){return e()},fold:function(t,n){return t(e)},map:function(t){return qt(e)},mapError:function(t){return qt(t(e))},each:i,bind:function(t){return qt(e)},exists:m,forall:h,toOption:y.none}},Wt={value:$t,error:qt,fromOption:function(e,t){return e.fold((function(){return qt(t)}),$t)}},Yt=function(e){if(!H(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");var n=[],r={};return K(e,(function(o,i){var a=w(o);if(1!==a.length)throw new Error("one and only one name per case");var u=a[0],s=o[u];if(void 0!==r[u])throw new Error("duplicate key detected:"+u);if("cata"===u)throw new Error("cannot have a case named cata (sorry)");if(!H(s))throw new Error("case arguments must be an array");n.push(u),r[u]=function(){var r=arguments.length;if(r!==s.length)throw new Error("Wrong number of arguments to case "+u+". Expected "+s.length+" ("+s+"), got "+r);for(var o=new Array(r),a=0;a<o.length;a++)o[a]=arguments[a];var c=function(e){var t=w(e);if(n.length!==t.length)throw new Error("Wrong number of arguments to match. Expected: "+n.join(",")+"\nActual: "+t.join(","));if(!oe(n,(function(e){return Y(t,e)})))throw new Error("Not all branches were specified when using match. Specified: "+t.join(", ")+"\nRequired: "+n.join(", "));return e[u].apply(null,o)};return{fold:function(){if(arguments.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+arguments.length);var t=arguments[i];return t.apply(null,o)},match:c,log:function(e){t.console.log(e,{constructors:n,constructor:u,params:o})}}}})),r},Xt=Object.prototype.hasOwnProperty,Gt=function(e){return function(){for(var t=new Array(arguments.length),n=0;n<t.length;n++)t[n]=arguments[n];if(0===t.length)throw new Error("Can't merge zero objects");for(var r={},o=0;o<t.length;o++){var i=t[o];for(var a in i)Xt.call(i,a)&&(r[a]=e(r[a],i[a]))}return r}},Kt=Gt((function(e,t){return F(e)&&F(t)?Kt(e,t):t})),Jt=Gt((function(e,t){return t})),Qt=Yt([{strict:[]},{defaultedThunk:["fallbackThunk"]},{asOption:[]},{asDefaultedOptionThunk:["fallbackThunk"]},{mergeWithThunk:["baseThunk"]}]),Zt=function(e){return Qt.defaultedThunk(u(e))},en=function(e){return Qt.mergeWithThunk(u(e))},tn=Qt.strict,nn=Qt.asOption,rn=Qt.defaultedThunk,on=Qt.mergeWithThunk,an=function(e){return function(t){return E(t,e)?y.from(t[e]):y.none()}},un=function(e,t){return an(t)(e)},sn=function(e,t){var n={};return n[e]=t,n},cn=(Yt([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]),function(e,t){return function(e,t){var n={};return C(e,(function(e,r){Y(t,r)||(n[r]=e)})),n}(e,t)}),ln=function(e){return an(e)},fn=function(e,t){return function(e,t){return function(n){return E(n,e)?n[e]:t}}(e,t)},dn=function(e,t){return un(e,t)},pn=function(e,t){return sn(e,t)},mn=function(e){return function(e){var t={};return K(e,(function(e){t[e.key]=e.value})),t}(e)},hn=function(e,t){var n,r=function(e){var t=[],n=[];return K(e,(function(e){e.fold((function(e){t.push(e)}),(function(e){n.push(e)}))})),{errors:t,values:n}}(e);return r.errors.length>0?(n=r.errors,Wt.error(ne(n))):function(e,t){return 0===e.length?Wt.value(t):Wt.value(Kt(t,Jt.apply(void 0,e)))}(r.values,t)},gn=function(e,t){return function(e,t){return E(e,t)&&void 0!==e[t]&&null!==e[t]}(e,t)};!function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"}(l||(l={}));var vn,bn,yn=function(e,t,n){return e.stype===l.Error?t(e.serror):n(e.svalue)},wn=function(e){return{stype:l.Value,svalue:e}},xn=function(e){return{stype:l.Error,serror:e}},Cn=function(e){return e.fold(xn,wn)},kn=function(e){return yn(e,Wt.error,Wt.value)},Sn=wn,Tn=function(e){var t=[],n=[];return K(e,(function(e){yn(e,(function(e){return n.push(e)}),(function(e){return t.push(e)}))})),{values:t,errors:n}},En=xn,On=function(e,t){return e.stype===l.Value?t(e.svalue):e},_n=function(e,t){return e.stype===l.Error?t(e.serror):e},An=function(e,t){return e.stype===l.Value?{stype:l.Value,svalue:t(e.svalue)}:e},Dn=function(e,t){return e.stype===l.Error?{stype:l.Error,serror:t(e.serror)}:e},Nn=function(e){return a(En,ne)(e)},Mn=function(e,t){var n=Tn(e);return n.errors.length>0?Nn(n.errors):function(e,t){return e.length>0?Sn(Kt(t,Jt.apply(void 0,e))):Sn(t)}(n.values,t)},Rn=function(e){var t=Tn(e);return t.errors.length>0?Nn(t.errors):Sn(t.values)},zn=Yt([{setOf:["validator","valueType"]},{arrOf:["valueType"]},{objOf:["fields"]},{itemOf:["validator"]},{choiceOf:["key","branches"]},{thunk:["description"]},{func:["args","outputSchema"]}]),In=Yt([{field:["name","presence","type"]},{state:["name"]}]),Bn=function(e){return F(e)&&w(e).length>100?" removed due to size":JSON.stringify(e,null,2)},Pn=function(e,t){return En([{path:e,getErrorInfo:t}])},Ln=Yt([{field:["key","okey","presence","prop"]},{state:["okey","instantiator"]}]),Fn=function(e,t,n){return un(t,n).fold((function(){return function(e,t,n){return Pn(e,(function(){return'Could not find valid *strict* value for "'+t+'" in '+Bn(n)}))}(e,n,t)}),Sn)},Hn=function(e,t,n){var r=un(e,t).fold((function(){return n(e)}),s);return Sn(r)},jn=function(e,t,n,r){return n.fold((function(n,o,i,a){var s=function(t){var i=a.extract(e.concat([n]),r,t);return An(i,(function(e){return sn(o,r(e))}))},c=function(t){return t.fold((function(){var e=sn(o,r(y.none()));return Sn(e)}),(function(t){var i=a.extract(e.concat([n]),r,t);return An(i,(function(e){return sn(o,r(y.some(e)))}))}))};return i.fold((function(){return On(Fn(e,t,n),s)}),(function(e){return On(Hn(t,n,e),s)}),(function(){return On(function(e,t){return Sn(un(e,t))}(t,n),c)}),(function(e){return On(function(e,t,n){var r=un(e,t).map((function(t){return!0===t?n(e):t}));return Sn(r)}(t,n,e),c)}),(function(e){var r=e(t),o=An(Hn(t,n,u({})),(function(e){return Kt(r,e)}));return On(o,s)}))}),(function(e,n){var o=n(t);return Sn(sn(e,r(o)))}))},Vn=function(e){return{extract:function(t,n,r){return _n(e(r,n),(function(e){return function(e,t){return Pn(e,(function(){return t}))}(t,e)}))},toString:function(){return"val"},toDsl:function(){return zn.itemOf(e)}}},Un=function(e){var t=w(e);return J(t,(function(t){return gn(e,t)}))},$n=function(e){var t=qn(e),n=Q(e,(function(e,t){return t.fold((function(t){return Kt(e,pn(t,!0))}),u(e))}),{});return{extract:function(e,r,o){var i=j(o)?[]:Un(o),a=J(i,(function(e){return!gn(n,e)}));return 0===a.length?t.extract(e,r,o):function(e,t){return Pn(e,(function(){return"There are unsupported fields: ["+t.join(", ")+"] specified"}))}(e,a)},toString:t.toString,toDsl:t.toDsl}},qn=function(e){return{extract:function(t,n,r){return function(e,t,n,r){var o=G(n,(function(n){return jn(e,t,n,r)}));return Mn(o,{})}(t,r,e,n)},toString:function(){return"obj{\n"+G(e,(function(e){return e.fold((function(e,t,n,r){return e+" -> "+r.toString()}),(function(e,t){return"state("+e+")"}))})).join("\n")+"}"},toDsl:function(){return zn.objOf(G(e,(function(e){return e.fold((function(e,t,n,r){return In.field(e,n,r)}),(function(e,t){return In.state(e)}))})))}}},Wn=function(e,t){var n=function(t,n){return function(e){return{extract:function(t,n,r){var o=G(r,(function(r,o){return e.extract(t.concat(["["+o+"]"]),n,r)}));return Rn(o)},toString:function(){return"array("+e.toString()+")"},toDsl:function(){return zn.arrOf(e)}}}(Vn(e)).extract(t,s,n)};return{extract:function(e,r,o){var i=w(o),a=n(e,i);return On(a,(function(n){var i=G(n,(function(e){return Ln.field(e,e,tn(),t)}));return qn(i).extract(e,r,o)}))},toString:function(){return"setOf("+t.toString()+")"},toDsl:function(){return zn.setOf(e,t)}}},Yn=u(Vn(Sn)),Xn=Ln.state,Gn=Ln.field,Kn=function(e,t,n,r,o){return dn(r,o).fold((function(){return function(e,t,n){return Pn(e,(function(){return'The chosen schema: "'+n+'" did not exist in branches: '+Bn(t)}))}(e,r,o)}),(function(r){return r.extract(e.concat(["branch: "+o]),t,n)}))},Jn=function(e,t){return{extract:function(n,r,o){return dn(o,e).fold((function(){return function(e,t){return Pn(e,(function(){return'Choice schema did not contain choice key: "'+t+'"'}))}(n,e)}),(function(e){return Kn(n,r,o,t,e)}))},toString:function(){return"chooseOn("+e+"). Possible values: "+w(t)},toDsl:function(){return zn.choiceOf(e,t)}}},Qn=Vn(Sn),Zn=function(e){return Vn((function(t){return e(t).fold(En,Sn)}))},er=function(e,t){return Wn((function(t){return Cn(e(t))}),t)},tr=function(e,t,n){return kn(function(e,t,n,r){var o=t.extract([e],n,r);return Dn(o,(function(e){return{input:r,errors:e}}))}(e,t,s,n))},nr=function(e){return e.fold((function(e){throw new Error(or(e))}),s)},rr=function(e,t,n){return nr(tr(e,t,n))},or=function(e){return"Errors: \n"+(t=e.errors,n=t.length>10?t.slice(0,10).concat([{path:[],getErrorInfo:function(){return"... (only showing first ten failures)"}}]):t,G(n,(function(e){return"Failed path: ("+e.path.join(" > ")+")\n"+e.getErrorInfo()})))+"\n\nInput object: "+Bn(e.input);var t,n},ir=function(e,t){return Jn(e,k(t,qn))},ar=u(Qn),ur=(vn=V,bn="function",Vn((function(e){var t=typeof e;return vn(e)?Sn(e):En("Expected type: "+bn+" but got: "+t)}))),sr=function(e){return Gn(e,e,tn(),Yn())},cr=function(e,t){return Gn(e,e,tn(),t)},lr=function(e,t){return Gn(e,e,tn(),qn(t))},fr=function(e){return Gn(e,e,nn(),Yn())},dr=function(e,t){return Gn(e,e,nn(),t)},pr=function(e,t){return dr(e,qn(t))},mr=function(e,t){return dr(e,$n(t))},hr=function(e,t){return Gn(e,e,Zt(t),Yn())},gr=function(e,t,n){return Gn(e,e,Zt(t),n)},vr=function(e,t){return Xn(e,t)},br=function(e,t){return Tt(e.element(),t.event().target())};function yr(e,t,n,r,o){return e(n,r)?y.some(n):V(o)&&o(n)?y.none():t(n,r,o)}var wr,xr=function(e,t,n){for(var r=e.dom(),o=V(n)?n:u(!1);r.parentNode;){r=r.parentNode;var i=nt.fromDom(r);if(t(i))return y.some(i);if(o(i))break}return y.none()},Cr=function(e,t,n){return yr((function(e,t){return t(e)}),xr,e,t,n)},kr=function(e,t){var n=function(e){for(var r=0;r<e.childNodes.length;r++){var o=nt.fromDom(e.childNodes[r]);if(t(o))return y.some(o);var i=n(e.childNodes[r]);if(i.isSome())return i}return y.none()};return n(e.dom())},Sr=function(e,t,n){return Cr(e,(function(e){return t(e).isSome()}),n).bind(t)},Tr=function(e){if(!gn(e,"can")&&!gn(e,"abort")&&!gn(e,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(e,null,2)+" does not have can, abort, or run!");return rr("Extracting event.handler",$n([hr("can",u(!0)),hr("abort",u(!1)),hr("run",i)]),e)},Er=function(e){var t=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return Z(e,(function(e,r){return e&&t(r).apply(void 0,n)}),!0)}}(e,(function(e){return e.can})),n=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return Z(e,(function(e,r){return e||t(r).apply(void 0,n)}),!1)}}(e,(function(e){return e.abort}));return Tr({can:t,abort:n,run:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];K(e,(function(e){e.run.apply(void 0,t)}))}})},Or=function(e){return mn(e)},_r=function(e,t){return{key:e,value:Tr({abort:t})}},Ar=function(e,t){return{key:e,value:Tr({run:t})}},Dr=function(e,t,n){return{key:e,value:Tr({run:function(e,r){t.apply(void 0,[e,r].concat(n))}})}},Nr=function(e){return function(t){return{key:e,value:Tr({run:function(e,n){br(e,n)&&t(e,n)}})}}},Mr=function(e,t,n){return function(e,t){return Ar(e,(function(n,r){n.getSystem().getByUid(t).each((function(t){!function(e,t,n,r){e.getSystem().triggerEvent(n,t,r.event())}(t,t.element(),e,r)}))}))}(e,t.partUids[n])},Rr=function(e){return Ar(e,(function(e,t){t.cut()}))},zr=function(e){return Ar(e,(function(e,t){t.stop()}))},Ir=function(e,t){return Nr(e)(t)},Br=Nr($e()),Pr=Nr(qe()),Lr=Nr(Ue()),Fr=function(e){return function(t){return Ar(e,t)}}(Fe()),Hr=function(e){return G(e,(function(e){return function(e,t,n){return""===t||!(e.length<t.length)&&e.substr(n,n+t.length)===t}(t=e,n="/*",t.length-n.length)?e.substring(0,e.length-"/*".length):e;var t,n}))},jr=function(e,t){var n=e.toString(),r=n.indexOf(")")+1,o=n.indexOf("("),i=n.substring(o+1,r-1).split(/,\s*/);return e.toFunctionAnnotation=function(){return{name:t,parameters:Hr(i)}},e},Vr=function(e){return{classes:void 0!==e.classes?e.classes:[],attributes:void 0!==e.attributes?e.attributes:{},styles:void 0!==e.styles?e.styles:{}}},Ur=function(e,t,n){return Lr((function(r,o){n(r,e,t)}))},$r=function(e,t,n){return function(e,t,n){var r=n.toString(),o=r.indexOf(")")+1,i=r.indexOf("("),a=r.substring(i+1,o-1).split(/,\s*/);return e.toFunctionAnnotation=function(){return{name:t,parameters:Hr(a.slice(0,1).concat(a.slice(3)))}},e}((function(r){for(var o=[],i=1;i<arguments.length;i++)o[i-1]=arguments[i];var a=[r].concat(o);return r.config({name:u(e)}).fold((function(){throw new Error("We could not find any behaviour configuration for: "+e+". Using API: "+n)}),(function(e){var n=Array.prototype.slice.call(a,1);return t.apply(void 0,[r,e.config,e.state].concat(n))}))}),n,t)},qr=function(e){return{key:e,value:void 0}},Wr=function(e,t,r,o,i,a,u){var s=function(e){return gn(e,r)?e[r]():y.none()},l=k(i,(function(e,t){return $r(r,e,t)})),f=k(a,(function(e,t){return jr(e,t)})),d=n(n(n({},f),l),{revoke:c(qr,r),config:function(t){var n=rr(r+"-config",e,t);return{key:r,value:{config:n,me:d,configAsRaw:et((function(){return rr(r+"-config",e,t)})),initialConfig:t,state:u}}},schema:function(){return t},exhibit:function(e,t){return s(e).bind((function(e){return dn(o,"exhibit").map((function(n){return n(t,e.config,e.state)}))})).getOr(Vr({}))},name:function(){return r},handlers:function(e){return s(e).map((function(e){return fn("events",(function(e,t){return{}}))(o)(e.config,e.state)})).getOr({})}});return d},Yr={init:function(){return Xr({readState:function(){return"No State required"}})}},Xr=function(e){return e},Gr=function(e){return mn(e)},Kr=$n([sr("fields"),sr("name"),hr("active",{}),hr("apis",{}),hr("state",Yr),hr("extra",{})]),Jr=function(e){var t=rr("Creating behaviour: "+e.name,Kr,e);return function(e,t,n,r,o,i){var a=$n(e),u=pr(t,[mr("config",e)]);return Wr(a,u,t,n,r,o,i)}(t.fields,t.name,t.active,t.apis,t.extra,t.state)},Qr=$n([sr("branchKey"),sr("branches"),sr("name"),hr("active",{}),hr("apis",{}),hr("state",Yr),hr("extra",{})]),Zr=u(void 0),eo=function(e,n,r){if(!(L(r)||j(r)||U(r)))throw t.console.error("Invalid call to Attr.set. Key ",n,":: Value ",r,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(n,r+"")},to=function(e,t,n){eo(e.dom(),t,n)},no=function(e,t){var n=e.dom();C(t,(function(e,t){eo(n,t,e)}))},ro=function(e,t){var n=e.dom().getAttribute(t);return null===n?void 0:n},oo=function(e,t){var n=e.dom();return!(!n||!n.hasAttribute)&&n.hasAttribute(t)},io=function(e,t){e.dom().removeAttribute(t)},ao=function(e,t){var n=ro(e,t);return void 0===n||""===n?[]:n.split(" ")},uo=function(e){return void 0!==e.dom().classList},so=function(e,t){return function(e,t,n){var r=ao(e,t).concat([n]);return to(e,t,r.join(" ")),!0}(e,"class",t)},co=function(e,t){return function(e,t,n){var r=J(ao(e,t),(function(e){return e!==n}));return r.length>0?to(e,t,r.join(" ")):io(e,t),!1}(e,"class",t)},lo=function(e,t){uo(e)?e.dom().classList.add(t):so(e,t)},fo=function(e){0===(uo(e)?e.dom().classList:function(e){return ao(e,"class")}(e)).length&&io(e,"class")},po=function(e,t){uo(e)?e.dom().classList.remove(t):co(e,t);fo(e)},mo=function(e,t){return uo(e)&&e.dom().classList.contains(t)},ho=function(e,t,n){po(e,n),lo(e,t)},go=Object.freeze({toAlpha:function(e,t,n){ho(e.element(),t.alpha,t.omega)},toOmega:function(e,t,n){ho(e.element(),t.omega,t.alpha)},isAlpha:function(e,t,n){return mo(e.element(),t.alpha)},isOmega:function(e,t,n){return mo(e.element(),t.omega)},clear:function(e,t,n){po(e.element(),t.alpha),po(e.element(),t.omega)}}),vo=[sr("alpha"),sr("omega")],bo=Jr({fields:vo,name:"swapping",apis:go}),yo=function(e){e.dom().focus()},wo=function(e){e.dom().blur()},xo=function(e){var n=void 0!==e?e.dom():t.document;return y.from(n.activeElement).map(nt.fromDom)},Co=function(e){return xo(Et(e)).filter((function(t){return e.dom().contains(t.dom())}))},ko=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),So=tinymce.util.Tools.resolve("tinymce.ThemeManager"),To=function(e){var n=t.document.createElement("a");n.target="_blank",n.href=e.href,n.rel="noreferrer noopener";var r=t.document.createEvent("MouseEvents");r.initMouseEvent("click",!0,!0,t.window,0,0,0,0,0,!1,!1,!1,!1,0,null),t.document.body.appendChild(n),n.dispatchEvent(r),t.document.body.removeChild(n)},Eo={formatChanged:u("formatChanged"),orientationChanged:u("orientationChanged"),dropupDismissed:u("dropupDismissed")},Oo=function(e){return e.dom().innerHTML},_o=function(e,n){var r,o,i=Et(e).dom(),a=nt.fromDom(i.createDocumentFragment()),u=(r=n,(o=(i||t.document).createElement("div")).innerHTML=r,_t(nt.fromDom(o)));zt(a,u),It(e),Rt(e,a)},Ao=function(e){return function(e,t){return nt.fromDom(e.dom().cloneNode(t))}(e,!1)},Do=function(e){return function(e){var t=nt.fromTag("div"),n=nt.fromDom(e.dom().cloneNode(!0));return Rt(t,n),Oo(t)}(Ao(e))},No=function(e){return Do(e)},Mo=Object.freeze({events:function(e){return Or([Ar(Le(),(function(t,n){var r=e.channels,o=function(e,t){return t.universal()?e:J(e,(function(e){return Y(t.channels(),e)}))}(w(r),n);K(o,(function(e){var o=r[e],i=o.schema,a=rr("channel["+e+"] data\nReceiver: "+No(t.element()),i,n.data());o.onReceive(t,a)}))}))])}}),Ro=function(e){for(var t=[],n=function(e){t.push(e)},r=0;r<e.length;r++)e[r].each(n);return t},zo=function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n],n);if(r.isSome())return r}return y.none()};!function(e){e[e.STOP=0]="STOP",e[e.NORMAL=1]="NORMAL",e[e.LOGGING=2]="LOGGING"}(wr||(wr={}));var Io,Bo=O({}),Po=function(e,n,r){switch(dn(Bo.get(),e).orThunk((function(){var t=w(Bo.get());return zo(t,(function(t){return e.indexOf(t)>-1?y.some(Bo.get()[t]):y.none()}))})).getOr(wr.NORMAL)){case wr.NORMAL:return r(Ho());case wr.LOGGING:var o=function(e,n){var r=[],o=(new Date).getTime();return{logEventCut:function(e,t,n){r.push({outcome:"cut",target:t,purpose:n})},logEventStopped:function(e,t,n){r.push({outcome:"stopped",target:t,purpose:n})},logNoParent:function(e,t,n){r.push({outcome:"no-parent",target:t,purpose:n})},logEventNoHandlers:function(e,t){r.push({outcome:"no-handlers-left",target:t})},logEventResponse:function(e,t,n){r.push({outcome:"response",purpose:n,target:t})},write:function(){var i=(new Date).getTime();Y(["mousemove","mouseover","mouseout",Ue()],e)||t.console.log(e,{event:e,time:i-o,target:n.dom(),sequence:G(r,(function(e){return Y(["cut","stopped","response"],e.outcome)?"{"+e.purpose+"} "+e.outcome+" at ("+No(e.target)+")":e.outcome}))})}}}(e,n),i=r(o);return o.write(),i;case wr.STOP:return!0}},Lo=["alloy/data/Fields","alloy/debugging/Debugging"],Fo=function(e,t,n){return Po(e,t,n)},Ho=u({logEventCut:i,logEventStopped:i,logNoParent:i,logEventNoHandlers:i,logEventResponse:i,write:i}),jo=u([sr("menu"),sr("selectedMenu")]),Vo=u([sr("item"),sr("selectedItem")]),Uo=(u(qn(Vo().concat(jo()))),u(qn(Vo()))),$o=lr("initSize",[sr("numColumns"),sr("numRows")]),qo=function(e,t,n){!function(){var e=new Error;if(void 0!==e.stack){var t=e.stack.split("\n");return ee(t,(function(e){return e.indexOf("alloy")>0&&!X(Lo,(function(t){return e.indexOf(t)>-1}))})).getOr("unknown")}}();return Gn(t,t,n,Zn((function(e){return Wt.value((function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.apply(void 0,t)}))})))},Wo=function(e){return qo(0,e,Zt(i))},Yo=function(e){return qo(0,e,Zt(y.none))},Xo=function(e){return qo(0,e,tn())},Go=function(e){return qo(0,e,tn())},Ko=function(e,t){return vr(e,u(t))},Jo=function(e){return vr(e,s)},Qo=u($o),Zo=[cr("channels",er(Wt.value,$n([Xo("onReceive"),hr("schema",ar())])))],ei=Jr({fields:Zo,name:"receiving",active:Mo}),ti=function(e,t,n){var r=t.aria;r.update(e,r,n.get())},ni=function(e,t,n){t.toggleClass.each((function(t){n.get()?lo(e.element(),t):po(e.element(),t)}))},ri=function(e,t,n){ai(e,t,n,!n.get())},oi=function(e,t,n){n.set(!0),ni(e,t,n),ti(e,t,n)},ii=function(e,t,n){n.set(!1),ni(e,t,n),ti(e,t,n)},ai=function(e,t,n,r){(r?oi:ii)(e,t,n)},ui=function(e,t,n){ai(e,t,n,t.selected)},si=Object.freeze({onLoad:ui,toggle:ri,isOn:function(e,t,n){return n.get()},on:oi,off:ii,set:ai}),ci=Object.freeze({exhibit:function(e,t,n){return Vr({})},events:function(e,t){var n,r,o,i=(n=e,r=t,o=ri,Fr((function(e){o(e,n,r)}))),a=Ur(e,t,ui);return Or(ne([e.toggleOnExecute?[i]:[],[a]]))}}),li=function(e,t,n){to(e.element(),"aria-expanded",n)},fi=[hr("selected",!1),fr("toggleClass"),hr("toggleOnExecute",!0),gr("aria",{mode:"none"},ir("mode",{pressed:[hr("syncWithExpanded",!1),Ko("update",(function(e,t,n){to(e.element(),"aria-pressed",n),t.syncWithExpanded&&li(e,t,n)}))],checked:[Ko("update",(function(e,t,n){to(e.element(),"aria-checked",n)}))],expanded:[Ko("update",li)],selected:[Ko("update",(function(e,t,n){to(e.element(),"aria-selected",n)}))],none:[Ko("update",i)]}))],di=Jr({fields:fi,name:"toggling",active:ci,apis:si,state:(Io=!1,{init:function(){var e=O(Io);return{get:function(){return e.get()},set:function(t){return e.set(t)},clear:function(){return e.set(Io)},readState:function(){return e.get()}}}})}),pi=function(e,t){return ei.config({channels:pn(Eo.formatChanged(),{onReceive:function(n,r){r.command===e&&t(n,r.state)}})})},mi=function(e){return ei.config({channels:pn(Eo.orientationChanged(),{onReceive:e})})},hi=function(e,t){return{key:e,value:{onReceive:t}}},gi={resolve:function(e){return"tinymce-mobile-"+e},prefix:u("tinymce-mobile")},vi=function(){var e=function(e,t){t.stop(),Je(e)};return[Ar(Ne(),e),Ar(je(),e),Rr(we()),Rr(ke())]},bi=function(e,t){t.ignore||(yo(e.element()),t.onFocus(e))},yi=Object.freeze({focus:bi,blur:function(e,t){t.ignore||wo(e.element())},isFocused:function(e){return function(e){var t=Et(e).dom();return e.dom()===t.activeElement}(e.element())}}),wi=Object.freeze({exhibit:function(e,t){var n=t.ignore?{}:{attributes:{tabindex:"-1"}};return Vr(n)},events:function(e){return Or([Ar(Ie(),(function(t,n){bi(t,e),n.stop()}))].concat(e.stopMousedown?[Ar(ke(),(function(e,t){t.event().prevent()}))]:[]))}}),xi=[Wo("onFocus"),hr("stopMousedown",!1),hr("ignore",!1)],Ci=Jr({fields:xi,name:"focusing",active:wi,apis:yi}),ki=function(e){return void 0!==e.style&&V(e.style.getPropertyValue)},Si=function(e,n,r){if(!L(r))throw t.console.error("Invalid call to CSS.set. Property ",n,":: Value ",r,":: Element ",e),new Error("CSS value must be a string: "+r);ki(e)&&e.style.setProperty(n,r)},Ti=function(e,t,n){var r=e.dom();Si(r,t,n)},Ei=function(e,t){var n=e.dom();C(t,(function(e,t){Si(n,t,e)}))},Oi=function(e,n){var r=e.dom(),o=t.window.getComputedStyle(r).getPropertyValue(n),i=""!==o||lt(e)?o:_i(r,n);return null===i?void 0:i},_i=function(e,t){return ki(e)?e.style.getPropertyValue(t):""},Ai=function(e,t){var n=e.dom(),r=_i(n,t);return y.from(r).filter((function(e){return e.length>0}))},Di=function(e,t){!function(e,t){ki(e)&&e.style.removeProperty(t)}(e.dom(),t),oo(e,"style")&&""===ro(e,"style").replace(/^\s+|\s+$/g,"")&&io(e,"style")},Ni=function(e){return e.dom().offsetWidth};function Mi(e,t){var n=function(n){var r=t(n);if(r<=0||null===r){var o=Oi(n,e);return parseFloat(o)||0}return r},r=function(e,t){return Z(t,(function(t,n){var r=Oi(e,n),o=void 0===r?0:parseInt(r,10);return isNaN(o)?t:t+o}),0)};return{set:function(t,n){if(!U(n)&&!n.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+n);var r=t.dom();ki(r)&&(r.style[e]=n+"px")},get:n,getOuter:n,aggregate:r,max:function(e,t,n){var o=r(e,n);return t>o?t-o:0}}}var Ri,zi=Mi("height",(function(e){var t=e.dom();return lt(e)?t.getBoundingClientRect().height:t.offsetHeight})),Ii=function(e){return zi.get(e)},Bi=function(e,t,n){return J(function(e,t){for(var n=V(t)?t:m,r=e.dom(),o=[];null!==r.parentNode&&void 0!==r.parentNode;){var i=r.parentNode,a=nt.fromDom(i);if(o.push(a),!0===n(a))break;r=i}return o}(e,n),t)},Pi=function(e,t){return J(function(e){return Ot(e).map(_t).map((function(t){return J(t,(function(t){return!Tt(e,t)}))})).getOr([])}(e),t)},Li=function(e,t,n){return Bi(e,(function(e){return xt(e,t)}),n)},Fi=function(e,t){return kt(t,e)},Hi=function(e){return St(e)},ji=function(e,t,n){return xr(e,(function(e){return xt(e,t)}),n)},Vi=function(e,t){return St(t,e)},Ui=function(e,t,n){return yr(xt,ji,e,t,n)},$i=function(e,t,n){var r=ie(e.slice(0,t)),o=ie(e.slice(t+1));return ee(r.concat(o),n)},qi=function(e,t,n){var r=ie(e.slice(0,t));return ee(r,n)},Wi=function(e,t,n){var r=e.slice(0,t),o=e.slice(t+1);return ee(o.concat(r),n)},Yi=function(e,t,n){var r=e.slice(t+1);return ee(r,n)},Xi=function(e){return function(t){var n=t.raw();return Y(e,n.which)}},Gi=function(e){return function(t){return oe(e,(function(e){return e(t)}))}},Ki=function(e){return!0===e.raw().shiftKey},Ji=function(e){return!0===e.raw().ctrlKey},Qi=f(Ki),Zi=function(e,t){return{matches:e,classification:t}},ea=function(e,t,n,r){var o=e+t;return o>r?n:o<n?r:o},ta=function(e,t,n){return e<=t?t:e>=n?n:e},na=function(e,t,n,r){var o=Fi(e.element(),"."+t.highlightClass);K(o,(function(n){X(r,(function(e){return e.element()===n}))||(po(n,t.highlightClass),e.getSystem().getByDom(n).each((function(n){t.onDehighlight(e,n),Ge(n,Xe())})))}))},ra=function(e,t,n,r){na(e,t,0,[r]),oa(e,t,n,r)||(lo(r.element(),t.highlightClass),t.onHighlight(e,r),Ge(r,Ye()))},oa=function(e,t,n,r){return mo(r.element(),t.highlightClass)},ia=function(e,t,n,r){var o=Fi(e.element(),"."+t.itemClass);return y.from(o[r]).fold((function(){return Wt.error("No element found with index "+r)}),e.getSystem().getByDom)},aa=function(e,t,n){return Vi(e.element(),"."+t.itemClass).bind((function(t){return e.getSystem().getByDom(t).toOption()}))},ua=function(e,t,n){var r=Fi(e.element(),"."+t.itemClass);return(r.length>0?y.some(r[r.length-1]):y.none()).bind((function(t){return e.getSystem().getByDom(t).toOption()}))},sa=function(e,t,n,r){var o=Fi(e.element(),"."+t.itemClass);return te(o,(function(e){return mo(e,t.highlightClass)})).bind((function(t){var n=ea(t,r,0,o.length-1);return e.getSystem().getByDom(o[n]).toOption()}))},ca=function(e,t,n){var r=Fi(e.element(),"."+t.itemClass);return Ro(G(r,(function(t){return e.getSystem().getByDom(t).toOption()})))},la=Object.freeze({dehighlightAll:function(e,t,n){return na(e,t,0,[])},dehighlight:function(e,t,n,r){oa(e,t,n,r)&&(po(r.element(),t.highlightClass),t.onDehighlight(e,r),Ge(r,Xe()))},highlight:ra,highlightFirst:function(e,t,n){aa(e,t).each((function(r){ra(e,t,n,r)}))},highlightLast:function(e,t,n){ua(e,t).each((function(r){ra(e,t,n,r)}))},highlightAt:function(e,t,n,r){ia(e,t,n,r).fold((function(e){throw new Error(e)}),(function(r){ra(e,t,n,r)}))},highlightBy:function(e,t,n,r){var o=ca(e,t);ee(o,r).each((function(r){ra(e,t,n,r)}))},isHighlighted:oa,getHighlighted:function(e,t,n){return Vi(e.element(),"."+t.highlightClass).bind((function(t){return e.getSystem().getByDom(t).toOption()}))},getFirst:aa,getLast:ua,getPrevious:function(e,t,n){return sa(e,t,0,-1)},getNext:function(e,t,n){return sa(e,t,0,1)},getCandidates:ca}),fa=[sr("highlightClass"),sr("itemClass"),Wo("onHighlight"),Wo("onDehighlight")],da=Jr({fields:fa,name:"highlighting",apis:la}),pa=function(e,t,n){t.exists((function(e){return n.exists((function(t){return Tt(t,e)}))}))||Ke(e,We(),{prevFocus:t,newFocus:n})},ma=function(){var e=function(e){return Co(e.element())};return{get:e,set:function(t,n){var r=e(t);t.getSystem().triggerFocus(n,t.element());var o=e(t);pa(t,r,o)}}},ha=function(){var e=function(e){return da.getHighlighted(e).map((function(e){return e.element()}))};return{get:e,set:function(t,n){var r=e(t);t.getSystem().getByDom(n).fold(i,(function(e){da.highlight(t,e)}));var o=e(t);pa(t,r,o)}}};!function(e){e.OnFocusMode="onFocus",e.OnEnterOrSpaceMode="onEnterOrSpace",e.OnApiMode="onApi"}(Ri||(Ri={}));var ga=function(e,t,n,r,o){var i=function(e,t,n,r,o){var i,a,u=n(e,t,r,o);return(i=u,a=t.event(),ee(i,(function(e){return e.matches(a)})).map((function(e){return e.classification}))).bind((function(n){return n(e,t,r,o)}))},a={schema:function(){return e.concat([hr("focusManager",ma()),gr("focusInside","onFocus",Zn((function(e){return Y(["onFocus","onEnterOrSpace","onApi"],e)?Wt.value(e):Wt.error("Invalid value for focusInside")}))),Ko("handler",a),Ko("state",t),Ko("sendFocusIn",o)])},processKey:i,toEvents:function(e,t){var a=e.focusInside!==Ri.OnFocusMode?y.none():o(e).map((function(n){return Ar(Ie(),(function(r,o){n(r,e,t),o.stop()}))}));return Or(a.toArray().concat([Ar(Oe(),(function(r,a){i(r,a,n,e,t).fold((function(){!function(n,r){var i=Xi([32].concat([13]))(r.event());e.focusInside===Ri.OnEnterOrSpaceMode&&i&&br(n,r)&&o(e).each((function(o){o(n,e,t),r.stop()}))}(r,a)}),(function(e){a.stop()}))})),Ar(_e(),(function(n,o){i(n,o,r,e,t).each((function(e){o.stop()}))}))]))}};return a},va=function(e){var t=[fr("onEscape"),fr("onEnter"),hr("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),hr("firstTabstop",0),hr("useTabstopAt",u(!0)),fr("visibilitySelector")].concat([e]),n=function(e,t){var n=e.visibilitySelector.bind((function(e){return Ui(t,e)})).getOr(t);return Ii(n)>0},r=function(e,t){(function(e,t){var r=Fi(e.element(),t.selector),o=J(r,(function(e){return n(t,e)}));return y.from(o[t.firstTabstop])})(e,t).each((function(n){t.focusManager.set(e,n)}))},o=function(e,t,r,o,i){return i(t,r,(function(e){return function(e,t){return n(e,t)&&e.useTabstopAt(t)}(o,e)})).fold((function(){return o.cyclic?y.some(!0):y.none()}),(function(t){return o.focusManager.set(e,t),y.some(!0)}))},i=function(e,t,n,r){var i=Fi(e.element(),n.selector);return function(e,t){return t.focusManager.get(e).bind((function(e){return Ui(e,t.selector)}))}(e,n).bind((function(t){return te(i,c(Tt,t)).bind((function(t){return o(e,i,t,n,r)}))}))},a=u([Zi(Gi([Ki,Xi([9])]),(function(e,t,n,r){var o=n.cyclic?$i:qi;return i(e,0,n,o)})),Zi(Xi([9]),(function(e,t,n,r){var o=n.cyclic?Wi:Yi;return i(e,0,n,o)})),Zi(Xi([27]),(function(e,t,n,r){return n.onEscape.bind((function(n){return n(e,t)}))})),Zi(Gi([Qi,Xi([13])]),(function(e,t,n,r){return n.onEnter.bind((function(n){return n(e,t)}))}))]),s=u([]);return ga(t,Yr.init,a,s,(function(){return y.some(r)}))},ba=va(vr("cyclic",u(!1))),ya=va(vr("cyclic",u(!0))),wa=function(e){return"input"===at(e)&&"radio"!==ro(e,"type")||"textarea"===at(e)},xa=function(e,t,n){return wa(n)&&Xi([32])(t.event())?y.none():function(e,t,n){return Qe(e,n,Fe()),y.some(!0)}(e,0,n)},Ca=function(e,t){return y.some(!0)},ka=[hr("execute",xa),hr("useSpace",!1),hr("useEnter",!0),hr("useControlEnter",!1),hr("useDown",!1)],Sa=function(e,t,n){return n.execute(e,t,e.element())},Ta=ga(ka,Yr.init,(function(e,t,n,r){var o=n.useSpace&&!wa(e.element())?[32]:[],i=n.useEnter?[13]:[],a=n.useDown?[40]:[],u=o.concat(i).concat(a);return[Zi(Xi(u),Sa)].concat(n.useControlEnter?[Zi(Gi([Ji,Xi([13])]),Sa)]:[])}),(function(e,t,n,r){return n.useSpace&&!wa(e.element())?[Zi(Xi([32]),Ca)]:[]}),(function(){return y.none()})),Ea=function(e){var t=O(y.none());return Xr({readState:function(){return t.get().map((function(e){return{numRows:e.numRows(),numColumns:e.numColumns()}})).getOr({numRows:"?",numColumns:"?"})},setGridSize:function(e,n){t.set(y.some({numRows:u(e),numColumns:u(n)}))},getNumRows:function(){return t.get().map((function(e){return e.numRows()}))},getNumColumns:function(){return t.get().map((function(e){return e.numColumns()}))}})},Oa=Object.freeze({flatgrid:Ea,init:function(e){return e.state(e)}}),_a=function(e,t){return function(n){return"rtl"===Aa(n)?t:e}},Aa=function(e){return"rtl"===Oi(e,"direction")?"rtl":"ltr"},Da=function(e){return function(t,n,r,o){var i=e(t.element());return za(i,t,n,r,o)}},Na=function(e,t){var n=_a(e,t);return Da(n)},Ma=function(e,t){var n=_a(t,e);return Da(n)},Ra=function(e){return function(t,n,r,o){return za(e,t,n,r,o)}},za=function(e,t,n,r,o){return r.focusManager.get(t).bind((function(n){return e(t.element(),n,r,o)})).map((function(e){return r.focusManager.set(t,e),!0}))},Ia=Ra,Ba=Ra,Pa=Ra,La=function(e){return!function(e){return e.offsetWidth<=0&&e.offsetHeight<=0}(e.dom())},Fa=gt(["index","candidates"],[]),Ha=function(e,t,n){var r=c(Tt,t),o=Fi(e,n);return function(e,t){return te(e,t).map((function(t){return Fa({index:t,candidates:e})}))}(J(o,La),r)},ja=function(e,t){return te(e,(function(e){return Tt(t,e)}))},Va=function(e,t,n,r){return r(Math.floor(t/n),t%n).bind((function(t){var r=t.row()*n+t.column();return r>=0&&r<e.length?y.some(e[r]):y.none()}))},Ua=function(e,t,n,r,o){return Va(e,t,r,(function(t,i){var a=t===n-1?e.length-t*r:r,s=ea(i,o,0,a-1);return y.some({row:u(t),column:u(s)})}))},$a=function(e,t,n,r,o){return Va(e,t,r,(function(t,i){var a=ea(t,o,0,n-1),s=a===n-1?e.length-a*r:r,c=ta(i,0,s-1);return y.some({row:u(a),column:u(c)})}))},qa=[sr("selector"),hr("execute",xa),Yo("onEscape"),hr("captureTab",!1),Qo()],Wa=function(e,t,n){Vi(e.element(),t.selector).each((function(n){t.focusManager.set(e,n)}))},Ya=function(e){return function(t,n,r,o){return Ha(t,n,r.selector).bind((function(t){return e(t.candidates(),t.index(),o.getNumRows().getOr(r.initSize.numRows),o.getNumColumns().getOr(r.initSize.numColumns))}))}},Xa=function(e,t,n,r){return n.captureTab?y.some(!0):y.none()},Ga=Ya((function(e,t,n,r){return Ua(e,t,n,r,-1)})),Ka=Ya((function(e,t,n,r){return Ua(e,t,n,r,1)})),Ja=Ya((function(e,t,n,r){return $a(e,t,n,r,-1)})),Qa=Ya((function(e,t,n,r){return $a(e,t,n,r,1)})),Za=u([Zi(Xi([37]),Na(Ga,Ka)),Zi(Xi([39]),Ma(Ga,Ka)),Zi(Xi([38]),Ia(Ja)),Zi(Xi([40]),Ba(Qa)),Zi(Gi([Ki,Xi([9])]),Xa),Zi(Gi([Qi,Xi([9])]),Xa),Zi(Xi([27]),(function(e,t,n,r){return n.onEscape(e,t)})),Zi(Xi([32].concat([13])),(function(e,t,n,r){return function(e,t){return t.focusManager.get(e).bind((function(e){return Ui(e,t.selector)}))}(e,n).bind((function(r){return n.execute(e,t,r)}))}))]),eu=u([Zi(Xi([32]),Ca)]),tu=ga(qa,Ea,Za,eu,(function(){return y.some(Wa)})),nu=function(e,t,n,r){var o=function(e,t,n){var i,a=ea(t,r,0,n.length-1);return a===e?y.none():(i=n[a],"button"===at(i)&&"disabled"===ro(i,"disabled")?o(e,a,n):y.from(n[a]))};return Ha(e,n,t).bind((function(e){var t=e.index(),n=e.candidates();return o(t,t,n)}))},ru=[sr("selector"),hr("getInitial",y.none),hr("execute",xa),Yo("onEscape"),hr("executeOnMove",!1),hr("allowVertical",!0)],ou=function(e,t,n){return function(e,t){return t.focusManager.get(e).bind((function(e){return Ui(e,t.selector)}))}(e,n).bind((function(r){return n.execute(e,t,r)}))},iu=function(e,t){t.getInitial(e).orThunk((function(){return Vi(e.element(),t.selector)})).each((function(n){t.focusManager.set(e,n)}))},au=function(e,t,n){return nu(e,n.selector,t,-1)},uu=function(e,t,n){return nu(e,n.selector,t,1)},su=function(e){return function(t,n,r){return e(t,n,r).bind((function(){return r.executeOnMove?ou(t,n,r):y.some(!0)}))}},cu=function(e,t,n,r){return n.onEscape(e,t)},lu=u([Zi(Xi([32]),Ca)]),fu=ga(ru,Yr.init,(function(e,t,n,r){var o=[37].concat(n.allowVertical?[38]:[]),i=[39].concat(n.allowVertical?[40]:[]);return[Zi(Xi(o),su(Na(au,uu))),Zi(Xi(i),su(Ma(au,uu))),Zi(Xi([13]),ou),Zi(Xi([32]),ou),Zi(Xi([27]),cu)]}),lu,(function(){return y.some(iu)})),du=gt(["rowIndex","columnIndex","cell"],[]),pu=function(e,t,n){return y.from(e[t]).bind((function(e){return y.from(e[n]).map((function(e){return du({rowIndex:t,columnIndex:n,cell:e})}))}))},mu=function(e,t,n,r){var o=e[t].length,i=ea(n,r,0,o-1);return pu(e,t,i)},hu=function(e,t,n,r){var o=ea(n,r,0,e.length-1),i=e[o].length,a=ta(t,0,i-1);return pu(e,o,a)},gu=function(e,t,n,r){var o=e[t].length,i=ta(n+r,0,o-1);return pu(e,t,i)},vu=function(e,t,n,r){var o=ta(n+r,0,e.length-1),i=e[o].length,a=ta(t,0,i-1);return pu(e,o,a)},bu=[lr("selectors",[sr("row"),sr("cell")]),hr("cycles",!0),hr("previousSelector",y.none),hr("execute",xa)],yu=function(e,t){t.previousSelector(e).orThunk((function(){var n=t.selectors;return Vi(e.element(),n.cell)})).each((function(n){t.focusManager.set(e,n)}))},wu=function(e,t){return function(n,r,o){var i=o.cycles?e:t;return Ui(r,o.selectors.row).bind((function(e){var t=Fi(e,o.selectors.cell);return ja(t,r).bind((function(t){var r=Fi(n,o.selectors.row);return ja(r,e).bind((function(e){var n=function(e,t){return G(e,(function(e){return Fi(e,t.selectors.cell)}))}(r,o);return i(n,e,t).map((function(e){return e.cell()}))}))}))}))}},xu=wu((function(e,t,n){return mu(e,t,n,-1)}),(function(e,t,n){return gu(e,t,n,-1)})),Cu=wu((function(e,t,n){return mu(e,t,n,1)}),(function(e,t,n){return gu(e,t,n,1)})),ku=wu((function(e,t,n){return hu(e,n,t,-1)}),(function(e,t,n){return vu(e,n,t,-1)})),Su=wu((function(e,t,n){return hu(e,n,t,1)}),(function(e,t,n){return vu(e,n,t,1)})),Tu=u([Zi(Xi([37]),Na(xu,Cu)),Zi(Xi([39]),Ma(xu,Cu)),Zi(Xi([38]),Ia(ku)),Zi(Xi([40]),Ba(Su)),Zi(Xi([32].concat([13])),(function(e,t,n){return Co(e.element()).bind((function(r){return n.execute(e,t,r)}))}))]),Eu=u([Zi(Xi([32]),Ca)]),Ou=ga(bu,Yr.init,Tu,Eu,(function(){return y.some(yu)})),_u=[sr("selector"),hr("execute",xa),hr("moveOnTab",!1)],Au=function(e,t,n){return n.focusManager.get(e).bind((function(r){return n.execute(e,t,r)}))},Du=function(e,t){Vi(e.element(),t.selector).each((function(n){t.focusManager.set(e,n)}))},Nu=function(e,t,n){return nu(e,n.selector,t,-1)},Mu=function(e,t,n){return nu(e,n.selector,t,1)},Ru=u([Zi(Xi([38]),Pa(Nu)),Zi(Xi([40]),Pa(Mu)),Zi(Gi([Ki,Xi([9])]),(function(e,t,n){return n.moveOnTab?Pa(Nu)(e,t,n):y.none()})),Zi(Gi([Qi,Xi([9])]),(function(e,t,n){return n.moveOnTab?Pa(Mu)(e,t,n):y.none()})),Zi(Xi([13]),Au),Zi(Xi([32]),Au)]),zu=u([Zi(Xi([32]),Ca)]),Iu=ga(_u,Yr.init,Ru,zu,(function(){return y.some(Du)})),Bu=[Yo("onSpace"),Yo("onEnter"),Yo("onShiftEnter"),Yo("onLeft"),Yo("onRight"),Yo("onTab"),Yo("onShiftTab"),Yo("onUp"),Yo("onDown"),Yo("onEscape"),hr("stopSpaceKeyup",!1),fr("focusIn")],Pu=ga(Bu,Yr.init,(function(e,t,n){return[Zi(Xi([32]),n.onSpace),Zi(Gi([Qi,Xi([13])]),n.onEnter),Zi(Gi([Ki,Xi([13])]),n.onShiftEnter),Zi(Gi([Ki,Xi([9])]),n.onShiftTab),Zi(Gi([Qi,Xi([9])]),n.onTab),Zi(Xi([38]),n.onUp),Zi(Xi([40]),n.onDown),Zi(Xi([37]),n.onLeft),Zi(Xi([39]),n.onRight),Zi(Xi([32]),n.onSpace),Zi(Xi([27]),n.onEscape)]}),(function(e,t,n){return n.stopSpaceKeyup?[Zi(Xi([32]),Ca)]:[]}),(function(e){return e.focusIn})),Lu=ba.schema(),Fu=ya.schema(),Hu=fu.schema(),ju=tu.schema(),Vu=Ou.schema(),Uu=Ta.schema(),$u=Iu.schema(),qu=Pu.schema(),Wu=function(e){var t=rr("Creating behaviour: "+e.name,Qr,e);return function(e,t,n,r,o,i){var a=e,u=pr(t,[dr("config",e)]);return Wr(a,u,t,n,r,o,i)}(ir(t.branchKey,t.branches),t.name,t.active,t.apis,t.extra,t.state)}({branchKey:"mode",branches:Object.freeze({acyclic:Lu,cyclic:Fu,flow:Hu,flatgrid:ju,matrix:Vu,execution:Uu,menu:$u,special:qu}),name:"keying",active:{events:function(e,t){return e.handler.toEvents(e,t)}},apis:{focusIn:function(e,t,n){t.sendFocusIn(t).fold((function(){e.getSystem().triggerFocus(e.element(),e.element())}),(function(r){r(e,t,n)}))},setGridSize:function(e,n,r,o,i){gn(r,"setGridSize")?r.setGridSize(o,i):t.console.error("Layout does not support setGridSize")}},state:Oa}),Yu=function(e,t){return function(e,t,n){return gr(e,t,qn(n))}(e,{},G(t,(function(t){return n=t.name(),r="Cannot configure "+t.name()+" for "+e,Gn(n,n,nn(),Vn((function(e){return En("The field: "+n+" is forbidden. "+r)})));var n,r})).concat([vr("dump",s)]))},Xu=function(e){return e.dump},Gu=function(e,t){return n(n({},e.dump),Gr(t))},Ku=Yu,Ju=Gu,Qu=Yt([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),Zu=function(e,t,n,r){return"placeholder"===n.uiType?function(e,t,n,r){return e.exists((function(e){return e!==n.owner}))?Qu.single(!0,u(n)):dn(r,n.name).fold((function(){throw new Error("Unknown placeholder component: "+n.name+"\nKnown: ["+w(r)+"]\nNamespace: "+e.getOr("none")+"\nSpec: "+JSON.stringify(n,null,2))}),(function(e){return e.replace()}))}(e,0,n,r):Qu.single(!1,u(n))},es=function(e,t,r,o){return Zu(e,0,r,o).fold((function(i,a){var u=a(t,r.config,r.validated),s=dn(u,"components").getOr([]),c=re(s,(function(n){return es(e,t,n,o)}));return[n(n({},u),{components:c})]}),(function(e,n){var o=n(t,r.config,r.validated);return r.validated.preprocess.getOr(s)(o)}))},ts=function(e,t,n,r){var o=k(r,(function(e,t){return r=e,o=!1,{name:u(n=t),required:function(){return r.fold((function(e,t){return e}),(function(e,t){return e}))},used:function(){return o},replace:function(){if(!0===o)throw new Error("Trying to use the same placeholder more than once: "+n);return o=!0,r}};var n,r,o})),i=function(e,t,n,r){return re(n,(function(n){return es(e,t,n,r)}))}(e,t,n,o);return C(o,(function(n){if(!1===n.used()&&n.required())throw new Error("Placeholder: "+n.name()+" was not found in components list\nNamespace: "+e.getOr("none")+"\nComponents: "+JSON.stringify(t.components,null,2))})),i},ns=Qu.single,rs=Qu.multiple,os=u("placeholder"),is=0,as=function(e){var t=(new Date).getTime();return e+"_"+Math.floor(1e9*Math.random())+ ++is+String(t)},us=Yt([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),ss=hr("factory",{sketch:s}),cs=hr("schema",[]),ls=sr("name"),fs=Gn("pname","pname",rn((function(e){return"<alloy."+as(e.name)+">"})),ar()),ds=vr("schema",(function(){return[fr("preprocess")]})),ps=hr("defaults",u({})),ms=hr("overrides",u({})),hs=qn([ss,cs,ls,fs,ps,ms]),gs=qn([ss,cs,ls,fs,ps,ms]),vs=qn([ss,ds,ls,sr("unit"),fs,ps,ms]),bs=function(e){var t=function(e){return e.name};return e.fold(t,t,t,t)},ys=function(e,t){return function(n){var r=rr("Converting part type",t,n);return e(r)}},ws=ys(us.required,hs),xs=ys(us.optional,gs),Cs=ys(us.group,vs),ks=u("entirety"),Ss=function(e,t,n,r){return Kt(t.defaults(e,n,r),n,{uid:e.partUids[t.name]},t.overrides(e,n,r))},Ts=function(e,t){var r={};return K(t,(function(t){(function(e){return e.fold(y.some,y.none,y.some,y.some)})(t).each((function(t){var o=Es(e,t.pname);r[t.name]=function(r){var i=rr("Part: "+t.name+" in "+e,qn(t.schema),r);return n(n({},o),{config:r,validated:i})}}))})),r},Es=function(e,t){return{uiType:os(),owner:e,name:t}},Os=function(e,t,n){return function(e,t,n){var r={},o={};return K(n,(function(e){e.fold((function(e){r[e.pname]=ns(!0,(function(t,n,r){return e.factory.sketch(Ss(t,e,n,r))}))}),(function(e){var n=t.parts[e.name];o[e.name]=u(e.factory.sketch(Ss(t,e,n[ks()]),n))}),(function(e){r[e.pname]=ns(!1,(function(t,n,r){return e.factory.sketch(Ss(t,e,n,r))}))}),(function(e){r[e.pname]=rs(!0,(function(t,n,r){var o=t[e.name];return G(o,(function(n){return e.factory.sketch(Kt(e.defaults(t,n,r),n,e.overrides(t,n)))}))}))}))})),{internals:u(r),externals:u(o)}}(0,t,n)},_s=function(e,t,n){return ts(y.some(e),t,t.components,n)},As=function(e,t,n){var r=t.partUids[n];return e.getSystem().getByUid(r).toOption()},Ds=function(e,t,n){return As(e,t,n).getOrDie("Could not find part: "+n)},Ns=function(e,t){var n=function(e){return G(e,bs)}(t);return mn(G(n,(function(t){return{key:t,value:e+"-"+t}})))},Ms=function(e){return Gn("partUids","partUids",on((function(t){return Ns(t.uid,e)})),ar())},Rs=as("alloy-premade"),zs=function(e){return pn(Rs,e)},Is=function(e){return function(e,t){var n=t.toString(),r=n.indexOf(")")+1,o=n.indexOf("("),i=n.substring(o+1,r-1).split(/,\s*/);return e.toFunctionAnnotation=function(){return{name:"OVERRIDE",parameters:Hr(i.slice(1))}},e}((function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return e.apply(void 0,[t.getApis()].concat([t].concat(n)))}),e)},Bs=u("alloy-id-"),Ps=u("data-alloy-id"),Ls=Bs(),Fs=Ps(),Hs=function(e,t){var n=as(Ls+e);return js(t,n),n},js=function(e,t){Object.defineProperty(e.dom(),Fs,{value:t,writable:!0})},Vs=function(e){var t=st(e)?e.dom()[Fs]:null;return y.from(t)},Us=function(e){return as(e)},$s=function(e,t,n,r,o){var i=function(e,t){return(e.length>0?[lr("parts",e)]:[]).concat([sr("uid"),hr("dom",{}),hr("components",[]),Jo("originalSpec"),hr("debug.sketcher",{})]).concat(t)}(r,o);return rr(e+" [SpecSchema]",$n(i.concat(t)),n)},qs=function(e,t,n,r,o){var i=Ws(o),a=function(e){return re(e,(function(e){return e.fold(y.none,y.some,y.none,y.none).map((function(e){return lr(e.name,e.schema.concat([Jo(ks())]))})).toArray()}))}(n),u=Ms(n),s=$s(e,t,i,a,[u]),c=Os(0,s,n);return r(s,_s(e,s,c.internals()),i,c.externals())},Ws=function(e){return e.hasOwnProperty("uid")?e:n(n({},e),{uid:Us("uid")})};var Ys=$n([sr("name"),sr("factory"),sr("configFields"),hr("apis",{}),hr("extraApis",{})]),Xs=$n([sr("name"),sr("factory"),sr("configFields"),sr("partFields"),hr("apis",{}),hr("extraApis",{})]),Gs=function(e){var t=rr("Sketcher for "+e.name,Ys,e),r=k(t.apis,Is),o=k(t.extraApis,(function(e,t){return jr(e,t)}));return n(n({name:u(t.name),partFields:u([]),configFields:u(t.configFields),sketch:function(e){return function(e,t,n,r){var o=Ws(r);return n($s(e,t,o,[],[]),o)}(t.name,t.configFields,t.factory,e)}},r),o)},Ks=function(e){var t=rr("Sketcher for "+e.name,Xs,e),r=Ts(t.name,t.partFields),o=k(t.apis,Is),i=k(t.extraApis,(function(e,t){return jr(e,t)}));return n(n({name:u(t.name),partFields:u(t.partFields),configFields:u(t.configFields),sketch:function(e){return qs(t.name,t.configFields,t.partFields,t.factory,e)},parts:u(r)},o),i)},Js=Gs({name:"Button",factory:function(e){var t,r=(t=e.action,Or(ne([t.map((function(e){return Fr((function(t,n){e(t),n.stop()}))})).toArray(),vi()]))),o=e.dom.tag,i=function(t){return dn(e.dom,"attributes").bind((function(e){return dn(e,t)}))};return{uid:e.uid,dom:e.dom,components:e.components,events:r,behaviours:Ju(e.buttonBehaviours,[Ci.config({}),Wu.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:function(){if("button"===o){var e=i("type").getOr("button"),t=i("role").map((function(e){return{role:e}})).getOr({});return n({type:e},t)}return{role:i("role").getOr("button")}}()},eventOrder:e.eventOrder}},configFields:[hr("uid",void 0),sr("dom"),hr("components",[]),Ku("buttonBehaviours",[Ci,Wu]),fr("action"),fr("role"),hr("eventOrder",{})]}),Qs=Object.freeze({events:function(e){return Or([_r(Re(),u(!0))])},exhibit:function(e,t){return Vr({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})}}),Zs=Jr({fields:[],name:"unselecting",active:Qs}),ec=function(e){var t=nt.fromHtml(e),r=_t(t),o=function(e){var t=void 0!==e.dom().attributes?e.dom().attributes:[];return Z(t,(function(e,t){var r;return"class"===t.name?e:n(n({},e),((r={})[t.name]=t.value,r))}),{})}(t),i=function(e){return Array.prototype.slice.call(e.dom().classList,0)}(t),a=0===r.length?{}:{innerHtml:Oo(t)};return n({tag:at(t),classes:i,attributes:o},a)},tc=function(e){var t,n,r=(t=e,n={prefix:gi.prefix()},t.replace(/\$\{([^{}]*)\}/g,(function(e,t){var r=n[t];return function(e){var t=typeof e;return"string"===t||"number"===t}(r)?r.toString():e})));return ec(r)},nc=function(e){return{dom:tc(e)}},rc=function(e){return Gr([di.config({toggleClass:gi.resolve("toolbar-button-selected"),toggleOnExecute:!1,aria:{mode:"pressed"}}),pi(e,(function(e,t){(t?di.on:di.off)(e)}))])},oc=function(e,t){var n=t.ui.registry.getAll().icons;return y.from(n[e]).fold((function(){return tc('<span class="${prefix}-toolbar-button ${prefix}-toolbar-group-item ${prefix}-icon-'+e+' ${prefix}-icon"></span>')}),(function(e){return tc('<span class="${prefix}-toolbar-button ${prefix}-toolbar-group-item">'+e+"</span>")}))},ic=function(e,t,n,r){return Js.sketch({dom:oc(e,r),action:t,buttonBehaviours:Kt(Gr([Zs.config({})]),n)})},ac={forToolbar:ic,forToolbarCommand:function(e,t){return ic(t,(function(){e.execCommand(t)}),{},e)},forToolbarStateAction:function(e,t,n,r){var o=rc(n);return ic(t,r,o,e)},forToolbarStateCommand:function(e,t){var n=rc(t);return ic(t,(function(){e.execCommand(t)}),n,e)},getToolbarIconButton:oc},uc=xs({schema:[sr("dom")],name:"label"}),sc=function(e){return xs({name:e+"-edge",overrides:function(t){return t.model.manager.edgeActions[e].fold((function(){return{}}),(function(e){return{events:Or([Dr(we(),e,[t]),Dr(ke(),e,[t]),Dr(Se(),(function(t,n,r){r.mouseIsDown.get()&&e(t,r)}),[t])])}}))}})},cc=sc("top-left"),lc=sc("top"),fc=sc("top-right"),dc=sc("right"),pc=sc("bottom-right"),mc=sc("bottom"),hc=sc("bottom-left"),gc=[uc,sc("left"),dc,lc,mc,cc,fc,hc,pc,ws({name:"thumb",defaults:u({dom:{styles:{position:"absolute"}}}),overrides:function(e){return{events:Or([Mr(we(),e,"spectrum"),Mr(xe(),e,"spectrum"),Mr(Ce(),e,"spectrum"),Mr(ke(),e,"spectrum"),Mr(Se(),e,"spectrum"),Mr(Te(),e,"spectrum")])}}}),ws({schema:[vr("mouseIsDown",(function(){return O(!1)}))],name:"spectrum",overrides:function(e){var t=e.model.manager,n=function(n,r){return t.getValueFromEvent(r).map((function(r){return t.setValueFrom(n,e,r)}))};return{behaviours:Gr([Wu.config({mode:"special",onLeft:function(n){return t.onLeft(n,e)},onRight:function(n){return t.onRight(n,e)},onUp:function(n){return t.onUp(n,e)},onDown:function(n){return t.onDown(n,e)}}),Ci.config({})]),events:Or([Ar(we(),n),Ar(xe(),n),Ar(ke(),n),Ar(Se(),(function(t,r){e.mouseIsDown.get()&&n(t,r)}))])}}})],vc=function(e,t,n){t.store.manager.onLoad(e,t,n)},bc=function(e,t,n){t.store.manager.onUnload(e,t,n)},yc=Object.freeze({onLoad:vc,onUnload:bc,setValue:function(e,t,n,r){t.store.manager.setValue(e,t,n,r)},getValue:function(e,t,n){return t.store.manager.getValue(e,t,n)},getState:function(e,t,n){return n}}),wc=Object.freeze({events:function(e,t){var n=e.resetOnDom?[Br((function(n,r){vc(n,e,t)})),Pr((function(n,r){bc(n,e,t)}))]:[Ur(e,t,vc)];return Or(n)}}),xc=function(){var e=O(null);return Xr({set:e.set,get:e.get,isNotSet:function(){return null===e.get()},clear:function(){e.set(null)},readState:function(){return{mode:"memory",value:e.get()}}})},Cc=function(){var e=O({}),t=O({});return Xr({readState:function(){return{mode:"dataset",dataByValue:e.get(),dataByText:t.get()}},lookup:function(n){return dn(e.get(),n).orThunk((function(){return dn(t.get(),n)}))},update:function(r){var o=e.get(),i=t.get(),a={},u={};K(r,(function(e){a[e.value]=e,dn(e,"meta").each((function(t){dn(t,"text").each((function(t){u[t]=e}))}))})),e.set(n(n({},o),a)),t.set(n(n({},i),u))},clear:function(){e.set({}),t.set({})}})},kc=Object.freeze({memory:xc,dataset:Cc,manual:function(){return Xr({readState:function(){}})},init:function(e){return e.store.manager.state(e)}}),Sc=function(e,t,n,r){var o=t.store;n.update([r]),o.setValue(e,r),t.onSetValue(e,r)},Tc=[fr("initialValue"),sr("getFallbackEntry"),sr("getDataKey"),sr("setValue"),Ko("manager",{setValue:Sc,getValue:function(e,t,n){var r=t.store,o=r.getDataKey(e);return n.lookup(o).fold((function(){return r.getFallbackEntry(o)}),(function(e){return e}))},onLoad:function(e,t,n){t.store.initialValue.each((function(r){Sc(e,t,n,r)}))},onUnload:function(e,t,n){n.clear()},state:Cc})],Ec=[sr("getValue"),hr("setValue",i),fr("initialValue"),Ko("manager",{setValue:function(e,t,n,r){t.store.setValue(e,r),t.onSetValue(e,r)},getValue:function(e,t,n){return t.store.getValue(e)},onLoad:function(e,t,n){t.store.initialValue.each((function(n){t.store.setValue(e,n)}))},onUnload:i,state:Yr.init})],Oc=[fr("initialValue"),Ko("manager",{setValue:function(e,t,n,r){n.set(r),t.onSetValue(e,r)},getValue:function(e,t,n){return n.get()},onLoad:function(e,t,n){t.store.initialValue.each((function(e){n.isNotSet()&&n.set(e)}))},onUnload:function(e,t,n){n.clear()},state:xc})],_c=[gr("store",{mode:"memory"},ir("mode",{memory:Oc,manual:Ec,dataset:Tc})),Wo("onSetValue"),hr("resetOnDom",!1)],Ac=Jr({fields:_c,name:"representing",active:wc,apis:yc,extra:{setValueFrom:function(e,t){var n=Ac.getValue(t);Ac.setValue(e,n)}},state:kc}),Dc=Mi("width",(function(e){return e.dom().offsetWidth})),Nc=function(e,t){Dc.set(e,t)},Mc=function(e){return Dc.get(e)},Rc=function(e,t){return{left:u(e),top:u(t),translate:function(n,r){return Rc(e+n,t+r)}}},zc=Rc,Ic=u("slider.change.value"),Bc=function(e){var t=e.event().raw();if(function(e){return-1!==e.type.indexOf("touch")}(t)){var n=t;return void 0!==n.touches&&1===n.touches.length?y.some(n.touches[0]).map((function(e){return zc(e.clientX,e.clientY)})):y.none()}var r=t;return void 0!==r.clientX?y.some(r).map((function(e){return zc(e.clientX,e.clientY)})):y.none()},Pc=function(e){return e.model.minX},Lc=function(e){return e.model.minY},Fc=function(e){return e.model.minX-1},Hc=function(e){return e.model.minY-1},jc=function(e){return e.model.maxX},Vc=function(e){return e.model.maxY},Uc=function(e){return e.model.maxX+1},$c=function(e){return e.model.maxY+1},qc=function(e,t,n){return t(e)-n(e)},Wc=function(e){return qc(e,jc,Pc)},Yc=function(e){return qc(e,Vc,Lc)},Xc=function(e){return Wc(e)/2},Gc=function(e){return Yc(e)/2},Kc=function(e){return e.stepSize},Jc=function(e){return e.snapToGrid},Qc=function(e){return e.snapStart},Zc=function(e){return e.rounded},el=function(e,t){return void 0!==e[t+"-edge"]},tl=function(e){return el(e,"left")},nl=function(e){return el(e,"right")},rl=function(e){return el(e,"top")},ol=function(e){return el(e,"bottom")},il=function(e){return e.model.value.get()},al=function(e){return{x:u(e)}},ul=function(e){return{y:u(e)}},sl=function(e,t){return{x:u(e),y:u(t)}},cl=function(e,t){Ke(e,Ic(),{value:t})},ll=function(e,t,n,r){return e<t?e:e>n?n:e===t?t-1:Math.max(t,e-r)},fl=function(e,t,n,r){return e>n?e:e<t?t:e===n?n+1:Math.min(n,e+r)},dl=function(e,t,n){return Math.max(t,Math.min(n,e))},pl=function(e){var t=e.min,n=e.max,r=e.range,o=e.value,i=e.step,a=e.snap,u=e.snapStart,s=e.rounded,c=e.hasMinEdge,l=e.hasMaxEdge,f=e.minBound,d=e.maxBound,p=e.screenRange,m=c?t-1:t,h=l?n+1:n;if(o<f)return m;if(o>d)return h;var g=function(e,t,n){return Math.min(n,Math.max(e,t))-t}(o,f,d),v=dl(g/p*r+t,m,h);return a&&v>=t&&v<=n?function(e,t,n,r,o){return o.fold((function(){var o=e-t,i=Math.round(o/r)*r;return dl(t+i,t-1,n+1)}),(function(t){var o=(e-t)%r,i=Math.round(o/r),a=Math.floor((e-t)/r),u=Math.floor((n-t)/r),s=t+Math.min(u,a+i)*r;return Math.max(t,s)}))}(v,t,n,i,u):s?Math.round(v):v},ml=function(e){var t=e.min,n=e.max,r=e.range,o=e.value,i=e.hasMinEdge,a=e.hasMaxEdge,u=e.maxBound,s=e.maxOffset,c=e.centerMinEdge,l=e.centerMaxEdge;return o<t?i?0:c:o>n?a?u:l:(o-t)/r*s},hl=function(e){return e.element().dom().getBoundingClientRect()},gl=function(e,t){return e[t]},vl=function(e){var t=hl(e);return gl(t,"left")},bl=function(e){var t=hl(e);return gl(t,"right")},yl=function(e){var t=hl(e);return gl(t,"top")},wl=function(e){var t=hl(e);return gl(t,"bottom")},xl=function(e){var t=hl(e);return gl(t,"width")},Cl=function(e){var t=hl(e);return gl(t,"height")},kl=function(e,t,n){return(e+t)/2-n},Sl=function(e,t){var n=hl(e),r=hl(t),o=gl(n,"left"),i=gl(n,"right"),a=gl(r,"left");return kl(o,i,a)},Tl=function(e,t){var n=hl(e),r=hl(t),o=gl(n,"top"),i=gl(n,"bottom"),a=gl(r,"top");return kl(o,i,a)},El=function(e,t){Ke(e,Ic(),{value:t})},Ol=function(e){return{x:u(e)}},_l=function(e,t,n){var r={min:Pc(t),max:jc(t),range:Wc(t),value:n,step:Kc(t),snap:Jc(t),snapStart:Qc(t),rounded:Zc(t),hasMinEdge:tl(t),hasMaxEdge:nl(t),minBound:vl(e),maxBound:bl(e),screenRange:xl(e)};return pl(r)},Al=function(e){return function(t,n){return function(e,t,n){var r=(e>0?fl:ll)(il(n).x(),Pc(n),jc(n),Kc(n));return El(t,Ol(r)),y.some(r)}(e,t,n).map((function(){return!0}))}},Dl=function(e,t,n,r,o,i){var a=function(e,t,n,r,o){var i=xl(e),a=r.bind((function(t){return y.some(Sl(t,e))})).getOr(0),u=o.bind((function(t){return y.some(Sl(t,e))})).getOr(i),s={min:Pc(t),max:jc(t),range:Wc(t),value:n,hasMinEdge:tl(t),hasMaxEdge:nl(t),minBound:vl(e),minOffset:0,maxBound:bl(e),maxOffset:i,centerMinEdge:a,centerMaxEdge:u};return ml(s)}(t,i,n,r,o);return vl(t)-vl(e)+a},Nl=Al(-1),Ml=Al(1),Rl=y.none,zl=y.none,Il={"top-left":y.none(),top:y.none(),"top-right":y.none(),right:y.some((function(e,t){cl(e,al(Uc(t)))})),"bottom-right":y.none(),bottom:y.none(),"bottom-left":y.none(),left:y.some((function(e,t){cl(e,al(Fc(t)))}))},Bl=Object.freeze({setValueFrom:function(e,t,n){var r=_l(e,t,n),o=Ol(r);return El(e,o),r},setToMin:function(e,t){var n=Pc(t);El(e,Ol(n))},setToMax:function(e,t){var n=jc(t);El(e,Ol(n))},findValueOfOffset:_l,getValueFromEvent:function(e){return Bc(e).map((function(e){return e.left()}))},findPositionOfValue:Dl,setPositionFromValue:function(e,t,n,r){var o=il(n),i=Dl(e,r.getSpectrum(e),o.x(),r.getLeftEdge(e),r.getRightEdge(e),n),a=Mc(t.element())/2;Ti(t.element(),"left",i-a+"px")},onLeft:Nl,onRight:Ml,onUp:Rl,onDown:zl,edgeActions:Il}),Pl=function(e,t){Ke(e,Ic(),{value:t})},Ll=function(e){return{y:u(e)}},Fl=function(e,t,n){var r={min:Lc(t),max:Vc(t),range:Yc(t),value:n,step:Kc(t),snap:Jc(t),snapStart:Qc(t),rounded:Zc(t),hasMinEdge:rl(t),hasMaxEdge:ol(t),minBound:yl(e),maxBound:wl(e),screenRange:Cl(e)};return pl(r)},Hl=function(e){return function(t,n){return function(e,t,n){var r=(e>0?fl:ll)(il(n).y(),Lc(n),Vc(n),Kc(n));return Pl(t,Ll(r)),y.some(r)}(e,t,n).map((function(){return!0}))}},jl=function(e,t,n,r,o,i){var a=function(e,t,n,r,o){var i=Cl(e),a=r.bind((function(t){return y.some(Tl(t,e))})).getOr(0),u=o.bind((function(t){return y.some(Tl(t,e))})).getOr(i),s={min:Lc(t),max:Vc(t),range:Yc(t),value:n,hasMinEdge:rl(t),hasMaxEdge:ol(t),minBound:yl(e),minOffset:0,maxBound:wl(e),maxOffset:i,centerMinEdge:a,centerMaxEdge:u};return ml(s)}(t,i,n,r,o);return yl(t)-yl(e)+a},Vl=y.none,Ul=y.none,$l=Hl(-1),ql=Hl(1),Wl={"top-left":y.none(),top:y.some((function(e,t){cl(e,ul(Hc(t)))})),"top-right":y.none(),right:y.none(),"bottom-right":y.none(),bottom:y.some((function(e,t){cl(e,ul($c(t)))})),"bottom-left":y.none(),left:y.none()},Yl=Object.freeze({setValueFrom:function(e,t,n){var r=Fl(e,t,n),o=Ll(r);return Pl(e,o),r},setToMin:function(e,t){var n=Lc(t);Pl(e,Ll(n))},setToMax:function(e,t){var n=Vc(t);Pl(e,Ll(n))},findValueOfOffset:Fl,getValueFromEvent:function(e){return Bc(e).map((function(e){return e.top()}))},findPositionOfValue:jl,setPositionFromValue:function(e,t,n,r){var o=il(n),i=jl(e,r.getSpectrum(e),o.y(),r.getTopEdge(e),r.getBottomEdge(e),n),a=Ii(t.element())/2;Ti(t.element(),"top",i-a+"px")},onLeft:Vl,onRight:Ul,onUp:$l,onDown:ql,edgeActions:Wl}),Xl=function(e,t){Ke(e,Ic(),{value:t})},Gl=function(e,t){return{x:u(e),y:u(t)}},Kl=function(e,t){return function(n,r){return function(e,t,n,r){var o=e>0?fl:ll,i=t?il(r).x():o(il(r).x(),Pc(r),jc(r),Kc(r)),a=t?o(il(r).y(),Lc(r),Vc(r),Kc(r)):il(r).y();return Xl(n,Gl(i,a)),y.some(i)}(e,t,n,r).map((function(){return!0}))}},Jl=Kl(-1,!1),Ql=Kl(1,!1),Zl=Kl(-1,!0),ef=Kl(1,!0),tf={"top-left":y.some((function(e,t){cl(e,sl(Fc(t),Hc(t)))})),top:y.some((function(e,t){cl(e,sl(Xc(t),Hc(t)))})),"top-right":y.some((function(e,t){cl(e,sl(Uc(t),Hc(t)))})),right:y.some((function(e,t){cl(e,sl(Uc(t),Gc(t)))})),"bottom-right":y.some((function(e,t){cl(e,sl(Uc(t),$c(t)))})),bottom:y.some((function(e,t){cl(e,sl(Xc(t),$c(t)))})),"bottom-left":y.some((function(e,t){cl(e,sl(Fc(t),$c(t)))})),left:y.some((function(e,t){cl(e,sl(Fc(t),Gc(t)))}))},nf=Object.freeze({setValueFrom:function(e,t,n){var r=_l(e,t,n.left()),o=Fl(e,t,n.top()),i=Gl(r,o);return Xl(e,i),i},setToMin:function(e,t){var n=Pc(t),r=Lc(t);Xl(e,Gl(n,r))},setToMax:function(e,t){var n=jc(t),r=Vc(t);Xl(e,Gl(n,r))},getValueFromEvent:function(e){return Bc(e)},setPositionFromValue:function(e,t,n,r){var o=il(n),i=Dl(e,r.getSpectrum(e),o.x(),r.getLeftEdge(e),r.getRightEdge(e),n),a=jl(e,r.getSpectrum(e),o.y(),r.getTopEdge(e),r.getBottomEdge(e),n),u=Mc(t.element())/2,s=Ii(t.element())/2;Ti(t.element(),"left",i-u+"px"),Ti(t.element(),"top",a-s+"px")},onLeft:Jl,onRight:Ql,onUp:Zl,onDown:ef,edgeActions:tf}),rf=[hr("stepSize",1),hr("onChange",i),hr("onChoose",i),hr("onInit",i),hr("onDragStart",i),hr("onDragEnd",i),hr("snapToGrid",!1),hr("rounded",!0),fr("snapStart"),cr("model",ir("mode",{x:[hr("minX",0),hr("maxX",100),vr("value",(function(e){return O(e.mode.minX)})),sr("getInitialValue"),Ko("manager",Bl)],y:[hr("minY",0),hr("maxY",100),vr("value",(function(e){return O(e.mode.minY)})),sr("getInitialValue"),Ko("manager",Yl)],xy:[hr("minX",0),hr("maxX",100),hr("minY",0),hr("maxY",100),vr("value",(function(e){return O({x:u(e.mode.minX),y:u(e.mode.minY)})})),sr("getInitialValue"),Ko("manager",nf)]})),Yu("sliderBehaviours",[Wu,Ac]),vr("mouseIsDown",(function(){return O(!1)}))],of=u("mouse.released"),af=Ks({name:"Slider",configFields:rf,partFields:gc,factory:function(e,t,n,r){var o,i=function(t){return Ds(t,e,"thumb")},a=function(t){return Ds(t,e,"spectrum")},s=function(t){return As(t,e,"left-edge")},c=function(t){return As(t,e,"right-edge")},l=function(t){return As(t,e,"top-edge")},f=function(t){return As(t,e,"bottom-edge")},d=e.model,p=d.manager,m=function(t,n){p.setPositionFromValue(t,n,e,{getLeftEdge:s,getRightEdge:c,getTopEdge:l,getBottomEdge:f,getSpectrum:a})},h=function(t,n){d.value.set(n);var r=i(t);return m(t,r),e.onChange(t,r,n),y.some(!0)},g=function(t){var n=e.mouseIsDown.get();e.mouseIsDown.set(!1),n&&As(t,e,"thumb").each((function(n){var r=d.value.get();e.onChoose(t,n,r)}))},v=function(t,n){n.stop(),e.mouseIsDown.set(!0),e.onDragStart(t,i(t))},b=function(t,n){n.stop(),e.onDragEnd(t,i(t)),g(t)};return{uid:e.uid,dom:e.dom,components:t,behaviours:Gu(e.sliderBehaviours,[Wu.config({mode:"special",focusIn:function(t){return As(t,e,"spectrum").map(Wu.focusIn).map(u(!0))}}),Ac.config({store:{mode:"manual",getValue:function(e){return d.value.get()}}}),ei.config({channels:(o={},o[of()]={onReceive:g},o)})]),events:Or([Ar(Ic(),(function(e,t){h(e,t.event().value())})),Br((function(t,n){var r=d.getInitialValue();d.value.set(r);var o=i(t);m(t,o);var u=a(t);e.onInit(t,o,u,d.value.get())})),Ar(we(),v),Ar(Ce(),b),Ar(ke(),v),Ar(Te(),b)]),apis:{resetToMin:function(t){p.setToMin(t,e)},resetToMax:function(t){p.setToMax(t,e)},changeValue:h,refresh:m},domModification:{styles:{position:"relative"}}}},apis:{resetToMin:function(e,t){e.resetToMin(t)},resetToMax:function(e,t){e.resetToMax(t)},refresh:function(e,t){e.refresh(t)}}}),uf=function(e,t,n,r){return ac.forToolbar(t,(function(){var r=n();e.setContextToolbar([{label:t+" group",items:r}])}),{},r)},sf=function(e){var t=function(e){return e<0?"black":e>360?"white":"hsl("+e+", 100%, 50%)"};return af.sketch({dom:tc('<div class="${prefix}-slider ${prefix}-hue-slider-container"></div>'),components:[af.parts()["left-edge"](nc('<div class="${prefix}-hue-slider-black"></div>')),af.parts().spectrum({dom:tc('<div class="${prefix}-slider-gradient-container"></div>'),components:[nc('<div class="${prefix}-slider-gradient"></div>')],behaviours:Gr([di.config({toggleClass:gi.resolve("thumb-active")})])}),af.parts()["right-edge"](nc('<div class="${prefix}-hue-slider-white"></div>')),af.parts().thumb({dom:tc('<div class="${prefix}-slider-thumb"></div>'),behaviours:Gr([di.config({toggleClass:gi.resolve("thumb-active")})])})],onChange:function(n,r,o){var i=t(o.x());Ti(r.element(),"background-color",i),e.onChange(n,r,i)},onDragStart:function(e,t){di.on(t)},onDragEnd:function(e,t){di.off(t)},onInit:function(e,n,r,o){var i=t(o.x());Ti(n.element(),"background-color",i)},stepSize:10,model:{mode:"x",minX:0,maxX:360,getInitialValue:function(){return{x:function(){return e.getInitialValue()}}}},sliderBehaviours:Gr([mi(af.refresh)])})},cf=function(e){return[sf(e)]},lf=function(e,t){var n={onChange:function(e,n,r){t.undoManager.transact((function(){t.formatter.apply("forecolor",{value:r}),t.nodeChanged()}))},getInitialValue:function(){return-1}};return uf(e,"color-levels",(function(){return cf(n)}),t)},ff=$n([sr("getInitialValue"),sr("onChange"),sr("category"),sr("sizes")]),df=function(e){var t=rr("SizeSlider",ff,e);return af.sketch({dom:{tag:"div",classes:[gi.resolve("slider-"+t.category+"-size-container"),gi.resolve("slider"),gi.resolve("slider-size-container")]},onChange:function(e,n,r){var o=r.x();(function(e){return e>=0&&e<t.sizes.length})(o)&&t.onChange(o)},onDragStart:function(e,t){di.on(t)},onDragEnd:function(e,t){di.off(t)},model:{mode:"x",minX:0,maxX:t.sizes.length-1,getInitialValue:function(){return{x:function(){return t.getInitialValue()}}}},stepSize:1,snapToGrid:!0,sliderBehaviours:Gr([mi(af.refresh)]),components:[af.parts().spectrum({dom:tc('<div class="${prefix}-slider-size-container"></div>'),components:[nc('<div class="${prefix}-slider-size-line"></div>')]}),af.parts().thumb({dom:tc('<div class="${prefix}-slider-thumb"></div>'),behaviours:Gr([di.config({toggleClass:gi.resolve("thumb-active")})])})]})},pf=["9px","10px","11px","12px","14px","16px","18px","20px","24px","32px","36px"],mf=function(e){var t=e.selection.getStart(),n=nt.fromDom(t),r=nt.fromDom(e.getBody()),o=function(e,t){return(st(t)?y.some(t):Ot(t).filter(st)).map((function(t){return Cr(t,(function(e){return Ai(e,"font-size").isSome()}),e).bind((function(e){return Ai(e,"font-size")})).getOrThunk((function(){return Oi(t,"font-size")}))})).getOr("")}((function(e){return Tt(r,e)}),n);return ee(pf,(function(e){return o===e})).getOr("medium")},hf={candidates:u(pf),get:function(e){return function(e){return te(pf,(function(t){return t===e}))}(mf(e)).getOr(2)},apply:function(e,t){(function(e){return y.from(pf[e])})(t).each((function(t){!function(e,t){mf(e)!==t&&e.execCommand("fontSize",!1,t)}(e,t)}))}},gf=hf.candidates(),vf=function(e){return df({onChange:e.onChange,sizes:gf,category:"font",getInitialValue:e.getInitialValue})},bf=function(e){return[nc('<span class="${prefix}-toolbar-button ${prefix}-icon-small-font ${prefix}-icon"></span>'),vf(e),nc('<span class="${prefix}-toolbar-button ${prefix}-icon-large-font ${prefix}-icon"></span>')]},yf=function(e){var t=function(e){return void 0!==e.uid}(e)&&gn(e,"uid")?e.uid:Us("memento");return{get:function(e){return e.getSystem().getByUid(t).getOrDie()},getOpt:function(e){return e.getSystem().getByUid(t).toOption()},asSpec:function(){return n(n({},e),{uid:t})}}},wf=window.Promise?window.Promise:function(){var e=function(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],l(e,r(a,this),r(u,this))},n=e.immediateFn||"function"==typeof window.setImmediate&&window.setImmediate||function(e){t.setTimeout(e,1)};function r(e,t){return function(){return e.apply(t,arguments)}}var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function i(e){var t=this;null!==this._state?n((function(){var n=t._state?e.onFulfilled:e.onRejected;if(null!==n){var r;try{r=n(t._value)}catch(t){return void e.reject(t)}e.resolve(r)}else(t._state?e.resolve:e.reject)(t._value)})):this._deferreds.push(e)}function a(e){try{if(e===this)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var t=e.then;if("function"==typeof t)return void l(r(t,e),r(a,this),r(u,this))}this._state=!0,this._value=e,s.call(this)}catch(e){u.call(this,e)}}function u(e){this._state=!1,this._value=e,s.call(this)}function s(){for(var e=0,t=this._deferreds;e<t.length;e++){var n=t[e];i.call(this,n)}this._deferreds=[]}function c(e,t,n,r){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=r}function l(e,t,n){var r=!1;try{e((function(e){r||(r=!0,t(e))}),(function(e){r||(r=!0,n(e))}))}catch(e){if(r)return;r=!0,n(e)}}return e.prototype.catch=function(e){return this.then(null,e)},e.prototype.then=function(t,n){var r=this;return new e((function(e,o){i.call(r,new c(t,n,e,o))}))},e.all=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=Array.prototype.slice.call(1===t.length&&o(t[0])?t[0]:t);return new e((function(e,t){if(0===r.length)return e([]);var n=r.length;function o(i,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var u=a.then;if("function"==typeof u)return void u.call(a,(function(e){o(i,e)}),t)}r[i]=a,0==--n&&e(r)}catch(e){t(e)}}for(var i=0;i<r.length;i++)o(i,r[i])}))},e.resolve=function(t){return t&&"object"==typeof t&&t.constructor===e?t:new e((function(e){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var r=0,o=t;r<o.length;r++){o[r].then(e,n)}}))},e}();function xf(e){return function(e){return new wf((function(n){var r=new t.FileReader;r.onloadend=function(){n(r.result)},r.readAsDataURL(e)}))}(e).then((function(e){return e.split(",")[1]}))}var Cf=function(e,t){(function(e){return xf(e)})(t).then((function(n){e.undoManager.transact((function(){var r=e.editorUpload.blobCache,o=r.create(as("mceu"),t,n);r.add(o);var i=e.dom.createHTML("img",{src:o.blobUri()});e.insertContent(i)}))}))},kf=function(e){var t=yf({dom:{tag:"input",attributes:{accept:"image/*",type:"file",title:""},styles:{visibility:"hidden",position:"absolute"}},events:Or([Rr(Ne()),Ar(De(),(function(t,n){(function(e){var t=e.event(),n=t.raw().target.files||t.raw().dataTransfer.files;return y.from(n[0])})(n).each((function(t){Cf(e,t)}))}))])});return Js.sketch({dom:ac.getToolbarIconButton("image",e),components:[t.asSpec()],action:function(e){t.get(e).element().dom().click()}})},Sf=function(e){return e.dom().textContent},Tf=function(e){return e.length>0},Ef=function(e){return null==e?"":e},Of=function(e,t,n){return n.text.toOption().filter(Tf).fold((function(){return function(e){return ro(e,"href")===Sf(e)}(e)?y.some(t):y.none()}),y.some)},_f=function(e){var t=nt.fromDom(e.selection.getStart());return Ui(t,"a")},Af={getInfo:function(e){return _f(e).fold((function(){return function(e){return{url:"",text:e.selection.getContent({format:"text"}),title:"",target:"",link:y.none()}}(e)}),(function(e){return function(e){var t=Sf(e),n=ro(e,"href"),r=ro(e,"title"),o=ro(e,"target");return{url:Ef(n),text:t!==n?Ef(t):"",title:Ef(r),target:Ef(o),link:y.some(e)}}(e)}))},applyInfo:function(e,t){t.url.toOption().filter(Tf).fold((function(){!function(e,t){t.link.bind(s).each((function(t){e.execCommand("unlink")}))}(e,t)}),(function(n){var r=function(e,t){var n={};return n.href=e,t.title.toOption().filter(Tf).each((function(e){n.title=e})),t.target.toOption().filter(Tf).each((function(e){n.target=e})),n}(n,t);t.link.bind(s).fold((function(){var o=t.text.toOption().filter(Tf).getOr(n);e.insertContent(e.dom.createHTML("a",r,e.dom.encode(o)))}),(function(e){var o=Of(e,n,t);no(e,r),o.each((function(t){!function(e,t){e.dom().textContent=t}(e,t)}))}))}))},query:_f},Df=ye(),Nf=function(e,t){var n=t.selection.getRng();e(),t.selection.setRng(n)},Mf=function(e,t){(Df.os.isAndroid()?Nf:p)(t,e)},Rf=function(e,t){return{key:e,value:{config:{},me:function(e,t){var n=Or(t);return Jr({fields:[sr("enabled")],name:e,active:{events:u(n)}})}(e,t),configAsRaw:u({}),initialConfig:{},state:Yr}}},zf=Object.freeze({getCurrent:function(e,t,n){return t.find(e)}}),If=[sr("find")],Bf=Jr({fields:If,name:"composing",apis:zf}),Pf=Gs({name:"Container",factory:function(e){var t=e.dom,o=t.attributes,i=r(t,["attributes"]);return{uid:e.uid,dom:n({tag:"div",attributes:n({role:"presentation"},o)},i),components:e.components,behaviours:Xu(e.containerBehaviours),events:e.events,domModification:e.domModification,eventOrder:e.eventOrder}},configFields:[hr("components",[]),Yu("containerBehaviours",[]),hr("events",{}),hr("domModification",{}),hr("eventOrder",{})]}),Lf=Gs({name:"DataField",factory:function(e){return{uid:e.uid,dom:e.dom,behaviours:Ju(e.dataBehaviours,[Ac.config({store:{mode:"memory",initialValue:e.getInitialValue()}}),Bf.config({find:y.some})]),events:Or([Br((function(t,n){Ac.setValue(t,e.getInitialValue())}))])}},configFields:[sr("uid"),sr("dom"),sr("getInitialValue"),Ku("dataBehaviours",[Ac,Bf])]}),Ff=function(e){return e.dom().value},Hf=function(e,t){if(void 0===t)throw new Error("Value.set was undefined");e.dom().value=t},jf=u([fr("data"),hr("inputAttributes",{}),hr("inputStyles",{}),hr("tag","input"),hr("inputClasses",[]),Wo("onSetValue"),hr("styles",{}),hr("eventOrder",{}),Yu("inputBehaviours",[Ac,Ci]),hr("selectOnFocus",!0)]),Vf=function(e){return n(n({},function(e){return Gr([Ci.config({onFocus:!1===e.selectOnFocus?i:function(e){var t=e.element(),n=Ff(t);t.dom().setSelectionRange(0,n.length)}})])}(e)),Gu(e.inputBehaviours,[Ac.config({store:{mode:"manual",initialValue:e.data.getOr(void 0),getValue:function(e){return Ff(e.element())},setValue:function(e,t){Ff(e.element())!==t&&Hf(e.element(),t)}},onSetValue:e.onSetValue})]))},Uf=function(e){return{tag:e.tag,attributes:n({type:"text"},e.inputAttributes),styles:e.inputStyles,classes:e.inputClasses}},$f=Gs({name:"Input",configFields:jf(),factory:function(e,t){return{uid:e.uid,dom:Uf(e),components:[],behaviours:Vf(e),eventOrder:e.eventOrder}}}),qf=Object.freeze({exhibit:function(e,t){return Vr({attributes:mn([{key:t.tabAttr,value:"true"}])})}}),Wf=[hr("tabAttr","data-alloy-tabstop")],Yf=Jr({fields:Wf,name:"tabstopping",active:qf}),Xf=tinymce.util.Tools.resolve("tinymce.util.I18n"),Gf=function(e,t){var n=yf($f.sketch({inputAttributes:{placeholder:Xf.translate(t)},onSetValue:function(e,t){Ge(e,Ae())},inputBehaviours:Gr([Bf.config({find:y.some}),Yf.config({}),Wu.config({mode:"execution"})]),selectOnFocus:!1})),r=yf(Js.sketch({dom:tc('<button class="${prefix}-input-container-x ${prefix}-icon-cancel-circle ${prefix}-icon"></button>'),action:function(e){var t=n.get(e);Ac.setValue(t,"")}}));return{name:e,spec:Pf.sketch({dom:tc('<div class="${prefix}-input-container"></div>'),components:[n.asSpec(),r.asSpec()],containerBehaviours:Gr([di.config({toggleClass:gi.resolve("input-container-empty")}),Bf.config({find:function(e){return y.some(n.get(e))}}),Rf("input-clearing",[Ar(Ae(),(function(e){var t=n.get(e);(Ac.getValue(t).length>0?di.off:di.on)(e)}))])])})}},Kf=function(e){return{name:e,spec:Lf.sketch({dom:{tag:"span",styles:{display:"none"}},getInitialValue:function(){return y.none()}})}},Jf=["input","button","textarea","select"],Qf=function(e,t,n){t.disabled&&od(e,t)},Zf=function(e,t){return!0===t.useNative&&Y(Jf,at(e.element()))},ed=function(e){to(e.element(),"disabled","disabled")},td=function(e){io(e.element(),"disabled")},nd=function(e){to(e.element(),"aria-disabled","true")},rd=function(e){to(e.element(),"aria-disabled","false")},od=function(e,t,n){t.disableClass.each((function(t){lo(e.element(),t)})),(Zf(e,t)?ed:nd)(e),t.onDisabled(e)},id=function(e,t,n){t.disableClass.each((function(t){po(e.element(),t)})),(Zf(e,t)?td:rd)(e),t.onEnabled(e)},ad=function(e,t){return Zf(e,t)?function(e){return oo(e.element(),"disabled")}(e):function(e){return"true"===ro(e.element(),"aria-disabled")}(e)},ud=Object.freeze({enable:id,disable:od,isDisabled:ad,onLoad:Qf,set:function(e,t,n,r){(r?od:id)(e,t,n)}}),sd=Object.freeze({exhibit:function(e,t,n){return Vr({classes:t.disabled?t.disableClass.map(ue).getOr([]):[]})},events:function(e,t){return Or([_r(Fe(),(function(t,n){return ad(t,e)})),Ur(e,t,Qf)])}}),cd=[hr("disabled",!1),hr("useNative",!0),fr("disableClass"),Wo("onDisabled"),Wo("onEnabled")],ld=Jr({fields:cd,name:"disabling",active:sd,apis:ud}),fd=[Yu("formBehaviours",[Ac])],dd=function(e){return"<alloy.field."+e+">"},pd=function(e,t,n){return{uid:e.uid,dom:e.dom,components:t,behaviours:Gu(e.formBehaviours,[Ac.config({store:{mode:"manual",getValue:function(t){var n=function(e,t){var n=e.getSystem();return k(t.partUids,(function(e,t){return u(n.getByUid(e))}))}(t,e);return k(n,(function(e,t){return e().bind((function(e){var t,n=Bf.getCurrent(e);return t="missing current",n.fold((function(){return Wt.error(t)}),Wt.value)})).map(Ac.getValue)}))},setValue:function(t,n){C(n,(function(n,r){As(t,e,r).each((function(e){Bf.getCurrent(e).each((function(e){Ac.setValue(e,n)}))}))}))}}})]),apis:{getField:function(t,n){return As(t,e,n).bind(Bf.getCurrent)}}}},md=(Is((function(e,t,n){return e.getField(t,n)})),function(e){var t=function(){var e=[];return{field:function(t,n){return e.push(t),function(e,t,n){return{uiType:os(),owner:e,name:t,config:n,validated:{}}}("form",dd(t),n)},record:function(){return e}}}(),n=e(t),r=t.record(),o=G(r,(function(e){return ws({name:e,pname:dd(e)})}));return qs("form",fd,o,pd,n)}),hd=function(){var e=O(y.none()),t=function(){e.get().each((function(e){e.destroy()}))};return{clear:function(){t(),e.set(y.none())},isSet:function(){return e.get().isSome()},set:function(n){t(),e.set(y.some(n))},run:function(t){e.get().each(t)}}},gd=function(){var e=O(y.none());return{clear:function(){e.set(y.none())},set:function(t){e.set(y.some(t))},isSet:function(){return e.get().isSome()},on:function(t){e.get().each(t)}}},vd=function(e){return{xValue:e,points:[]}},bd=function(e,t){if(t===e.xValue)return e;var n=t-e.xValue>0?1:-1,r={direction:n,xValue:t};return{xValue:t,points:(0===e.points.length?[]:e.points[e.points.length-1].direction===n?e.points.slice(0,e.points.length-1):e.points).concat([r])}},yd=function(e){if(0===e.points.length)return 0;var t=e.points[0].direction,n=e.points[e.points.length-1].direction;return-1===t&&-1===n?-1:1===t&&1===n?1:0},wd=function(e){var t=qn([sr("fields"),hr("maxFieldIndex",e.fields.length-1),sr("onExecute"),sr("getInitialValue"),vr("state",(function(){return{dialogSwipeState:gd(),currentScreen:O(0)}}))]),n=rr("SerialisedDialog",t,e),r=function(e,t,n){return Js.sketch({dom:tc('<span class="${prefix}-icon-'+t+' ${prefix}-icon"></span>'),action:function(t){Ke(t,"navigateEvent",{direction:e})},buttonBehaviours:Gr([ld.config({disableClass:gi.resolve("toolbar-navigation-disabled"),disabled:!n})])})},o=function(e,t){var r=Fi(e.element(),"."+gi.resolve("serialised-dialog-screen"));Vi(e.element(),"."+gi.resolve("serialised-dialog-chain")).each((function(e){n.state.currentScreen.get()+t>=0&&n.state.currentScreen.get()+t<r.length&&(Ai(e,"left").each((function(n){var o=parseInt(n,10),i=Mc(r[0]);Ti(e,"left",o-t*i+"px")})),n.state.currentScreen.set(n.state.currentScreen.get()+t))}))},i=function(e){var t=Fi(e.element(),"input");y.from(t[n.state.currentScreen.get()]).each((function(t){e.getSystem().getByDom(t).each((function(t){var n,r;n=e,r=t.element(),n.getSystem().triggerFocus(r,n.element())}))}));var r=u.get(e);da.highlightAt(r,n.state.currentScreen.get())},a=yf(md((function(e){return{dom:tc('<div class="${prefix}-serialised-dialog"></div>'),components:[Pf.sketch({dom:tc('<div class="${prefix}-serialised-dialog-chain" style="left: 0px; position: absolute;"></div>'),components:G(n.fields,(function(t,o){return o<=n.maxFieldIndex?Pf.sketch({dom:tc('<div class="${prefix}-serialised-dialog-screen"></div>'),components:[r(-1,"previous",o>0),e.field(t.name,t.spec),r(1,"next",o<n.maxFieldIndex)]}):e.field(t.name,t.spec)}))})],formBehaviours:Gr([mi((function(e,t){!function(e,t){Vi(e.element(),"."+gi.resolve("serialised-dialog-chain")).each((function(e){Ti(e,"left",-n.state.currentScreen.get()*t.width+"px")}))}(e,t)})),Wu.config({mode:"special",focusIn:function(e){i(e)},onTab:function(e){return o(e,1),y.some(!0)},onShiftTab:function(e){return o(e,-1),y.some(!0)}}),Rf("form-events",[Br((function(e,t){n.state.currentScreen.set(0),n.state.dialogSwipeState.clear();var r=u.get(e);da.highlightFirst(r),n.getInitialValue(e).each((function(t){Ac.setValue(e,t)}))})),Fr(n.onExecute),Ar(Me(),(function(e,t){"left"===t.event().raw().propertyName&&i(e)})),Ar("navigateEvent",(function(e,t){var n=t.event().direction();o(e,n)}))])])}}))),u=yf({dom:tc('<div class="${prefix}-dot-container"></div>'),behaviours:Gr([da.config({highlightClass:gi.resolve("dot-active"),itemClass:gi.resolve("dot-item")})]),components:re(n.fields,(function(e,t){return t<=n.maxFieldIndex?[nc('<div class="${prefix}-dot-item ${prefix}-icon-full-dot ${prefix}-icon"></div>')]:[]}))});return{dom:tc('<div class="${prefix}-serializer-wrapper"></div>'),components:[a.asSpec(),u.asSpec()],behaviours:Gr([Wu.config({mode:"special",focusIn:function(e){var t=a.get(e);Wu.focusIn(t)}}),Rf("serializer-wrapper-events",[Ar(we(),(function(e,t){var r=t.event();n.state.dialogSwipeState.set(vd(r.raw().touches[0].clientX))})),Ar(xe(),(function(e,t){var r=t.event();n.state.dialogSwipeState.on((function(e){t.event().prevent(),n.state.dialogSwipeState.set(bd(e,r.raw().touches[0].clientX))}))})),Ar(Ce(),(function(e){n.state.dialogSwipeState.on((function(t){var n=a.get(e),r=-1*yd(t);o(n,r)}))}))])])}},xd=et((function(e,t){return[{label:"the link group",items:[wd({fields:[Gf("url","Type or paste URL"),Gf("text","Link text"),Gf("title","Link title"),Gf("target","Link target"),Kf("link")],maxFieldIndex:["url","text","title","target"].length-1,getInitialValue:function(){return y.some(Af.getInfo(t))},onExecute:function(n){var r=Ac.getValue(n);Af.applyInfo(t,r),e.restoreToolbar(),t.focus()}})]}]})),Cd=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",icon:"bold",format:"bold"},{title:"Italic",icon:"italic",format:"italic"},{title:"Underline",icon:"underline",format:"underline"},{title:"Strikethrough",icon:"strikethrough",format:"strikethrough"},{title:"Superscript",icon:"superscript",format:"superscript"},{title:"Subscript",icon:"subscript",format:"subscript"},{title:"Code",icon:"code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Alignment",items:[{title:"Left",icon:"alignleft",format:"alignleft"},{title:"Center",icon:"aligncenter",format:"aligncenter"},{title:"Right",icon:"alignright",format:"alignright"},{title:"Justify",icon:"alignjustify",format:"alignjustify"}]}],kd=Or([function(e,t){return{key:e,value:Tr({can:t})}}(Ie(),(function(e,n){var r=n.event().originator(),o=n.event().target();return!function(e,t,n){return Tt(t,e.element())&&!Tt(t,n)}(e,r,o)||(t.console.warn(Ie()+" did not get interpreted by the desired target. \nOriginator: "+No(r)+"\nTarget: "+No(o)+"\nCheck the "+Ie()+" event handlers"),!1)}))]),Sd=Object.freeze({events:kd}),Td=s,Ed=function(e){var t=function(t){return function(){throw new Error("The component must be in a context to send: "+t+"\n"+No(e().element())+" is not in context.")}};return{debugInfo:u("fake"),triggerEvent:t("triggerEvent"),triggerFocus:t("triggerFocus"),triggerEscape:t("triggerEscape"),build:t("build"),addToWorld:t("addToWorld"),removeFromWorld:t("removeFromWorld"),addToGui:t("addToGui"),removeFromGui:t("removeFromGui"),getByUid:t("getByUid"),getByDom:t("getByDom"),broadcast:t("broadcast"),broadcastOn:t("broadcastOn"),broadcastEvent:t("broadcastEvent"),isConnected:u(!1)}},Od=Ed(),_d=function(e,t){var n={};return C(e,(function(e,r){C(e,(function(e,o){var i=fn(o,[])(n);n[o]=i.concat([t(r,e)])}))})),n},Ad=function(e,t){return n=c.apply(void 0,[e.handler].concat(t)),r=e.purpose(),{cHandler:n,purpose:u(r)};var n,r},Dd=function(e){return e.cHandler},Nd=function(e,t){return{name:u(e),handler:u(t)}},Md=function(e,t,r){var o=n(n({},r),function(e,t){var n={};return K(e,(function(e){n[e.name()]=e.handlers(t)})),n}(t,e));return _d(o,Nd)},Rd=function(e){var t=function(e){return V(e)?{can:u(!0),abort:u(!1),run:e}:e}(e);return function(e,n){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];var i=[e,n].concat(r);t.abort.apply(void 0,i)?n.stop():t.can.apply(void 0,i)&&t.run.apply(void 0,i)}},zd=function(e,t,n){var r=t[n];return r?function(e,t,n,r){var o=n.slice(0);try{var i=o.sort((function(n,o){var i=n[t](),a=o[t](),u=r.indexOf(i),s=r.indexOf(a);if(-1===u)throw new Error("The ordering for "+e+" does not have an entry for "+i+".\nOrder specified: "+JSON.stringify(r,null,2));if(-1===s)throw new Error("The ordering for "+e+" does not have an entry for "+a+".\nOrder specified: "+JSON.stringify(r,null,2));return u<s?-1:s<u?1:0}));return Wt.value(i)}catch(e){return Wt.error([e])}}("Event: "+n,"name",e,r).map((function(e){var t=G(e,(function(e){return e.handler()}));return Er(t)})):function(e,t){return Wt.error(["The event ("+e+') has more than one behaviour that listens to it.\nWhen this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).\nThe behaviours that can trigger it are: '+JSON.stringify(G(t,(function(e){return e.name()})),null,2)])}(n,e)},Id=function(e,t){var n=T(e,(function(e,n){return(1===e.length?Wt.value(e[0].handler()):zd(e,t,n)).map((function(r){var o=Rd(r),i=e.length>1?J(t[n],(function(t){return X(e,(function(e){return e.name()===t}))})).join(" > "):e[0].name();return pn(n,function(e,t){return{handler:e,purpose:u(t)}}(o,i))}))}));return hn(n,{})},Bd=function(e){return e.events},Pd=function(e,t){K(t,(function(t){lo(e,t)}))},Ld=function(e,t){K(t,(function(t){po(e,t)}))},Fd=function(e,t){return function(e,t){var n=G(t,(function(e){return pr(e.name(),[sr("config"),hr("state",Yr)])})),r=tr("component.behaviours",qn(n),e.behaviours).fold((function(t){throw new Error(or(t)+"\nComplete spec:\n"+JSON.stringify(e,null,2))}),(function(e){return e}));return{list:t,data:k(r,(function(e){var t=e.map((function(e){return{config:e.config,state:e.state.init(e.config)}}));return function(){return t}}))}}(e,t)},Hd=function(e){var t=function(e){var t=fn("behaviours",{})(e),n=J(w(t),(function(e){return void 0!==t[e]}));return G(n,(function(e){return t[e].me}))}(e);return Fd(e,t)},jd=function(e,t,r){var o,i,a,u=n(n({},(o=e).dom),{uid:o.uid,domChildren:G(o.components,(function(e){return e.element()}))}),s=function(e){return e.domModification.fold((function(){return Vr({})}),Vr)}(e),c={"alloy.base.modification":s},l=t.length>0?function(e,t,r,o){var i=n({},t);K(r,(function(t){i[t.name()]=t.exhibit(e,o)}));var a=_d(i,(function(e,t){return{name:e,modification:t}})),u=function(e){return Q(e,(function(e,t){return n(n({},t.modification),e)}),{})},s=Q(a.classes,(function(e,t){return t.modification.concat(e)}),[]),c=u(a.attributes),l=u(a.styles);return Vr({classes:s,attributes:c,styles:l})}(r,c,t,u):s;return a=l,n(n({},i=u),{attributes:n(n({},i.attributes),a.attributes),styles:n(n({},i.styles),a.styles),classes:i.classes.concat(a.classes)})},Vd=function(e,t,n){var r={"alloy.base.behaviour":Bd(e)};return function(e,t,n,r){var o=Md(e,n,r);return Id(o,t)}(n,e.eventOrder,t,r).getOrDie()},Ud=function(e){var t=function(){return f},n=O(Od),r=nr(function(e){return tr("custom.definition",qn([Gn("dom","dom",tn(),qn([sr("tag"),hr("styles",{}),hr("classes",[]),hr("attributes",{}),fr("value"),fr("innerHtml")])),sr("components"),sr("uid"),hr("events",{}),hr("apis",{}),Gn("eventOrder","eventOrder",en({"alloy.execute":["disabling","alloy.base.behaviour","toggling","typeaheadevents"],"alloy.focus":["alloy.base.behaviour","focusing","keying"],"alloy.system.init":["alloy.base.behaviour","disabling","toggling","representing"],input:["alloy.base.behaviour","representing","streaming","invalidating"],"alloy.system.detached":["alloy.base.behaviour","representing","item-events","tooltipping"],mousedown:["focusing","alloy.base.behaviour","item-type-events"],touchstart:["focusing","alloy.base.behaviour","item-type-events"],mouseover:["item-type-events","tooltipping"]}),ar()),fr("domModification")]),e)}(e)),o=Hd(e),i=function(e){return e.list}(o),a=function(e){return e.data}(o),s=function(e){var t=nt.fromTag(e.tag);no(t,e.attributes),Pd(t,e.classes),Ei(t,e.styles),e.innerHtml.each((function(e){return _o(t,e)}));var n=e.domChildren;return zt(t,n),e.value.each((function(e){Hf(t,e)})),e.uid,js(t,e.uid),t}(jd(r,i,a)),c=Vd(r,i,a),l=O(r.components),f={getSystem:n.get,config:function(t){var n=a;return(V(n[t.name()])?n[t.name()]:function(){throw new Error("Could not find "+t.name()+" in "+JSON.stringify(e,null,2))})()},hasConfigured:function(e){return V(a[e.name()])},spec:u(e),readState:function(e){return a[e]().map((function(e){return e.state.readState()})).getOr("not enabled")},getApis:function(){return r.apis},connect:function(e){n.set(e)},disconnect:function(){n.set(Ed(t))},element:u(s),syncComponents:function(){var e=_t(s),t=re(e,(function(e){return n.get().getByDom(e).fold((function(){return[]}),(function(e){return[e]}))}));l.set(t)},components:l.get,events:u(c)};return f},$d=function(e){var t=Td(e),o=t.events,i=r(t,["events"]),a=function(e){var t=fn("components",[])(e);return G(t,Xd)}(i),u=n(n({},i),{events:n(n({},Sd),o),components:a});return Wt.value(Ud(u))},qd=function(e){var t=nt.fromText(e);return Wd({element:t})},Wd=function(e){var t=rr("external.component",$n([sr("element"),fr("uid")]),e),n=O(Ed());t.uid.each((function(e){js(t.element,e)}));var r={getSystem:n.get,config:y.none,hasConfigured:u(!1),connect:function(e){n.set(e)},disconnect:function(){n.set(Ed((function(){return r})))},getApis:function(){return{}},element:u(t.element),spec:u(e),readState:u("No state"),syncComponents:i,components:u([]),events:u({})};return zs(r)},Yd=Us,Xd=function(e){return function(e){return dn(e,Rs)}(e).fold((function(){var t=e.hasOwnProperty("uid")?e:n({uid:Yd("")},e);return $d(t).getOrDie()}),(function(e){return e}))},Gd=zs,Kd=function(e){(Co(e.element()).isNone()||Ci.isFocused(e))&&(Ci.isFocused(e)||Ci.focus(e),Ke(e,"alloy.item-hover",{item:e}))},Jd=function(e){Ke(e,"alloy.item-focus",{item:e})},Qd=u("alloy.item-hover"),Zd=u("alloy.item-focus"),ep=[sr("data"),sr("components"),sr("dom"),hr("hasSubmenu",!1),fr("toggling"),Ku("itemBehaviours",[di,Ci,Wu,Ac]),hr("ignoreFocus",!1),hr("domModification",{}),Ko("builder",(function(e){return{dom:e.dom,domModification:n(n({},e.domModification),{attributes:n(n(n({role:e.toggling.isSome()?"menuitemcheckbox":"menuitem"},e.domModification.attributes),{"aria-haspopup":e.hasSubmenu}),e.hasSubmenu?{"aria-expanded":!1}:{})}),behaviours:Ju(e.itemBehaviours,[e.toggling.fold(di.revoke,(function(e){return di.config(n({aria:{mode:"checked"}},e))})),Ci.config({ignore:e.ignoreFocus,stopMousedown:e.ignoreFocus,onFocus:function(e){Jd(e)}}),Wu.config({mode:"execution"}),Ac.config({store:{mode:"memory",initialValue:e.data}}),Rf("item-type-events",o(vi(),[Ar(Ee(),Kd),Ar(He(),Ci.focus)]))]),components:e.components,eventOrder:e.eventOrder}})),hr("eventOrder",{})],tp=[sr("dom"),sr("components"),Ko("builder",(function(e){return{dom:e.dom,components:e.components,events:Or([zr(He())])}}))],np=u([ws({name:"widget",overrides:function(e){return{behaviours:Gr([Ac.config({store:{mode:"manual",getValue:function(t){return e.data},setValue:function(){}}})])}}})]),rp=[sr("uid"),sr("data"),sr("components"),sr("dom"),hr("autofocus",!1),hr("ignoreFocus",!1),Ku("widgetBehaviours",[Ac,Ci,Wu]),hr("domModification",{}),Ms(np()),Ko("builder",(function(e){var t=Os(0,e,np()),n=_s("item-widget",e,t.internals()),r=function(t){return As(t,e,"widget").map((function(e){return Wu.focusIn(e),e}))},o=function(t,n){return wa(n.event().target())?y.none():e.autofocus?(n.setSource(t.element()),y.none()):y.none()};return{dom:e.dom,components:n,domModification:e.domModification,events:Or([Fr((function(e,t){r(e).each((function(e){t.stop()}))})),Ar(Ee(),Kd),Ar(He(),(function(t,n){e.autofocus?r(t):Ci.focus(t)}))]),behaviours:Ju(e.widgetBehaviours,[Ac.config({store:{mode:"memory",initialValue:e.data}}),Ci.config({ignore:e.ignoreFocus,onFocus:function(e){Jd(e)}}),Wu.config({mode:"special",focusIn:e.autofocus?function(e){r(e)}:Zr(),onLeft:o,onRight:o,onEscape:function(t,n){return Ci.isFocused(t)||e.autofocus?e.autofocus?(n.setSource(t.element()),y.none()):y.none():(Ci.focus(t),y.some(!0))}})])}}))],op=ir("type",{widget:rp,item:ep,separator:tp}),ip=u([Cs({factory:{sketch:function(e){var t=rr("menu.spec item",op,e);return t.builder(t)}},name:"items",unit:"item",defaults:function(e,t){return t.hasOwnProperty("uid")?t:n(n({},t),{uid:Us("item")})},overrides:function(e,t){return{type:t.type,ignoreFocus:e.fakeFocus,domModification:{classes:[e.markers.item]}}}})]),ap=u([sr("value"),sr("items"),sr("dom"),sr("components"),hr("eventOrder",{}),Yu("menuBehaviours",[da,Ac,Bf,Wu]),gr("movement",{mode:"menu",moveOnTab:!0},ir("mode",{grid:[Qo(),Ko("config",(function(e,t){return{mode:"flatgrid",selector:"."+e.markers.item,initSize:{numColumns:t.initSize.numColumns,numRows:t.initSize.numRows},focusManager:e.focusManager}}))],matrix:[Ko("config",(function(e,t){return{mode:"matrix",selectors:{row:t.rowSelector,cell:"."+e.markers.item},focusManager:e.focusManager}})),sr("rowSelector")],menu:[hr("moveOnTab",!0),Ko("config",(function(e,t){return{mode:"menu",selector:"."+e.markers.item,moveOnTab:t.moveOnTab,focusManager:e.focusManager}}))]})),cr("markers",Uo()),hr("fakeFocus",!1),hr("focusManager",ma()),Wo("onHighlight")]),up=u("alloy.menu-focus"),sp=Ks({name:"Menu",configFields:ap(),partFields:ip(),factory:function(e,t,n,r){return{uid:e.uid,dom:e.dom,markers:e.markers,behaviours:Gu(e.menuBehaviours,[da.config({highlightClass:e.markers.selectedItem,itemClass:e.markers.item,onHighlight:e.onHighlight}),Ac.config({store:{mode:"memory",initialValue:e.value}}),Bf.config({find:y.some}),Wu.config(e.movement.config(e,e.movement))]),events:Or([Ar(Zd(),(function(e,t){var n=t.event();e.getSystem().getByDom(n.target()).each((function(n){da.highlight(e,n),t.stop(),Ke(e,up(),{menu:e,item:n})}))})),Ar(Qd(),(function(e,t){var n=t.event().item();da.highlight(e,n)}))]),components:t,eventOrder:e.eventOrder,domModification:{attributes:{role:"menu"}}}}}),cp=function(e,t,n,r){var o=e.getSystem().build(r);jt(e,o,n)},lp=function(e,t,n,r){var o=fp(e);ee(o,(function(e){return Tt(r.element(),e.element())})).each(Vt)},fp=function(e,t){return e.components()},dp=function(e,t,n,r,o){var i=fp(e);return y.from(i[r]).map((function(t){return lp(e,0,0,t),o.each((function(t){cp(e,0,(function(e,t){!function(e,t,n){At(e,n).fold((function(){Rt(e,t)}),(function(e){Dt(e,t)}))}(e,t,r)}),t)})),t}))},pp=Jr({fields:[],name:"replacing",apis:Object.freeze({append:function(e,t,n,r){cp(e,0,Rt,r)},prepend:function(e,t,n,r){cp(e,0,Mt,r)},remove:lp,replaceAt:dp,replaceBy:function(e,t,n,r,o){var i=fp(e);return te(i,r).bind((function(t){return dp(e,0,0,t,o)}))},set:function(e,t,n,r){var o,a,u,s;o=function(){var t=G(r,e.getSystem().build);Ht(e,t)},a=e.element(),u=Et(a),s=xo(u).bind((function(e){var t=function(t){return Tt(e,t)};return t(a)?y.some(a):kr(a,t)})),o(a),s.each((function(e){xo(u).filter((function(t){return Tt(t,e)})).fold((function(){yo(e)}),i)}))},contents:fp})}),mp=function(e,t,n,r){return dn(n,r).bind((function(r){return dn(e,r).bind((function(r){var o=mp(e,t,n,r);return y.some([r].concat(o))}))})).getOr([])},hp=function(e,t){var n={};C(e,(function(e,t){K(e,(function(e){n[e]=t}))}));var r=t,o=S(t,(function(e,t){return{k:e,v:t}})),i=k(o,(function(e,t){return[t].concat(mp(n,r,o,t))}));return k(n,(function(e){return dn(i,e).getOr([e])}))},gp=function(e){return"prepared"===e.type?y.some(e.menu):y.none()},vp={init:function(){var e=O({}),t=O({}),r=O({}),o=O(y.none()),i=O({}),a=function(t){return function(e,t){for(var n=w(e),r=0,o=n.length;r<o;r++){var i=n[r],a=e[i];if(t(a,i,e))return y.some(a)}return y.none()}(e.get(),(function(e,n){return e===t}))},u=function(e){return s(e).bind(gp)},s=function(e){return dn(t.get(),e)},c=function(t){return dn(e.get(),t)};return{setMenuBuilt:function(e,r){var o;t.set(n(n({},t.get()),((o={})[e]={type:"prepared",menu:r},o)))},setContents:function(n,a,u,s){o.set(y.some(n)),e.set(u),t.set(a),i.set(s);var c=hp(s,u);r.set(c)},expand:function(t){return dn(e.get(),t).map((function(e){var n=dn(r.get(),t).getOr([]);return[e].concat(n)}))},refresh:function(e){return dn(r.get(),e)},collapse:function(e){return dn(r.get(),e).bind((function(e){return e.length>1?y.some(e.slice(1)):y.none()}))},lookupMenu:s,lookupItem:c,otherMenus:function(e){var t=i.get();return ae(w(t),e)},getPrimary:function(){return o.get().bind(u)},getMenus:function(){return t.get()},clear:function(){e.set({}),t.set({}),r.set({}),o.set(y.none())},isClear:function(){return o.get().isNone()},getTriggeringPath:function(e,t){var n=J(c(e).toArray(),(function(e){return u(e).isSome()}));return dn(r.get(),e).bind((function(e){var r=ie(n.concat(e));return function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];if(!r.isSome())return y.none();t.push(r.getOrDie())}return y.some(t)}(re(r,(function(e,n){return function(e,t,n){return u(e).bind((function(r){return a(e).bind((function(e){return t(e).map((function(e){return{triggeredMenu:r,triggeringItem:e,triggeringPath:n}}))}))}))}(e,t,r.slice(0,n+1)).fold((function(){return o.get().is(e)?[]:[y.none()]}),(function(e){return[y.some(e)]}))})))}))}}},extractPreparedMenu:gp},bp=u("collapse-item"),yp=Gs({name:"TieredMenu",configFields:[Go("onExecute"),Go("onEscape"),Xo("onOpenMenu"),Xo("onOpenSubmenu"),Xo("onRepositionMenu"),Wo("onCollapseMenu"),hr("highlightImmediately",!0),lr("data",[sr("primary"),sr("menus"),sr("expansions")]),hr("fakeFocus",!1),Wo("onHighlight"),Wo("onHover"),lr("markers",[sr("backgroundMenu")].concat(jo()).concat(Vo())),sr("dom"),hr("navigateOnHover",!0),hr("stayInDom",!1),Yu("tmenuBehaviours",[Wu,da,Bf,pp]),hr("eventOrder",{})],apis:{collapseMenu:function(e,t){e.collapseMenu(t)},highlightPrimary:function(e,t){e.highlightPrimary(t)},repositionMenus:function(e,t){e.repositionMenus(t)}},factory:function(e,t){var r,o=O(y.none()),i=vp.init(),a=function(t){var r=function(t,r,o){return k(o,(function(o,i){var a=function(){return sp.sketch(n(n({dom:o.dom},o),{value:i,items:o.items,markers:e.markers,fakeFocus:e.fakeFocus,onHighlight:e.onHighlight,focusManager:e.fakeFocus?ha():ma()}))};return i===r?{type:"prepared",menu:t.getSystem().build(a())}:{type:"notbuilt",nbMenu:a}}))}(t,e.data.primary,e.data.menus),o=s();return i.setContents(e.data.primary,r,e.data.expansions,o),i.getPrimary()},u=function(e){return Ac.getValue(e).value},s=function(t){return k(e.data.menus,(function(e,t){return re(e.items,(function(e){return"separator"===e.type?[]:[e.data.value]}))}))},c=function(e,t){da.highlight(e,t),da.getHighlighted(t).orThunk((function(){return da.getFirst(t)})).each((function(t){Qe(e,t.element(),He())}))},l=function(e,t){return Ro(G(t,(function(t){return e.lookupMenu(t).bind((function(e){return"prepared"===e.type?y.some(e.menu):y.none()}))})))},f=function(t,n,r){var o=l(n,n.otherMenus(r));K(o,(function(n){Ld(n.element(),[e.markers.backgroundMenu]),e.stayInDom||pp.remove(t,n)}))},d=function(t,n){var r=function(t){return o.get().getOrThunk((function(){var n={},r=Fi(t.element(),"."+e.markers.item),i=J(r,(function(e){return"true"===ro(e,"aria-haspopup")}));return K(i,(function(e){t.getSystem().getByDom(e).each((function(e){var t=u(e);n[t]=e}))})),o.set(y.some(n)),n}))}(t);C(r,(function(e,t){var r=Y(n,t);to(e.element(),"aria-expanded",r)}))},p=function(t,n,r){return y.from(r[0]).bind((function(o){return n.lookupMenu(o).bind((function(o){if("notbuilt"===o.type)return y.none();var i=o.menu,a=l(n,r.slice(1));return K(a,(function(t){lo(t.element(),e.markers.backgroundMenu)})),lt(i.element())||pp.append(t,Gd(i)),Ld(i.element(),[e.markers.backgroundMenu]),c(t,i),f(t,n,r),y.some(i)}))}))};!function(e){e[e.HighlightSubmenu=0]="HighlightSubmenu",e[e.HighlightParent=1]="HighlightParent"}(r||(r={}));var m=function(t,n,o){void 0===o&&(o=r.HighlightSubmenu);var a=u(n);return i.expand(a).bind((function(a){return d(t,a),y.from(a[0]).bind((function(u){return i.lookupMenu(u).bind((function(s){var c=function(e,t,n){if("notbuilt"===n.type){var r=e.getSystem().build(n.nbMenu());return i.setMenuBuilt(t,r),r}return n.menu}(t,u,s);return lt(c.element())||pp.append(t,Gd(c)),e.onOpenSubmenu(t,n,c,ie(a)),o===r.HighlightSubmenu?(da.highlightFirst(c),p(t,i,a)):(da.dehighlightAll(c),y.some(n))}))}))}))},h=function(t,n){var r=u(n);return i.collapse(r).bind((function(r){return d(t,r),p(t,i,r).map((function(r){return e.onCollapseMenu(t,n,r),r}))}))},g=function(t){return function(n,r){return Ui(r.getSource(),"."+e.markers.item).bind((function(e){return n.getSystem().getByDom(e).toOption().bind((function(e){return t(n,e).map((function(){return!0}))}))}))}},v=Or([Ar(up(),(function(e,t){var n=t.event().item();i.lookupItem(u(n)).each((function(){var n=t.event().menu();da.highlight(e,n);var r=u(t.event().item());i.refresh(r).each((function(t){return f(e,i,t)}))}))})),Fr((function(t,n){var o=n.event().target();t.getSystem().getByDom(o).each((function(n){0===u(n).indexOf("collapse-item")&&h(t,n),m(t,n,r.HighlightSubmenu).fold((function(){e.onExecute(t,n)}),(function(){}))}))})),Br((function(t,n){a(t).each((function(n){pp.append(t,Gd(n)),e.onOpenMenu(t,n),e.highlightImmediately&&c(t,n)}))}))].concat(e.navigateOnHover?[Ar(Qd(),(function(t,n){var o=n.event().item();!function(e,t){var n=u(t);i.refresh(n).bind((function(t){return d(e,t),p(e,i,t)}))}(t,o),m(t,o,r.HighlightParent),e.onHover(t,o)}))]:[])),b=function(e){return da.getHighlighted(e).bind(da.getHighlighted)},w={collapseMenu:function(e){b(e).each((function(t){h(e,t)}))},highlightPrimary:function(e){i.getPrimary().each((function(t){c(e,t)}))},repositionMenus:function(t){i.getPrimary().bind((function(e){return b(t).bind((function(e){var t,n=u(e),r=(t=i.getMenus(),T(t,(function(e){return e}))),o=Ro(G(r,vp.extractPreparedMenu));return i.getTriggeringPath(n,(function(e){return function(e,t,n){return zo(t,(function(e){if(!e.getSystem().isConnected())return y.none();var t=da.getCandidates(e);return ee(t,(function(e){return u(e)===n}))}))}(0,o,e)}))})).map((function(t){return{primary:e,triggeringPath:t}}))})).fold((function(){(function(e){return y.from(e.components()[0]).filter((function(e){return"menu"===ro(e.element(),"role")}))})(t).each((function(n){e.onRepositionMenu(t,n,[])}))}),(function(n){var r=n.primary,o=n.triggeringPath;e.onRepositionMenu(t,r,o)}))}};return{uid:e.uid,dom:e.dom,markers:e.markers,behaviours:Gu(e.tmenuBehaviours,[Wu.config({mode:"special",onRight:g((function(e,t){return wa(t.element())?y.none():m(e,t,r.HighlightSubmenu)})),onLeft:g((function(e,t){return wa(t.element())?y.none():h(e,t)})),onEscape:g((function(t,n){return h(t,n).orThunk((function(){return e.onEscape(t,n).map((function(){return t}))}))})),focusIn:function(e,t){i.getPrimary().each((function(t){Qe(e,t.element(),He())}))}}),da.config({highlightClass:e.markers.selectedMenu,itemClass:e.markers.menu}),Bf.config({find:function(e){return da.getHighlighted(e)}}),pp.config({})]),eventOrder:e.eventOrder,apis:w,events:v}},extraApis:{tieredData:function(e,t,n){return{primary:e,menus:t,expansions:n}},singleData:function(e,t){return{primary:e,menus:pn(e,t),expansions:{}}},collapseItem:function(e){return{value:as(bp()),meta:{text:e}}}}}),wp=function(e,t,n,r){return dn(t.routes,r.start).bind((function(e){return dn(e,r.destination)}))},xp=function(e,t,n,r){return wp(0,t,0,r).bind((function(e){return e.transition.map((function(t){return{transition:t,route:e}}))}))},Cp=function(e,t,n){(function(e,t,n){return kp(e,t).bind((function(r){return xp(e,t,n,r)}))})(e,t,n).each((function(n){var r=n.transition;po(e.element(),r.transitionClass),io(e.element(),t.destinationAttr)}))},kp=function(e,t,n){var r=e.element();return oo(r,t.destinationAttr)?y.some({start:ro(e.element(),t.stateAttr),destination:ro(e.element(),t.destinationAttr)}):y.none()},Sp=function(e,t,n,r){Cp(e,t,n),oo(e.element(),t.stateAttr)&&ro(e.element(),t.stateAttr)!==r&&t.onFinish(e,r),to(e.element(),t.stateAttr,r)},Tp=Object.freeze({findRoute:wp,disableTransition:Cp,getCurrentRoute:kp,jumpTo:Sp,progressTo:function(e,t,n,r){!function(e,t,n,r){oo(e.element(),t.destinationAttr)&&(to(e.element(),t.stateAttr,ro(e.element(),t.destinationAttr)),io(e.element(),t.destinationAttr))}(e,t);var o=function(e,t,n,r){return{start:ro(e.element(),t.stateAttr),destination:r}}(e,t,0,r);xp(e,t,n,o).fold((function(){Sp(e,t,n,r)}),(function(o){Cp(e,t,n);var i=o.transition;lo(e.element(),i.transitionClass),to(e.element(),t.destinationAttr,r)}))},getState:function(e,t,n){var r=e.element();return oo(r,t.stateAttr)?y.some(ro(r,t.stateAttr)):y.none()}}),Ep=Object.freeze({events:function(e,t){return Or([Ar(Me(),(function(n,r){var o=r.event().raw();kp(n,e).each((function(r){wp(0,e,0,r).each((function(i){i.transition.each((function(i){o.propertyName===i.property&&(Sp(n,e,t,r.destination),e.onTransition(n,r))}))}))}))})),Br((function(n,r){Sp(n,e,t,e.initialState)}))])}}),Op=[hr("destinationAttr","data-transitioning-destination"),hr("stateAttr","data-transitioning-state"),sr("initialState"),Wo("onTransition"),Wo("onFinish"),cr("routes",er(Wt.value,er(Wt.value,$n([mr("transition",[sr("property"),sr("transitionClass")])]))))],_p=Jr({fields:Op,name:"transitioning",active:Ep,apis:Tp,extra:{createRoutes:function(e){var t={};return C(e,(function(e,n){var r=n.split("<->");t[r[0]]=pn(r[1],e),t[r[1]]=pn(r[0],e)})),t},createBistate:function(e,t,n){return mn([{key:e,value:pn(t,n)},{key:t,value:pn(e,n)}])},createTristate:function(e,t,n,r){return mn([{key:e,value:mn([{key:t,value:r},{key:n,value:r}])},{key:t,value:mn([{key:e,value:r},{key:n,value:r}])},{key:n,value:mn([{key:e,value:r},{key:t,value:r}])}])}}}),Ap=gi.resolve("scrollable"),Dp={register:function(e){lo(e,Ap)},deregister:function(e){po(e,Ap)},scrollable:u(Ap)},Np=function(e){return dn(e,"format").getOr(e.title)},Mp=function(e,t,n,r,o){return{data:{value:e,text:t},type:"item",dom:{tag:"div",classes:o?[gi.resolve("styles-item-is-menu")]:[]},toggling:{toggleOnExecute:!1,toggleClass:gi.resolve("format-matches"),selected:n},itemBehaviours:Gr(o?[]:[pi(e,(function(e,t){(t?di.on:di.off)(e)}))]),components:[{dom:{tag:"div",attributes:{style:r},innerHtml:t}}]}},Rp=function(e,t,n,r){return{value:e,dom:{tag:"div"},components:[Js.sketch({dom:{tag:"div",classes:[gi.resolve("styles-collapser")]},components:r?[{dom:{tag:"span",classes:[gi.resolve("styles-collapse-icon")]}},qd(e)]:[qd(e)],action:function(e){if(r){var t=n().get(e);yp.collapseMenu(t)}}}),{dom:{tag:"div",classes:[gi.resolve("styles-menu-items-container")]},components:[sp.parts().items({})],behaviours:Gr([Rf("adhoc-scrollable-menu",[Br((function(e,t){Ti(e.element(),"overflow-y","auto"),Ti(e.element(),"-webkit-overflow-scrolling","touch"),Dp.register(e.element())})),Pr((function(e){Di(e.element(),"overflow-y"),Di(e.element(),"-webkit-overflow-scrolling"),Dp.deregister(e.element())}))])])}],items:t,menuBehaviours:Gr([_p.config({initialState:"after",routes:_p.createTristate("before","current","after",{transition:{property:"transform",transitionClass:"transitioning"}})})])}},zp=function(e){var t,n,r,o,i,a=(t=e.formats,n=function(){return u},r=Rp("Styles",[].concat(G(t.items,(function(e){return Mp(Np(e),e.title,e.isSelected(),e.getPreview(),gn(t.expansions,Np(e)))}))),n,!1),o=k(t.menus,(function(e,r){var o=G(e,(function(e){return Mp(Np(e),e.title,void 0!==e.isSelected&&e.isSelected(),void 0!==e.getPreview?e.getPreview():"",gn(t.expansions,Np(e)))}));return Rp(r,o,n,!0)})),i=Kt(o,pn("styles",r)),{tmenu:yp.tieredData("styles",i,t.expansions)}),u=yf(yp.sketch({dom:{tag:"div",classes:[gi.resolve("styles-menu")]},components:[],fakeFocus:!0,stayInDom:!0,onExecute:function(t,n){var r=Ac.getValue(n);return e.handle(n,r.value),y.none()},onEscape:function(){return y.none()},onOpenMenu:function(e,t){var n=Mc(e.element());Nc(t.element(),n),_p.jumpTo(t,"current")},onOpenSubmenu:function(e,t,n){var r=Mc(e.element()),o=ji(t.element(),'[role="menu"]').getOrDie("hacky"),i=e.getSystem().getByDom(o).getOrDie();Nc(n.element(),r),_p.progressTo(i,"before"),_p.jumpTo(n,"after"),_p.progressTo(n,"current")},onCollapseMenu:function(e,t,n){var r=ji(t.element(),'[role="menu"]').getOrDie("hacky"),o=e.getSystem().getByDom(r).getOrDie();_p.progressTo(o,"after"),_p.progressTo(n,"current")},navigateOnHover:!1,highlightImmediately:!0,data:a.tmenu,markers:{backgroundMenu:gi.resolve("styles-background-menu"),menu:gi.resolve("styles-menu"),selectedMenu:gi.resolve("styles-selected-menu"),item:gi.resolve("styles-item"),selectedItem:gi.resolve("styles-selected-item")}}));return u.asSpec()},Ip=function(e){return gn(e,"items")?function(e){var t=Kt(cn(e,["items"]),{menu:!0}),n=Bp(e.items);return{item:t,menus:Kt(n.menus,pn(e.title,n.items)),expansions:Kt(n.expansions,pn(e.title,e.title))}}(e):{item:e,menus:{},expansions:{}}},Bp=function(e){return Q(e,(function(e,t){var n=Ip(t);return{menus:Kt(e.menus,n.menus),items:[n.item].concat(e.items),expansions:Kt(e.expansions,n.expansions)}}),{menus:{},expansions:{},items:[]})},Pp={expand:Bp},Lp=function(e,t){var n=function(t){return function(){return e.formatter.match(t)}},r=function(t){return function(){return e.formatter.getCssText(t)}},o=dn(t,"style_formats").getOr(Cd),i=function(t){return G(t,(function(t){if(gn(t,"items")){var o=i(t.items);return Kt(function(e){return Kt(e,{isSelected:u(!1),getPreview:u("")})}(t),{items:o})}return gn(t,"format")?function(e){return Kt(e,{isSelected:n(e.format),getPreview:r(e.format)})}(t):function(t){var o=as(t.title),i=Kt(t,{format:o,isSelected:n(o),getPreview:r(o)});return e.formatter.register(o,i),i}(t)}))};return i(o)},Fp=function(e,t,n){var r=function(e,t){var n=function(t){return re(t,(function(t){return void 0!==t.items?n(t.items).length>0?[t]:[]:!gn(t,"format")||e.formatter.canApply(t.format)?[t]:[]}))},r=n(t);return Pp.expand(r)}(e,t);return zp({formats:r,handle:function(t,r){e.undoManager.transact((function(){di.isOn(t)?e.formatter.remove(r):e.formatter.apply(r)})),n()}})},Hp=["undo","bold","italic","link","image","bullist","styleselect"],jp=function(e){var t=e.replace(/\|/g," ").trim();return t.length>0?t.split(/\s+/):[]},Vp=function(e){return re(e,(function(e){return H(e)?Vp(e):jp(e)}))},Up=function(e){var t=void 0!==e.toolbar?e.toolbar:Hp;return H(t)?Vp(t):jp(t)},$p=function(e,t){var n=function(e){return function(){return ac.forToolbarCommand(t,e)}},r=function(e){return function(){return ac.forToolbarStateCommand(t,e)}},o=function(e,n,r){return function(){return ac.forToolbarStateAction(t,e,n,r)}},i=n("undo"),a=n("redo"),u=r("bold"),s=r("italic"),c=r("underline"),l=n("removeformat"),f=o("unlink","link",(function(){t.execCommand("unlink",null,!1)})),d=o("unordered-list","ul",(function(){t.execCommand("InsertUnorderedList",null,!1)})),p=o("ordered-list","ol",(function(){t.execCommand("InsertOrderedList",null,!1)})),m=Lp(t,t.settings),h=function(){return Fp(t,m,(function(){t.fire("scrollIntoView")}))},g=function(e,n){return{isSupported:function(){var n=t.ui.registry.getAll().buttons;return e.forall((function(e){return gn(n,e)}))},sketch:n}};return{undo:g(y.none(),i),redo:g(y.none(),a),bold:g(y.none(),u),italic:g(y.none(),s),underline:g(y.none(),c),removeformat:g(y.none(),l),link:g(y.none(),(function(){return function(e,t){return ac.forToolbarStateAction(t,"link","link",(function(){var n=xd(e,t);e.setContextToolbar(n),Mf(t,(function(){e.focusToolbar()})),Af.query(t).each((function(e){t.selection.select(e.dom())}))}))}(e,t)})),unlink:g(y.none(),f),image:g(y.none(),(function(){return kf(t)})),bullist:g(y.some("bullist"),d),numlist:g(y.some("numlist"),p),fontsizeselect:g(y.none(),(function(){return function(e,t){var n={onChange:function(e){hf.apply(t,e)},getInitialValue:function(){return hf.get(t)}};return uf(e,"font-size",(function(){return bf(n)}),t)}(e,t)})),forecolor:g(y.none(),(function(){return lf(e,t)})),styleselect:g(y.none(),(function(){return ac.forToolbar("style-formats",(function(n){t.fire("toReading"),e.dropup().appear(h,di.on,n)}),Gr([di.config({toggleClass:gi.resolve("toolbar-button-selected"),toggleOnExecute:!1,aria:{mode:"pressed"}}),ei.config({channels:mn([hi(Eo.orientationChanged(),di.off),hi(Eo.dropupDismissed(),di.off)])})]),t)}))}},qp=function(e,t){var n=Up(e),r={};return re(n,(function(e){var n=!gn(r,e)&&gn(t,e)&&t[e].isSupported()?[t[e].sketch()]:[];return r[e]=!0,n}))},Wp=function(e){var t=nt.fromDom(e.target),n=function(){e.stopPropagation()},r=function(){e.preventDefault()},o=a(r,n);return function(e,t,n,r,o,i,a){return{target:u(e),x:u(t),y:u(n),stop:r,prevent:o,kill:i,raw:u(a)}}(t,e.clientX,e.clientY,n,r,o,e)},Yp=function(e,t,n,r,o){var i=function(e,t){return function(n){e(n)&&t(Wp(n))}}(n,r);return e.dom().addEventListener(t,i,o),{unbind:c(Xp,e,t,i,o)}},Xp=function(e,t,n,r){e.dom().removeEventListener(t,n,r)},Gp=u(!0),Kp=function(e,t,n){return function(e,t,n,r){return Yp(e,t,n,r,!1)}(e,t,Gp,n)},Jp=function(e,t,n){return function(e,t,n,r){return Yp(e,t,n,r,!0)}(e,t,Gp,n)},Qp=tinymce.util.Tools.resolve("tinymce.util.Delay"),Zp=function(e){var t=e.matchMedia("(orientation: portrait)").matches;return{isPortrait:u(t)}},em=Zp,tm=function(e,t){var n=nt.fromDom(e),r=null,o=Kp(n,"orientationchange",(function(){Qp.clearInterval(r);var n=Zp(e);t.onChange(n),i((function(){t.onReady(n)}))})),i=function(t){Qp.clearInterval(r);var n=e.innerHeight,o=0;r=Qp.setInterval((function(){n!==e.innerHeight?(Qp.clearInterval(r),t(y.some(e.innerHeight))):o>20&&(Qp.clearInterval(r),t(y.none())),o++}),50)};return{onAdjustment:i,destroy:function(){o.unbind()}}},nm=function(e){var t=ye().os.isiOS(),n=Zp(e).isPortrait();return t&&!n?e.screen.height:e.screen.width};var rm=function(e){var t=e.raw();return void 0===t.touches||1!==t.touches.length?y.none():y.some(t.touches[0])},om=function(e){var n,r,o,i=O(y.none()),a=O(!1),s=(n=function(t){e.triggerEvent(Ve(),t),a.set(!0)},r=400,o=null,{cancel:function(){null!==o&&(t.clearTimeout(o),o=null)},schedule:function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];o=t.setTimeout((function(){n.apply(null,e),o=null}),r)}}),c=mn([{key:we(),value:function(e){return rm(e).each((function(t){s.cancel();var n={x:u(t.clientX),y:u(t.clientY),target:e.target};s.schedule(e),a.set(!1),i.set(y.some(n))})),y.none()}},{key:xe(),value:function(e){return s.cancel(),rm(e).each((function(e){i.get().each((function(t){(function(e,t){var n=Math.abs(e.clientX-t.x()),r=Math.abs(e.clientY-t.y());return n>5||r>5})(e,t)&&i.set(y.none())}))})),y.none()}},{key:Ce(),value:function(t){s.cancel();return i.get().filter((function(e){return Tt(e.target(),t.target())})).map((function(n){return a.get()?(t.prevent(),!1):e.triggerEvent(je(),t)}))}}]);return{fireIfReady:function(e,t){return dn(c,t).bind((function(t){return t(e)}))}}},im=function(e){var t=om({triggerEvent:function(t,n){e.onTapContent(n)}});return{fireTouchstart:function(e){t.fireIfReady(e,"touchstart")},onTouchend:function(){return Kp(e.body(),"touchend",(function(e){t.fireIfReady(e,"touchend")}))},onTouchmove:function(){return Kp(e.body(),"touchmove",(function(e){t.fireIfReady(e,"touchmove")}))}}},am=ye().os.version.major>=6,um=function(e,t,n){var r=im(e),o=Et(t),a=function(e){return!Tt(e.start(),e.finish())||e.soffset()!==e.foffset()},u=function(){var r=e.doc().dom().hasFocus()&&e.getSelection().exists(a);n.getByDom(t).each(!0===(r||xo(o).filter((function(e){return"input"===at(e)})).exists((function(e){return e.dom().selectionStart!==e.dom().selectionEnd})))?di.on:di.off)},s=[Kp(e.body(),"touchstart",(function(t){e.onTouchContent(),r.fireTouchstart(t)})),r.onTouchmove(),r.onTouchend(),Kp(t,"touchstart",(function(t){e.onTouchToolstrip()})),e.onToReading((function(){wo(e.body())})),e.onToEditing(i),e.onScrollToCursor((function(t){t.preventDefault(),e.getCursorBox().each((function(t){var n=e.win(),r=t.top()>n.innerHeight||t.bottom()>n.innerHeight?t.bottom()-n.innerHeight+50:0;0!==r&&n.scrollTo(n.pageXOffset,n.pageYOffset+r)}))}))].concat(!0===am?[]:[Kp(nt.fromDom(e.win()),"blur",(function(){n.getByDom(t).each(di.off)})),Kp(o,"select",u),Kp(e.doc(),"selectionchange",u)]);return{destroy:function(){K(s,(function(e){e.unbind()}))}}},sm=function(e,t){var n=parseInt(ro(e,t),10);return isNaN(n)?0:n};var cm=function(e,t){var n=function(t){return e(t)?y.from(t.dom().nodeValue):y.none()};return{get:function(r){if(!e(r))throw new Error("Can only get "+t+" value of a "+t+" node");return n(r).getOr("")},getOption:n,set:function(n,r){if(!e(n))throw new Error("Can only set raw "+t+" value of a "+t+" node");n.dom().nodeValue=r}}}(ct,"text"),lm=function(e){return cm.getOption(e)},fm=["img","br"],dm=function(e){return lm(e).filter((function(e){return 0!==e.trim().length||e.indexOf(" ")>-1})).isSome()||Y(fm,at(e))},pm={create:pt("start","soffset","finish","foffset")},mm=Yt([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),hm={before:mm.before,on:mm.on,after:mm.after,cata:function(e,t,n,r){return e.fold(t,n,r)},getStart:function(e){return e.fold(s,s,s)}},gm=Yt([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),vm={domRange:gm.domRange,relative:gm.relative,exact:gm.exact,exactFromRange:function(e){return gm.exact(e.start(),e.soffset(),e.finish(),e.foffset())},getWin:function(e){return function(e){return nt.fromDom(e.dom().ownerDocument.defaultView)}(function(e){return e.match({domRange:function(e){return nt.fromDom(e.startContainer)},relative:function(e,t){return hm.getStart(e)},exact:function(e,t,n,r){return e}})}(e))},range:pm.create},bm=function(e,t,n){var r,o=e.document.createRange();return r=o,t.fold((function(e){r.setStartBefore(e.dom())}),(function(e,t){r.setStart(e.dom(),t)}),(function(e){r.setStartAfter(e.dom())})),function(e,t){t.fold((function(t){e.setEndBefore(t.dom())}),(function(t,n){e.setEnd(t.dom(),n)}),(function(t){e.setEndAfter(t.dom())}))}(o,n),o},ym=function(e,t,n,r,o){var i=e.document.createRange();return i.setStart(t.dom(),n),i.setEnd(r.dom(),o),i},wm=function(e){return{left:u(e.left),top:u(e.top),right:u(e.right),bottom:u(e.bottom),width:u(e.width),height:u(e.height)}},xm=Yt([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Cm=function(e,t,n){return t(nt.fromDom(n.startContainer),n.startOffset,nt.fromDom(n.endContainer),n.endOffset)},km=function(e,t){return function(e,t){var n=t.ltr();return n.collapsed?t.rtl().filter((function(e){return!1===e.collapsed})).map((function(e){return xm.rtl(nt.fromDom(e.endContainer),e.endOffset,nt.fromDom(e.startContainer),e.startOffset)})).getOrThunk((function(){return Cm(0,xm.ltr,n)})):Cm(0,xm.ltr,n)}(0,function(e,t){return t.match({domRange:function(e){return{ltr:u(e),rtl:y.none}},relative:function(t,n){return{ltr:et((function(){return bm(e,t,n)})),rtl:et((function(){return y.some(bm(e,n,t))}))}},exact:function(t,n,r,o){return{ltr:et((function(){return ym(e,t,n,r,o)})),rtl:et((function(){return y.some(ym(e,r,o,t,n))}))}}})}(e,t))},Sm=function(e,t,n){return t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom},Tm=function(e,t,n,r,o){var i=function(n){var r=e.dom().createRange();return r.setStart(t.dom(),n),r.collapse(!0),r},a=function(e){return cm.get(e)}(t).length,u=function(e,t,n,r,o){if(0===o)return 0;if(t===r)return o-1;for(var i=r,a=1;a<o;a++){var u=e(a),s=Math.abs(t-u.left);if(n<=u.bottom){if(n<u.top||s>i)return a-1;i=s}}return 0}((function(e){return i(e).getBoundingClientRect()}),n,r,o.right,a);return i(u)},Em=function(e,t,n,r){return ct(t)?function(e,t,n,r){var o=e.dom().createRange();o.selectNode(t.dom());var i=o.getClientRects();return zo(i,(function(e){return Sm(e,n,r)?y.some(e):y.none()})).map((function(o){return Tm(e,t,n,r,o)}))}(e,t,n,r):function(e,t,n,r){var o=e.dom().createRange(),i=_t(t);return zo(i,(function(t){return o.selectNode(t.dom()),Sm(o.getBoundingClientRect(),n,r)?Em(e,t,n,r):y.none()}))}(e,t,n,r)},Om=function(e){return kr(e,dm)},_m=function(e){return Am(e,dm)},Am=function(e,t){var n=function(e){for(var r=_t(e),o=r.length-1;o>=0;o--){var i=r[o];if(t(i))return y.some(i);var a=n(i);if(a.isSome())return a}return y.none()};return n(e)},Dm=function(e,t){return t-e.left<e.right-t},Nm=function(e,t,n){var r=e.dom().createRange();return r.selectNode(t.dom()),r.collapse(n),r},Mm=function(e,t,n){var r=e.dom().createRange();r.selectNode(t.dom());var o=r.getBoundingClientRect(),i=Dm(o,n);return(!0===i?Om:_m)(t).map((function(t){return Nm(e,t,i)}))},Rm=function(e,t,n){var r=t.dom().getBoundingClientRect(),o=Dm(r,n);return y.some(Nm(e,t,o))},zm=function(e,t,n,r){var o=e.dom().createRange();o.selectNode(t.dom());var i=o.getBoundingClientRect();return function(e,t,n,r){var o=e.dom().createRange();o.selectNode(t.dom());var i=o.getBoundingClientRect(),a=Math.max(i.left,Math.min(i.right,n)),u=Math.max(i.top,Math.min(i.bottom,r));return Em(e,t,a,u)}(e,t,Math.max(i.left,Math.min(i.right,n)),Math.max(i.top,Math.min(i.bottom,r)))},Im=(document.caretPositionFromPoint||document.caretRangeFromPoint,function(e,t){var n=at(e);return"input"===n?hm.after(e):Y(["br","img"],n)?0===t?hm.before(e):hm.after(e):hm.on(e,t)}),Bm=function(e,t,n,r){var o=function(e,t,n,r){var o=Et(e).dom().createRange();return o.setStart(e.dom(),t),o.setEnd(n.dom(),r),o}(e,t,n,r),i=Tt(e,n)&&t===r;return o.collapsed&&!i},Pm=function(e,t,n,r,o){!function(e,t){y.from(e.getSelection()).each((function(e){e.removeAllRanges(),e.addRange(t)}))}(e,ym(e,t,n,r,o))},Lm=function(e,t,n,r,o){!function(e,t){km(e,t).match({ltr:function(t,n,r,o){Pm(e,t,n,r,o)},rtl:function(t,n,r,o){var i=e.getSelection();if(i.setBaseAndExtent)i.setBaseAndExtent(t.dom(),n,r.dom(),o);else if(i.extend)try{!function(e,t,n,r,o,i){t.collapse(n.dom(),r),t.extend(o.dom(),i)}(0,i,t,n,r,o)}catch(i){Pm(e,r,o,t,n)}else Pm(e,r,o,t,n)}})}(e,function(e,t,n,r){var o=Im(e,t),i=Im(n,r);return vm.relative(o,i)}(t,n,r,o))},Fm=function(e){var t=nt.fromDom(e.anchorNode),n=nt.fromDom(e.focusNode);return Bm(t,e.anchorOffset,n,e.focusOffset)?y.some(pm.create(t,e.anchorOffset,n,e.focusOffset)):function(e){if(e.rangeCount>0){var t=e.getRangeAt(0),n=e.getRangeAt(e.rangeCount-1);return y.some(pm.create(nt.fromDom(t.startContainer),t.startOffset,nt.fromDom(n.endContainer),n.endOffset))}return y.none()}(e)},Hm=function(e){return y.from(e.getSelection()).filter((function(e){return e.rangeCount>0})).bind(Fm)},jm=function(e,t){return function(e){var t=e.getClientRects(),n=t.length>0?t[0]:e.getBoundingClientRect();return n.width>0||n.height>0?y.some(n).map(wm):y.none()}(function(e,t){return km(e,t).match({ltr:function(t,n,r,o){var i=e.document.createRange();return i.setStart(t.dom(),n),i.setEnd(r.dom(),o),i},rtl:function(t,n,r,o){var i=e.document.createRange();return i.setStart(r.dom(),o),i.setEnd(t.dom(),n),i}})}(e,t))},Vm=function(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom,width:u(2),height:e.height}},Um=function(e){return{left:u(e.left),top:u(e.top),right:u(e.right),bottom:u(e.bottom),width:u(e.width),height:u(e.height)}},$m=function(e){if(e.collapsed){var t=nt.fromDom(e.startContainer);return Ot(t).bind((function(n){var r=vm.exact(t,e.startOffset,n,function(e){return"img"===at(e)?1:lm(e).fold((function(){return _t(e).length}),(function(e){return e.length}))}(n));return jm(e.startContainer.ownerDocument.defaultView,r).map(Vm).map(ue)})).getOr([])}return G(e.getClientRects(),Um)},qm={getRectangles:function(e){var t=e.getSelection();return void 0!==t&&t.rangeCount>0?$m(t.getRangeAt(0)):[]}},Wm=function(e){e.focus();var t=nt.fromDom(e.document.body);(xo().exists((function(e){return Y(["input","textarea"],at(e))}))?function(e){Qp.setTimeout((function(){e()}),0)}:p)((function(){xo().each(wo),yo(t)}))},Ym="data-"+gi.resolve("last-outer-height"),Xm=function(e,t){to(e,Ym,t)},Gm=function(e){return{top:u(e.top()),bottom:u(e.top()+e.height())}},Km=function(e,t){var n=function(e){return sm(e,Ym)}(t),r=e.innerHeight;return n>r?y.some(n-r):y.none()},Jm=function(e,t){var n=nt.fromDom(t.document.body),r=Kp(nt.fromDom(e),"resize",(function(){Km(e,n).each((function(e){(function(e){var t=qm.getRectangles(e);return t.length>0?y.some(t[0]).map(Gm):y.none()})(t).each((function(n){var r=function(e,t,n){return t.top()>e.innerHeight||t.bottom()>e.innerHeight?Math.min(n,t.bottom()-e.innerHeight+50):0}(t,n,e);0!==r&&t.scrollTo(t.pageXOffset,t.pageYOffset+r)}))})),Xm(n,e.innerHeight)}));Xm(n,e.innerHeight);return{toEditing:function(){Wm(t)},destroy:function(){r.unbind()}}},Qm=function(e){return y.some(nt.fromDom(e.dom().contentWindow.document.body))},Zm=function(e){return y.some(nt.fromDom(e.dom().contentWindow.document))},eh=function(e){return y.from(e.dom().contentWindow)},th=function(e){return eh(e).bind(Hm)},nh=function(e){return e.getFrame()},rh=function(e,t){return function(n){return n[e].getOrThunk((function(){var e=nh(n);return function(){return t(e)}}))()}},oh=function(e,t,n,r){return e[n].getOrThunk((function(){return function(e){return Kp(t,r,e)}}))},ih=function(e){return{left:u(e.left),top:u(e.top),right:u(e.right),bottom:u(e.bottom),width:u(e.width),height:u(e.height)}},ah={getBody:rh("getBody",Qm),getDoc:rh("getDoc",Zm),getWin:rh("getWin",eh),getSelection:rh("getSelection",th),getFrame:nh,getActiveApi:function(e){var t=nh(e);return Qm(t).bind((function(n){return Zm(t).bind((function(r){return eh(t).map((function(o){var i=nt.fromDom(r.dom().documentElement),a=e.getCursorBox.getOrThunk((function(){return function(){return function(e){return Hm(e).map((function(e){return vm.exact(e.start(),e.soffset(),e.finish(),e.foffset())}))}(o).bind((function(e){return jm(o,e).orThunk((function(){return function(e){return Hm(e).filter((function(e){return Tt(e.start(),e.finish())&&e.soffset()===e.foffset()})).bind((function(e){var t=e.start().dom().getBoundingClientRect();return t.width>0||t.height>0?y.some(t).map(ih):y.none()}))}(o)}))}))}})),s=e.setSelection.getOrThunk((function(){return function(e,t,n,r){Lm(o,e,t,n,r)}})),l=e.clearSelection.getOrThunk((function(){return function(){!function(e){e.getSelection().removeAllRanges()}(o)}}));return{body:u(n),doc:u(r),win:u(o),html:u(i),getSelection:c(th,t),setSelection:s,clearSelection:l,frame:u(t),onKeyup:oh(e,r,"onKeyup","keyup"),onNodeChanged:oh(e,r,"onNodeChanged","SelectionChange"),onDomChanged:e.onDomChanged,onScrollToCursor:e.onScrollToCursor,onScrollToElement:e.onScrollToElement,onToReading:e.onToReading,onToEditing:e.onToEditing,onToolbarScrollStart:e.onToolbarScrollStart,onTouchContent:e.onTouchContent,onTapContent:e.onTapContent,onTouchToolstrip:e.onTouchToolstrip,getCursorBox:a}}))}))}))}},uh="data-ephox-mobile-fullscreen-style",sh="top:0!important;left:0!important;margin:0!important;padding:0!important;width:100%!important;height:100%!important;overflow:visible!important;",ch=ye().os.isAndroid(),lh=function(e,t){var n=function(e){return function(t){var n=ro(t,"style"),r=void 0===n?"no-styles":n.trim();r!==e&&(to(t,uh,r),to(t,"style",e))}},r=Li(e,"*"),o=re(r,(function(e){var t;return t="*",Pi(e,(function(e){return xt(e,t)}))})),i=function(e){var t=Oi(e,"background-color");return void 0!==t&&""!==t?"background-color:"+t+"!important":"background-color:rgb(255,255,255)!important;"}(t);K(o,n("display:none!important;")),K(r,n("position:absolute!important;"+sh+i)),n((!0===ch?"":"position:absolute!important;")+sh+i)(e)},fh=function(){var e=kt("["+uh+"]");K(e,(function(e){var t=ro(e,uh);"no-styles"!==t?to(e,"style",t):io(e,"style"),io(e,uh)}))},dh=function(){var e=Hi("head").getOrDie(),t=Hi('meta[name="viewport"]').getOrThunk((function(){var t=nt.fromTag("meta");return to(t,"name","viewport"),Rt(e,t),t})),n=ro(t,"content");return{maximize:function(){to(t,"content","width=device-width, initial-scale=1.0, user-scalable=no, maximum-scale=1.0")},restore:function(){null!=n&&n.length>0?to(t,"content",n):to(t,"content","user-scalable=yes")}}},ph=function(e,t){var n=dh(),r=hd(),o=hd();return{enter:function(){t.hide(),lo(e.container,gi.resolve("fullscreen-maximized")),lo(e.container,gi.resolve("android-maximized")),n.maximize(),lo(e.body,gi.resolve("android-scroll-reload")),r.set(Jm(e.win,ah.getWin(e.editor).getOrDie("no"))),ah.getActiveApi(e.editor).each((function(t){lh(e.container,t.body()),o.set(um(t,e.toolstrip,e.alloy))}))},exit:function(){n.restore(),t.show(),po(e.container,gi.resolve("fullscreen-maximized")),po(e.container,gi.resolve("android-maximized")),fh(),po(e.body,gi.resolve("android-scroll-reload")),o.clear(),r.clear()}}},mh=function(e,n){var r=null;return{cancel:function(){null!==r&&(t.clearTimeout(r),r=null)},throttle:function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];null!==r&&t.clearTimeout(r),r=t.setTimeout((function(){e.apply(null,o),r=null}),n)}}},hh=function(e,n){var r,o,i,a=yf(Pf.sketch({dom:tc('<div aria-hidden="true" class="${prefix}-mask-tap-icon"></div>'),containerBehaviours:Gr([di.config({toggleClass:gi.resolve("mask-tap-icon-selected"),toggleOnExecute:!1})])})),u=(r=e,o=200,i=null,{cancel:function(){null!==i&&(t.clearTimeout(i),i=null)},throttle:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];null===i&&(i=t.setTimeout((function(){r.apply(null,e),i=null}),o))}});return Pf.sketch({dom:tc('<div class="${prefix}-disabled-mask"></div>'),components:[Pf.sketch({dom:tc('<div class="${prefix}-content-container"></div>'),components:[Js.sketch({dom:tc('<div class="${prefix}-content-tap-section"></div>'),components:[a.asSpec()],action:function(e){u.throttle()},buttonBehaviours:Gr([di.config({toggleClass:gi.resolve("mask-tap-icon-selected")})])})]})]})},gh=qn([lr("editor",[sr("getFrame"),fr("getBody"),fr("getDoc"),fr("getWin"),fr("getSelection"),fr("setSelection"),fr("clearSelection"),fr("cursorSaver"),fr("onKeyup"),fr("onNodeChanged"),fr("getCursorBox"),sr("onDomChanged"),hr("onTouchContent",i),hr("onTapContent",i),hr("onTouchToolstrip",i),hr("onScrollToCursor",u({unbind:i})),hr("onScrollToElement",u({unbind:i})),hr("onToEditing",u({unbind:i})),hr("onToReading",u({unbind:i})),hr("onToolbarScrollStart",s)]),sr("socket"),sr("toolstrip"),sr("dropup"),sr("toolbar"),sr("container"),sr("alloy"),vr("win",(function(e){return Et(e.socket).dom().defaultView})),vr("body",(function(e){return nt.fromDom(e.socket.dom().ownerDocument.body)})),hr("translate",s),hr("setReadOnly",i),hr("readOnlyOnInit",u(!0))]),vh={produce:function(e){var t=rr("Getting AndroidWebapp schema",gh,e);Ti(t.toolstrip,"width","100%");var n=Xd(hh((function(){t.setReadOnly(t.readOnlyOnInit()),o.enter()}),t.translate));t.alloy.add(n);var r={show:function(){t.alloy.add(n)},hide:function(){t.alloy.remove(n)}};Rt(t.container,n.element());var o=ph(t,r);return{setReadOnly:t.setReadOnly,refreshStructure:i,enter:o.enter,exit:o.exit,destroy:i}}},bh=u([sr("dom"),hr("shell",!0),Yu("toolbarBehaviours",[pp])]),yh=u([xs({name:"groups",overrides:function(e){return{behaviours:Gr([pp.config({})])}}})]),wh=Ks({name:"Toolbar",configFields:bh(),partFields:yh(),factory:function(e,n,r,o){var i=function(t){return e.shell?y.some(t):As(t,e,"groups")},a=e.shell?{behaviours:[pp.config({})],components:[]}:{behaviours:[],components:n};return{uid:e.uid,dom:e.dom,components:a.components,behaviours:Gu(e.toolbarBehaviours,a.behaviours),apis:{setGroups:function(e,n){i(e).fold((function(){throw t.console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")}),(function(e){pp.set(e,n)}))}},domModification:{attributes:{role:"group"}}}},apis:{setGroups:function(e,t,n){e.setGroups(t,n)}}}),xh=u([sr("items"),function(e){return lr("markers",G(e,sr))}(["itemSelector"]),Yu("tgroupBehaviours",[Wu])]),Ch=u([Cs({name:"items",unit:"item"})]),kh=Ks({name:"ToolbarGroup",configFields:xh(),partFields:Ch(),factory:function(e,t,n,r){return{uid:e.uid,dom:e.dom,components:t,behaviours:Gu(e.tgroupBehaviours,[Wu.config({mode:"flow",selector:e.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}}}),Sh="data-"+gi.resolve("horizontal-scroll"),Th=function(e){return"true"===ro(e,Sh)?function(e){return e.dom().scrollLeft>0||function(e){e.dom().scrollLeft=1;var t=0!==e.dom().scrollLeft;return e.dom().scrollLeft=0,t}(e)}(e):function(e){return e.dom().scrollTop>0||function(e){e.dom().scrollTop=1;var t=0!==e.dom().scrollTop;return e.dom().scrollTop=0,t}(e)}(e)},Eh={exclusive:function(e,t){return Kp(e,"touchmove",(function(e){Ui(e.target(),t).filter(Th).fold((function(){e.raw().preventDefault()}),i)}))},markAsHorizontal:function(e){to(e,Sh,"true")}};function Oh(){var e=function(e){var t=!0===e.scrollable?"${prefix}-toolbar-scrollable-group":"";return{dom:tc('<div aria-label="'+e.label+'" class="${prefix}-toolbar-group '+t+'"></div>'),tgroupBehaviours:Gr([Rf("adhoc-scrollable-toolbar",!0===e.scrollable?[Lr((function(e,t){Ti(e.element(),"overflow-x","auto"),Eh.markAsHorizontal(e.element()),Dp.register(e.element())}))]:[])]),components:[Pf.sketch({components:[kh.parts().items({})]})],markers:{itemSelector:"."+gi.resolve("toolbar-group-item")},items:e.items}},t=Xd(wh.sketch({dom:tc('<div class="${prefix}-toolbar"></div>'),components:[wh.parts().groups({})],toolbarBehaviours:Gr([di.config({toggleClass:gi.resolve("context-toolbar"),toggleOnExecute:!1,aria:{mode:"none"}}),Wu.config({mode:"cyclic"})]),shell:!0})),n=Xd(Pf.sketch({dom:{classes:[gi.resolve("toolstrip")]},components:[Gd(t)],containerBehaviours:Gr([di.config({toggleClass:gi.resolve("android-selection-context-toolbar"),toggleOnExecute:!1})])})),r=function(){wh.setGroups(t,o.get()),di.off(t)},o=O([]);return{wrapper:u(n),toolbar:u(t),createGroups:function(t){return G(t,a(kh.sketch,e))},setGroups:function(e){o.set(e),r()},setContextToolbar:function(e){di.on(t),wh.setGroups(t,e)},restoreToolbar:function(){di.isOn(t)&&r()},refresh:function(){},focus:function(){Wu.focusIn(t)}}}var _h,Ah=function(e,t){pp.append(e,Gd(t))},Dh=function(e,t){pp.remove(e,t)},Nh={makeEditSwitch:function(e){return Xd(Js.sketch({dom:tc('<div class="${prefix}-mask-edit-icon ${prefix}-icon"></div>'),action:function(){e.run((function(e){e.setReadOnly(!1)}))}}))},makeSocket:function(){return Xd(Pf.sketch({dom:tc('<div class="${prefix}-editor-socket"></div>'),components:[],containerBehaviours:Gr([pp.config({})])}))},updateMode:function(e,t,n,r){(!0===n?bo.toAlpha:bo.toOmega)(r),(n?Ah:Dh)(e,t)}},Mh=function(e,t){return t.getAnimationRoot.fold((function(){return e.element()}),(function(t){return t(e)}))},Rh=function(e){return e.dimension.property},zh=function(e,t){return e.dimension.getDimension(t)},Ih=function(e,t){var n=Mh(e,t);Ld(n,[t.shrinkingClass,t.growingClass])},Bh=function(e,t){po(e.element(),t.openClass),lo(e.element(),t.closedClass),Ti(e.element(),Rh(t),"0px"),Ni(e.element())},Ph=function(e,t){po(e.element(),t.closedClass),lo(e.element(),t.openClass),Di(e.element(),Rh(t))},Lh=function(e,t,n,r){n.setCollapsed(),Ti(e.element(),Rh(t),zh(t,e.element())),Ni(e.element()),Ih(e,t),Bh(e,t),t.onStartShrink(e),t.onShrunk(e)},Fh=function(e,t,n,r){var o=r.getOrThunk((function(){return zh(t,e.element())}));n.setCollapsed(),Ti(e.element(),Rh(t),o),Ni(e.element());var i=Mh(e,t);po(i,t.growingClass),lo(i,t.shrinkingClass),Bh(e,t),t.onStartShrink(e)},Hh=function(e,t,n){var r=zh(t,e.element());("0px"===r?Lh:Fh)(e,t,n,y.some(r))},jh=function(e,t,n){var r=Mh(e,t),o=mo(r,t.shrinkingClass),i=zh(t,e.element());Ph(e,t);var a=zh(t,e.element());(o?function(){Ti(e.element(),Rh(t),i),Ni(e.element())}:function(){Bh(e,t)})(),po(r,t.shrinkingClass),lo(r,t.growingClass),Ph(e,t),Ti(e.element(),Rh(t),a),n.setExpanded(),t.onStartGrow(e)},Vh=function(e,t,n){var r=Mh(e,t);return!0===mo(r,t.growingClass)},Uh=function(e,t,n){var r=Mh(e,t);return!0===mo(r,t.shrinkingClass)},$h=Object.freeze({refresh:function(e,t,n){if(n.isExpanded()){Di(e.element(),Rh(t));var r=zh(t,e.element());Ti(e.element(),Rh(t),r)}},grow:function(e,t,n){n.isExpanded()||jh(e,t,n)},shrink:function(e,t,n){n.isExpanded()&&Hh(e,t,n)},immediateShrink:function(e,t,n){n.isExpanded()&&Lh(e,t,n)},hasGrown:function(e,t,n){return n.isExpanded()},hasShrunk:function(e,t,n){return n.isCollapsed()},isGrowing:Vh,isShrinking:Uh,isTransitioning:function(e,t,n){return!0===Vh(e,t)||!0===Uh(e,t)},toggleGrow:function(e,t,n){(n.isExpanded()?Hh:jh)(e,t,n)},disableTransitions:Ih}),qh=Object.freeze({exhibit:function(e,t){var n=t.expanded;return Vr(n?{classes:[t.openClass],styles:{}}:{classes:[t.closedClass],styles:pn(t.dimension.property,"0px")})},events:function(e,t){return Or([Ir(Me(),(function(n,r){r.event().raw().propertyName===e.dimension.property&&(Ih(n,e),t.isExpanded()&&Di(n.element(),e.dimension.property),(t.isExpanded()?e.onGrown:e.onShrunk)(n))}))])}}),Wh=[sr("closedClass"),sr("openClass"),sr("shrinkingClass"),sr("growingClass"),fr("getAnimationRoot"),Wo("onShrunk"),Wo("onStartShrink"),Wo("onGrown"),Wo("onStartGrow"),hr("expanded",!1),cr("dimension",ir("property",{width:[Ko("property","width"),Ko("getDimension",(function(e){return Mc(e)+"px"}))],height:[Ko("property","height"),Ko("getDimension",(function(e){return Ii(e)+"px"}))]}))],Yh=Jr({fields:Wh,name:"sliding",active:qh,apis:$h,state:Object.freeze({init:function(e){var t=O(e.expanded);return Xr({isExpanded:function(){return!0===t.get()},isCollapsed:function(){return!1===t.get()},setCollapsed:c(t.set,!1),setExpanded:c(t.set,!0),readState:function(){return"expanded: "+t.get()}})}})}),Xh=function(e,n){var r=Xd(Pf.sketch({dom:{tag:"div",classes:[gi.resolve("dropup")]},components:[],containerBehaviours:Gr([pp.config({}),Yh.config({closedClass:gi.resolve("dropup-closed"),openClass:gi.resolve("dropup-open"),shrinkingClass:gi.resolve("dropup-shrinking"),growingClass:gi.resolve("dropup-growing"),dimension:{property:"height"},onShrunk:function(t){e(),n(),pp.set(t,[])},onGrown:function(t){e(),n()}}),mi((function(e,t){o(i)}))])})),o=function(e){t.window.requestAnimationFrame((function(){e(),Yh.shrink(r)}))};return{appear:function(e,n,o){!0===Yh.hasShrunk(r)&&!1===Yh.isTransitioning(r)&&t.window.requestAnimationFrame((function(){n(o),pp.set(r,[e()]),Yh.grow(r)}))},disappear:o,component:u(r),element:r.element}},Gh=function(e){var t,n;return 8===e.raw().which&&!Y(["input","textarea"],at(e.target()))&&(t=e.target(),!Ui(t,'[contenteditable="true"]',n).isSome())},Kh=ye().browser.isFirefox(),Jh=$n([(_h="triggerEvent",cr(_h,ur)),hr("stopBackspace",!0)]),Qh=function(e,n){var r=rr("Getting GUI events settings",Jh,n),o=om(r),i=G(["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"].concat(["selectstart","input","contextmenu","change","transitionend","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),(function(t){return Kp(e,t,(function(e){o.fireIfReady(e,t).each((function(t){t&&e.kill()})),r.triggerEvent(t,e)&&e.kill()}))})),a=O(y.none()),u=Kp(e,"paste",(function(e){o.fireIfReady(e,"paste").each((function(t){t&&e.kill()})),r.triggerEvent("paste",e)&&e.kill(),a.set(y.some(t.setTimeout((function(){r.triggerEvent(Pe(),e)}),0)))})),s=Kp(e,"keydown",(function(e){r.triggerEvent("keydown",e)?e.kill():!0===r.stopBackspace&&Gh(e)&&e.prevent()})),c=function(e,t){return Kh?Jp(e,"focus",t):Kp(e,"focusin",t)}(e,(function(e){r.triggerEvent("focusin",e)&&e.kill()})),l=O(y.none()),f=function(e,t){return Kh?Jp(e,"blur",t):Kp(e,"focusout",t)}(e,(function(e){r.triggerEvent("focusout",e)&&e.kill(),l.set(y.some(t.setTimeout((function(){r.triggerEvent(Be(),e)}),0)))}));return{unbind:function(){K(i,(function(e){e.unbind()})),s.unbind(),c.unbind(),f.unbind(),u.unbind(),a.get().each(t.clearTimeout),l.get().each(t.clearTimeout)}}},Zh=function(e,t){var n=dn(e,"target").map((function(e){return e()})).getOr(t);return O(n)},eg=Yt([{stopped:[]},{resume:["element"]},{complete:[]}]),tg=function(e,t,n,r,o,i){var a=e(t,r),s=function(e,t){var n=O(!1),r=O(!1);return{stop:function(){n.set(!0)},cut:function(){r.set(!0)},isStopped:n.get,isCut:r.get,event:u(e),setSource:t.set,getSource:t.get}}(n,o);return a.fold((function(){return i.logEventNoHandlers(t,r),eg.complete()}),(function(e){var n=e.descHandler();return Dd(n)(s),s.isStopped()?(i.logEventStopped(t,e.element(),n.purpose()),eg.stopped()):s.isCut()?(i.logEventCut(t,e.element(),n.purpose()),eg.complete()):Ot(e.element()).fold((function(){return i.logNoParent(t,e.element(),n.purpose()),eg.complete()}),(function(r){return i.logEventResponse(t,e.element(),n.purpose()),eg.resume(r)}))}))},ng=function(e,t,n,r,o,i){return tg(e,t,n,r,o,i).fold((function(){return!0}),(function(r){return ng(e,t,n,r,o,i)}),(function(){return!1}))},rg=function(e,t,n){var r=function(e){var t=O(!1);return{stop:function(){t.set(!0)},cut:i,isStopped:t.get,isCut:u(!1),event:u(e),setSource:d("Cannot set source of a broadcasted event"),getSource:d("Cannot get source of a broadcasted event")}}(t);return K(e,(function(e){var t=e.descHandler();Dd(t)(r)})),r.isStopped()},og=function(e,t,n,r,o){var i=Zh(n,r);return ng(e,t,n,r,i,o)},ig=pt("element","descHandler"),ag=function(e,t){return{id:u(e),descHandler:u(t)}};function ug(){var e={};return{registerId:function(t,n,r){C(r,(function(r,o){var i=void 0!==e[o]?e[o]:{};i[n]=Ad(r,t),e[o]=i}))},unregisterId:function(t){C(e,(function(e,n){e.hasOwnProperty(t)&&delete e[t]}))},filterByType:function(t){return dn(e,t).map((function(e){return T(e,(function(e,t){return ag(t,e)}))})).getOr([])},find:function(t,n,r){var o=ln(n)(e);return Sr(r,(function(e){return function(e,t){return Vs(t).fold((function(){return y.none()}),(function(n){var r=ln(n);return e.bind(r).map((function(e){return ig(t,e)}))}))}(o,e)}),t)}}}function sg(){var e=ug(),t={},n=function(n){Vs(n.element()).each((function(n){delete t[n],e.unregisterId(n)}))};return{find:function(t,n,r){return e.find(t,n,r)},filter:function(t){return e.filterByType(t)},register:function(r){var o=function(e){var t=e.element();return Vs(t).fold((function(){return Hs("uid-",e.element())}),(function(e){return e}))}(r);gn(t,o)&&function(e,r){var o=t[r];if(o!==e)throw new Error('The tagId "'+r+'" is already used by: '+No(o.element())+"\nCannot use it for: "+No(e.element())+"\nThe conflicting element is"+(lt(o.element())?" ":" not ")+"already in the DOM");n(e)}(r,o);var i=[r];e.registerId(i,o,r.events()),t[o]=r},unregister:n,getById:function(e){return ln(e)(t)}}}var cg=function(e){var t=function(t){return Ot(e.element()).fold((function(){return!0}),(function(e){return Tt(t,e)}))},n=sg(),r=function(e,r){return n.find(t,e,r)},o=Qh(e.element(),{triggerEvent:function(e,t){return Fo(e,t.target(),(function(n){return function(e,t,n,r){var o=n.target();return og(e,t,n,o,r)}(r,e,t,n)}))}}),a={debugInfo:u("real"),triggerEvent:function(e,t,n){Fo(e,t,(function(o){og(r,e,n,t,o)}))},triggerFocus:function(e,t){Vs(e).fold((function(){yo(e)}),(function(n){Fo(Ie(),e,(function(n){!function(e,t,n,r,o){var i=Zh(n,r);tg(e,t,n,r,i,o)}(r,Ie(),{originator:u(t),kill:i,prevent:i,target:u(e)},e,n)}))}))},triggerEscape:function(e,t){a.triggerEvent("keydown",e.element(),t.event())},getByUid:function(e){return g(e)},getByDom:function(e){return v(e)},build:Xd,addToGui:function(e){l(e)},removeFromGui:function(e){f(e)},addToWorld:function(e){s(e)},removeFromWorld:function(e){c(e)},broadcast:function(e){p(e)},broadcastOn:function(e,t){m(e,t)},broadcastEvent:function(e,t){h(e,t)},isConnected:u(!0)},s=function(e){e.connect(a),ct(e.element())||(n.register(e),K(e.components(),s),a.triggerEvent(Ue(),e.element(),{target:u(e.element())}))},c=function(e){ct(e.element())||(K(e.components(),c),n.unregister(e)),e.disconnect()},l=function(t){!function(e,t){jt(e,t,Rt)}(e,t)},f=function(e){Vt(e)},d=function(e){var t=n.filter(Le());K(t,(function(t){var n=t.descHandler();Dd(n)(e)}))},p=function(e){d({universal:u(!0),data:u(e)})},m=function(e,t){d({universal:u(!1),channels:u(e),data:u(t)})},h=function(e,t){var r=n.filter(e);return rg(r,t)},g=function(e){return n.getById(e).fold((function(){return Wt.error(new Error('Could not find component with uid: "'+e+'" in system.'))}),Wt.value)},v=function(e){var t=Vs(e).getOr("not found");return g(t)};return s(e),{root:u(e),element:e.element,destroy:function(){o.unbind(),Bt(e.element())},add:l,remove:f,getByUid:g,getByDom:v,addToWorld:s,removeFromWorld:c,broadcast:p,broadcastOn:m,broadcastEvent:h}},lg=u(gi.resolve("readonly-mode")),fg=u(gi.resolve("edit-mode"));function dg(e){var t=Xd(Pf.sketch({dom:{classes:[gi.resolve("outer-container")].concat(e.classes)},containerBehaviours:Gr([bo.config({alpha:lg(),omega:fg()})])}));return cg(t)}var pg=function(e,t){var n=nt.fromTag("input");Ei(n,{opacity:"0",position:"absolute",top:"-1000px",left:"-1000px"}),Rt(e,n),yo(n),t(n),Bt(n)},mg=function(e){var t=e.getSelection();if(t.rangeCount>0){var n=t.getRangeAt(0),r=e.document.createRange();r.setStart(n.startContainer,n.startOffset),r.setEnd(n.endContainer,n.endOffset),t.removeAllRanges(),t.addRange(r)}},hg={resume:function(e,t){xo().each((function(e){Tt(e,t)||wo(e)})),e.focus(),yo(nt.fromDom(e.document.body)),mg(e)}},gg={stubborn:function(e,t,n,r){var o=function(){hg.resume(t,r)},i=Kp(n,"keydown",(function(e){Y(["input","textarea"],at(e.target()))||o()}));return{toReading:function(){pg(e,wo)},toEditing:o,onToolbarTouch:function(){},destroy:function(){i.unbind()}}},timid:function(e,t,n,r){var o=function(){wo(r)};return{toReading:function(){o()},toEditing:function(){hg.resume(t,r)},onToolbarTouch:function(){o()},destroy:i}}},vg=function(e,t,n,r,o){var i=function(){t.run((function(e){e.refreshSelection()}))},a=function(e,n){var o=e-r.dom().scrollTop;t.run((function(e){e.scrollIntoView(o,o+n)}))},u=function(){t.run((function(e){e.clearSelection()}))},s=function(){e.getCursorBox().each((function(e){a(e.top(),e.height())})),t.run((function(e){e.syncHeight()}))},c=im(e),l=mh(s,300),f=[e.onKeyup((function(){u(),l.throttle()})),e.onNodeChanged(i),e.onDomChanged(l.throttle),e.onDomChanged(i),e.onScrollToCursor((function(e){e.preventDefault(),l.throttle()})),e.onScrollToElement((function(e){e.element(),a(t,r)})),e.onToEditing((function(){t.run((function(e){e.toEditing()}))})),e.onToReading((function(){t.run((function(e){e.toReading()}))})),Kp(e.doc(),"touchend",(function(t){Tt(e.html(),t.target())||Tt(e.body(),t.target())})),Kp(n,"transitionend",(function(e){var r;"height"===e.raw().propertyName&&(r=Ii(n),t.run((function(e){e.setViewportOffset(r)})),i(),s())})),Jp(n,"touchstart",(function(n){var r;t.run((function(e){e.highlightSelection()})),r=n,t.run((function(e){e.onToolbarTouch(r)})),e.onTouchToolstrip()})),Kp(e.body(),"touchstart",(function(t){u(),e.onTouchContent(),c.fireTouchstart(t)})),c.onTouchmove(),c.onTouchend(),Kp(e.body(),"click",(function(e){e.kill()})),Kp(n,"touchmove",(function(){e.onToolbarScrollStart()}))];return{destroy:function(){K(f,(function(e){e.unbind()}))}}};var bg={},yg={exports:bg};!function(t,n,r,o){!function(o){if("object"==typeof n&&void 0!==r)r.exports=o();else if("function"==typeof t&&t.amd)t([],o);else{("undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:this).EphoxContactWrapper=o()}}((function(){return function e(t,n,r){function i(u,s){if(!n[u]){if(!t[u]){var c="function"==typeof o&&o;if(!s&&c)return c(u,!0);if(a)return a(u,!0);var l=new Error("Cannot find module '"+u+"'");throw l.code="MODULE_NOT_FOUND",l}var f=n[u]={exports:{}};t[u][0].call(f.exports,(function(e){return i(t[u][1][e]||e)}),f,f.exports,e,t,n,r)}return n[u].exports}for(var a="function"==typeof o&&o,u=0;u<r.length;u++)i(r[u]);return i}({1:[function(e,t,n){var r,o,i=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:a}catch(e){r=a}try{o="function"==typeof clearTimeout?clearTimeout:u}catch(e){o=u}}();var c,l=[],f=!1,d=-1;function p(){f&&c&&(f=!1,c.length?l=c.concat(l):d=-1,l.length&&m())}function m(){if(!f){var e=s(p);f=!0;for(var t=l.length;t;){for(c=l,l=[];++d<t;)c&&c[d].run();d=-1,t=l.length}c=null,f=!1,function(e){if(o===clearTimeout)return clearTimeout(e);if((o===u||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(e);try{o(e)}catch(t){try{return o.call(null,e)}catch(t){return o.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function g(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new h(e,t)),1!==l.length||f||s(m)},h.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],2:[function(e,t,n){(function(e){!function(n){var r=setTimeout;function o(){}function i(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],f(e,this)}function a(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,i._immediateFn((function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var r;try{r=n(e._value)}catch(e){return void s(t.promise,e)}u(t.promise,r)}else(1===e._state?u:s)(t.promise,e._value)}))):e._deferreds.push(t)}function u(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof i)return e._state=3,e._value=t,void c(e);if("function"==typeof n)return void f((r=n,o=t,function(){r.apply(o,arguments)}),e)}e._state=1,e._value=t,c(e)}catch(t){s(e,t)}var r,o}function s(e,t){e._state=2,e._value=t,c(e)}function c(e){2===e._state&&0===e._deferreds.length&&i._immediateFn((function(){e._handled||i._unhandledRejectionFn(e._value)}));for(var t=0,n=e._deferreds.length;t<n;t++)a(e,e._deferreds[t]);e._deferreds=null}function l(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function f(e,t){var n=!1;try{e((function(e){n||(n=!0,u(t,e))}),(function(e){n||(n=!0,s(t,e))}))}catch(e){if(n)return;n=!0,s(t,e)}}i.prototype.catch=function(e){return this.then(null,e)},i.prototype.then=function(e,t){var n=new this.constructor(o);return a(this,new l(e,t,n)),n},i.all=function(e){var t=Array.prototype.slice.call(e);return new i((function(e,n){if(0===t.length)return e([]);var r=t.length;function o(i,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var u=a.then;if("function"==typeof u)return void u.call(a,(function(e){o(i,e)}),n)}t[i]=a,0==--r&&e(t)}catch(e){n(e)}}for(var i=0;i<t.length;i++)o(i,t[i])}))},i.resolve=function(e){return e&&"object"==typeof e&&e.constructor===i?e:new i((function(t){t(e)}))},i.reject=function(e){return new i((function(t,n){n(e)}))},i.race=function(e){return new i((function(t,n){for(var r=0,o=e.length;r<o;r++)e[r].then(t,n)}))},i._immediateFn="function"==typeof e?function(t){e(t)}:function(e){r(e,0)},i._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},i._setImmediateFn=function(e){i._immediateFn=e},i._setUnhandledRejectionFn=function(e){i._unhandledRejectionFn=e},void 0!==t&&t.exports?t.exports=i:n.Promise||(n.Promise=i)}(this)}).call(this,e("timers").setImmediate)},{timers:3}],3:[function(e,t,n){(function(t,r){var o=e("process/browser.js").nextTick,i=Function.prototype.apply,a=Array.prototype.slice,u={},s=0;function c(e,t){this._id=e,this._clearFn=t}n.setTimeout=function(){return new c(i.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new c(i.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(e){e.close()},c.prototype.unref=c.prototype.ref=function(){},c.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},n.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},n._unrefActive=n.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n.setImmediate="function"==typeof t?t:function(e){var t=s++,r=!(arguments.length<2)&&a.call(arguments,1);return u[t]=!0,o((function(){u[t]&&(r?e.apply(null,r):e.call(null),n.clearImmediate(t))})),t},n.clearImmediate="function"==typeof r?r:function(e){delete u[e]}}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":1,timers:3}],4:[function(e,t,n){var r=e("promise-polyfill"),o="undefined"!=typeof window?window:Function("return this;")();t.exports={boltExport:o.Promise||r}},{"promise-polyfill":2}]},{},[4])(4)}))}(void 0,bg,yg,void 0);var wg=yg.exports.boltExport,xg=function(e){var n=y.none(),r=[],o=function(e){i()?u(e):r.push(e)},i=function(){return n.isSome()},a=function(e){K(e,u)},u=function(e){n.each((function(n){t.setTimeout((function(){e(n)}),0)}))};return e((function(e){n=y.some(e),a(r),r=[]})),{get:o,map:function(e){return xg((function(t){o((function(n){t(e(n))}))}))},isReady:i}},Cg={nu:xg,pure:function(e){return xg((function(t){t(e)}))}},kg=function(e){t.setTimeout((function(){throw e}),0)},Sg=function(e){var t=function(t){e().then(t,kg)};return{map:function(t){return Sg((function(){return e().then(t)}))},bind:function(t){return Sg((function(){return e().then((function(e){return t(e).toPromise()}))}))},anonBind:function(t){return Sg((function(){return e().then((function(){return t.toPromise()}))}))},toLazy:function(){return Cg.nu(t)},toCached:function(){var t=null;return Sg((function(){return null===t&&(t=e()),t}))},toPromise:e,get:t}},Tg=function(e){return Sg((function(){return new wg(e)}))},Eg=function(e){return Sg((function(){return wg.resolve(e)}))},Og=function(e,t,n){return Math.abs(e-t)<=n?y.none():e<t?y.some(e+n):y.some(e-n)},_g=function(){var e=null;return{animate:function(t,n,r,o,i,a){var u=!1,s=function(e){u=!0,i(e)};Qp.clearInterval(e);var c=function(t){Qp.clearInterval(e),s(t)};e=Qp.setInterval((function(){var i=t();Og(i,n,r).fold((function(){Qp.clearInterval(e),s(n)}),(function(r){if(o(r,c),!u){var a=t();(a!==r||Math.abs(a-n)>Math.abs(i-n))&&(Qp.clearInterval(e),s(n))}}))}),a)}}},Ag=function(e,t){return zo([{width:320,height:480,keyboard:{portrait:300,landscape:240}},{width:320,height:568,keyboard:{portrait:300,landscape:240}},{width:375,height:667,keyboard:{portrait:305,landscape:240}},{width:414,height:736,keyboard:{portrait:320,landscape:240}},{width:768,height:1024,keyboard:{portrait:320,landscape:400}},{width:1024,height:1366,keyboard:{portrait:380,landscape:460}}],(function(n){return function(e,t){return e?y.some(t):y.none()}(e<=n.width&&t<=n.height,n.keyboard)})).getOr({portrait:t/5,landscape:e/4})},Dg=function(e){var t=em(e).isPortrait(),n=function(e){return Ag(e.screen.width,e.screen.height)}(e),r=t?n.portrait:n.landscape;return(t?e.screen.height:e.screen.width)-e.innerHeight>r?0:r},Ng=function(e,t){var n=Et(e).dom().defaultView;return Ii(e)+Ii(t)-Dg(n)},Mg=Ng,Rg=function(e,t,n){var r=Ng(t,n),o=Ii(t)+Ii(n)-r;Ti(e,"padding-bottom",o+"px")},zg=Yt([{fixed:["element","property","offsetY"]},{scroller:["element","offsetY"]}]),Ig="data-"+gi.resolve("position-y-fixed"),Bg="data-"+gi.resolve("y-property"),Pg="data-"+gi.resolve("scrolling"),Lg="data-"+gi.resolve("last-window-height"),Fg=function(e){return sm(e,Ig)},Hg=function(e,t){var n=function(e){return ro(e,Bg)}(e);return zg.fixed(e,n,t)},jg=function(e,t){return zg.scroller(e,t)},Vg=function(e){var t=Fg(e);return("true"===ro(e,Pg)?jg:Hg)(e,t)},Ug=function(e,t,n){var r=Et(e).dom().defaultView.innerHeight;return to(e,Lg,r+"px"),r-t-n},$g=function(e){var t=Fi(e,"["+Ig+"]");return G(t,Vg)},qg=function(e,t,n,r){var o=Et(e).dom().defaultView,i=function(e){var t=ro(e,"style");Ei(e,{position:"absolute",top:"0px"}),to(e,Ig,"0px"),to(e,Bg,"top");return{restore:function(){to(e,"style",t||""),io(e,Ig),io(e,Bg)}}}(n),a=Ii(n),u=Ii(r),s=function(e,t,n){var r=ro(n,"style");Dp.register(n),Ei(n,{position:"absolute",height:t+"px",width:"100%",top:e+"px"}),to(n,Ig,e+"px"),to(n,Pg,"true"),to(n,Bg,"top");return{restore:function(){Dp.deregister(n),to(n,"style",r||""),io(n,Ig),io(n,Pg),io(n,Bg)}}}(a,Ug(e,a,u),e),c=function(e,t,n){var r=ro(e,"style");Ei(e,{position:"absolute",bottom:"0px"}),to(e,Ig,"0px"),to(e,Bg,"bottom");return{restore:function(){to(e,"style",r||""),io(e,Ig),io(e,Bg)}}}(r),l=!0,d=function(){return o.innerHeight>function(e){return sm(e,Lg)}(e)},p=function(){if(l){var o=Ii(n),i=Ii(r),a=Ug(e,o,i);to(e,Ig,o+"px"),Ti(e,"height",a+"px"),Rg(t,e,r)}};return Rg(t,e,r),{setViewportOffset:function(t){to(e,Ig,t+"px"),p()},isExpanding:d,isShrinking:f(d),refresh:p,restore:function(){l=!1,i.restore(),s.restore(),c.restore()}}},Wg=Fg,Yg=_g(),Xg="data-"+gi.resolve("last-scroll-top"),Gg=function(e){var t=Ai(e,"top").getOr("0");return parseInt(t,10)},Kg=function(e){return parseInt(e.dom().scrollTop,10)},Jg=function(e,t){var n=t+Wg(e)+"px";Ti(e,"top",n)},Qg=function(e,t,n){return Tg((function(r){var o=c(Kg,e);Yg.animate(o,t,15,(function(t){e.dom().scrollTop=t,Ti(e,"top",Gg(e)+15+"px")}),(function(){e.dom().scrollTop=t,Ti(e,"top",n+"px"),r(t)}),10)}))},Zg=function(e,t){return Tg((function(n){var r=c(Kg,e);to(e,Xg,r());var o=Math.abs(t-r()),i=Math.ceil(o/10);Yg.animate(r,t,i,(function(t,n){sm(e,Xg)!==e.dom().scrollTop?n(e.dom().scrollTop):(e.dom().scrollTop=t,to(e,Xg,t))}),(function(){e.dom().scrollTop=t,to(e,Xg,t),n(t)}),10)}))},ev=function(e,t){return Tg((function(n){var r=c(Gg,e),o=function(t){Ti(e,"top",t+"px")},i=Math.abs(t-r()),a=Math.ceil(i/10);Yg.animate(r,t,a,o,(function(){o(t),n(t)}),10)}))},tv=function(e,t,n){var r=Et(e).dom().defaultView;return Tg((function(o){Jg(e,n),Jg(t,n),r.scrollTo(0,n),o(n)}))};var nv=function(e,t,n,r,o){var i=Mg(t,n),a=c(mg,e);r>i||o>i?Zg(t,t.dom().scrollTop-i+o).get(a):r<0&&Zg(t,t.dom().scrollTop+r).get(a)},rv=function(e,t){return t((function(t){var n=[],r=0;0===e.length?t([]):K(e,(function(o,i){o.get(function(o){return function(i){n[o]=i,++r>=e.length&&t(n)}}(i))}))}))},ov=function(e,t){return e.fold((function(e,n,r){return function(e,t,n,r){return Ti(e,t,n+r+"px"),Eg(r)}(e,n,t,r)}),(function(e,n){return function(e,t,n){var r=t+n,o=Ai(e,"top").getOr(n),i=r-parseInt(o,10),a=e.dom().scrollTop+i;return Qg(e,a,r)}(e,t,n)}))},iv=function(e,t){var n=$g(e),r=G(n,(function(e){return ov(e,t)}));return rv(r,Tg)},av=function(e,t,n,r,o,i){var a,c,l=(a=function(n){return tv(e,t,n)},c=O(Cg.pure({})),{start:function(e){var t=Cg.nu((function(t){return a(e).get(t)}));c.set(t)},idle:function(e){c.get().get((function(){e()}))}}),f=mh((function(){l.idle((function(){iv(n,r.pageYOffset).get((function(){var e;(e=qm.getRectangles(i),y.from(e[0]).bind((function(e){var n=e.top()-t.dom().scrollTop;return n>r.innerHeight+5||n<-5?y.some({top:u(n),bottom:u(n+e.height())}):y.none()}))).each((function(e){t.dom().scrollTop=t.dom().scrollTop+e.top()})),l.start(0),o.refresh()}))}))}),1e3),d=Kp(nt.fromDom(r),"scroll",(function(){r.pageYOffset<0||f.throttle()}));return iv(n,r.pageYOffset).get(s),{unbind:d.unbind}},uv=function(e){var t=e.cWin(),n=e.ceBody(),r=e.socket(),o=e.toolstrip(),a=e.toolbar(),u=e.contentElement(),c=e.keyboardType(),l=e.outerWindow(),f=e.dropup(),d=qg(r,n,o,f),p=c(e.outerBody(),t,ft(),u,o,a),m=tm(l,{onChange:i,onReady:d.refresh});m.onAdjustment((function(){d.refresh()}));var h=Kp(nt.fromDom(l),"resize",(function(){d.isExpanding()&&d.refresh()})),g=av(o,r,e.outerBody(),l,d,t),v=function(e,t){var n=e.document,r=nt.fromTag("div");lo(r,gi.resolve("unfocused-selections")),Rt(nt.fromDom(n.documentElement),r);var o=Kp(r,"touchstart",(function(n){n.prevent(),hg.resume(e,t),a()})),i=function(e){var t=nt.fromTag("span");return Pd(t,[gi.resolve("layer-editor"),gi.resolve("unfocused-selection")]),Ei(t,{left:e.left()+"px",top:e.top()+"px",width:e.width()+"px",height:e.height()+"px"}),t},a=function(){It(r)};return{update:function(){a();var t=qm.getRectangles(e),n=G(t,i);zt(r,n)},isActive:function(){return _t(r).length>0},destroy:function(){o.unbind(),Bt(r)},clear:a}}(t,u),b=function(){v.clear()};return{toEditing:function(){p.toEditing(),b()},toReading:function(){p.toReading()},onToolbarTouch:function(e){p.onToolbarTouch(e)},refreshSelection:function(){v.isActive()&&v.update()},clearSelection:b,highlightSelection:function(){v.update()},scrollIntoView:function(e,n){nv(t,r,f,e,n)},updateToolbarPadding:i,setViewportOffset:function(e){d.setViewportOffset(e),ev(r,e).get(s)},syncHeight:function(){Ti(u,"height",u.dom().contentWindow.document.body.scrollHeight+"px")},refreshStructure:d.refresh,destroy:function(){d.restore(),m.destroy(),g.unbind(),h.unbind(),p.destroy(),v.destroy(),pg(ft(),wo)}}},sv=function(e,n){var r=dh(),o=gd(),a=gd(),u=hd(),s=hd();return{enter:function(){n.hide();var c=nt.fromDom(t.document);ah.getActiveApi(e.editor).each((function(n){o.set({socketHeight:Ai(e.socket,"height"),iframeHeight:Ai(n.frame(),"height"),outerScroll:t.document.body.scrollTop}),a.set({exclusives:Eh.exclusive(c,"."+Dp.scrollable())}),lo(e.container,gi.resolve("fullscreen-maximized")),lh(e.container,n.body()),r.maximize(),Ti(e.socket,"overflow","scroll"),Ti(e.socket,"-webkit-overflow-scrolling","touch"),yo(n.body());var l=gt(["cWin","ceBody","socket","toolstrip","toolbar","dropup","contentElement","cursor","keyboardType","isScrolling","outerWindow","outerBody"],[]);u.set(uv(l({cWin:n.win(),ceBody:n.body(),socket:e.socket,toolstrip:e.toolstrip,toolbar:e.toolbar,dropup:e.dropup.element(),contentElement:n.frame(),cursor:i,outerBody:e.body,outerWindow:e.win,keyboardType:gg.stubborn,isScrolling:function(){return a.get().exists((function(e){return e.socket.isScrolling()}))}}))),u.run((function(e){e.syncHeight()})),s.set(vg(n,u,e.toolstrip,e.socket,e.dropup))}))},refreshStructure:function(){u.run((function(e){e.refreshStructure()}))},exit:function(){r.restore(),s.clear(),u.clear(),n.show(),o.on((function(n){n.socketHeight.each((function(t){Ti(e.socket,"height",t)})),n.iframeHeight.each((function(t){Ti(e.editor.getFrame(),"height",t)})),t.document.body.scrollTop=n.scrollTop})),o.clear(),a.on((function(e){e.exclusives.unbind()})),a.clear(),po(e.container,gi.resolve("fullscreen-maximized")),fh(),Dp.deregister(e.toolbar),Di(e.socket,"overflow"),Di(e.socket,"-webkit-overflow-scrolling"),wo(e.editor.getFrame()),ah.getActiveApi(e.editor).each((function(e){e.clearSelection()}))}}},cv={produce:function(e){var t=rr("Getting IosWebapp schema",gh,e);Ti(t.toolstrip,"width","100%"),Ti(t.container,"position","relative");var n=Xd(hh((function(){t.setReadOnly(t.readOnlyOnInit()),o.enter()}),t.translate));t.alloy.add(n);var r={show:function(){t.alloy.add(n)},hide:function(){t.alloy.remove(n)}},o=sv(t,r);return{setReadOnly:t.setReadOnly,refreshStructure:o.refreshStructure,enter:o.enter,exit:o.exit,destroy:i}}};var lv=tinymce.util.Tools.resolve("tinymce.EditorManager"),fv=function(e){var t=dn(e.settings,"skin_url").fold((function(){return lv.baseURL+"/skins/ui/oxide"}),(function(e){return e}));return{content:t+"/content.mobile.min.css",ui:t+"/skin.mobile.min.css"}},dv=function(e,t,n){e.system().broadcastOn([Eo.formatChanged()],{command:t,state:n})},pv=function(e,t){var n=w(t.formatter.get());K(n,(function(n){t.formatter.formatChanged(n,(function(t){dv(e,n,t)}))})),K(["ul","ol"],(function(n){t.selection.selectorChanged(n,(function(t,r){dv(e,n,t)}))}))},mv=(u(["x-small","small","medium","large","x-large"]),function(e){var t=function(){e._skinLoaded=!0,e.fire("SkinLoaded")};return function(){e.initialized?t():e.on("init",t)}}),hv=u("toReading"),gv=u("toEditing"),vv=function(e){return{getNotificationManagerImpl:function(){return{open:u({progressBar:{value:i},close:i,text:i,getEl:u(null),moveTo:i,moveRel:i,settings:{}}),close:i,reposition:i,getArgs:u({})}},renderUI:function(){var t=e.getElement(),n=fv(e);!1===function(e){return!1===e.settings.skin}(e)?(e.contentCSS.push(n.content),ko.DOM.styleSheetLoader.load(n.ui,mv(e))):mv(e)();var r=function(){e.fire("ScrollIntoView")},o=ye().os.isAndroid()?function(e){var t=dg({classes:[gi.resolve("android-container")]}),n=Oh(),r=hd(),o=Nh.makeEditSwitch(r),a=Nh.makeSocket(),s=Xh(i,e);return t.add(n.wrapper()),t.add(a),t.add(s.component()),{system:u(t),element:t.element,init:function(e){r.set(vh.produce(e))},exit:function(){r.run((function(e){e.exit(),pp.remove(a,o)}))},setToolbarGroups:function(e){var t=n.createGroups(e);n.setGroups(t)},setContextToolbar:function(e){var t=n.createGroups(e);n.setContextToolbar(t)},focusToolbar:function(){n.focus()},restoreToolbar:function(){n.restoreToolbar()},updateMode:function(e){Nh.updateMode(a,o,e,t.root())},socket:u(a),dropup:u(s)}}(r):function(e){var t=dg({classes:[gi.resolve("ios-container")]}),n=Oh(),r=hd(),o=Nh.makeEditSwitch(r),i=Nh.makeSocket(),a=Xh((function(){r.run((function(e){e.refreshStructure()}))}),e);return t.add(n.wrapper()),t.add(i),t.add(a.component()),{system:u(t),element:t.element,init:function(e){r.set(cv.produce(e))},exit:function(){r.run((function(e){pp.remove(i,o),e.exit()}))},setToolbarGroups:function(e){var t=n.createGroups(e);n.setGroups(t)},setContextToolbar:function(e){var t=n.createGroups(e);n.setContextToolbar(t)},focusToolbar:function(){n.focus()},restoreToolbar:function(){n.restoreToolbar()},updateMode:function(e){Nh.updateMode(i,o,e,t.root())},socket:u(i),dropup:u(a)}}(r);!function(e,t){Ut(e,t,Nt)}(nt.fromDom(t),o.system());var a=t.ownerDocument.defaultView,s=tm(a,{onChange:function(){o.system().broadcastOn([Eo.orientationChanged()],{width:nm(a)})},onReady:i}),c=function(t,n,r,i){!1===i&&e.selection.collapse();var a=l(t,n,r);o.setToolbarGroups(!0===i?a.readOnly:a.main),e.setMode(!0===i?"readonly":"design"),e.fire(!0===i?hv():gv()),o.updateMode(i)},l=function(e,t,n){var r=e.get();return{readOnly:r.backToMask.concat(t.get()),main:r.backToMask.concat(n.get())}},f=function(t,n){return e.on(t,n),{unbind:function(){e.off(t)}}};return e.on("init",(function(){o.init({editor:{getFrame:function(){return nt.fromDom(e.contentAreaContainer.querySelector("iframe"))},onDomChanged:function(){return{unbind:i}},onToReading:function(e){return f(hv(),e)},onToEditing:function(e){return f(gv(),e)},onScrollToCursor:function(t){e.on("ScrollIntoView",(function(e){t(e)}));return{unbind:function(){e.off("ScrollIntoView"),s.destroy()}}},onTouchToolstrip:function(){t()},onTouchContent:function(){var n,r=nt.fromDom(e.editorContainer.querySelector("."+gi.resolve("toolbar")));(n=r,Co(n).bind((function(e){return o.system().getByDom(e).toOption()}))).each(Je),o.restoreToolbar(),t()},onTapContent:function(t){var n=t.target();if("img"===at(n))e.selection.select(n.dom()),t.kill();else if("a"===at(n)){o.system().getByDom(nt.fromDom(e.editorContainer)).each((function(e){bo.isAlpha(e)&&To(n.dom())}))}}},container:nt.fromDom(e.editorContainer),socket:nt.fromDom(e.contentAreaContainer),toolstrip:nt.fromDom(e.editorContainer.querySelector("."+gi.resolve("toolstrip"))),toolbar:nt.fromDom(e.editorContainer.querySelector("."+gi.resolve("toolbar"))),dropup:o.dropup(),alloy:o.system(),translate:i,setReadOnly:function(e){c(m,p,d,e)},readOnlyOnInit:function(){return!1}});var t=function(){o.dropup().disappear((function(){o.system().broadcastOn([Eo.dropupDismissed()],{})}))},n={label:"The first group",scrollable:!1,items:[ac.forToolbar("back",(function(){e.selection.collapse(),o.exit()}),{},e)]},r={label:"Back to read only",scrollable:!1,items:[ac.forToolbar("readonly-back",(function(){c(m,p,d,!0)}),{},e)]},a=$p(o,e),u=qp(e.settings,a),l={label:"The extra group",scrollable:!1,items:[]},d=O([{label:"the action group",scrollable:!0,items:u},l]),p=O([{label:"The read only mode group",scrollable:!0,items:[]},l]),m=O({backToMask:[n],backToReadOnly:[r]});pv(o,e)})),e.on("remove",(function(){o.exit()})),e.on("detach",(function(){var e,t;e=o.system(),t=_t(e.element()),K(t,(function(t){e.getByDom(t).each(Pt)})),Bt(e.element()),o.system().destroy()})),{iframeContainer:o.socket().element().dom(),editorContainer:o.element().dom()}}}};So.add("mobile",vv)}(window)}).call(this,n(1))},function(e,t){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=tinymce.util.Tools.resolve("tinymce.Env"),n=function(e){return e.getParam("autolink_pattern",/^(https?:\/\/|ssh:\/\/|ftp:\/\/|file:\/|www\.|(?:mailto:)?[A-Z0-9._%+\-]+@)(.+)$/i)},r=function(e){return e.getParam("default_link_target",!1)},o=function(e,t){if(t<0&&(t=0),3===e.nodeType){var n=e.data.length;t>n&&(t=n)}return t},i=function(e,t,n){1!==t.nodeType||t.hasChildNodes()?e.setStart(t,o(t,n)):e.setStartBefore(t)},a=function(e,t,n){1!==t.nodeType||t.hasChildNodes()?e.setEnd(t,o(t,n)):e.setEndAfter(t)},u=function(e,t,o){var u,s,c,l,f,d,p,m,h,g,v=n(e),b=r(e);if("A"!==e.selection.getNode().tagName){if((u=e.selection.getRng(!0).cloneRange()).startOffset<5){if(!(m=u.endContainer.previousSibling)){if(!u.endContainer.firstChild||!u.endContainer.firstChild.nextSibling)return;m=u.endContainer.firstChild.nextSibling}if(h=m.length,i(u,m,h),a(u,m,h),u.endOffset<5)return;s=u.endOffset,l=m}else{if(3!==(l=u.endContainer).nodeType&&l.firstChild){for(;3!==l.nodeType&&l.firstChild;)l=l.firstChild;3===l.nodeType&&(i(u,l,0),a(u,l,l.nodeValue.length))}s=1===u.endOffset?2:u.endOffset-1-t}c=s;do{i(u,l,s>=2?s-2:0),a(u,l,s>=1?s-1:0),s-=1,g=u.toString()}while(" "!==g&&""!==g&&160!==g.charCodeAt(0)&&s-2>=0&&g!==o);!function(e,t){return e===t||" "===e||160===e.charCodeAt(0)}(u.toString(),o)?0===u.startOffset?(i(u,l,0),a(u,l,c)):(i(u,l,s),a(u,l,c)):(i(u,l,s),a(u,l,c),s+=1),"."===(d=u.toString()).charAt(d.length-1)&&a(u,l,c-1),(p=(d=u.toString().trim()).match(v))&&("www."===p[1]?p[1]="http://www.":/@$/.test(p[1])&&!/^mailto:/.test(p[1])&&(p[1]="mailto:"+p[1]),f=e.selection.getBookmark(),e.selection.setRng(u),e.execCommand("createlink",!1,p[1]+p[2]),!1!==b&&e.dom.setAttrib(e.selection.getNode(),"target",b),e.selection.moveToBookmark(f),e.nodeChanged())}},s={setup:function(e){var n;e.on("keydown",(function(t){if(13===t.keyCode)return function(e){u(e,-1,"")}(e)})),t.browser.isIE()?e.on("focus",(function(){if(!n){n=!0;try{e.execCommand("AutoUrlDetect",!1,!0)}catch(e){}}})):(e.on("keypress",(function(t){if(41===t.keyCode)return function(e){u(e,-1,"(")}(e)})),e.on("keyup",(function(t){if(32===t.keyCode)return function(e){u(e,0,"")}(e)})))}};e.add("autolink",(function(e){s.setup(e)}))}()},function(e,t){!function(){"use strict";var e,t,n,r,o=tinymce.util.Tools.resolve("tinymce.PluginManager"),i=tinymce.util.Tools.resolve("tinymce.util.Tools"),a=function(e,t,n){var r="UL"===t?"InsertUnorderedList":"InsertOrderedList";e.execCommand(r,!1,!1===n?null:{"list-style-type":n})},u={register:function(e){e.addCommand("ApplyUnorderedListStyle",(function(t,n){a(e,"UL",n["list-style-type"])})),e.addCommand("ApplyOrderedListStyle",(function(t,n){a(e,"OL",n["list-style-type"])}))}},s=function(e){var t=e.getParam("advlist_number_styles","default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman");return t?t.split(/[ ,]/):[]},c=function(e){var t=e.getParam("advlist_bullet_styles","default,circle,square");return t?t.split(/[ ,]/):[]},l=function(){},f=function(e){return function(){return e}},d=f(!1),p=f(!0),m=function(){return h},h=(e=function(e){return e.isNone()},r={fold:function(e,t){return e()},is:d,isSome:d,isNone:p,getOr:n=function(e){return e},getOrThunk:t=function(e){return e()},getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:f(null),getOrUndefined:f(void 0),or:n,orThunk:t,map:m,each:l,bind:m,exists:d,forall:p,filter:m,equals:e,equals_:e,toArray:function(){return[]},toString:f("none()")},Object.freeze&&Object.freeze(r),r),g=function(e){var t=f(e),n=function(){return o},r=function(t){return t(e)},o={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:p,isNone:d,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return g(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:h},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(d,(function(t){return n(e,t)}))}};return o},v=function(e){return null==e?h:g(e)},b=function(e){return e&&/^(TH|TD)$/.test(e.nodeName)},y=function(e){return function(t){return t&&/^(OL|UL|DL)$/.test(t.nodeName)&&function(e,t){return e.$.contains(e.getBody(),t)}(e,t)}},w=function(e){var t=e.dom.getParent(e.selection.getNode(),"ol,ul"),n=e.dom.getStyle(t,"listStyleType");return v(n)},x=function(e,t,n){var r=function(e,t){for(var n=0;n<e.length;n++){if(t(e[n]))return n}return-1}(t.parents,b),o=-1!==r?t.parents.slice(0,r):t.parents,a=i.grep(o,y(e));return a.length>0&&a[0].nodeName===n},C=function(e,t,n,r,o,u){u.length>0?function(e,t,n,r,o,u){e.ui.registry.addSplitButton(t,{tooltip:n,icon:"OL"===o?"ordered-list":"unordered-list",presets:"listpreview",columns:3,fetch:function(e){e(i.map(u,(function(e){return{type:"choiceitem",value:"default"===e?"":e,icon:"list-"+("OL"===o?"num":"bull")+"-"+("disc"===e||"decimal"===e?"default":e),text:function(e){return e.replace(/\-/g," ").replace(/\b\w/g,(function(e){return e.toUpperCase()}))}(e)}})))},onAction:function(){return e.execCommand(r)},onItemAction:function(t,n){a(e,o,n)},select:function(t){return w(e).map((function(e){return t===e})).getOr(!1)},onSetup:function(t){var n=function(n){t.setActive(x(e,n,o))};return e.on("NodeChange",n),function(){return e.off("NodeChange",n)}}})}(e,t,n,r,o,u):function(e,t,n,r,o,i){e.ui.registry.addToggleButton(t,{active:!1,tooltip:n,icon:"OL"===o?"ordered-list":"unordered-list",onSetup:function(t){var n=function(n){t.setActive(x(e,n,o))};return e.on("NodeChange",n),function(){return e.off("NodeChange",n)}},onAction:function(){return e.execCommand(r)}})}(e,t,n,r,o)},k={register:function(e){C(e,"numlist","Numbered list","InsertOrderedList","OL",s(e)),C(e,"bullist","Bullet list","InsertUnorderedList","UL",c(e))}};o.add("advlist",(function(e){(function(e,t){var n=e.settings.plugins?e.settings.plugins:"";return-1!==i.inArray(n.split(/[ ,]/),t)})(e,"lists")&&(k.register(e),u.register(e))}))}()},function(e,t,n){(function(e){!function(t){"use strict";var n,r,o,i,a=tinymce.util.Tools.resolve("tinymce.PluginManager"),u=function(){},s=function(e){return function(){return e}},c=function(e){return e},l=s(!1),f=s(!0),d=function(){return p},p=(n=function(e){return e.isNone()},i={fold:function(e,t){return e()},is:l,isSome:l,isNone:f,getOr:o=function(e){return e},getOrThunk:r=function(e){return e()},getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:s(null),getOrUndefined:s(void 0),or:o,orThunk:r,map:d,each:u,bind:d,exists:l,forall:f,filter:d,equals:n,equals_:n,toArray:function(){return[]},toString:s("none()")},Object.freeze&&Object.freeze(i),i),m=function(e){var t=s(e),n=function(){return o},r=function(t){return t(e)},o={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:f,isNone:l,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return m(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:p},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(l,(function(t){return n(e,t)}))}};return o},h={some:m,none:d,from:function(e){return null==e?p:m(e)}},g=function(e){return function(t){return function(e){if(null===e)return"null";var t=typeof e;return"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t}(t)===e}},v=g("string"),b=g("object"),y=g("array"),w=g("boolean"),x=g("function"),C=Array.prototype.slice,k=Array.prototype.push,S=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!y(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);k.apply(t,e[n])}return t},T=(x(Array.from)&&Array.from,function(){return(T=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)}),E={},O={exports:E};!function(t,n,r,o){!function(o){if("object"==typeof n&&void 0!==r)r.exports=o();else if("function"==typeof t&&t.amd)t([],o);else{("undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:this).EphoxContactWrapper=o()}}((function(){return function e(t,n,r){function i(u,s){if(!n[u]){if(!t[u]){var c="function"==typeof o&&o;if(!s&&c)return c(u,!0);if(a)return a(u,!0);var l=new Error("Cannot find module '"+u+"'");throw l.code="MODULE_NOT_FOUND",l}var f=n[u]={exports:{}};t[u][0].call(f.exports,(function(e){return i(t[u][1][e]||e)}),f,f.exports,e,t,n,r)}return n[u].exports}for(var a="function"==typeof o&&o,u=0;u<r.length;u++)i(r[u]);return i}({1:[function(e,t,n){var r,o,i=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:a}catch(e){r=a}try{o="function"==typeof clearTimeout?clearTimeout:u}catch(e){o=u}}();var c,l=[],f=!1,d=-1;function p(){f&&c&&(f=!1,c.length?l=c.concat(l):d=-1,l.length&&m())}function m(){if(!f){var e=s(p);f=!0;for(var t=l.length;t;){for(c=l,l=[];++d<t;)c&&c[d].run();d=-1,t=l.length}c=null,f=!1,function(e){if(o===clearTimeout)return clearTimeout(e);if((o===u||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(e);try{o(e)}catch(t){try{return o.call(null,e)}catch(t){return o.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function g(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new h(e,t)),1!==l.length||f||s(m)},h.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],2:[function(e,t,n){(function(e){!function(n){var r=setTimeout;function o(){}function i(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],f(e,this)}function a(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,i._immediateFn((function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var r;try{r=n(e._value)}catch(e){return void s(t.promise,e)}u(t.promise,r)}else(1===e._state?u:s)(t.promise,e._value)}))):e._deferreds.push(t)}function u(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof i)return e._state=3,e._value=t,void c(e);if("function"==typeof n)return void f((r=n,o=t,function(){r.apply(o,arguments)}),e)}e._state=1,e._value=t,c(e)}catch(t){s(e,t)}var r,o}function s(e,t){e._state=2,e._value=t,c(e)}function c(e){2===e._state&&0===e._deferreds.length&&i._immediateFn((function(){e._handled||i._unhandledRejectionFn(e._value)}));for(var t=0,n=e._deferreds.length;t<n;t++)a(e,e._deferreds[t]);e._deferreds=null}function l(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function f(e,t){var n=!1;try{e((function(e){n||(n=!0,u(t,e))}),(function(e){n||(n=!0,s(t,e))}))}catch(e){if(n)return;n=!0,s(t,e)}}i.prototype.catch=function(e){return this.then(null,e)},i.prototype.then=function(e,t){var n=new this.constructor(o);return a(this,new l(e,t,n)),n},i.all=function(e){var t=Array.prototype.slice.call(e);return new i((function(e,n){if(0===t.length)return e([]);var r=t.length;function o(i,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var u=a.then;if("function"==typeof u)return void u.call(a,(function(e){o(i,e)}),n)}t[i]=a,0==--r&&e(t)}catch(e){n(e)}}for(var i=0;i<t.length;i++)o(i,t[i])}))},i.resolve=function(e){return e&&"object"==typeof e&&e.constructor===i?e:new i((function(t){t(e)}))},i.reject=function(e){return new i((function(t,n){n(e)}))},i.race=function(e){return new i((function(t,n){for(var r=0,o=e.length;r<o;r++)e[r].then(t,n)}))},i._immediateFn="function"==typeof e?function(t){e(t)}:function(e){r(e,0)},i._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},i._setImmediateFn=function(e){i._immediateFn=e},i._setUnhandledRejectionFn=function(e){i._unhandledRejectionFn=e},void 0!==t&&t.exports?t.exports=i:n.Promise||(n.Promise=i)}(this)}).call(this,e("timers").setImmediate)},{timers:3}],3:[function(e,t,n){(function(t,r){var o=e("process/browser.js").nextTick,i=Function.prototype.apply,a=Array.prototype.slice,u={},s=0;function c(e,t){this._id=e,this._clearFn=t}n.setTimeout=function(){return new c(i.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new c(i.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(e){e.close()},c.prototype.unref=c.prototype.ref=function(){},c.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},n.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},n._unrefActive=n.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n.setImmediate="function"==typeof t?t:function(e){var t=s++,r=!(arguments.length<2)&&a.call(arguments,1);return u[t]=!0,o((function(){u[t]&&(r?e.apply(null,r):e.call(null),n.clearImmediate(t))})),t},n.clearImmediate="function"==typeof r?r:function(e){delete u[e]}}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":1,timers:3}],4:[function(e,t,n){var r=e("promise-polyfill"),o="undefined"!=typeof window?window:Function("return this;")();t.exports={boltExport:o.Promise||r}},{"promise-polyfill":2}]},{},[4])(4)}))}(void 0,E,O,void 0);var _=O.exports.boltExport,A=function(e){var n=h.none(),r=[],o=function(e){i()?u(e):r.push(e)},i=function(){return n.isSome()},a=function(e){!function(e,t){for(var n=0,r=e.length;n<r;n++){t(e[n],n)}}(e,u)},u=function(e){n.each((function(n){t.setTimeout((function(){e(n)}),0)}))};return e((function(e){n=h.some(e),a(r),r=[]})),{get:o,map:function(e){return A((function(t){o((function(n){t(e(n))}))}))},isReady:i}},D={nu:A,pure:function(e){return A((function(t){t(e)}))}},N=function(e){t.setTimeout((function(){throw e}),0)},M=function(e){var t=function(t){e().then(t,N)};return{map:function(t){return M((function(){return e().then(t)}))},bind:function(t){return M((function(){return e().then((function(e){return t(e).toPromise()}))}))},anonBind:function(t){return M((function(){return e().then((function(){return t.toPromise()}))}))},toLazy:function(){return D.nu(t)},toCached:function(){var t=null;return M((function(){return null===t&&(t=e()),t}))},toPromise:e,get:t}},R=function(e){return M((function(){return new _(e)}))},z=function(e){return M((function(){return _.resolve(e)}))},I=function(e){return{is:function(t){return e===t},isValue:f,isError:l,getOr:s(e),getOrThunk:s(e),getOrDie:s(e),or:function(t){return I(e)},orThunk:function(t){return I(e)},fold:function(t,n){return n(e)},map:function(t){return I(t(e))},mapError:function(t){return I(e)},each:function(t){t(e)},bind:function(t){return t(e)},exists:function(t){return t(e)},forall:function(t){return t(e)},toOption:function(){return h.some(e)}}},B=function(e){return{is:l,isValue:l,isError:f,getOr:c,getOrThunk:function(e){return e()},getOrDie:function(){return(t=String(e),function(){throw new Error(t)})();var t},or:function(e){return e},orThunk:function(e){return e()},fold:function(t,n){return t(e)},map:function(t){return B(e)},mapError:function(t){return B(t(e))},each:u,bind:function(t){return B(e)},exists:l,forall:f,toOption:h.none}},P={value:I,error:B,fromOption:function(e,t){return e.fold((function(){return B(t)}),I)}},L=function(e){return T(T({},e),{toCached:function(){return L(e.toCached())},bindFuture:function(t){return L(e.bind((function(e){return e.fold((function(e){return z(P.error(e))}),(function(e){return t(e)}))})))},bindResult:function(t){return L(e.map((function(e){return e.bind(t)})))},mapResult:function(t){return L(e.map((function(e){return e.map(t)})))},mapError:function(t){return L(e.map((function(e){return e.mapError(t)})))},foldResult:function(t,n){return e.map((function(e){return e.fold(t,n)}))},withTimeout:function(n,r){return L(R((function(o){var i=!1,a=t.setTimeout((function(){i=!0,o(P.error(r()))}),n);e.get((function(e){i||(t.clearTimeout(a),o(e))}))})))}})},F=function(e){return L(R(e))},H=F,j=Object.prototype.hasOwnProperty,V=function(e){return function(){for(var t=new Array(arguments.length),n=0;n<t.length;n++)t[n]=arguments[n];if(0===t.length)throw new Error("Can't merge zero objects");for(var r={},o=0;o<t.length;o++){var i=t[o];for(var a in i)j.call(i,a)&&(r[a]=e(r[a],i[a]))}return r}},U=V((function(e,t){return b(e)&&b(t)?U(e,t):t})),$=V((function(e,t){return t})),q=function(e){var t=e.imageList.map((function(e){return{name:"images",type:"selectbox",label:"Image list",items:e}})),n=e.classList.map((function(e){return{name:"classes",type:"selectbox",label:"Class",items:e}}));return S([[{name:"src",type:"urlinput",filetype:"image",label:"Source"}],t.toArray(),e.hasDescription?[{name:"alt",type:"input",label:"Image description"}]:[],e.hasImageTitle?[{name:"title",type:"input",label:"Image title"}]:[],e.hasDimensions?[{name:"dimensions",type:"sizeinput"}]:[],[{type:"grid",columns:2,items:S([n.toArray(),e.hasImageCaption?[{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[]])}]])},W=function(e){return{title:"General",name:"general",items:q(e)}},Y=q,X=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),G=tinymce.util.Tools.resolve("tinymce.util.Promise"),K=tinymce.util.Tools.resolve("tinymce.util.XHR"),J=function(e){return e.getParam("images_upload_url","","string")},Q=function(e){return e.getParam("images_upload_handler",void 0,"function")},Z={hasDimensions:function(e){return e.getParam("image_dimensions",!0,"boolean")},hasUploadTab:function(e){return e.getParam("image_uploadtab",!0,"boolean")},hasAdvTab:function(e){return e.getParam("image_advtab",!1,"boolean")},getPrependUrl:function(e){return e.getParam("image_prepend_url","","string")},getClassList:function(e){return e.getParam("image_class_list")},hasDescription:function(e){return e.getParam("image_description",!0,"boolean")},hasImageTitle:function(e){return e.getParam("image_title",!1,"boolean")},hasImageCaption:function(e){return e.getParam("image_caption",!1,"boolean")},getImageList:function(e){return e.getParam("image_list",!1)},hasUploadUrl:function(e){return!!J(e)},hasUploadHandler:function(e){return!!Q(e)},getUploadUrl:J,getUploadHandler:Q,getUploadBasePath:function(e){return e.getParam("images_upload_base_path",void 0,"string")},getUploadCredentials:function(e){return e.getParam("images_upload_credentials",!1,"boolean")}},ee=function(e,t){return Math.max(parseInt(e,10),parseInt(t,10))},te=function(e,n){var r=t.document.createElement("img"),o=function(e){r.parentNode&&r.parentNode.removeChild(r),n(e)};r.onload=function(){var e={width:ee(r.width,r.clientWidth),height:ee(r.height,r.clientHeight)};o(P.value(e))},r.onerror=function(){o(P.error("Failed to get image dimensions for: "+e))};var i=r.style;i.visibility="hidden",i.position="fixed",i.bottom=i.left="0px",i.width=i.height="auto",t.document.body.appendChild(r),r.src=e},ne=function(e){return e&&(e=e.replace(/px$/,"")),e},re=function(e){return e.length>0&&/^[0-9]+$/.test(e)&&(e+="px"),e},oe=function(e){if(e.margin){var t=String(e.margin).split(" ");switch(t.length){case 1:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[0],e["margin-bottom"]=e["margin-bottom"]||t[0],e["margin-left"]=e["margin-left"]||t[0];break;case 2:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[1],e["margin-bottom"]=e["margin-bottom"]||t[0],e["margin-left"]=e["margin-left"]||t[1];break;case 3:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[1],e["margin-bottom"]=e["margin-bottom"]||t[2],e["margin-left"]=e["margin-left"]||t[1];break;case 4:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[1],e["margin-bottom"]=e["margin-bottom"]||t[2],e["margin-left"]=e["margin-left"]||t[3]}delete e.margin}return e},ie=function(e,t){var n=Z.getImageList(e);"string"==typeof n?K.send({url:n,success:function(e){t(JSON.parse(e))}}):"function"==typeof n?n(t):t(n)},ae=function(e,t,n){var r=function(){n.onload=n.onerror=null,e.selection&&(e.selection.select(n),e.nodeChanged())};n.onload=function(){t.width||t.height||!Z.hasDimensions(e)||e.dom.setAttribs(n,{width:String(n.clientWidth),height:String(n.clientHeight)}),r()},n.onerror=r},ue=function(e){return new G((function(n,r){var o=new t.FileReader;o.onload=function(){n(o.result)},o.onerror=function(){r(o.error.message)},o.readAsDataURL(e)}))},se=function(e){return"IMG"===e.nodeName&&(e.hasAttribute("data-mce-object")||e.hasAttribute("data-mce-placeholder"))},ce=X.DOM,le=function(e){return e.style.marginLeft&&e.style.marginRight&&e.style.marginLeft===e.style.marginRight?ne(e.style.marginLeft):""},fe=function(e){return e.style.marginTop&&e.style.marginBottom&&e.style.marginTop===e.style.marginBottom?ne(e.style.marginTop):""},de=function(e){return e.style.borderWidth?ne(e.style.borderWidth):""},pe=function(e,t){return e.hasAttribute(t)?e.getAttribute(t):""},me=function(e,t){return e.style[t]?e.style[t]:""},he=function(e){return null!==e.parentNode&&"FIGURE"===e.parentNode.nodeName},ge=function(e,t,n){e.setAttribute(t,n)},ve=function(e){he(e)?function(e){var t=e.parentNode;ce.insertAfter(e,t),ce.remove(t)}(e):function(e){var t=ce.create("figure",{class:"image"});ce.insertAfter(t,e),t.appendChild(e),t.appendChild(ce.create("figcaption",{contentEditable:"true"},"Caption")),t.contentEditable="false"}(e)},be=function(e,t){var n=e.getAttribute("style"),r=t(null!==n?n:"");r.length>0?(e.setAttribute("style",r),e.setAttribute("data-mce-style",r)):e.removeAttribute("style")},ye=function(e,t){return function(e,n,r){e.style[n]?(e.style[n]=re(r),be(e,t)):ge(e,n,r)}},we=function(e,t){return e.style[t]?ne(e.style[t]):pe(e,t)},xe=function(e,t){var n=re(t);e.style.marginLeft=n,e.style.marginRight=n},Ce=function(e,t){var n=re(t);e.style.marginTop=n,e.style.marginBottom=n},ke=function(e,t){var n=re(t);e.style.borderWidth=n},Se=function(e,t){e.style.borderStyle=t},Te=function(e){return"FIGURE"===e.nodeName},Ee=function(e,n){var r=t.document.createElement("img");return ge(r,"style",n.style),(le(r)||""!==n.hspace)&&xe(r,n.hspace),(fe(r)||""!==n.vspace)&&Ce(r,n.vspace),(de(r)||""!==n.border)&&ke(r,n.border),(function(e){return me(e,"borderStyle")}(r)||""!==n.borderStyle)&&Se(r,n.borderStyle),e(r.getAttribute("style"))},Oe=function(e,t){return{src:pe(t,"src"),alt:pe(t,"alt"),title:pe(t,"title"),width:we(t,"width"),height:we(t,"height"),class:pe(t,"class"),style:e(pe(t,"style")),caption:he(t),hspace:le(t),vspace:fe(t),border:de(t),borderStyle:me(t,"borderStyle")}},_e=function(e,t,n,r,o){n[r]!==t[r]&&o(e,r,n[r])},Ae=function(e,t){return function(n,r,o){e(n,o),be(n,t)}},De=function(e,t,n){var r=Oe(e,n);_e(n,r,t,"caption",(function(e,t,n){return ve(e)})),_e(n,r,t,"src",ge),_e(n,r,t,"alt",ge),_e(n,r,t,"title",ge),_e(n,r,t,"width",ye(0,e)),_e(n,r,t,"height",ye(0,e)),_e(n,r,t,"class",ge),_e(n,r,t,"style",Ae((function(e,t){return ge(e,"style",t)}),e)),_e(n,r,t,"hspace",Ae(xe,e)),_e(n,r,t,"vspace",Ae(Ce,e)),_e(n,r,t,"border",Ae(ke,e)),_e(n,r,t,"borderStyle",Ae(Se,e))},Ne=function(e,t){var n=e.dom.styles.parse(t),r=oe(n),o=e.dom.styles.parse(e.dom.styles.serialize(r));return e.dom.styles.serialize(o)},Me=function(e){var t=e.selection.getNode(),n=e.dom.getParent(t,"figure.image");return n?e.dom.select("img",n)[0]:t&&("IMG"!==t.nodeName||se(t))?null:t},Re=function(e,t){var n=e.dom,r=n.getParent(t.parentNode,(function(t){return e.schema.getTextBlockElements()[t.nodeName]}),e.getBody());return r?n.split(r,t):t},ze=function(e,n){var r=function(e,n){var r=t.document.createElement("img");if(De(e,$(n,{caption:!1}),r),ge(r,"alt",n.alt),n.caption){var o=ce.create("figure",{class:"image"});return o.appendChild(r),o.appendChild(ce.create("figcaption",{contentEditable:"true"},"Caption")),o.contentEditable="false",o}return r}((function(t){return Ne(e,t)}),n);e.dom.setAttrib(r,"data-mce-id","__mcenew"),e.focus(),e.selection.setContent(r.outerHTML);var o=e.dom.select('*[data-mce-id="__mcenew"]')[0];if(e.dom.setAttrib(o,"data-mce-id",null),Te(o)){var i=Re(e,o);e.selection.select(i)}else e.selection.select(o)},Ie=function(e,t){var n=Me(e);n?t.src?function(e,t){var n=Me(e);if(De((function(t){return Ne(e,t)}),t,n),function(e,t){e.dom.setAttrib(t,"src",t.getAttribute("src"))}(e,n),Te(n.parentNode)){var r=n.parentNode;Re(e,r),e.selection.select(n.parentNode)}else e.selection.select(n),ae(e,t,n)}(e,t):function(e,t){if(t){var n=e.dom.is(t.parentNode,"figure.image")?t.parentNode:t;e.dom.remove(n),e.focus(),e.nodeChanged(),e.dom.isEmpty(e.getBody())&&(e.setContent(""),e.selection.setCursorLocation())}}(e,n):t.src&&ze(e,t)},Be=tinymce.util.Tools.resolve("tinymce.util.Tools"),Pe=function(e){return v(e.value)?e.value:""},Le=function(e,t){var n=[];return Be.each(e,(function(e){var r=v(e.text)?e.text:v(e.title)?e.title:"";if(void 0!==e.menu){var o=Le(e.menu,t);n.push({text:r,items:o})}else{var i=t(e);n.push({text:r,value:i})}})),n},Fe=function(e){return void 0===e&&(e=Pe),function(t){return t?h.from(t).map((function(t){return Le(t,e)})):h.none()}},He=function(e,t){return function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n],n);if(r.isSome())return r}return h.none()}(e,(function(e){return function(e){return Object.prototype.hasOwnProperty.call(e,"items")}(e)?He(e.items,t):e.value===t?h.some(e):h.none()}))},je=Fe,Ve=function(e){return Fe(Pe)(e)},Ue=function(e,t){return e.bind((function(e){return He(e,t)}))},$e=function(e,t){return e?e.replace(/\/$/,"")+"/"+t.replace(/^\//,""):t};function qe(e){var n=function(n,r,o,i){var a,u;(a=new t.XMLHttpRequest).open("POST",e.url),a.withCredentials=e.credentials,a.upload.onprogress=function(e){i(e.loaded/e.total*100)},a.onerror=function(){o("Image upload failed due to a XHR Transport error. Code: "+a.status)},a.onload=function(){var t;a.status<200||a.status>=300?o("HTTP Error: "+a.status):(t=JSON.parse(a.responseText))&&"string"==typeof t.location?r($e(e.basePath,t.location)):o("Invalid JSON: "+a.responseText)},(u=new t.FormData).append("file",n.blob(),n.filename()),a.send(u)};return e=Be.extend({credentials:!1,handler:n},e),{upload:function(t){return e.url||e.handler!==n?function(e,t){return new G((function(n,r){try{t(e,n,r,u)}catch(e){r(e.message)}}))}(t,e.handler):G.reject("Upload url missing from the settings.")}}}var We=function(e){return{title:"Advanced",name:"advanced",items:[{type:"input",label:"Style",name:"style"},{type:"grid",columns:2,items:[{type:"input",label:"Vertical space",name:"vspace",inputMode:"numeric"},{type:"input",label:"Horizontal space",name:"hspace",inputMode:"numeric"},{type:"input",label:"Border width",name:"border",inputMode:"numeric"},{type:"selectbox",name:"borderstyle",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]}]}]}},Ye=function(e){var t=je((function(t){return e.convertURL(t.value||t.url,"src")})),n=R((function(n){ie(e,(function(e){n(t(e).map((function(e){return S([[{text:"None",value:""}],e])})))}))})),r=Ve(Z.getClassList(e)),o=Z.hasAdvTab(e),i=Z.hasUploadTab(e),a=Z.hasUploadUrl(e),u=Z.hasUploadHandler(e),s=function(e){var t=Me(e);return t?Oe((function(t){return Ne(e,t)}),t):{src:"",alt:"",title:"",width:"",height:"",class:"",style:"",caption:!1,hspace:"",vspace:"",border:"",borderStyle:""}}(e),c=Z.hasDescription(e),l=Z.hasImageTitle(e),f=Z.hasDimensions(e),d=Z.hasImageCaption(e),p=Z.getUploadUrl(e),m=Z.getUploadBasePath(e),g=Z.getUploadCredentials(e),b=Z.getUploadHandler(e),y=h.some(Z.getPrependUrl(e)).filter((function(e){return v(e)&&e.length>0}));return n.map((function(e){return{image:s,imageList:e,classList:r,hasAdvTab:o,hasUploadTab:i,hasUploadUrl:a,hasUploadHandler:u,hasDescription:c,hasImageTitle:l,hasDimensions:f,hasImageCaption:d,url:p,basePath:m,credentials:g,handler:b,prependURL:y}}))},Xe=function(e){return{title:"Upload",name:"upload",items:[{type:"dropzone",name:"fileinput"}]}},Ge=function(e){return{src:{value:e.src,meta:{}},images:e.src,alt:e.alt,title:e.title,dimensions:{width:e.width,height:e.height},classes:e.class,caption:e.caption,style:e.style,vspace:e.vspace,border:e.border,hspace:e.hspace,borderstyle:e.borderStyle,fileinput:[]}},Ke=function(e){return{src:e.src.value,alt:e.alt,title:e.title,width:e.dimensions.width,height:e.dimensions.height,class:e.classes,style:e.style,caption:e.caption,hspace:e.hspace,vspace:e.vspace,border:e.border,borderStyle:e.borderstyle}},Je=function(e,t){var n=t.getData();(function(e,t){return/^(?:[a-zA-Z]+:)?\/\//.test(t)?h.none():e.prependURL.bind((function(e){return t.substring(0,e.length)!==e?h.some(e+t):h.none()}))})(e,n.src.value).each((function(e){t.setData({src:{value:e,meta:n.src.meta}})}))},Qe=function(e,t){var n=t.getData(),r=n.src.meta;if(void 0!==r){var o=U({},n);!function(e,t,n){e.hasDescription&&v(n.alt)&&(t.alt=n.alt),e.hasImageTitle&&v(n.title)&&(t.title=n.title),e.hasDimensions&&(v(n.width)&&(t.dimensions.width=n.width),v(n.height)&&(t.dimensions.height=n.height)),v(n.class)&&Ue(e.classList,n.class).each((function(e){t.classes=e.value})),e.hasImageCaption&&w(n.caption)&&(t.caption=n.caption),e.hasAdvTab&&(v(n.vspace)&&(t.vspace=n.vspace),v(n.border)&&(t.border=n.border),v(n.hspace)&&(t.hspace=n.hspace),v(n.borderstyle)&&(t.borderstyle=n.borderstyle))}(e,o,r),t.setData(o)}},Ze=function(e,t,n,r){Je(t,r),Qe(t,r),function(e,t,n,r){var o=r.getData(),i=o.src.value,a=o.src.meta||{};a.width||a.height||!t.hasDimensions||e.imageSize(i).get((function(e){e.each((function(e){n.open&&r.setData({dimensions:e})}))}))}(e,t,n,r),function(e,t,n){var r=n.getData(),o=Ue(e.imageList,r.src.value);t.prevImage=o,n.setData({images:o.map((function(e){return e.value})).getOr("")})}(t,n,r)},et=function(e,t,n){var r=oe(e(n.style)),o=U({},n);return o.vspace=function(e){return e["margin-top"]&&e["margin-bottom"]&&e["margin-top"]===e["margin-bottom"]?ne(String(e["margin-top"])):""}(r),o.hspace=function(e){return e["margin-right"]&&e["margin-left"]&&e["margin-right"]===e["margin-left"]?ne(String(e["margin-right"])):""}(r),o.border=function(e){return e["border-width"]?ne(String(e["border-width"])):""}(r),o.borderstyle=function(e){return e["border-style"]?String(e["border-style"]):""}(r),o.style=function(e,t,n){return t(e(t(n)))}(e,t,r),o},tt=function(e,n,r,o){var i,a=o.getData();o.block("Uploading image"),(i=a.fileinput,0===i.length?h.none():h.some(i[0])).fold((function(){o.unblock()}),(function(i){var a=t.URL.createObjectURL(i),u=qe({url:n.url,basePath:n.basePath,credentials:n.credentials,handler:n.handler}),s=function(){o.unblock(),t.URL.revokeObjectURL(a)};ue(i).then((function(t){var c=e.createBlobCache(i,a,t);u.upload(c).then((function(t){o.setData({src:{value:t,meta:{}}}),o.showTab("general"),Ze(e,n,r,o),s()})).catch((function(t){s(),e.alertErr(o,t)}))}))}))},nt=function(e,t,n){return function(r,o){"src"===o.name?Ze(e,t,n,r):"images"===o.name?function(e,t,n,r){var o=r.getData(),i=Ue(t.imageList,o.images);i.each((function(e){""===o.alt||n.prevImage.map((function(e){return e.text===o.alt})).getOr(!1)?""===e.value?r.setData({src:e,alt:n.prevAlt}):r.setData({src:e,alt:e.text}):r.setData({src:e})})),n.prevImage=i,Ze(e,t,n,r)}(e,t,n,r):"alt"===o.name?n.prevAlt=r.getData().alt:"style"===o.name?function(e,t){var n=t.getData(),r=et(e.parseStyle,e.serializeStyle,n);t.setData(r)}(e,r):"vspace"===o.name||"hspace"===o.name||"border"===o.name||"borderstyle"===o.name?function(e,t,n){var r=U(Ge(t.image),n.getData()),o=Ee(e.normalizeCss,Ke(r));n.setData({style:o})}(e,t,r):"fileinput"===o.name&&tt(e,t,n,r)}},rt=function(e){return function(){e.open=!1}},ot=function(e){return e.hasAdvTab||e.hasUploadUrl||e.hasUploadHandler?{type:"tabpanel",tabs:S([[W(e)],e.hasAdvTab?[We(e)]:[],e.hasUploadTab&&(e.hasUploadUrl||e.hasUploadHandler)?[Xe(e)]:[]])}:{type:"panel",items:Y(e)}},it=function(e){return function(t){var n=function(e){return{prevImage:Ue(e.imageList,e.image.src),prevAlt:e.image.alt,open:!0}}(t);return{title:"Insert/Edit Image",size:"normal",body:ot(t),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Ge(t.image),onSubmit:e.onSubmit(t),onChange:nt(e,t,n),onClose:rt(n)}}},at=function(e){return function(t){return function(n){var r=U(Ge(t.image),n.getData());e.undoManager.transact((function(){Ie(e,Ke(r))})),e.editorUpload.uploadImagesAuto(),n.close()}}},ut=function(e){return function(t){return H((function(n){te(e.documentBaseURI.toAbsolute(t),(function(e){var t=e.map((function(e){return{width:String(e.width),height:String(e.height)}}));n(t)}))}))}},st=function(e){return function(t,n,r){return e.editorUpload.blobCache.create({blob:t,blobUri:n,name:t.name?t.name.replace(/\.[^\.]+$/,""):null,base64:r.split(",")[1]})}},ct=function(e){return function(t,n){e.windowManager.alert(n,t.close)}},lt=function(e){return function(t){return Ne(e,t)}},ft=function(e){return function(t){return e.dom.parseStyle(t)}},dt=function(e){return function(t,n){return e.dom.serializeStyle(t,n)}},pt=function(e){var t={onSubmit:at(e),imageSize:ut(e),createBlobCache:st(e),alertErr:ct(e),normalizeCss:lt(e),parseStyle:ft(e),serializeStyle:dt(e)};return{open:function(){return Ye(e).map(it(t)).get((function(t){e.windowManager.open(t)}))}}},mt={register:function(e){e.addCommand("mceImage",pt(e).open)}},ht=function(e){var t=e.attr("class");return t&&/\bimage\b/.test(t)},gt=function(e){return function(t){for(var n=t.length,r=function(t){t.attr("contenteditable",e?"true":null)};n--;){var o=t[n];ht(o)&&(o.attr("contenteditable",e?"false":null),Be.each(o.getAll("figcaption"),r))}}},vt={setup:function(e){e.on("PreInit",(function(){e.parser.addNodeFilter("figure",gt(!0)),e.serializer.addNodeFilter("figure",gt(!1))}))}},bt={register:function(e){e.ui.registry.addToggleButton("image",{icon:"image",tooltip:"Insert/edit image",onAction:pt(e).open,onSetup:function(t){return e.selection.selectorChangedWithUnbind("img:not([data-mce-object],[data-mce-placeholder]),figure.image",t.setActive).unbind}}),e.ui.registry.addMenuItem("image",{icon:"image",text:"Image...",onAction:pt(e).open}),e.ui.registry.addContextMenu("image",{update:function(e){return Te(e)||"IMG"===e.nodeName&&!se(e)?["image"]:[]}})}};a.add("image",(function(e){vt.setup(e),bt.register(e),mt.register(e)}))}(window)}).call(this,n(1))},function(e,t){!function(e){"use strict";var t,n,r,o,i=function(e){var t=e,n=function(){return t};return{get:n,set:function(e){t=e},clone:function(){return i(n())}}},a=tinymce.util.Tools.resolve("tinymce.PluginManager"),u=tinymce.util.Tools.resolve("tinymce.util.Tools"),s=function(){},c=function(e){return function(){return e}},l=c(!1),f=c(!0),d=function(){return p},p=(t=function(e){return e.isNone()},o={fold:function(e,t){return e()},is:l,isSome:l,isNone:f,getOr:r=function(e){return e},getOrThunk:n=function(e){return e()},getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:c(null),getOrUndefined:c(void 0),or:r,orThunk:n,map:d,each:s,bind:d,exists:l,forall:f,filter:d,equals:t,equals_:t,toArray:function(){return[]},toString:c("none()")},Object.freeze&&Object.freeze(o),o),m=function(e){var t=c(e),n=function(){return o},r=function(t){return t(e)},o={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:f,isNone:l,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return m(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:p},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(l,(function(t){return n(e,t)}))}};return o},h={some:m,none:d,from:function(e){return null==e?p:m(e)}};function g(t,n){return y(e.document.createElement("canvas"),t,n)}function v(e){var t=g(e.width,e.height);return b(t).drawImage(e,0,0),t}function b(e){return e.getContext("2d")}function y(e,t,n){return e.width=t,e.height=n,e}var w=window.Promise?window.Promise:function(){var t=function(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],l(e,r(a,this),r(u,this))},n=t.immediateFn||"function"==typeof window.setImmediate&&window.setImmediate||function(t){e.setTimeout(t,1)};function r(e,t){return function(){return e.apply(t,arguments)}}var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function i(e){var t=this;null!==this._state?n((function(){var n=t._state?e.onFulfilled:e.onRejected;if(null!==n){var r;try{r=n(t._value)}catch(t){return void e.reject(t)}e.resolve(r)}else(t._state?e.resolve:e.reject)(t._value)})):this._deferreds.push(e)}function a(e){try{if(e===this)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var t=e.then;if("function"==typeof t)return void l(r(t,e),r(a,this),r(u,this))}this._state=!0,this._value=e,s.call(this)}catch(e){u.call(this,e)}}function u(e){this._state=!1,this._value=e,s.call(this)}function s(){for(var e=0,t=this._deferreds;e<t.length;e++){var n=t[e];i.call(this,n)}this._deferreds=[]}function c(e,t,n,r){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=r}function l(e,t,n){var r=!1;try{e((function(e){r||(r=!0,t(e))}),(function(e){r||(r=!0,n(e))}))}catch(e){if(r)return;r=!0,n(e)}}return t.prototype.catch=function(e){return this.then(null,e)},t.prototype.then=function(e,n){var r=this;return new t((function(t,o){i.call(r,new c(e,n,t,o))}))},t.all=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Array.prototype.slice.call(1===e.length&&o(e[0])?e[0]:e);return new t((function(e,t){if(0===r.length)return e([]);var n=r.length;function o(i,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var u=a.then;if("function"==typeof u)return void u.call(a,(function(e){o(i,e)}),t)}r[i]=a,0==--n&&e(r)}catch(e){t(e)}}for(var i=0;i<r.length;i++)o(i,r[i])}))},t.resolve=function(e){return e&&"object"==typeof e&&e.constructor===t?e:new t((function(t){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var r=0,o=e;r<o.length;r++){o[r].then(t,n)}}))},t}();function x(t){var n,r=t.src;return 0===r.indexOf("data:")?k(r):(n=r,new w((function(t,r){var o=new e.XMLHttpRequest;o.open("GET",n,!0),o.responseType="blob",o.onload=function(){200===this.status&&t(this.response)},o.onerror=function(){var e,t=this;r(0===this.status?((e=new Error("No access to download image")).code=18,e.name="SecurityError",e):new Error("Error "+t.status+" downloading image"))},o.send()})))}function C(t){return new w((function(n,r){var o=e.URL.createObjectURL(t),i=new e.Image,a=function(){i.removeEventListener("load",u),i.removeEventListener("error",s)};function u(){a(),n(i)}function s(){a(),r("Unable to load data of type "+t.type+": "+o)}i.addEventListener("load",u),i.addEventListener("error",s),i.src=o,i.complete&&u()}))}function k(t){return new w((function(n,r){(function(t){var n=t.split(","),r=/data:([^;]+)/.exec(n[0]);if(!r)return h.none();for(var o=r[1],i=n[1],a=e.atob(i),u=a.length,s=Math.ceil(u/1024),c=new Array(s),l=0;l<s;++l){for(var f=1024*l,d=Math.min(f+1024,u),p=new Array(d-f),m=f,g=0;m<d;++g,++m)p[g]=a[m].charCodeAt(0);c[l]=new Uint8Array(p)}return h.some(new e.Blob(c,{type:o}))})(t).fold((function(){r("uri is not base64: "+t)}),n)}))}function S(t,n,r){return n=n||"image/png",e.HTMLCanvasElement.prototype.toBlob?new w((function(e,o){t.toBlob((function(t){t?e(t):o()}),n,r)})):k(t.toDataURL(n,r))}function T(t){return C(t).then((function(t){!function(t){e.URL.revokeObjectURL(t.src)}(t);var n=g(function(e){return e.naturalWidth||e.width}(t),function(e){return e.naturalHeight||e.height}(t));return b(n).drawImage(t,0,0),n}))}function E(e,t,n){var r=t.type;function o(t,n){return e.then((function(e){return function(e,t,n){return t=t||"image/png",e.toDataURL(t,n)}(e,t,n)}))}return{getType:c(r),toBlob:function(){return w.resolve(t)},toDataURL:function(){return n},toBase64:function(){return n.split(",")[1]},toAdjustedBlob:function(t,n){return e.then((function(e){return S(e,t,n)}))},toAdjustedDataURL:o,toAdjustedBase64:function(e,t){return o(e,t).then((function(e){return e.split(",")[1]}))},toCanvas:function(){return e.then(v)}}}function O(t){return function(t){return new w((function(n){var r=new e.FileReader;r.onloadend=function(){n(r.result)},r.readAsDataURL(t)}))}(t).then((function(e){return E(T(t),t,e)}))}function _(e,t){return S(e,t).then((function(t){return E(w.resolve(e),t,e.toDataURL())}))}function A(e,t){return e.toCanvas().then((function(n){return function(e,t,n){var r=g(e.width,e.height),o=b(r),i=0,a=0;90!==(n=n<0?360+n:n)&&270!==n||y(r,r.height,r.width);90!==n&&180!==n||(i=r.width);270!==n&&180!==n||(a=r.height);return o.translate(i,a),o.rotate(n*Math.PI/180),o.drawImage(e,0,0),_(r,t)}(n,e.getType(),t)}))}function D(e,t){return e.toCanvas().then((function(n){return function(e,t,n){var r=g(e.width,e.height),o=b(r);"v"===n?(o.scale(1,-1),o.drawImage(e,0,-r.height)):(o.scale(-1,1),o.drawImage(e,-r.width,0));return _(r,t)}(n,e.getType(),t)}))}var N=function(e){return O(e)},M=tinymce.util.Tools.resolve("tinymce.util.Delay"),R=tinymce.util.Tools.resolve("tinymce.util.Promise"),z=tinymce.util.Tools.resolve("tinymce.util.URI"),I=function(e){return e.getParam("imagetools_toolbar","rotateleft rotateright flipv fliph editimage imageoptions")};var B,P={getImageSize:function(e){var t,n;function r(e){return/^[0-9\.]+px$/.test(e)}return t=e.style.width,n=e.style.height,t||n?r(t)&&r(n)?{w:parseInt(t,10),h:parseInt(n,10)}:null:(t=e.width,n=e.height,t&&n?{w:parseInt(t,10),h:parseInt(n,10)}:null)},setImageSize:function(e,t){var n,r;t&&(n=e.style.width,r=e.style.height,(n||r)&&(e.style.width=t.w+"px",e.style.height=t.h+"px",e.removeAttribute("data-mce-style")),n=e.width,r=e.height,(n||r)&&(e.setAttribute("width",t.w),e.setAttribute("height",t.h)))},getNaturalImageSize:function(e){return{w:e.naturalWidth,h:e.naturalHeight}}},L=(B="function",function(e){return function(e){if(null===e)return"null";var t=typeof e;return"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t}(e)===B}),F=Array.prototype.slice,H=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];if(t(o,n))return h.some(o)}return h.none()},j=(L(Array.from)&&Array.from,function(e){return null!=e}),V={traverse:function(e,t){var n;return n=t.reduce((function(e,t){return j(e)?e[t]:void 0}),e),j(n)?n:null},readBlob:function(t){return new R((function(n){var r=new e.FileReader;r.onload=function(e){var t=e.target;n(t.result)},r.readAsText(t)}))},requestUrlAsBlob:function(t,n,r){return new R((function(o){var i;(i=new e.XMLHttpRequest).onreadystatechange=function(){4===i.readyState&&o({status:i.status,blob:this.response})},i.open("GET",t,!0),i.withCredentials=r,u.each(n,(function(e,t){i.setRequestHeader(t,e)})),i.responseType="blob",i.send()}))},parseJson:function(e){var t;try{t=JSON.parse(e)}catch(e){}return t}},U=[{code:404,message:"Could not find Image Proxy"},{code:403,message:"Rejected request"},{code:0,message:"Incorrect Image Proxy URL"}],$=[{type:"key_missing",message:"The request did not include an api key."},{type:"key_not_found",message:"The provided api key could not be found."},{type:"domain_not_trusted",message:"The api key is not valid for the request origins."}],q=function(e){return"ImageProxy HTTP error: "+H(U,(function(t){return e===t.code})).fold(c("Unknown ImageProxy error"),(function(e){return e.message}))},W=function(e){var t=q(e);return R.reject(t)},Y=function(e){return H($,(function(t){return t.type===e})).fold(c("Unknown service error"),(function(e){return e.message}))},X=function(e,t){return V.readBlob(t).then((function(e){var t=function(e){var t=V.parseJson(e),n=V.traverse(t,["error","type"]);return"ImageProxy Service error: "+(n?Y(n):"Invalid JSON in service error message")}(e);return R.reject(t)}))},G={handleServiceErrorResponse:function(e,t){return 400===(n=e)||403===n||500===n?X(0,t):W(e);var n},handleHttpError:W,getHttpErrorMsg:q,getServiceErrorMsg:Y},K=function(e,t){var n={"Content-Type":"application/json;charset=UTF-8","tiny-api-key":t};return V.requestUrlAsBlob(function(e,t){var n=-1===e.indexOf("?")?"?":"&";return/[?&]apiKey=/.test(e)||!t?e:e+n+"apiKey="+encodeURIComponent(t)}(e,t),n,!1).then((function(e){return e.status<200||e.status>=300?G.handleServiceErrorResponse(e.status,e.blob):R.resolve(e.blob)}))};var J=function(e,t,n){return t?K(e,t):function(e,t){return V.requestUrlAsBlob(e,{},t).then((function(e){return e.status<200||e.status>=300?G.handleHttpError(e.status):R.resolve(e.blob)}))}(e,n)},Q=function(e,t,n){return 0!=(e.compareDocumentPosition(t)&n)},Z=function(t,n){return Q(t,n,e.Node.DOCUMENT_POSITION_CONTAINED_BY)},ee=function(){return te(0,0)},te=function(e,t){return{major:e,minor:t}},ne={nu:te,detect:function(e,t){var n=String(t).toLowerCase();return 0===e.length?ee():function(e,t){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t))return r}}(e,t);if(!n)return{major:0,minor:0};var r=function(e){return Number(t.replace(n,"$"+e))};return te(r(1),r(2))}(e,n)},unknown:ee},re=function(e,t){return function(){return t===e}},oe=function(e){var t=e.current;return{current:t,version:e.version,isEdge:re("Edge",t),isChrome:re("Chrome",t),isIE:re("IE",t),isOpera:re("Opera",t),isFirefox:re("Firefox",t),isSafari:re("Safari",t)}},ie={unknown:function(){return oe({current:void 0,version:ne.unknown()})},nu:oe,edge:c("Edge"),chrome:c("Chrome"),ie:c("IE"),opera:c("Opera"),firefox:c("Firefox"),safari:c("Safari")},ae=function(e,t){return function(){return t===e}},ue=function(e){var t=e.current;return{current:t,version:e.version,isWindows:ae("Windows",t),isiOS:ae("iOS",t),isAndroid:ae("Android",t),isOSX:ae("OSX",t),isLinux:ae("Linux",t),isSolaris:ae("Solaris",t),isFreeBSD:ae("FreeBSD",t)}},se={unknown:function(){return ue({current:void 0,version:ne.unknown()})},nu:ue,windows:c("Windows"),ios:c("iOS"),android:c("Android"),linux:c("Linux"),osx:c("OSX"),solaris:c("Solaris"),freebsd:c("FreeBSD")},ce=function(e,t){var n=String(t).toLowerCase();return H(e,(function(e){return e.search(n)}))},le=function(e,t){return ce(e,t).map((function(e){var n=ne.detect(e.versionRegexes,t);return{current:e.name,version:n}}))},fe=function(e,t){return ce(e,t).map((function(e){var n=ne.detect(e.versionRegexes,t);return{current:e.name,version:n}}))},de=function(e,t){return-1!==e.indexOf(t)},pe=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,me=function(e){return function(t){return de(t,e)}},he=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return de(e,"edge/")&&de(e,"chrome")&&de(e,"safari")&&de(e,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,pe],search:function(e){return de(e,"chrome")&&!de(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return de(e,"msie")||de(e,"trident")}},{name:"Opera",versionRegexes:[pe,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:me("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:me("firefox")},{name:"Safari",versionRegexes:[pe,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(de(e,"safari")||de(e,"mobile/"))&&de(e,"applewebkit")}}],ge=[{name:"Windows",search:me("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return de(e,"iphone")||de(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:me("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:me("os x"),versionRegexes:[/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:me("linux"),versionRegexes:[]},{name:"Solaris",search:me("sunos"),versionRegexes:[]},{name:"FreeBSD",search:me("freebsd"),versionRegexes:[]}],ve={browsers:c(he),oses:c(ge)},be=function(e,t){var n=ve.browsers(),r=ve.oses(),o=le(n,e).fold(ie.unknown,ie.nu),i=fe(r,e).fold(se.unknown,se.nu),a=function(e,t,n,r){var o=e.isiOS()&&!0===/ipad/i.test(n),i=e.isiOS()&&!o,a=e.isiOS()||e.isAndroid(),u=a||r("(pointer:coarse)"),s=o||!i&&a&&r("(min-device-width:768px)"),l=i||a&&!s,f=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n),d=!l&&!s&&!f;return{isiPad:c(o),isiPhone:c(i),isTablet:c(s),isPhone:c(l),isTouch:c(u),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:c(f),isDesktop:c(d)}}(i,o,e,t);return{browser:o,os:i,deviceType:a}},ye=i(be(e.navigator.userAgent,(function(t){return e.window.matchMedia(t).matches}))),we=function(e){if(null==e)throw new Error("Node cannot be null or undefined");return{dom:c(e)}},xe={fromHtml:function(t,n){var r=(n||e.document).createElement("div");if(r.innerHTML=t,!r.hasChildNodes()||r.childNodes.length>1)throw e.console.error("HTML does not have a single root node",t),new Error("HTML must have a single root node");return we(r.childNodes[0])},fromTag:function(t,n){var r=(n||e.document).createElement(t);return we(r)},fromText:function(t,n){var r=(n||e.document).createTextNode(t);return we(r)},fromDom:we,fromPoint:function(e,t,n){var r=e.dom();return h.from(r.elementFromPoint(t,n)).map(we)}},Ce=(e.Node.ATTRIBUTE_NODE,e.Node.CDATA_SECTION_NODE,e.Node.COMMENT_NODE,e.Node.DOCUMENT_NODE,e.Node.DOCUMENT_TYPE_NODE,e.Node.DOCUMENT_FRAGMENT_NODE,e.Node.ELEMENT_NODE),ke=(e.Node.TEXT_NODE,e.Node.PROCESSING_INSTRUCTION_NODE,e.Node.ENTITY_REFERENCE_NODE,e.Node.ENTITY_NODE,e.Node.NOTATION_NODE,Ce),Se=(ye.get().browser.isIE(),void 0!==e.window?e.window:Function("return this;")(),function(e,t){return function(e,t){return H(e.dom().childNodes,(function(e){return t(xe.fromDom(e))})).map(xe.fromDom)}(e,(function(e){return function(e,t){var n=e.dom();if(n.nodeType!==ke)return!1;var r=n;if(void 0!==r.matches)return r.matches(t);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(t);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(t);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}(e,t)}))}),Te=0,Ee=function(e){return Se(xe.fromDom(e),"img")},Oe=function(e,t){return e.dom.is(t,"figure")},_e=function(e,t){e.notificationManager.open({text:t,type:"error"})},Ae=function(e){var t=e.selection.getNode();return Oe(e,t)?Ee(t):h.some(xe.fromDom(t))},De=function(e,t){var n=t.src;return 0===n.indexOf("data:")||0===n.indexOf("blob:")||new z(n).host===e.documentBaseURI.host},Ne=function(e,t){return-1!==u.inArray(function(e){return e.getParam("imagetools_cors_hosts",[],"string[]")}(e),new z(t.src).host)},Me=function(e,t){var n,r=t.src;return Ne(e,t)?J(t.src,null,function(e,t){return-1!==u.inArray(function(e){return e.getParam("imagetools_credentials_hosts",[],"string[]")}(e),new z(t.src).host)}(e,t)):De(e,t)?x(t):(r=function(e){return e.getParam("imagetools_proxy")}(e),r+=(-1===r.indexOf("?")?"?":"&")+"url="+encodeURIComponent(t.src),n=function(e){return e.getParam("api_key",e.getParam("imagetools_api_key","","string"),"string")}(e),J(r,n,!1))},Re=function(e,t){return function(e){return h.from(e.getParam("imagetools_fetch_image",null,"function"))}(e).fold((function(){return Me(e,t)}),(function(e){return e(t)}))},ze=function(e,t){var n;return(n=e.editorUpload.blobCache.getByUri(t.src))?R.resolve(n.blob()):Re(e,t)},Ie=function(e,t){var n=M.setEditorTimeout(e,(function(){e.editorUpload.uploadImagesAuto()}),function(e){return e.getParam("images_upload_timeout",3e4,"number")}(e));t.set(n)},Be=function(e){M.clearTimeout(e.get())},Pe=function(e,t,n,r,o,i){return t.toBlob().then((function(a){var u,s,c,l;return c=e.editorUpload.blobCache,u=o.src,function(e){return e.getParam("images_reuse_filename",!1,"boolean")}(e)&&((l=c.getByUri(u))?(u=l.uri(),s=l.name()):s=function(e,t){var n=t.match(/\/([^\/\?]+)?\.(?:jpeg|jpg|png|gif)(?:\?|$)/i);return n?e.dom.encode(n[1]):null}(e,u)),l=c.create({id:"imagetools"+Te++,blob:a,base64:t.toBase64(),uri:u,name:s}),c.add(l),e.undoManager.transact((function(){e.$(o).on("load",(function t(){e.$(o).off("load",t),e.nodeChanged(),n?e.editorUpload.uploadImagesAuto():(Be(r),Ie(e,r))})),i&&e.$(o).attr({width:i.w,height:i.h}),e.$(o).attr({src:l.blobUri()}).removeAttr("data-mce-src")})),l}))},Le=function(e,t,n,r){return function(){return Ae(e).fold((function(){_e(e,"Could not find selected image")}),(function(o){return e._scanForImages().then((function(){return ze(e,o.dom())})).then(N).then(n).then((function(n){return Pe(e,n,!1,t,o.dom(),r)}),(function(t){_e(e,t)}))}))}},Fe={rotate:function(e,t,n){return function(){var r=Ae(e).fold((function(){return null}),(function(e){var t=P.getImageSize(e.dom());return t?{w:t.h,h:t.w}:null}));return Le(e,t,(function(e){return function(e,t){return A(e,t)}(e,n)}),r)()}},flip:function(e,t,n){return function(){return Le(e,t,(function(e){return function(e,t){return D(e,t)}(e,n)}))()}},getEditableImage:function(e,t){var n=function(t){return function(t){return e.dom.is(t,"img:not([data-mce-object],[data-mce-placeholder])")}(t)&&(De(e,t)||Ne(e,t)||e.settings.imagetools_proxy)};return Oe(e,t)?Ee(t).map((function(e){return n(e.dom())?h.some(e.dom()):h.none()})):n(t)?h.some(t):h.none()},cancelTimedUpload:Be,findBlob:ze,getSelectedImage:Ae,handleDialogBlob:function(t,n,r,o,i){return new R((function(a){(function(e){return C(e)})(i).then((function(t){var n=P.getNaturalImageSize(t);return o.w===n.w&&o.h===n.h||P.getImageSize(r)&&P.setImageSize(r,n),e.URL.revokeObjectURL(t.src),i})).then(N).then((function(e){return Pe(t,e,!0,n,r)}),(function(){}))}))}},He=c("save-state"),je=c("disable"),Ve=c("enable"),Ue=function(t,n){return function(){var r=Fe.getSelectedImage(t),o=r.map((function(e){return P.getNaturalImageSize(e.dom())}));Fe.getSelectedImage(t).each((function(i){Fe.getEditableImage(t,i.dom()).each((function(a){Fe.findBlob(t,i.dom()).then((function(i){var a=function(t){return{blob:t,url:e.URL.createObjectURL(t)}}(i);t.windowManager.open({title:"Edit Image",size:"large",body:{type:"panel",items:[{type:"imagetools",name:"imagetools",label:"Edit Image",currentState:a}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0,disabled:!0}],onSubmit:function(e){var i=e.getData().imagetools.blob;r.each((function(e){o.each((function(r){Fe.handleDialogBlob(t,n,e.dom(),r,i)}))})),e.close()},onCancel:function(){},onAction:function(e,t){switch(t.name){case He():t.value?e.enable("save"):e.disable("save");break;case je():e.disable("save"),e.disable("cancel");break;case Ve():e.enable("cancel")}}})}))}))}))}},$e={register:function(e,t){u.each({mceImageRotateLeft:Fe.rotate(e,t,-90),mceImageRotateRight:Fe.rotate(e,t,90),mceImageFlipVertical:Fe.flip(e,t,"v"),mceImageFlipHorizontal:Fe.flip(e,t,"h"),mceEditImage:Ue(e,t)},(function(t,n){e.addCommand(n,t)}))}},qe={setup:function(e,t,n){e.on("NodeChange",(function(r){var o=n.get();o&&o.src!==r.element.src&&(Fe.cancelTimedUpload(t),e.editorUpload.uploadImagesAuto(),n.set(null)),Fe.getEditableImage(e,r.element).each(n.set)}))}},We={register:function(e){var t=function(t){return function(){return e.execCommand(t)}};e.ui.registry.addButton("rotateleft",{tooltip:"Rotate counterclockwise",icon:"rotate-left",onAction:t("mceImageRotateLeft")}),e.ui.registry.addButton("rotateright",{tooltip:"Rotate clockwise",icon:"rotate-right",onAction:t("mceImageRotateRight")}),e.ui.registry.addButton("flipv",{tooltip:"Flip vertically",icon:"flip-vertically",onAction:t("mceImageFlipVertical")}),e.ui.registry.addButton("fliph",{tooltip:"Flip horizontally",icon:"flip-horizontally",onAction:t("mceImageFlipHorizontal")}),e.ui.registry.addButton("editimage",{tooltip:"Edit image",icon:"edit-image",onAction:t("mceEditImage"),onSetup:function(t){var n=function(){Fe.getSelectedImage(e).each((function(n){var r=Fe.getEditableImage(e,n.dom()).isNone();t.setDisabled(r)}))};return e.on("NodeChange",n),function(){e.off("NodeChange",n)}}}),e.ui.registry.addButton("imageoptions",{tooltip:"Image options",icon:"image-options",onAction:t("mceImage")}),e.ui.registry.addContextMenu("imagetools",{update:function(n){return Fe.getEditableImage(e,n).fold((function(){return[]}),(function(e){return[{text:"Edit image",icon:"edit-image",onAction:t("mceEditImage")}]}))}})}},Ye={register:function(e){e.ui.registry.addContextToolbar("imagetools",{items:I(e),predicate:function(t){return Fe.getEditableImage(e,t).isSome()},position:"node",scope:"node"})}};a.add("imagetools",(function(e){var t=i(0),n=i(null);$e.register(e,t),We.register(e),Ye.register(e),qe.setup(e,t,n)}))}(window)},function(e,t){!function(e){"use strict";var t,n,r,o,i=tinymce.util.Tools.resolve("tinymce.PluginManager"),a=function(e,t){return e.fire("insertCustomChar",{chr:t})},u=function(e,t){var n=a(e,t).chr;e.execCommand("mceInsertContent",!1,n)},s=tinymce.util.Tools.resolve("tinymce.util.Tools"),c=function(e){return e.settings.charmap},l=function(e){return e.settings.charmap_append},f=function(){},d=function(e){return function(){return e}},p=d(!1),m=d(!0),h=function(){return g},g=(t=function(e){return e.isNone()},o={fold:function(e,t){return e()},is:p,isSome:p,isNone:m,getOr:r=function(e){return e},getOrThunk:n=function(e){return e()},getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:d(null),getOrUndefined:d(void 0),or:r,orThunk:n,map:h,each:f,bind:h,exists:p,forall:m,filter:h,equals:t,equals_:t,toArray:function(){return[]},toString:d("none()")},Object.freeze&&Object.freeze(o),o),v=function(e){var t=d(e),n=function(){return o},r=function(t){return t(e)},o={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:m,isNone:p,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return v(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:g},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(p,(function(t){return n(e,t)}))}};return o},b={some:v,none:h,from:function(e){return null==e?g:v(e)}},y=function(e){return function(t){return function(e){if(null===e)return"null";var t=typeof e;return"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t}(t)===e}},w=y("array"),x=y("function"),C=Array.prototype.slice,k=Array.prototype.push,S=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o)}return r},T=function(e,t){return function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!w(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);k.apply(t,e[n])}return t}(S(e,t))},E=(x(Array.from)&&Array.from,s.isArray),O=function(e){return E(e)?[].concat((t=e,s.grep(t,(function(e){return E(e)&&2===e.length})))):"function"==typeof e?e():[];var t},_={getCharMap:function(e){var t=function(e,t){var n=c(e);n&&(t=[{name:"User Defined",characters:O(n)}]);var r=l(e);if(r){var o=s.grep(t,(function(e){return"User Defined"===e.name}));return o.length?(o[0].characters=[].concat(o[0].characters).concat(O(r)),t):[].concat(t).concat({name:"User Defined",characters:O(r)})}return t}(e,[{name:"Currency",characters:[[36,"dollar sign"],[162,"cent sign"],[8364,"euro sign"],[163,"pound sign"],[165,"yen sign"],[164,"currency sign"],[8352,"euro-currency sign"],[8353,"colon sign"],[8354,"cruzeiro sign"],[8355,"french franc sign"],[8356,"lira sign"],[8357,"mill sign"],[8358,"naira sign"],[8359,"peseta sign"],[8360,"rupee sign"],[8361,"won sign"],[8362,"new sheqel sign"],[8363,"dong sign"],[8365,"kip sign"],[8366,"tugrik sign"],[8367,"drachma sign"],[8368,"german penny symbol"],[8369,"peso sign"],[8370,"guarani sign"],[8371,"austral sign"],[8372,"hryvnia sign"],[8373,"cedi sign"],[8374,"livre tournois sign"],[8375,"spesmilo sign"],[8376,"tenge sign"],[8377,"indian rupee sign"],[8378,"turkish lira sign"],[8379,"nordic mark sign"],[8380,"manat sign"],[8381,"ruble sign"],[20870,"yen character"],[20803,"yuan character"],[22291,"yuan character, in hong kong and taiwan"],[22278,"yen/yuan character variant one"]]},{name:"Text",characters:[[169,"copyright sign"],[174,"registered sign"],[8482,"trade mark sign"],[8240,"per mille sign"],[181,"micro sign"],[183,"middle dot"],[8226,"bullet"],[8230,"three dot leader"],[8242,"minutes / feet"],[8243,"seconds / inches"],[167,"section sign"],[182,"paragraph sign"],[223,"sharp s / ess-zed"]]},{name:"Quotations",characters:[[8249,"single left-pointing angle quotation mark"],[8250,"single right-pointing angle quotation mark"],[171,"left pointing guillemet"],[187,"right pointing guillemet"],[8216,"left single quotation mark"],[8217,"right single quotation mark"],[8220,"left double quotation mark"],[8221,"right double quotation mark"],[8218,"single low-9 quotation mark"],[8222,"double low-9 quotation mark"],[60,"less-than sign"],[62,"greater-than sign"],[8804,"less-than or equal to"],[8805,"greater-than or equal to"],[8211,"en dash"],[8212,"em dash"],[175,"macron"],[8254,"overline"],[164,"currency sign"],[166,"broken bar"],[168,"diaeresis"],[161,"inverted exclamation mark"],[191,"turned question mark"],[710,"circumflex accent"],[732,"small tilde"],[176,"degree sign"],[8722,"minus sign"],[177,"plus-minus sign"],[247,"division sign"],[8260,"fraction slash"],[215,"multiplication sign"],[185,"superscript one"],[178,"superscript two"],[179,"superscript three"],[188,"fraction one quarter"],[189,"fraction one half"],[190,"fraction three quarters"]]},{name:"Mathematical",characters:[[402,"function / florin"],[8747,"integral"],[8721,"n-ary sumation"],[8734,"infinity"],[8730,"square root"],[8764,"similar to"],[8773,"approximately equal to"],[8776,"almost equal to"],[8800,"not equal to"],[8801,"identical to"],[8712,"element of"],[8713,"not an element of"],[8715,"contains as member"],[8719,"n-ary product"],[8743,"logical and"],[8744,"logical or"],[172,"not sign"],[8745,"intersection"],[8746,"union"],[8706,"partial differential"],[8704,"for all"],[8707,"there exists"],[8709,"diameter"],[8711,"backward difference"],[8727,"asterisk operator"],[8733,"proportional to"],[8736,"angle"]]},{name:"Extended Latin",characters:[[192,"A - grave"],[193,"A - acute"],[194,"A - circumflex"],[195,"A - tilde"],[196,"A - diaeresis"],[197,"A - ring above"],[256,"A - macron"],[198,"ligature AE"],[199,"C - cedilla"],[200,"E - grave"],[201,"E - acute"],[202,"E - circumflex"],[203,"E - diaeresis"],[274,"E - macron"],[204,"I - grave"],[205,"I - acute"],[206,"I - circumflex"],[207,"I - diaeresis"],[298,"I - macron"],[208,"ETH"],[209,"N - tilde"],[210,"O - grave"],[211,"O - acute"],[212,"O - circumflex"],[213,"O - tilde"],[214,"O - diaeresis"],[216,"O - slash"],[332,"O - macron"],[338,"ligature OE"],[352,"S - caron"],[217,"U - grave"],[218,"U - acute"],[219,"U - circumflex"],[220,"U - diaeresis"],[362,"U - macron"],[221,"Y - acute"],[376,"Y - diaeresis"],[562,"Y - macron"],[222,"THORN"],[224,"a - grave"],[225,"a - acute"],[226,"a - circumflex"],[227,"a - tilde"],[228,"a - diaeresis"],[229,"a - ring above"],[257,"a - macron"],[230,"ligature ae"],[231,"c - cedilla"],[232,"e - grave"],[233,"e - acute"],[234,"e - circumflex"],[235,"e - diaeresis"],[275,"e - macron"],[236,"i - grave"],[237,"i - acute"],[238,"i - circumflex"],[239,"i - diaeresis"],[299,"i - macron"],[240,"eth"],[241,"n - tilde"],[242,"o - grave"],[243,"o - acute"],[244,"o - circumflex"],[245,"o - tilde"],[246,"o - diaeresis"],[248,"o slash"],[333,"o macron"],[339,"ligature oe"],[353,"s - caron"],[249,"u - grave"],[250,"u - acute"],[251,"u - circumflex"],[252,"u - diaeresis"],[363,"u - macron"],[253,"y - acute"],[254,"thorn"],[255,"y - diaeresis"],[563,"y - macron"],[913,"Alpha"],[914,"Beta"],[915,"Gamma"],[916,"Delta"],[917,"Epsilon"],[918,"Zeta"],[919,"Eta"],[920,"Theta"],[921,"Iota"],[922,"Kappa"],[923,"Lambda"],[924,"Mu"],[925,"Nu"],[926,"Xi"],[927,"Omicron"],[928,"Pi"],[929,"Rho"],[931,"Sigma"],[932,"Tau"],[933,"Upsilon"],[934,"Phi"],[935,"Chi"],[936,"Psi"],[937,"Omega"],[945,"alpha"],[946,"beta"],[947,"gamma"],[948,"delta"],[949,"epsilon"],[950,"zeta"],[951,"eta"],[952,"theta"],[953,"iota"],[954,"kappa"],[955,"lambda"],[956,"mu"],[957,"nu"],[958,"xi"],[959,"omicron"],[960,"pi"],[961,"rho"],[962,"final sigma"],[963,"sigma"],[964,"tau"],[965,"upsilon"],[966,"phi"],[967,"chi"],[968,"psi"],[969,"omega"]]},{name:"Symbols",characters:[[8501,"alef symbol"],[982,"pi symbol"],[8476,"real part symbol"],[978,"upsilon - hook symbol"],[8472,"Weierstrass p"],[8465,"imaginary part"]]},{name:"Arrows",characters:[[8592,"leftwards arrow"],[8593,"upwards arrow"],[8594,"rightwards arrow"],[8595,"downwards arrow"],[8596,"left right arrow"],[8629,"carriage return"],[8656,"leftwards double arrow"],[8657,"upwards double arrow"],[8658,"rightwards double arrow"],[8659,"downwards double arrow"],[8660,"left right double arrow"],[8756,"therefore"],[8834,"subset of"],[8835,"superset of"],[8836,"not a subset of"],[8838,"subset of or equal to"],[8839,"superset of or equal to"],[8853,"circled plus"],[8855,"circled times"],[8869,"perpendicular"],[8901,"dot operator"],[8968,"left ceiling"],[8969,"right ceiling"],[8970,"left floor"],[8971,"right floor"],[9001,"left-pointing angle bracket"],[9002,"right-pointing angle bracket"],[9674,"lozenge"],[9824,"black spade suit"],[9827,"black club suit"],[9829,"black heart suit"],[9830,"black diamond suit"],[8194,"en space"],[8195,"em space"],[8201,"thin space"],[8204,"zero width non-joiner"],[8205,"zero width joiner"],[8206,"left-to-right mark"],[8207,"right-to-left mark"]]}]);return t.length>1?[{name:"All",characters:T(t,(function(e){return e.characters}))}].concat(t):t}},A={get:function(e){return{getCharMap:function(){return _.getCharMap(e)},insertChar:function(t){u(e,t)}}}},D=function(e){var t=e,n=function(){return t};return{get:n,set:function(e){t=e},clone:function(){return D(n())}}},N=function(e,t){return-1!==e.indexOf(t)},M=function(e,t){var n=[],r=t.toLowerCase();return function(e,t){for(var n=0,r=e.length;n<r;n++){t(e[n],n)}}(e.characters,(function(e){(function(e,t,n){return!!N(String.fromCharCode(e).toLowerCase(),n)||(N(t.toLowerCase(),n)||N(t.toLowerCase().replace(/\s+/g,""),n))})(e[0],e[1],r)&&n.push(e)})),S(n,(function(e){return{text:e[1],value:String.fromCharCode(e[0]),icon:String.fromCharCode(e[0])}}))},R=function(t,n){var r,o,i,a=1===n.length?D("User Defined"):D("All"),s=function(e,t){(function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];if(t(o,n))return b.some(o)}return b.none()})(n,(function(e){return e.name===a.get()})).each((function(n){var r=M(n,t);e.setData({results:r})}))},c=(r=function(e){var t=e.getData().pattern;s(e,t)},o=40,i=null,{cancel:function(){null!==i&&(e.clearTimeout(i),i=null)},throttle:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];null!==i&&e.clearTimeout(i),i=e.setTimeout((function(){r.apply(null,t),i=null}),o)}}),l={title:"Special Character",size:"normal",body:1===n.length?{type:"panel",items:[{label:"Search",type:"input",name:"pattern"},{type:"collection",name:"results"}]}:{type:"tabpanel",tabs:S(n,(function(e){return{title:e.name,name:e.name,items:[{label:"Search",type:"input",name:"pattern"},{type:"collection",name:"results"}]}}))},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:{pattern:"",results:M(n[0],"")},onAction:function(e,n){"results"===n.name&&(u(t,n.value),e.close())},onTabChange:function(e,t){a.set(t.newTabName),c.throttle(e)},onChange:function(e,t){"pattern"===t.name&&c.throttle(e)}};t.windowManager.open(l).focus("pattern")},z={register:function(e,t){e.addCommand("mceShowCharmap",(function(){R(e,t)}))}},I=tinymce.util.Tools.resolve("tinymce.util.Promise"),B=function(e,t){e.ui.registry.addAutocompleter("charmap",{ch:":",columns:"auto",minChars:2,fetch:function(e,n){return new I((function(n,r){n(M(t,e))}))},onAction:function(t,n,r){e.selection.setRng(n),e.insertContent(r),t.hide()}})},P={register:function(e){e.ui.registry.addButton("charmap",{icon:"insert-character",tooltip:"Special character",onAction:function(){return e.execCommand("mceShowCharmap")}}),e.ui.registry.addMenuItem("charmap",{icon:"insert-character",text:"Special character...",onAction:function(){return e.execCommand("mceShowCharmap")}})}};i.add("charmap",(function(e){var t=_.getCharMap(e);return z.register(e,t),P.register(e),B(e,t[0]),A.get(e)}))}(window)},function(e,t){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=tinymce.util.Tools.resolve("tinymce.Env"),n={register:function(e){e.addCommand("mcePrint",(function(){t.browser.isIE()?e.getDoc().execCommand("print",!1,null):e.getWin().print()}))}},r={register:function(e){e.ui.registry.addButton("print",{icon:"print",tooltip:"Print",onAction:function(){return e.execCommand("mcePrint")}}),e.ui.registry.addMenuItem("print",{text:"Print...",icon:"print",onAction:function(){return e.execCommand("mcePrint")}})}};e.add("print",(function(e){n.register(e),r.register(e),e.addShortcut("Meta+P","","mcePrint")}))}()},function(e,t){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=tinymce.util.Tools.resolve("tinymce.util.Tools"),n=function(e){return e.getParam("content_style","")},r=function(e){return e.getParam("content_css_cors",!1,"boolean")},o=tinymce.util.Tools.resolve("tinymce.Env"),i=function(e){var i="",a=e.dom.encode,u=n(e);i+='<base href="'+a(e.documentBaseURI.getURI())+'">',u&&(i+='<style type="text/css">'+u+"</style>");var s=r(e)?' crossorigin="anonymous"':"";t.each(e.contentCSS,(function(t){i+='<link type="text/css" rel="stylesheet" href="'+a(e.documentBaseURI.toAbsolute(t))+'"'+s+">"}));var c=e.settings.body_id||"tinymce";-1!==c.indexOf("=")&&(c=(c=e.getParam("body_id","","hash"))[e.id]||c);var l=e.settings.body_class||"";-1!==l.indexOf("=")&&(l=(l=e.getParam("body_class","","hash"))[e.id]||"");var f='<script>document.addEventListener && document.addEventListener("click", function(e) {for (var elm = e.target; elm; elm = elm.parentNode) {if (elm.nodeName === "A" && !('+(o.mac?"e.metaKey":"e.ctrlKey && !e.altKey")+")) {e.preventDefault();}}}, false);<\/script> ",d=e.getBody().dir,p=d?' dir="'+a(d)+'"':"";return"<!DOCTYPE html><html><head>"+i+'</head><body id="'+a(c)+'" class="mce-content-body '+a(l)+'"'+p+">"+e.getContent()+f+"</body></html>"},a={register:function(e){e.addCommand("mcePreview",(function(){!function(e){var t=i(e);e.windowManager.open({title:"Preview",size:"large",body:{type:"panel",items:[{name:"preview",type:"iframe",sandboxed:!0}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:{preview:t}}).focus("close")}(e)}))}},u={register:function(e){e.ui.registry.addButton("preview",{icon:"preview",tooltip:"Preview",onAction:function(){return e.execCommand("mcePreview")}}),e.ui.registry.addMenuItem("preview",{icon:"preview",text:"Preview",onAction:function(){return e.execCommand("mcePreview")}})}};e.add("preview",(function(e){a.register(e),u.register(e)}))}()},function(e,t){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t={register:function(e){e.addCommand("InsertHorizontalRule",(function(){e.execCommand("mceInsertContent",!1,"<hr />")}))}},n={register:function(e){e.ui.registry.addButton("hr",{icon:"horizontal-rule",tooltip:"Horizontal line",onAction:function(){return e.execCommand("InsertHorizontalRule")}}),e.ui.registry.addMenuItem("hr",{icon:"horizontal-rule",text:"Horizontal line",onAction:function(){return e.execCommand("InsertHorizontalRule")}})}};e.add("hr",(function(e){t.register(e),n.register(e)}))}()},function(e,t){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=tinymce.util.Tools.resolve("tinymce.Env"),n=function(e){return e.getParam("pagebreak_separator","\x3c!-- pagebreak --\x3e")},r=function(e){return e.getParam("pagebreak_split_block",!1)},o=function(){return"mce-pagebreak"},i=function(){return'<img src="'+t.transparentSrc+'" class="mce-pagebreak" data-mce-resize="false" data-mce-placeholder />'},a={setup:function(e){var t=n(e),o=new RegExp(t.replace(/[\?\.\*\[\]\(\)\{\}\+\^\$\:]/g,(function(e){return"\\"+e})),"gi");e.on("BeforeSetContent",(function(e){e.content=e.content.replace(o,i())})),e.on("PreInit",(function(){e.serializer.addNodeFilter("img",(function(n){for(var o,i,a=n.length;a--;)if((i=(o=n[a]).attr("class"))&&-1!==i.indexOf("mce-pagebreak")){var u=o.parent;if(e.schema.getBlockElements()[u.name]&&r(e)){u.type=3,u.value=t,u.raw=!0,o.remove();continue}o.type=3,o.value=t,o.raw=!0}}))}))},getPlaceholderHtml:i,getPageBreakClass:o},u={register:function(e){e.addCommand("mcePageBreak",(function(){e.settings.pagebreak_split_block?e.insertContent("<p>"+a.getPlaceholderHtml()+"</p>"):e.insertContent(a.getPlaceholderHtml())}))}},s={setup:function(e){e.on("ResolveName",(function(t){"IMG"===t.target.nodeName&&e.dom.hasClass(t.target,a.getPageBreakClass())&&(t.name="pagebreak")}))}},c={register:function(e){e.ui.registry.addButton("pagebreak",{icon:"page-break",tooltip:"Page break",onAction:function(){return e.execCommand("mcePageBreak")}}),e.ui.registry.addMenuItem("pagebreak",{text:"Page break",icon:"page-break",onAction:function(){return e.execCommand("mcePageBreak")}})}};e.add("pagebreak",(function(e){u.register(e),c.register(e),a.setup(e),s.setup(e)}))}()},function(e,t){!function(){"use strict";var e=function(t){var n=t,r=function(){return n};return{get:r,set:function(e){n=e},clone:function(){return e(r())}}},t=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=function(){return(n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},r=tinymce.util.Tools.resolve("tinymce.util.Tools");function o(e){return e&&1===e.nodeType&&"false"===e.contentEditable}var i,a,u,s,c,l={findAndReplaceDOMText:function(e,t,n,r,i){var a,u,s,c,l,f,d=[],p=0;function m(e,t){if(t=t||0,!e[0])throw new Error("findAndReplaceDOMText cannot handle zero-length matches");var n=e.index;if(t>0){var r=e[t];if(!r)throw new Error("Invalid capture group");n+=e[0].indexOf(r),e[0]=r}return[n,n+e[0].length,[e[0]]]}if(s=t.ownerDocument,c=i.getBlockElements(),l=i.getWhiteSpaceElements(),f=i.getShortEndedElements(),u=function e(t){var n;if(3===t.nodeType)return t.data;if(l[t.nodeName]&&!c[t.nodeName])return"";if(n="",o(t))return"\n";if((c[t.nodeName]||f[t.nodeName])&&(n+="\n"),t=t.firstChild)do{n+=e(t)}while(t=t.nextSibling);return n}(t)){if(e.global)for(;a=e.exec(u);)d.push(m(a,r));else a=u.match(e),d.push(m(a,r));return d.length&&(p=d.length,function(e,t,n){var r,i,a,u,s=[],d=0,p=e,m=t.shift(),h=0;e:for(;;){if((c[p.nodeName]||f[p.nodeName]||o(p))&&d++,3===p.nodeType&&(!i&&p.length+d>=m[1]?(i=p,u=m[1]-d):r&&s.push(p),!r&&p.length+d>m[0]&&(r=p,a=m[0]-d),d+=p.length),r&&i){if(p=n({startNode:r,startNodeIndex:a,endNode:i,endNodeIndex:u,innerNodes:s,match:m[2],matchIndex:h}),d-=i.length-u,r=null,i=null,s=[],h++,!(m=t.shift()))break}else if(l[p.nodeName]&&!c[p.nodeName]||!p.firstChild){if(p.nextSibling){p=p.nextSibling;continue}}else if(!o(p)){p=p.firstChild;continue}for(;;){if(p.nextSibling){p=p.nextSibling;break}if(p.parentNode===e)break e;p=p.parentNode}}}(t,d,function(e){var t;if("function"!=typeof e){var n=e.nodeType?e:s.createElement(e);t=function(e,t){var r=n.cloneNode(!1);return r.setAttribute("data-mce-index",t),e&&r.appendChild(s.createTextNode(e)),r}}else t=e;return function(e){var n,r,o,i=e.startNode,a=e.endNode,u=e.matchIndex;if(i===a){var c=i;o=c.parentNode,e.startNodeIndex>0&&(n=s.createTextNode(c.data.substring(0,e.startNodeIndex)),o.insertBefore(n,c));var l=t(e.match[0],u);return o.insertBefore(l,c),e.endNodeIndex<c.length&&(r=s.createTextNode(c.data.substring(e.endNodeIndex)),o.insertBefore(r,c)),c.parentNode.removeChild(c),l}n=s.createTextNode(i.data.substring(0,e.startNodeIndex)),r=s.createTextNode(a.data.substring(e.endNodeIndex));for(var f=t(i.data.substring(e.startNodeIndex),u),d=0,p=e.innerNodes.length;d<p;++d){var m=e.innerNodes[d],h=t(m.data,u);m.parentNode.replaceChild(h,m)}var g=t(a.data.substring(0,e.endNodeIndex),u);return(o=i.parentNode).insertBefore(n,i),o.insertBefore(f,i),o.removeChild(i),(o=a.parentNode).insertBefore(g,a),o.insertBefore(r,a),o.removeChild(a),g}}(n))),p}}},f=function(e){var t=e.getAttribute("data-mce-index");return"number"==typeof t?""+t:t},d=function(e){var t=e.parentNode;e.firstChild&&t.insertBefore(e.firstChild,e),e.parentNode.removeChild(e)},p=function(e,t){var n,o=[];if((n=r.toArray(e.getBody().getElementsByTagName("span"))).length)for(var i=0;i<n.length;i++){var a=f(n[i]);null!==a&&a.length&&(a===t.toString()&&o.push(n[i]))}return o},m=function(e,t,n){var r=t.get(),o=r.index,i=e.dom;(n=!1!==n)?o+1===r.count?o=0:o++:o-1==-1?o=r.count-1:o--,i.removeClass(p(e,r.index),"mce-match-marker-selected");var a=p(e,o);return a.length?(i.addClass(p(e,o),"mce-match-marker-selected"),e.selection.scrollIntoView(a[0]),o):-1},h=function(e,t){var n=t.parentNode;e.remove(t),e.isEmpty(n)&&e.remove(n)},g=function(e,t,n,r,o){var i=function(e,t){var n=e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&").replace(/\s/g,"[^\\S\\r\\n]");return t?"\\b"+n+"\\b":n}(n,o),a=function(e,t,n){var r,o;return(o=e.dom.create("span",{"data-mce-bogus":1})).className="mce-match-marker",r=e.getBody(),x(e,t,!1),l.findAndReplaceDOMText(n,r,o,!1,e.schema)}(e,t,new RegExp(i,r?"g":"gi"));if(a){var u=m(e,t,!0);t.set({index:u,count:a,text:n,matchCase:r,wholeWord:o})}return a},v=function(e,t){var r=m(e,t,!0);t.set(n(n({},t.get()),{index:r}))},b=function(e,t){var r=m(e,t,!1);t.set(n(n({},t.get()),{index:r}))},y=function(e){var t=f(e);return null!==t&&t.length>0},w=function(e,t,o,i,a){var u,s,c,l,p,m=t.get(),g=m.index,w=g;for(i=!1!==i,c=e.getBody(),s=r.grep(r.toArray(c.getElementsByTagName("span")),y),u=0;u<s.length;u++){var x=f(s[u]);if(l=p=parseInt(x,10),a||l===m.index){for(o.length?(s[u].firstChild.nodeValue=o,d(s[u])):h(e.dom,s[u]);s[++u];){if((l=parseInt(f(s[u]),10))!==p){u--;break}h(e.dom,s[u])}i&&w--}else p>g&&s[u].setAttribute("data-mce-index",String(p-1))}return t.set(n(n({},m),{count:a?0:m.count-1,index:w})),i?v(e,t):b(e,t),!a&&t.get().count>0},x=function(e,t,o){var i,a,u,s,c=t.get();for(a=r.toArray(e.getBody().getElementsByTagName("span")),i=0;i<a.length;i++){var l=f(a[i]);null!==l&&l.length&&(l===c.index.toString()&&(u||(u=a[i].firstChild),s=a[i].firstChild),d(a[i]))}if(t.set(n(n({},c),{index:-1,count:0,text:""})),u&&s){var p=e.dom.createRng();return p.setStart(u,0),p.setEnd(s,s.data.length),!1!==o&&e.selection.setRng(p),p}},C=function(e,t){return t.get().count>1},k=function(e,t){return t.get().count>1},S={get:function(e,t){return{done:function(n){return x(e,t,n)},find:function(n,r,o){return g(e,t,n,r,o)},next:function(){return v(e,t)},prev:function(){return b(e,t)},replace:function(n,r,o){return w(e,t,n,r,o)}}}},T=function(){},E=function(e){return function(){return e}},O=E(!1),_=E(!0),A=function(){return D},D=(i=function(e){return e.isNone()},s={fold:function(e,t){return e()},is:O,isSome:O,isNone:_,getOr:u=function(e){return e},getOrThunk:a=function(e){return e()},getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:E(null),getOrUndefined:E(void 0),or:u,orThunk:a,map:A,each:T,bind:A,exists:O,forall:_,filter:A,equals:i,equals_:i,toArray:function(){return[]},toString:E("none()")},Object.freeze&&Object.freeze(s),s),N=function(e){var t=E(e),n=function(){return o},r=function(t){return t(e)},o={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:_,isNone:O,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return N(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:D},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(O,(function(t){return n(e,t)}))}};return o},M={some:N,none:A,from:function(e){return null==e?D:N(e)}},R=(c="function",function(e){return function(e){if(null===e)return"null";var t=typeof e;return"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t}(e)===c}),z=Array.prototype.slice,I=(R(Array.from)&&Array.from,tinymce.util.Tools.resolve("tinymce.Env")),B=function(t,o){var i,a=(i=e(M.none()),{clear:function(){i.set(M.none())},set:function(e){i.set(M.some(e))},isSet:function(){return i.get().isSome()},on:function(e){i.get().each(e)}});t.undoManager.add();var u=r.trim(t.selection.getContent({format:"text"}));function s(e){(C(t,o)?e.enable:e.disable)("next"),(k(t,o)?e.enable:e.disable)("prev")}var c=function(e,t){!function(e,t){for(var n=0,r=e.length;n<r;n++){t(e[n],n)}}(["replace","replaceall","prev","next"],t?e.disable:e.enable)};var l=function(e,t){I.browser.isSafari()&&I.deviceType.isTouch()&&("find"===t||"replace"===t||"replaceall"===t)&&e.focus(t)},f=function(e){x(t,o,!1),c(e,!0),s(e)},d=function(e){var n=e.getData(),r=o.get();if(n.findtext.length){if(r.text===n.findtext&&r.matchCase===n.matchcase&&r.wholeWord===n.wholewords)v(t,o);else{var i=g(t,o,n.findtext,n.matchcase,n.wholewords);i<=0&&function(e){t.windowManager.alert("Could not find the specified string.",(function(){e.focus("findtext")}))}(e),c(e,0===i)}s(e)}else f(e)},p=o.get(),m={title:"Find and Replace",size:"normal",body:{type:"panel",items:[{type:"bar",items:[{type:"input",name:"findtext",placeholder:"Find",maximized:!0,inputMode:"search"},{type:"button",name:"prev",text:"Previous",icon:"action-prev",disabled:!0,borderless:!0},{type:"button",name:"next",text:"Next",icon:"action-next",disabled:!0,borderless:!0}]},{type:"input",name:"replacetext",placeholder:"Replace with",inputMode:"search"}]},buttons:[{type:"menu",name:"options",icon:"preferences",tooltip:"Preferences",align:"start",items:[{type:"togglemenuitem",name:"matchcase",text:"Match case"},{type:"togglemenuitem",name:"wholewords",text:"Find whole words only"}]},{type:"custom",name:"find",text:"Find",primary:!0},{type:"custom",name:"replace",text:"Replace",disabled:!0},{type:"custom",name:"replaceall",text:"Replace All",disabled:!0}],initialData:{findtext:u,replacetext:"",wholewords:p.wholeWord,matchcase:p.matchCase},onChange:function(e,t){"findtext"===t.name&&o.get().count>0&&f(e)},onAction:function(e,r){var i=e.getData();switch(r.name){case"find":d(e);break;case"replace":w(t,o,i.replacetext)?s(e):f(e);break;case"replaceall":w(t,o,i.replacetext,!0,!0),f(e);break;case"prev":b(t,o),s(e);break;case"next":v(t,o),s(e);break;case"matchcase":case"wholewords":!function(e){var t=e.getData(),r=o.get();o.set(n(n({},r),{matchCase:t.matchcase,wholeWord:t.wholewords}))}(e),f(e)}l(e,r.name)},onSubmit:function(e){d(e),l(e,"find")},onClose:function(){t.focus(),x(t,o),t.undoManager.add()}};a.set(t.windowManager.open(m,{inline:"toolbar"}))},P={register:function(e,t){e.addCommand("SearchReplace",(function(){B(e,t)}))}},L=function(e,t){return function(){B(e,t)}},F={register:function(e,t){e.ui.registry.addMenuItem("searchreplace",{text:"Find and replace...",shortcut:"Meta+F",onAction:L(e,t),icon:"search"}),e.ui.registry.addButton("searchreplace",{tooltip:"Find and replace",onAction:L(e,t),icon:"search"}),e.shortcuts.add("Meta+F","",L(e,t))}};t.add("searchreplace",(function(t){var n=e({index:-1,count:0,text:"",matchCase:!1,wholeWord:!1});return P.register(t,n),F.register(t,n),S.get(t,n)}))}()},function(e,t){!function(){"use strict";var e=function(t){var n=t,r=function(){return n};return{get:r,set:function(e){n=e},clone:function(){return e(r())}}},t=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=function(e,t){e.fire("VisualBlocks",{state:t})},r=function(e,t,r){e.dom.toggleClass(e.getBody(),"mce-visualblocks"),r.set(!r.get()),n(e,r.get())},o={register:function(e,t,n){e.addCommand("mceVisualBlocks",(function(){r(e,t,n)}))}},i=function(e){return e.getParam("visualblocks_default_state",!1,"boolean")},a={setup:function(e,t,n){e.on("PreviewFormats AfterPreviewFormats",(function(t){n.get()&&e.dom.toggleClass(e.getBody(),"mce-visualblocks","afterpreviewformats"===t.type)})),e.on("init",(function(){i(e)&&r(e,t,n)})),e.on("remove",(function(){e.dom.removeClass(e.getBody(),"mce-visualblocks")}))}},u=function(e,t){return function(n){n.setActive(t.get());var r=function(e){return n.setActive(e.state)};return e.on("VisualBlocks",r),function(){return e.off("VisualBlocks",r)}}},s={register:function(e,t){e.ui.registry.addToggleButton("visualblocks",{icon:"visualblocks",tooltip:"Show blocks",onAction:function(){return e.execCommand("mceVisualBlocks")},onSetup:u(e,t)}),e.ui.registry.addToggleMenuItem("visualblocks",{text:"Show blocks",onAction:function(){return e.execCommand("mceVisualBlocks")},onSetup:u(e,t)})}};t.add("visualblocks",(function(t,n){var r=e(!1);o.register(t,n,r),s.register(t,r),a.setup(t,n,r)}))}()},function(e,t){!function(e){"use strict";var t,n,r,o,i,a=function(e){var t=e,n=function(){return t};return{get:n,set:function(e){t=e},clone:function(){return a(n())}}},u=tinymce.util.Tools.resolve("tinymce.PluginManager"),s={get:function(e){return{isEnabled:function(){return e.get()}}}},c=function(e,t){return e.fire("VisualChars",{state:t})},l=function(){},f=function(e){return function(){return e}},d=f(!1),p=f(!0),m=function(){return h},h=(t=function(e){return e.isNone()},o={fold:function(e,t){return e()},is:d,isSome:d,isNone:p,getOr:r=function(e){return e},getOrThunk:n=function(e){return e()},getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:f(null),getOrUndefined:f(void 0),or:r,orThunk:n,map:m,each:l,bind:m,exists:d,forall:p,filter:m,equals:t,equals_:t,toArray:function(){return[]},toString:f("none()")},Object.freeze&&Object.freeze(o),o),g=function(e){var t=f(e),n=function(){return o},r=function(t){return t(e)},o={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:p,isNone:d,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return g(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:h},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(d,(function(t){return n(e,t)}))}};return o},v=function(e){return null==e?h:g(e)},b=function(e){return function(t){return function(e){if(null===e)return"null";var t=typeof e;return"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t}(t)===e}},y=b("string"),w=b("boolean"),x=b("function"),C=b("number"),k=Array.prototype.slice,S=function(e,t){for(var n=0,r=e.length;n<r;n++){t(e[n],n)}},T=(x(Array.from)&&Array.from,e.Node.ATTRIBUTE_NODE,e.Node.CDATA_SECTION_NODE,e.Node.COMMENT_NODE,e.Node.DOCUMENT_NODE,e.Node.DOCUMENT_TYPE_NODE,e.Node.DOCUMENT_FRAGMENT_NODE,e.Node.ELEMENT_NODE,e.Node.TEXT_NODE),E=(e.Node.PROCESSING_INSTRUCTION_NODE,e.Node.ENTITY_REFERENCE_NODE,e.Node.ENTITY_NODE,e.Node.NOTATION_NODE,void 0!==e.window?e.window:Function("return this;")(),function(e){return e.dom().nodeValue}),O=(i=T,function(e){return function(e){return e.dom().nodeType}(e)===i}),_=function(t,n,r){!function(t,n,r){if(!(y(r)||w(r)||C(r)))throw e.console.error("Invalid call to Attr.set. Key ",n,":: Value ",r,":: Element ",t),new Error("Attribute value was not simple");t.setAttribute(n,r+"")}(t.dom(),n,r)},A=function(e,t){e.dom().removeAttribute(t)},D=function(e,t){var n=function(e,t){var n=e.dom().getAttribute(t);return null===n?void 0:n}(e,t);return void 0===n||""===n?[]:n.split(" ")},N=function(e){return void 0!==e.dom().classList},M=function(e,t){return function(e,t,n){var r=D(e,t).concat([n]);return _(e,t,r.join(" ")),!0}(e,"class",t)},R=function(e,t){return function(e,t,n){var r=function(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];t(i,r)&&n.push(i)}return n}(D(e,t),(function(e){return e!==n}));return r.length>0?_(e,t,r.join(" ")):A(e,t),!1}(e,"class",t)},z=function(e){0===(N(e)?e.dom().classList:function(e){return D(e,"class")}(e)).length&&A(e,"class")},I=function(e){if(null==e)throw new Error("Node cannot be null or undefined");return{dom:f(e)}},B={fromHtml:function(t,n){var r=(n||e.document).createElement("div");if(r.innerHTML=t,!r.hasChildNodes()||r.childNodes.length>1)throw e.console.error("HTML does not have a single root node",t),new Error("HTML must have a single root node");return I(r.childNodes[0])},fromTag:function(t,n){var r=(n||e.document).createElement(t);return I(r)},fromText:function(t,n){var r=(n||e.document).createTextNode(t);return I(r)},fromDom:I,fromPoint:function(e,t,n){var r=e.dom();return v(r.elementFromPoint(t,n)).map(I)}},P={" ":"nbsp","­":"shy"},L=function(e,t){var n,r="";for(n in e)r+=n;return new RegExp("["+r+"]",t?"g":"")},F=function(e){var t,n="";for(t in e)n&&(n+=","),n+="span.mce-"+e[t];return n},H={charMap:P,regExp:L(P),regExpGlobal:L(P,!0),selector:F(P),nbspClass:"mce-nbsp",charMapToRegExp:L,charMapToSelector:F},j=function(e){return'<span data-mce-bogus="1" class="mce-'+H.charMap[e]+'">'+e+"</span>"},V=function(e,t){var n=[],r=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o)}return r}(e.dom().childNodes,B.fromDom);return S(r,(function(e){t(e)&&(n=n.concat([e])),n=n.concat(V(e,t))})),n},U={isMatch:function(e){var t=E(e);return O(e)&&void 0!==t&&H.regExp.test(t)},filterDescendants:V,findParentElm:function(e,t){for(;e.parentNode;){if(e.parentNode===t)return e;e=e.parentNode}},replaceWithSpans:function(e){return e.replace(H.regExpGlobal,j)}},$=function(e){return"span"===e.nodeName.toLowerCase()&&e.classList.contains("mce-nbsp-wrap")},q=function(e,t){var n=U.filterDescendants(B.fromDom(t),U.isMatch);S(n,(function(t){var n,r,o=t.dom().parentNode;if($(o))n=B.fromDom(o),r=H.nbspClass,N(n)?n.dom().classList.add(r):M(n,r);else{for(var i=U.replaceWithSpans(e.dom.encode(E(t))),a=e.dom.create("div",null,i),u=void 0;u=a.lastChild;)e.dom.insertAfter(u,t.dom());e.dom.remove(t.dom())}}))},W=function(e,t){var n=e.dom.select(H.selector,t);S(n,(function(t){$(t)?function(e,t){N(e)?e.dom().classList.remove(t):R(e,t);z(e)}(B.fromDom(t),H.nbspClass):e.dom.remove(t,!0)}))},Y=q,X=W,G=function(e){var t=e.getBody(),n=e.selection.getBookmark(),r=U.findParentElm(e.selection.getNode(),t);W(e,r=void 0!==r?r:t),q(e,r),e.selection.moveToBookmark(n)},K=function(e,t){var n,r=e.getBody(),o=e.selection;t.set(!t.get()),c(e,t.get()),n=o.getBookmark(),!0===t.get()?Y(e,r):X(e,r),o.moveToBookmark(n)},J={register:function(e,t){e.addCommand("mceVisualChars",(function(){K(e,t)}))}},Q=tinymce.util.Tools.resolve("tinymce.util.Delay"),Z={setup:function(e,t){var n=Q.debounce((function(){G(e)}),300);!1!==e.settings.forced_root_block&&e.on("keydown",(function(r){!0===t.get()&&(13===r.keyCode?G(e):n())}))}},ee=function(e){return e.getParam("visualchars_default_state",!1)},te={setup:function(e,t){e.on("init",(function(){var n=!ee(e);t.set(n),K(e,t)}))}},ne=function(e,t){return function(n){n.setActive(t.get());var r=function(e){return n.setActive(e.state)};return e.on("VisualChars",r),function(){return e.off("VisualChars",r)}}},re=function(e,t){e.ui.registry.addToggleButton("visualchars",{tooltip:"Show invisible characters",icon:"visualchars",onAction:function(){return e.execCommand("mceVisualChars")},onSetup:ne(e,t)}),e.ui.registry.addToggleMenuItem("visualchars",{text:"Show invisible characters",onAction:function(){return e.execCommand("mceVisualChars")},onSetup:ne(e,t)})};u.add("visualchars",(function(e){var t=a(!1);return J.register(e,t),re(e,t),Z.setup(e,t),te.setup(e,t),s.get(t)}))}(window)},function(e,t){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=function(e,t){e.focus(),e.undoManager.transact((function(){e.setContent(t)})),e.selection.setCursorLocation(),e.nodeChanged()},n=function(e){return e.getContent({source_view:!0})},r=function(e){var r=n(e);e.windowManager.open({title:"Source Code",size:"large",body:{type:"panel",items:[{type:"textarea",name:"code"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{code:r},onSubmit:function(n){t(e,n.getData().code),n.close()}})},o={register:function(e){e.addCommand("mceCodeEditor",(function(){r(e)}))}},i={register:function(e){e.ui.registry.addButton("code",{icon:"sourcecode",tooltip:"Source code",onAction:function(){return r(e)}}),e.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code",onAction:function(){return r(e)}})}};e.add("code",(function(e){return o.register(e),i.register(e),{}}))}()},function(e,t){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=function(e){return e.getParam("insertdatetime_timeformat",e.translate("%H:%M:%S"))},n=function(e){return e.getParam("insertdatetime_formats",["%H:%M:%S","%Y-%m-%d","%I:%M:%S %p","%D"])},r=function(e){return e.getParam("insertdatetime_dateformat",e.translate("%Y-%m-%d"))},o=t,i=n,a=function(e){var r=n(e);return r.length>0?r[0]:t(e)},u=function(e){return e.getParam("insertdatetime_element",!1)},s="Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),c="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),l="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),f="January February March April May June July August September October November December".split(" "),d=function(e,t){if((e=""+e).length<t)for(var n=0;n<t-e.length;n++)e="0"+e;return e},p=function(e,t,n){return n=n||new Date,t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=t.replace("%D","%m/%d/%Y")).replace("%r","%I:%M:%S %p")).replace("%Y",""+n.getFullYear())).replace("%y",""+n.getYear())).replace("%m",d(n.getMonth()+1,2))).replace("%d",d(n.getDate(),2))).replace("%H",""+d(n.getHours(),2))).replace("%M",""+d(n.getMinutes(),2))).replace("%S",""+d(n.getSeconds(),2))).replace("%I",""+((n.getHours()+11)%12+1))).replace("%p",n.getHours()<12?"AM":"PM")).replace("%B",""+e.translate(f[n.getMonth()]))).replace("%b",""+e.translate(l[n.getMonth()]))).replace("%A",""+e.translate(c[n.getDay()]))).replace("%a",""+e.translate(s[n.getDay()]))).replace("%%","%")},m=function(e,t){if(u(e)){var n=p(e,t),r=void 0;r=/%[HMSIp]/.test(t)?p(e,"%Y-%m-%dT%H:%M"):p(e,"%Y-%m-%d");var o=e.dom.getParent(e.selection.getStart(),"time");o?function(e,t,n,r){var o=e.dom.create("time",{datetime:n},r);t.parentNode.insertBefore(o,t),e.dom.remove(t),e.selection.select(o,!0),e.selection.collapse(!1)}(e,o,r,n):e.insertContent('<time datetime="'+r+'">'+n+"</time>")}else e.insertContent(p(e,t))},h=p,g={register:function(e){e.addCommand("mceInsertDate",(function(){m(e,r(e))})),e.addCommand("mceInsertTime",(function(){m(e,o(e))}))}},v=tinymce.util.Tools.resolve("tinymce.util.Tools"),b=function(e){var t=e,n=function(){return t};return{get:n,set:function(e){t=e},clone:function(){return b(n())}}},y={register:function(e){var t=i(e),n=b(a(e));e.ui.registry.addSplitButton("insertdatetime",{icon:"insert-time",tooltip:"Insert date/time",select:function(e){return e===n.get()},fetch:function(n){n(v.map(t,(function(t){return{type:"choiceitem",text:h(e,t),value:t}})))},onAction:function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];m(e,n.get())},onItemAction:function(t,r){n.set(r),m(e,r)}});var r=function(t){return function(){n.set(t),m(e,t)}};e.ui.registry.addNestedMenuItem("insertdatetime",{icon:"insert-time",text:"Date/time",getSubmenuItems:function(){return v.map(t,(function(t){return{type:"menuitem",text:h(e,t),onAction:r(t)}}))}})}};e.add("insertdatetime",(function(e){g.register(e),y.register(e)}))}()},function(e,t){!function(e){"use strict";var t,n,r,o,i=function(e){var t=e,n=function(){return t};return{get:n,set:function(e){t=e},clone:function(){return i(n())}}},a=tinymce.util.Tools.resolve("tinymce.PluginManager"),u={get:function(e){return{isFullscreen:function(){return null!==e.get()}}}},s=function(){},c=function(e){return function(){return e}},l=c(!1),f=c(!0),d=function(){return p},p=function(){var e=function(e){return e.isNone()},t=function(e){return e()},n=function(e){return e},r={fold:function(e,t){return e()},is:l,isSome:l,isNone:f,getOr:n,getOrThunk:t,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:c(null),getOrUndefined:c(void 0),or:n,orThunk:t,map:d,each:s,bind:d,exists:l,forall:f,filter:d,equals:e,equals_:e,toArray:function(){return[]},toString:c("none()")};return Object.freeze&&Object.freeze(r),r}(),m=function(e){var t=c(e),n=function(){return o},r=function(t){return t(e)},o={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:f,isNone:l,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return m(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:p},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(l,(function(t){return n(e,t)}))}};return o},h={some:m,none:d,from:function(e){return null==e?p:m(e)}},g=function(e){return function(t){return function(e){if(null===e)return"null";var t=typeof e;return"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t}(t)===e}},v=g("string"),b=g("array"),y=g("boolean"),w=g("function"),x=g("number"),C=Array.prototype.slice,k=Array.prototype.push,S=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o)}return r},T=function(e,t){for(var n=0,r=e.length;n<r;n++){t(e[n],n)}},E=function(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];t(i,r)&&n.push(i)}return n},O=function(e,t){return function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!b(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);k.apply(t,e[n])}return t}(S(e,t))},_=(w(Array.from)&&Array.from,Object.keys),A=function(e,t){return-1!==e.indexOf(t)},D=function(e){return void 0!==e.style&&w(e.style.getPropertyValue)},N=function(e){if(null==e)throw new Error("Node cannot be null or undefined");return{dom:c(e)}},M={fromHtml:function(t,n){var r=(n||e.document).createElement("div");if(r.innerHTML=t,!r.hasChildNodes()||r.childNodes.length>1)throw e.console.error("HTML does not have a single root node",t),new Error("HTML must have a single root node");return N(r.childNodes[0])},fromTag:function(t,n){var r=(n||e.document).createElement(t);return N(r)},fromText:function(t,n){var r=(n||e.document).createTextNode(t);return N(r)},fromDom:N,fromPoint:function(e,t,n){var r=e.dom();return h.from(r.elementFromPoint(t,n)).map(N)}},R=(e.Node.ATTRIBUTE_NODE,e.Node.CDATA_SECTION_NODE,e.Node.COMMENT_NODE,e.Node.DOCUMENT_NODE),z=(e.Node.DOCUMENT_TYPE_NODE,e.Node.DOCUMENT_FRAGMENT_NODE,e.Node.ELEMENT_NODE),I=e.Node.TEXT_NODE,B=(e.Node.PROCESSING_INSTRUCTION_NODE,e.Node.ENTITY_REFERENCE_NODE,e.Node.ENTITY_NODE,e.Node.NOTATION_NODE,void 0!==e.window?e.window:Function("return this;")(),t=I,function(e){return function(e){return e.dom().nodeType}(e)===t}),P=function(t,n,r){!function(t,n,r){if(!(v(r)||y(r)||x(r)))throw e.console.error("Invalid call to Attr.set. Key ",n,":: Value ",r,":: Element ",t),new Error("Attribute value was not simple");t.setAttribute(n,r+"")}(t.dom(),n,r)},L=function(e,t){var n=e.dom().getAttribute(t);return null===n?void 0:n},F=function(e,t){e.dom().removeAttribute(t)},H=function(t,n){var r=t.dom();!function(e,t){for(var n=_(e),r=0,o=n.length;r<o;r++){var i=n[r];t(e[i],i)}}(n,(function(t,n){!function(t,n,r){if(!v(r))throw e.console.error("Invalid call to CSS.set. Property ",n,":: Value ",r,":: Element ",t),new Error("CSS value must be a string: "+r);D(t)&&t.style.setProperty(n,r)}(r,n,t)}))},j=function(t,n){var r=t.dom(),o=e.window.getComputedStyle(r).getPropertyValue(n),i=""!==o||function(e){var t=B(e)?e.dom().parentNode:e.dom();return null!=t&&t.ownerDocument.body.contains(t)}(t)?o:V(r,n);return null===i?void 0:i},V=function(e,t){return D(e)?e.style.getPropertyValue(t):""},U=function(){return $(0,0)},$=function(e,t){return{major:e,minor:t}},q={nu:$,detect:function(e,t){var n=String(t).toLowerCase();return 0===e.length?U():function(e,t){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t))return r}}(e,t);if(!n)return{major:0,minor:0};var r=function(e){return Number(t.replace(n,"$"+e))};return $(r(1),r(2))}(e,n)},unknown:U},W=function(e,t){return function(){return t===e}},Y=function(e){var t=e.current;return{current:t,version:e.version,isEdge:W("Edge",t),isChrome:W("Chrome",t),isIE:W("IE",t),isOpera:W("Opera",t),isFirefox:W("Firefox",t),isSafari:W("Safari",t)}},X={unknown:function(){return Y({current:void 0,version:q.unknown()})},nu:Y,edge:c("Edge"),chrome:c("Chrome"),ie:c("IE"),opera:c("Opera"),firefox:c("Firefox"),safari:c("Safari")},G=function(e,t){return function(){return t===e}},K=function(e){var t=e.current;return{current:t,version:e.version,isWindows:G("Windows",t),isiOS:G("iOS",t),isAndroid:G("Android",t),isOSX:G("OSX",t),isLinux:G("Linux",t),isSolaris:G("Solaris",t),isFreeBSD:G("FreeBSD",t)}},J={unknown:function(){return K({current:void 0,version:q.unknown()})},nu:K,windows:c("Windows"),ios:c("iOS"),android:c("Android"),linux:c("Linux"),osx:c("OSX"),solaris:c("Solaris"),freebsd:c("FreeBSD")},Q=function(e,t){var n=String(t).toLowerCase();return function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];if(t(o,n))return h.some(o)}return h.none()}(e,(function(e){return e.search(n)}))},Z=function(e,t){return Q(e,t).map((function(e){var n=q.detect(e.versionRegexes,t);return{current:e.name,version:n}}))},ee=function(e,t){return Q(e,t).map((function(e){var n=q.detect(e.versionRegexes,t);return{current:e.name,version:n}}))},te=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,ne=function(e){return function(t){return A(t,e)}},re=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return A(e,"edge/")&&A(e,"chrome")&&A(e,"safari")&&A(e,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,te],search:function(e){return A(e,"chrome")&&!A(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return A(e,"msie")||A(e,"trident")}},{name:"Opera",versionRegexes:[te,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:ne("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:ne("firefox")},{name:"Safari",versionRegexes:[te,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(A(e,"safari")||A(e,"mobile/"))&&A(e,"applewebkit")}}],oe=[{name:"Windows",search:ne("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return A(e,"iphone")||A(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:ne("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:ne("os x"),versionRegexes:[/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:ne("linux"),versionRegexes:[]},{name:"Solaris",search:ne("sunos"),versionRegexes:[]},{name:"FreeBSD",search:ne("freebsd"),versionRegexes:[]}],ie={browsers:c(re),oses:c(oe)},ae=function(e,t){var n=ie.browsers(),r=ie.oses(),o=Z(n,e).fold(X.unknown,X.nu),i=ee(r,e).fold(J.unknown,J.nu),a=function(e,t,n,r){var o=e.isiOS()&&!0===/ipad/i.test(n),i=e.isiOS()&&!o,a=e.isiOS()||e.isAndroid(),u=a||r("(pointer:coarse)"),s=o||!i&&a&&r("(min-device-width:768px)"),l=i||a&&!s,f=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n),d=!l&&!s&&!f;return{isiPad:c(o),isiPhone:c(i),isTablet:c(s),isPhone:c(l),isTouch:c(u),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:c(f),isDesktop:c(d)}}(i,o,e,t);return{browser:o,os:i,deviceType:a}},ue=i(ae(e.navigator.userAgent,(function(t){return e.window.matchMedia(t).matches}))),se=function(){return ue.get()},ce=function(e,t,n){return 0!=(e.compareDocumentPosition(t)&n)},le=function(t,n){return ce(t,n,e.Node.DOCUMENT_POSITION_CONTAINED_BY)},fe=z,de=R,pe=function(e,t){var n=e.dom();if(n.nodeType!==fe)return!1;var r=n;if(void 0!==r.matches)return r.matches(t);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(t);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(t);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},me=function(t,n){var r,o=void 0===n?e.document:n.dom();return(r=o).nodeType!==fe&&r.nodeType!==de||0===r.childElementCount?[]:S(o.querySelectorAll(t),M.fromDom)},he=(se().browser.isIE(),function(e){return function(e){return h.from(e.dom().parentNode).map(M.fromDom)}(e).map(ge).map((function(t){return E(t,(function(t){return n=t,!(e.dom()===n.dom());var n}))})).getOr([])}),ge=function(e){return S(e.dom().childNodes,M.fromDom)},ve=(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]}("element","offset"),function(e,t){return{left:c(e),top:c(t),translate:function(n,r){return ve(e+n,t+r)}}}),be=ve,ye=(se().browser.isSafari(),function(e,t,n,r){return{x:c(e),y:c(t),width:c(n),height:c(r),right:c(e+n),bottom:c(t+r)}}),we=function(t){var n=void 0===t?e.window:t,r=n.document,o=function(t){var n=void 0!==t?t.dom():e.document,r=n.body.scrollLeft||n.documentElement.scrollLeft,o=n.body.scrollTop||n.documentElement.scrollTop;return be(r,o)}(M.fromDom(r)),i=n.visualViewport;if(void 0!==i)return ye(Math.max(i.pageLeft,o.left()),Math.max(i.pageTop,o.top()),i.width,i.height);var a=r.documentElement,u=a.clientWidth,s=a.clientHeight;return ye(o.left(),o.top(),u,s)},xe=function(e,t){e.fire("FullscreenStateChanged",{state:t})},Ce=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),ke=tinymce.util.Tools.resolve("tinymce.Env"),Se=tinymce.util.Tools.resolve("tinymce.util.Delay"),Te=function(e,t,n){return E(function(e,t){for(var n=w(t)?t:l,r=e.dom(),o=[];null!==r.parentNode&&void 0!==r.parentNode;){var i=r.parentNode,a=M.fromDom(i);if(o.push(a),!0===n(a))break;r=i}return o}(e,n),t)},Ee=function(e,t,n){return Te(e,(function(e){return pe(e,t)}),n)},Oe=function(e,t){return function(e,t){return E(he(e),t)}(e,(function(e){return pe(e,t)}))},_e="data-ephox-mobile-fullscreen-style",Ae="top:0!important;left:0!important;margin:0!important;padding:0!important;width:100%!important;height:100%!important;overflow:visible!important;",De=ke.os.isAndroid(),Ne=function(e,t){var n=function(e){return function(t){var n=L(t,"style"),r=void 0===n?"no-styles":n.trim();r!==e&&(P(t,_e,r),P(t,"style",e))}},r=Ee(e,"*"),o=O(r,(function(e){return Oe(e,"*:not(.tox-silver-sink)")})),i=function(e){var t=j(e,"background-color");return void 0!==t&&""!==t?"background-color:"+t+"!important":"background-color:rgb(255,255,255)!important;"}(t);T(o,n("display:none!important;")),T(r,n("position:absolute!important;"+Ae+i)),n((!0===De?"":"position:absolute!important;")+Ae+i)(e)},Me=function(){var e=me("["+_e+"]");T(e,(function(e){var t=L(e,_e);"no-styles"!==t?P(e,"style",t):F(e,"style"),F(e,_e)}))},Re=Ce.DOM,ze=e.window.visualViewport,Ie=void 0===ze?{bind:s,unbind:s}:(n=i(h.none()),r={clear:function(){n.set(h.none())},set:function(e){n.set(h.some(e))},isSet:function(){return n.get().isSome()},on:function(e){n.get().each(e)}},o=Se.throttle((function(){e.document.body.scrollTop=0,e.document.documentElement.scrollTop=0,e.window.requestAnimationFrame((function(){r.on((function(e){return H(e,{top:ze.offsetTop+"px",left:ze.offsetLeft+"px",height:ze.height+"px",width:ze.width+"px"})}))}))}),50),{bind:function(e){r.set(e),o(),ze.addEventListener("resize",o),ze.addEventListener("scroll",o)},unbind:function(){r.on((function(){ze.removeEventListener("scroll",o),ze.removeEventListener("resize",o)})),r.clear()}}),Be=function(t,n){var r,o,i,a=e.document.body,u=e.document.documentElement;o=t.getContainer();var s,c,l=M.fromDom(o),f=n.get(),d=M.fromDom(t.getBody()),p=ke.deviceType.isTouch();if(r=o.style,i=t.getContentAreaContainer().firstChild.style,f)i.width=f.iframeWidth,i.height=f.iframeHeight,r.width=f.containerWidth,r.height=f.containerHeight,r.top=f.containerTop,r.left=f.containerLeft,p&&Me(),Re.removeClass(a,"tox-fullscreen"),Re.removeClass(u,"tox-fullscreen"),Re.removeClass(o,"tox-fullscreen"),s=f.scrollPos,e.window.scrollTo(s.x,s.y),n.set(null),xe(t,!1),Ie.unbind(),t.off("remove",Ie.unbind);else{var m={scrollPos:(c=we(e.window),{x:c.x(),y:c.y()}),containerWidth:r.width,containerHeight:r.height,containerTop:r.top,containerLeft:r.left,iframeWidth:i.width,iframeHeight:i.height};p&&Ne(l,d),i.width=i.height="100%",r.width=r.height="",Re.addClass(a,"tox-fullscreen"),Re.addClass(u,"tox-fullscreen"),Re.addClass(o,"tox-fullscreen"),Ie.bind(l),t.on("remove",Ie.unbind),n.set(m),xe(t,!0)}},Pe={register:function(e,t){e.addCommand("mceFullScreen",(function(){Be(e,t)}))}},Le=function(e,t){return function(n){n.setActive(null!==t.get());var r=function(e){return n.setActive(e.state)};return e.on("FullscreenStateChanged",r),function(){return e.off("FullscreenStateChanged",r)}}},Fe={register:function(e,t){e.ui.registry.addToggleMenuItem("fullscreen",{text:"Fullscreen",shortcut:"Meta+Shift+F",onAction:function(){return e.execCommand("mceFullScreen")},onSetup:Le(e,t)}),e.ui.registry.addToggleButton("fullscreen",{tooltip:"Fullscreen",icon:"fullscreen",onAction:function(){return e.execCommand("mceFullScreen")},onSetup:Le(e,t)})}};a.add("fullscreen",(function(e){var t=i(null);return e.settings.inline?u.get(t):(Pe.register(e,t),Fe.register(e,t),e.addShortcut("Meta+Shift+F","","mceFullScreen"),u.get(t))}))}(window)},function(e,t){!function(){"use strict";var e,t,n,r,o,i=tinymce.util.Tools.resolve("tinymce.PluginManager"),a=function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},u=function(){},s=function(e){return function(){return e}},c=s(!1),l=s(!0),f=function(){return d},d=(e=function(e){return e.isNone()},r={fold:function(e,t){return e()},is:c,isSome:c,isNone:l,getOr:n=function(e){return e},getOrThunk:t=function(e){return e()},getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:s(null),getOrUndefined:s(void 0),or:n,orThunk:t,map:f,each:u,bind:f,exists:c,forall:l,filter:f,equals:e,equals_:e,toArray:function(){return[]},toString:s("none()")},Object.freeze&&Object.freeze(r),r),p=function(e){var t=s(e),n=function(){return o},r=function(t){return t(e)},o={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:l,isNone:c,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return p(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:d},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(c,(function(t){return n(e,t)}))}};return o},m=f,h=function(e){return null==e?d:p(e)},g=function(e){return function(t){return function(e){if(null===e)return"null";var t=typeof e;return"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t}(t)===e}},v=g("string"),b=g("array"),y=g("function"),w=Array.prototype.slice,x=Array.prototype.push,C=function(e,t){for(var n=0,r=e.length;n<r;n++){t(e[n],n)}},k=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!b(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);x.apply(t,e[n])}return t},S=(y(Array.from)&&Array.from,function(e){var t=e,n=function(){return t};return{get:n,set:function(e){t=e},clone:function(){return S(n())}}}),T=Object.prototype.hasOwnProperty,E=(o=function(e,t){return t},function(){for(var e=new Array(arguments.length),t=0;t<e.length;t++)e[t]=arguments[t];if(0===e.length)throw new Error("Can't merge zero objects");for(var n={},r=0;r<e.length;r++){var i=e[r];for(var a in i)T.call(i,a)&&(n[a]=o(n[a],i[a]))}return n}),O=Object.hasOwnProperty,_=function(e,t){return A(e,t)?h(e[t]):m()},A=function(e,t){return O.call(e,t)},D=function(e){return e.getParam("media_scripts")},N=function(e){return e.getParam("audio_template_callback")},M=function(e){return e.getParam("video_template_callback")},R=function(e){return e.getParam("media_live_embeds",!0)},z=function(e){return e.getParam("media_filter_html",!0)},I=function(e){return e.getParam("media_url_resolver")},B=function(e){return e.getParam("media_alt_source",!0)},P=function(e){return e.getParam("media_poster",!0)},L=function(e){return e.getParam("media_dimensions",!0)},F=tinymce.util.Tools.resolve("tinymce.util.Tools"),H=tinymce.util.Tools.resolve("tinymce.html.SaxParser"),j=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),V=function(e){return function(t){return t?t.style[e].replace(/px$/,""):""}},U=function(e){return function(t,n){t&&(t.style[e]=function(e){return/^[0-9.]+$/.test(e)?e+"px":e}(n))}},$={getMaxWidth:V("maxWidth"),getMaxHeight:V("maxHeight"),setMaxWidth:U("maxWidth"),setMaxHeight:U("maxHeight")},q=function(e,t){if(e)for(var n=0;n<e.length;n++)if(-1!==t.indexOf(e[n].filter))return e[n]},W=j.DOM,Y=function(e){return W.getAttrib(e,"data-ephox-embed-iri")},X=function(e,t){return function(e){var t=W.createFragment(e);return""!==Y(t.firstChild)}(t)?function(e){var t=W.createFragment(e).firstChild;return{type:"ephox-embed-iri",source1:Y(t),source2:"",poster:"",width:$.getMaxWidth(t),height:$.getMaxHeight(t)}}(t):function(e,t){var n={};return H({validate:!1,allow_conditional_comments:!0,start:function(t,r){if(n.source1||"param"!==t||(n.source1=r.map.movie),"iframe"!==t&&"object"!==t&&"embed"!==t&&"video"!==t&&"audio"!==t||(n.type||(n.type=t),n=F.extend(r.map,n)),"script"===t){var o=q(e,r.map.src);if(!o)return;n={type:"script",source1:r.map.src,width:String(o.width),height:String(o.height)}}"source"===t&&(n.source1?n.source2||(n.source2=r.map.src):n.source1=r.map.src),"img"!==t||n.poster||(n.poster=r.map.src)}}).parse(t),n.source1=n.source1||n.src||n.data,n.source2=n.source2||"",n.poster=n.poster||"",n}(e,t)},G=tinymce.util.Tools.resolve("tinymce.util.Promise"),K=function(e){var t={mp3:"audio/mpeg",m4a:"audio/x-m4a",wav:"audio/wav",mp4:"video/mp4",webm:"video/webm",ogg:"video/ogg",swf:"application/x-shockwave-flash"}[e.toLowerCase().split(".").pop()];return t||""},J=tinymce.util.Tools.resolve("tinymce.html.Writer"),Q=tinymce.util.Tools.resolve("tinymce.html.Schema"),Z=j.DOM,ee=function(e,t){var n,r,o,i;for(n in t)if(o=""+t[n],e.map[n])for(r=e.length;r--;)(i=e[r]).name===n&&(o?(e.map[n]=o,i.value=o):(delete e.map[n],e.splice(r,1)));else o&&(e.push({name:n,value:o}),e.map[n]=o)},te=function(e,t){var n=Z.createFragment(e).firstChild;return $.setMaxWidth(n,t.width),$.setMaxHeight(n,t.height),function(e){var t=J();return H(t).parse(e),t.getContent()}(n.outerHTML)},ne=function(e,t,n){return function(e){var t=Z.createFragment(e);return""!==Z.getAttrib(t.firstChild,"data-ephox-embed-iri")}(e)?te(e,t):function(e,t,n){var r,o=J(),i=0;return H({validate:!1,allow_conditional_comments:!0,comment:function(e){o.comment(e)},cdata:function(e){o.cdata(e)},text:function(e,t){o.text(e,t)},start:function(e,a,u){switch(e){case"video":case"object":case"embed":case"img":case"iframe":void 0!==t.height&&void 0!==t.width&&ee(a,{width:t.width,height:t.height})}if(n)switch(e){case"video":ee(a,{poster:t.poster,src:""}),t.source2&&ee(a,{src:""});break;case"iframe":ee(a,{src:t.source1});break;case"source":if(++i<=2&&(ee(a,{src:t["source"+i],type:t["source"+i+"mime"]}),!t["source"+i]))return;break;case"img":if(!t.poster)return;r=!0}o.start(e,a,u)},end:function(e){if("video"===e&&n)for(var a=1;a<=2;a++)if(t["source"+a]){var u=[];u.map={},i<a&&(ee(u,{src:t["source"+a],type:t["source"+a+"mime"]}),o.start("source",u,!0))}if(t.poster&&"object"===e&&n&&!r){var s=[];s.map={},ee(s,{src:t.poster,width:t.width,height:t.height}),o.start("img",s,!0)}o.end(e)}},Q({})).parse(e),o.getContent()}(e,t,n)},re=[{regex:/youtu\.be\/([\w\-_\?&=.]+)/i,type:"iframe",w:560,h:314,url:"//www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/youtube\.com(.+)v=([^&]+)(&([a-z0-9&=\-_]+))?/i,type:"iframe",w:560,h:314,url:"//www.youtube.com/embed/$2?$4",allowFullscreen:!0},{regex:/youtube.com\/embed\/([a-z0-9\?&=\-_]+)/i,type:"iframe",w:560,h:314,url:"//www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)/,type:"iframe",w:425,h:350,url:"//player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)/,type:"iframe",w:425,h:350,url:"//player.vimeo.com/video/$2?title=0&amp;byline=0",allowFullscreen:!0},{regex:/maps\.google\.([a-z]{2,3})\/maps\/(.+)msid=(.+)/,type:"iframe",w:425,h:350,url:'//maps.google.com/maps/ms?msid=$2&output=embed"',allowFullscreen:!1},{regex:/dailymotion\.com\/video\/([^_]+)/,type:"iframe",w:480,h:270,url:"//www.dailymotion.com/embed/video/$1",allowFullscreen:!0},{regex:/dai\.ly\/([^_]+)/,type:"iframe",w:480,h:270,url:"//www.dailymotion.com/embed/video/$1",allowFullscreen:!0}],oe=function(e,t){for(var n=e.regex.exec(t),r=e.url,o=function(e){r=r.replace("$"+e,(function(){return n[e]?n[e]:""}))},i=0;i<n.length;i++)o(i);return r.replace(/\?$/,"")},ie=function(e,t){var n=F.extend({},t);if(!n.source1&&(F.extend(n,X(D(e),n.embed)),!n.source1))return"";n.source2||(n.source2=""),n.poster||(n.poster=""),n.source1=e.convertURL(n.source1,"source"),n.source2=e.convertURL(n.source2,"source"),n.source1mime=K(n.source1),n.source2mime=K(n.source2),n.poster=e.convertURL(n.poster,"poster");var r=function(e){var t=re.filter((function(t){return t.regex.test(e)}));return t.length>0?F.extend({},t[0],{url:oe(t[0],e)}):null}(n.source1);if(r&&(n.source1=r.url,n.type=r.type,n.allowFullscreen=r.allowFullscreen,n.width=n.width||String(r.w),n.height=n.height||String(r.h)),n.embed)return ne(n.embed,n,!0);var o=q(D(e),n.source1);o&&(n.type="script",n.width=String(o.width),n.height=String(o.height));var i=N(e),a=M(e);return n.width=n.width||"300",n.height=n.height||"150",F.each(n,(function(t,r){n[r]=e.dom.encode(""+t)})),"iframe"===n.type?function(e){var t=e.allowFullscreen?' allowFullscreen="1"':"";return'<iframe src="'+e.source1+'" width="'+e.width+'" height="'+e.height+'"'+t+"></iframe>"}(n):"application/x-shockwave-flash"===n.source1mime?function(e){var t='<object data="'+e.source1+'" width="'+e.width+'" height="'+e.height+'" type="application/x-shockwave-flash">';return e.poster&&(t+='<img src="'+e.poster+'" width="'+e.width+'" height="'+e.height+'" />'),t+="</object>"}(n):-1!==n.source1mime.indexOf("audio")?function(e,t){return t?t(e):'<audio controls="controls" src="'+e.source1+'">'+(e.source2?'\n<source src="'+e.source2+'"'+(e.source2mime?' type="'+e.source2mime+'"':"")+" />\n":"")+"</audio>"}(n,i):"script"===n.type?function(e){return'<script src="'+e.source1+'"><\/script>'}(n):function(e,t){return t?t(e):'<video width="'+e.width+'" height="'+e.height+'"'+(e.poster?' poster="'+e.poster+'"':"")+' controls="controls">\n<source src="'+e.source1+'"'+(e.source1mime?' type="'+e.source1mime+'"':"")+" />\n"+(e.source2?'<source src="'+e.source2+'"'+(e.source2mime?' type="'+e.source2mime+'"':"")+" />\n":"")+"</video>"}(n,a)},ae={},ue=function(e){return function(t){return ie(e,t)}},se=function(e,t){var n=I(e);return n?function(e,t,n){return new G((function(r,o){var i=function(n){return n.html&&(ae[e.source1]=n),r({url:e.source1,html:n.html?n.html:t(e)})};ae[e.source1]?i(ae[e.source1]):n({url:e.source1},i,o)}))}(t,ue(e),n):function(e,t){return new G((function(n){n({html:t(e),url:e.source1})}))}(t,ue(e))},ce=function(e){return ae.hasOwnProperty(e)},le=function(e){var t=E(e,{source1:e.source1.value,source2:_(e,"source2").bind((function(e){return _(e,"value")})).getOr(""),poster:_(e,"poster").bind((function(e){return _(e,"value")})).getOr("")});return _(e,"dimensions").each((function(e){C(["width","height"],(function(n){_(e,n).each((function(e){return t[n]=e}))}))})),t},fe=function(e){var t=E(e,{source1:{value:_(e,"source1").getOr("")},source2:{value:_(e,"source2").getOr("")},poster:{value:_(e,"poster").getOr("")}});return C(["width","height"],(function(n){_(e,n).each((function(e){var r=t.dimensions||{};r[n]=e,t.dimensions=r}))})),t},de=function(e){return function(t){var n=t&&t.msg?"Media embed handler error: "+t.msg:"Media embed handler threw unknown error.";e.notificationManager.open({type:"error",text:n})}},pe=function(e,t){return X(D(e),t)},me=function(e,t){return function(n){if(v(n.url)&&n.url.trim().length>0){var r=n.html,o=pe(t,r),i=a(a({},o),{source1:n.url,embed:r});e.setData(fe(i))}}},he=function(e,t){var n=e.dom.select("img[data-mce-object]");e.insertContent(t),function(e,t){for(var n=e.dom.select("img[data-mce-object]"),r=0;r<t.length;r++)for(var o=n.length-1;o>=0;o--)t[r]===n[o]&&n.splice(o,1);e.selection.select(n[0])}(e,n),e.nodeChanged()},ge=function(e){var t=function(e){var t=e.selection.getNode(),n=function(e){return e.getAttribute("data-mce-object")||e.getAttribute("data-ephox-embed-iri")}(t)?e.serializer.serialize(t,{selection:!0}):"";return E({embed:n},X(D(e),n))}(e),n=S(t),r=fe(t),o=function(e){return le(e.getData())},i=L(e)?[{type:"sizeinput",name:"dimensions",label:"Constrain proportions",constrain:!0}]:[],u={title:"General",name:"general",items:k([[{name:"source1",type:"urlinput",filetype:"media",label:"Source"}],i])},s={title:"Embed",items:[{type:"textarea",name:"embed",label:"Paste your embed code below:"}]},c=[];B(e)&&c.push({name:"source2",type:"urlinput",filetype:"media",label:"Alternative source URL"}),P(e)&&c.push({name:"poster",type:"urlinput",filetype:"image",label:"Media poster (Image URL)"});var l={title:"Advanced",name:"advanced",items:c},f=[u,s];c.length>0&&f.push(l);var d={type:"tabpanel",tabs:f},p=e.windowManager.open({title:"Insert/Edit Media",size:"normal",body:d,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:function(t){var r=o(t);!function(e,t,n){t.embed=ne(t.embed,t),t.embed&&(e.source1===t.source1||ce(t.source1))?he(n,t.embed):se(n,t).then((function(e){he(n,e.html)})).catch(de(n))}(n.get(),r,e),t.close()},onChange:function(t,r){switch(r.name){case"source1":!function(t,n){var r=o(n);t.source1!==r.source1&&(me(p,e)({url:r.source1,html:""}),se(e,r).then(me(p,e)).catch(de(e)))}(n.get(),t);break;case"embed":!function(t){var n=le(t.getData()),r=pe(e,n.embed);t.setData(fe(r))}(t);break;case"dimensions":case"poster":!function(t){var n=o(t),r=ie(e,n);t.setData(fe(a(a({},n),{embed:r})))}(t)}n.set(o(t))},initialData:r})},ve={get:function(e){return{showDialog:function(){ge(e)}}}},be={register:function(e){e.addCommand("mceMedia",(function(){ge(e)}))}},ye=tinymce.util.Tools.resolve("tinymce.html.Node"),we=tinymce.util.Tools.resolve("tinymce.Env"),xe=function(e,t){if(!1===z(e))return t;var n,r=J();return H({validate:!1,allow_conditional_comments:!1,comment:function(e){r.comment(e)},cdata:function(e){r.cdata(e)},text:function(e,t){r.text(e,t)},start:function(t,o,i){if(n=!0,"script"!==t&&"noscript"!==t){for(var a=0;a<o.length;a++){if(0===o[a].name.indexOf("on"))return;"style"===o[a].name&&(o[a].value=e.dom.serializeStyle(e.dom.parseStyle(o[a].value),t))}r.start(t,o,i),n=!1}},end:function(e){n||r.end(e)}},Q({})).parse(t),r.getContent()},Ce=function(e,t){var n,r=t.name;return(n=new ye("img",1)).shortEnded=!0,Se(e,t,n),n.attr({width:t.attr("width")||"300",height:t.attr("height")||("audio"===r?"30":"150"),style:t.attr("style"),src:we.transparentSrc,"data-mce-object":r,class:"mce-object mce-object-"+r}),n},ke=function(e,t){var n,r,o,i=t.name;return(n=new ye("span",1)).attr({contentEditable:"false",style:t.attr("style"),"data-mce-object":i,class:"mce-preview-object mce-object-"+i}),Se(e,t,n),(r=new ye(i,1)).attr({src:t.attr("src"),allowfullscreen:t.attr("allowfullscreen"),style:t.attr("style"),class:t.attr("class"),width:t.attr("width"),height:t.attr("height"),frameborder:"0"}),(o=new ye("span",1)).attr("class","mce-shim"),n.append(r),n.append(o),n},Se=function(e,t,n){var r,o,i,a,u;for(a=(i=t.attributes).length;a--;)r=i[a].name,o=i[a].value,"width"!==r&&"height"!==r&&"style"!==r&&("data"!==r&&"src"!==r||(o=e.convertURL(o,r)),n.attr("data-mce-p-"+r,o));(u=t.firstChild&&t.firstChild.value)&&(n.attr("data-mce-html",escape(xe(e,u))),n.firstChild=null)},Te=function(e){var t=e.attr("class");return t&&/\btiny-pageembed\b/.test(t)},Ee=function(e){for(;e=e.parent;)if(e.attr("data-ephox-embed-iri")||Te(e))return!0;return!1},Oe=function(e){return function(t){for(var n,r,o=t.length;o--;)(n=t[o]).parent&&(n.parent.attr("data-mce-object")||("script"!==n.name||(r=q(D(e),n.attr("src"))))&&(r&&(r.width&&n.attr("width",r.width.toString()),r.height&&n.attr("height",r.height.toString())),"iframe"===n.name&&R(e)&&we.ceFalse?Ee(n)||n.replace(ke(e,n)):Ee(n)||n.replace(Ce(e,n))))}},_e={setup:function(e){e.on("preInit",(function(){var t=e.schema.getSpecialElements();F.each("video audio iframe object".split(" "),(function(e){t[e]=new RegExp("</"+e+"[^>]*>","gi")}));var n=e.schema.getBoolAttrs();F.each("webkitallowfullscreen mozallowfullscreen allowfullscreen".split(" "),(function(e){n[e]={}})),e.parser.addNodeFilter("iframe,video,audio,object,embed,script",Oe(e)),e.serializer.addAttributeFilter("data-mce-object",(function(t,n){for(var r,o,i,a,u,s,c,l,f=t.length;f--;)if((r=t[f]).parent){for(c=r.attr(n),o=new ye(c,1),"audio"!==c&&"script"!==c&&((l=r.attr("class"))&&-1!==l.indexOf("mce-preview-object")?o.attr({width:r.firstChild.attr("width"),height:r.firstChild.attr("height")}):o.attr({width:r.attr("width"),height:r.attr("height")})),o.attr({style:r.attr("style")}),i=(a=r.attributes).length;i--;){var d=a[i].name;0===d.indexOf("data-mce-p-")&&o.attr(d.substr(11),a[i].value)}"script"===c&&o.attr("type","text/javascript"),(u=r.attr("data-mce-html"))&&((s=new ye("#text",3)).raw=!0,s.value=xe(e,unescape(u)),o.append(s)),r.replace(o)}}))})),e.on("SetContent",(function(){e.$("span.mce-preview-object").each((function(t,n){var r=e.$(n);0===r.find("span.mce-shim").length&&r.append('<span class="mce-shim"></span>')}))}))}},Ae={setup:function(e){e.on("ResolveName",(function(e){var t;1===e.target.nodeType&&(t=e.target.getAttribute("data-mce-object"))&&(e.name=t)}))}},De={setup:function(e){e.on("click keyup touchend",(function(){var t=e.selection.getNode();t&&e.dom.hasClass(t,"mce-preview-object")&&e.dom.getAttrib(t,"data-mce-selected")&&t.setAttribute("data-mce-selected","2")})),e.on("ObjectSelected",(function(e){var t=e.target.getAttribute("data-mce-object");"audio"!==t&&"script"!==t||e.preventDefault()})),e.on("ObjectResized",(function(e){var t,n=e.target;n.getAttribute("data-mce-object")&&(t=n.getAttribute("data-mce-html"))&&(t=unescape(t),n.setAttribute("data-mce-html",escape(ne(t,{width:String(e.width),height:String(e.height)}))))}))}},Ne=function(e,t){return function(n){return e.selection.selectorChangedWithUnbind(t.join(","),n.setActive).unbind}},Me={register:function(e){e.ui.registry.addToggleButton("media",{tooltip:"Insert/edit media",icon:"embed",onAction:function(){e.execCommand("mceMedia")},onSetup:Ne(e,["img[data-mce-object]","span[data-mce-object]","div[data-ephox-embed-iri]"])}),e.ui.registry.addMenuItem("media",{icon:"embed",text:"Media...",onAction:function(){e.execCommand("mceMedia")}})}};i.add("media",(function(e){return be.register(e),Me.register(e),Ae.setup(e),_e.setup(e),De.setup(e),ve.get(e)}))}()},function(e,t){!function(){"use strict";var e,t,n,r,o,i,a=tinymce.util.Tools.resolve("tinymce.PluginManager"),u=function(){},s=function(e){return function(){return e}},c=function(e){return e},l=s(!1),f=s(!0),d=function(){return(d=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},p="[-'\\.‘’․﹒＇．]",m="[:··״‧︓﹕：]",h="[±+*/,;;։،؍٬߸⁄︐︔﹐﹔，；]",g="[0-9٠-٩٫۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꩐-꩙꯰-꯹]",v="\\r",b="\\n",y="[\v\f\u2028\u2029]",w="[̀-ͯ҃-҉֑-ׇֽֿׁׂׅׄؐ-ًؚ-ٰٟۖ-ۜ۟-۪ۤۧۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ऀ-ःऺ-़ा-ॏ॑-ॗॢॣঁ-ঃ়া-ৄেৈো-্ৗৢৣਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑੰੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୢୣஂா-ூெ-ைொ-்ௗఁ-ఃా-ౄె-ైొ-్ౕౖౢౣಂಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣംഃാ-ൄെ-ൈൊ-്ൗൢൣංඃ්ා-ුූෘ-ෟෲෳัิ-ฺ็-๎ັິ-ູົຼ່-ໍ༹༘༙༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏႚ-ႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳា-៓៝᠋-᠍ᢩᤠ-ᤫᤰ-᤻ᦰ-ᧀᧈᧉᨗ-ᨛᩕ-ᩞ᩠-᩿᩼ᬀ-ᬄ᬴-᭄᭫-᭳ᮀ-ᮂᮡ-᯦᮪-᯳ᰤ-᰷᳐-᳔᳒-᳨᳭ᳲ᷀-ᷦ᷼-᷿‌‍⃐-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯꙯-꙲꙼꙽꛰꛱ꠂ꠆ꠋꠣ-ꠧꢀꢁꢴ-꣄꣠-꣱ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀ꨩ-ꨶꩃꩌꩍꩻꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꯣ-ꯪ꯬꯭ﬞ︀-️︠-︦ﾞﾟ]",x="[­؀-؃۝܏឴឵‎‏‪-‮⁠-⁤⁪-⁯\ufeff￹-￻]",C="[〱-〵゛゜゠-ヺー-ヿㇰ-ㇿ㋐-㋾㌀-㍗ｦ-ﾝ]",k="[=_‿⁀⁔︳︴﹍-﹏＿∀-⋿<>]",S="[!-#%-*,-\\/:;?@\\[-\\]_{}¡«·»¿;·՚-՟։֊־׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰෴๏๚๛༄-༒༺-༽྅࿐-࿔࿙࿚၊-၏჻፡-፨᐀᙭᙮᚛᚜᛫-᛭᜵᜶។-៖៘-៚᠀-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳓‐-‧‰-⁃⁅-⁑⁓-⁞⁽⁾₍₎〈〉❨-❵⟅⟆⟦-⟯⦃-⦘⧘-⧛⧼⧽⳹-⳼⳾⳿⵰⸀-⸮⸰⸱、-〃〈-】〔-〟〰〽゠・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꯫﴾﴿︐-︙︰-﹒﹔-﹡﹣﹨﹪﹫！-＃％-＊，-／：；？＠［-］＿｛｝｟-･]",T=0,E=1,O=2,_=3,A=4,D=5,N=6,M=7,R=8,z=9,I=10,B=11,P=12,L=13,F=[new RegExp("[A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-׳ؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆༀཀ-ཇཉ-ཬྈ-ྌႠ-Ⴥა-ჺჼᄀ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᨀ-ᨖᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᯀ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⒶ-ⓩⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⴀ-ⴥⴰ-ⵥⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〻〼ㄅ-ㄭㄱ-ㆎㆠ-ㆺꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐꞑꞠ-ꞩꟺ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚﾠ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]"),new RegExp(p),new RegExp(m),new RegExp(h),new RegExp(g),new RegExp(v),new RegExp(b),new RegExp(y),new RegExp(w),new RegExp(x),new RegExp(C),new RegExp(k),new RegExp("@")],H=new RegExp("^"+S+"$"),j=function(){return V},V=(e=function(e){return e.isNone()},r={fold:function(e,t){return e()},is:l,isSome:l,isNone:f,getOr:n=function(e){return e},getOrThunk:t=function(e){return e()},getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:s(null),getOrUndefined:s(void 0),or:n,orThunk:t,map:j,each:u,bind:j,exists:l,forall:f,filter:j,equals:e,equals_:e,toArray:function(){return[]},toString:s("none()")},Object.freeze&&Object.freeze(r),r),U=(o="function",function(e){return function(e){if(null===e)return"null";var t=typeof e;return"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t}(e)===o}),$=Array.prototype.slice,q=(U(Array.from)&&Array.from,F),W=L,Y=function(e){for(var t=W,n=q.length,r=0;r<n;++r){var o=q[r];if(o&&o.test(e)){t=r;break}}return t},X=function(e){var t,n;return function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o)}return r}(e,(t=Y,n={},function(e){if(n[e])return n[e];var r=t(e);return n[e]=r,r}))},G=function(e,t){var n,r,o=e[t],i=e[t+1];return!(t<0||t>e.length-1&&0!==t)&&((o!==T||i!==T)&&(r=e[t+2],(o!==T||i!==O&&i!==E&&i!==P||r!==T)&&(n=e[t-1],(o!==O&&o!==E&&i!==P||i!==T||n!==T)&&((o!==A&&o!==T||i!==A&&i!==T)&&((o!==_&&o!==E||i!==A||n!==A)&&((o!==A||i!==_&&i!==E||r!==A)&&(o!==R&&o!==z&&n!==R&&n!==z&&i!==R&&i!==z&&((o!==D||i!==N)&&(o===M||o===D||o===N||(i===M||i===D||i===N||(o!==I||i!==I)&&((i!==B||o!==T&&o!==A&&o!==I&&o!==B)&&((o!==B||i!==T&&i!==A&&i!==I)&&o!==P))))))))))))},K=/^\s+$/,J=H,Q=function(e){return"http"===e||"https"===e},Z=function(e,t){var n=function(e,t){var n;for(n=t;n<e.length&&!K.test(e[n]);n++);return n}(e,t+1);return"://"===e.slice(t+1,n).join("").substr(0,3)?n:t},ee=function(e,t,n){n=d(d({},{includeWhitespace:!1,includePunctuation:!1}),n);for(var r=[],o=[],i=0;i<e.length;i++){var a=t(e[i]);"\ufeff"!==a&&(r.push(e[i]),o.push(a))}return function(e,t,n,r){for(var o=[],i=[],a=0;a<n.length;++a)if(i.push(e[a]),G(n,a)){var u=t[a];if((r.includeWhitespace||!K.test(u))&&(r.includePunctuation||!J.test(u))){var s=a-i.length+1,c=a+1,l=t.slice(s,c).join("");if(Q(l)){var f=Z(t,a),d=e.slice(c,f);Array.prototype.push.apply(i,d),a=f}o.push(i)}i=[]}return o}(r,o,X(o),n)},te=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),ne=function(e,t){for(var n=t.getBlockElements(),r=t.getShortEndedElements(),o=function(e){return n[e.nodeName]||r[e.nodeName]},i=[],a="",u=new te(e,e);e=u.next();)3===e.nodeType?a+=e.data:o(e)&&a.length&&(i.push(a),a="");return a.length&&i.push(a),i},re=function(e){return e.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length},oe=function(e,t){var n=ne(e,t).join("\n");return ee(n.split(""),c).length},ie=function(e,t){var n=ne(e,t).join("");return re(n)},ae=function(e,t){var n=ne(e,t).join("").replace(/\s/g,"");return re(n)},ue=function(e,t){return function(){return t(e.getBody(),e.schema)}},se=function(e,t){return function(){return t(e.selection.getRng().cloneContents(),e.schema)}},ce=function(e){return ue(e,oe)},le=function(e){return{body:{getWordCount:ce(e),getCharacterCount:ue(e,ie),getCharacterCountWithoutSpaces:ue(e,ae)},selection:{getWordCount:se(e,oe),getCharacterCount:se(e,ie),getCharacterCountWithoutSpaces:se(e,ae)},getCount:ce(e)}},fe=tinymce.util.Tools.resolve("tinymce.util.Delay"),de=function(e,t){!function(e,t){e.fire("wordCountUpdate",{wordCount:{words:t.body.getWordCount(),characters:t.body.getCharacterCount(),charactersWithoutSpaces:t.body.getCharacterCountWithoutSpaces()}})}(e,t)},pe=function(e,t,n){var r=fe.debounce((function(){return de(e,t)}),n);e.on("init",(function(){de(e,t),fe.setEditorTimeout(e,(function(){e.on("SetContent BeforeAddUndo Undo Redo keyup",r)}),0)}))},me=function(e,t){e.windowManager.open({title:"Word Count",body:{type:"panel",items:[{type:"table",header:["Count","Document","Selection"],cells:[["Words",String(t.body.getWordCount()),String(t.selection.getWordCount())],["Characters (no spaces)",String(t.body.getCharacterCountWithoutSpaces()),String(t.selection.getCharacterCountWithoutSpaces())],["Characters",String(t.body.getCharacterCount()),String(t.selection.getCharacterCount())]]}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}]})},he=function(e,t){e.ui.registry.addButton("wordcount",{tooltip:"Word count",icon:"character-count",onAction:function(){return me(e,t)}}),e.ui.registry.addMenuItem("wordcount",{text:"Word count",icon:"character-count",onAction:function(){return me(e,t)}})};void 0===i&&(i=300),a.add("wordcount",(function(e){var t=le(e);return he(e,t),pe(e,t,i),t}))}()},function(e,t){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),n=tinymce.util.Tools.resolve("tinymce.util.Tools"),r=function(e){return e.getParam("save_enablewhendirty",!0)},o=function(e){return!!e.getParam("save_onsavecallback")},i=function(e){return!!e.getParam("save_oncancelcallback")},a=function(e,t){e.notificationManager.open({text:t,type:"error"})},u=function(e){var n;if(n=t.DOM.getParent(e.id,"form"),!r(e)||e.isDirty()){if(e.save(),o(e))return e.execCallback("save_onsavecallback",e),void e.nodeChanged();n?(e.setDirty(!1),n.onsubmit&&!n.onsubmit()||("function"==typeof n.submit?n.submit():a(e,"Error: Form submit field collision.")),e.nodeChanged()):a(e,"Error: No form element found.")}},s=function(e){var t=n.trim(e.startContent);i(e)?e.execCallback("save_oncancelcallback",e):e.resetContent(t)},c={register:function(e){e.addCommand("mceSave",(function(){u(e)})),e.addCommand("mceCancel",(function(){s(e)}))}},l=function(e){return function(t){var n=function(){t.setDisabled(r(e)&&!e.isDirty())};return e.on("NodeChange dirty",n),function(){return e.off("NodeChange dirty",n)}}},f={register:function(e){e.ui.registry.addButton("save",{icon:"save",tooltip:"Save",disabled:!0,onAction:function(){return e.execCommand("mceSave")},onSetup:l(e)}),e.ui.registry.addButton("cancel",{icon:"cancel",tooltip:"Cancel",disabled:!0,onAction:function(){return e.execCommand("mceCancel")},onSetup:l(e)}),e.addShortcut("Meta+S","","mceSave")}};e.add("save",(function(e){f.register(e),c.register(e)}))}()},function(e,t){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=function(e){var t=e.getParam("nonbreaking_force_tab",0);return"boolean"==typeof t?!0===t?3:0:t},n=function(e){return e.getParam("nonbreaking_wrap",!0,"boolean")},r=function(e,t){for(var n="",r=0;r<t;r++)n+=e;return n},o=function(e,t){var o=n(e)||e.plugins.visualchars?'<span class="'+(function(e){return!!e.plugins.visualchars&&e.plugins.visualchars.isEnabled()}(e)?"mce-nbsp-wrap mce-nbsp":"mce-nbsp-wrap")+'" contenteditable="false">'+r("&nbsp;",t)+"</span>":r("&nbsp;",t);e.undoManager.transact((function(){return e.insertContent(o)}))},i={register:function(e){e.addCommand("mceNonBreaking",(function(){o(e,1)}))}},a=tinymce.util.Tools.resolve("tinymce.util.VK"),u={setup:function(e){var n=t(e);n>0&&e.on("keydown",(function(t){if(t.keyCode===a.TAB&&!t.isDefaultPrevented()){if(t.shiftKey)return;t.preventDefault(),t.stopImmediatePropagation(),o(e,n)}}))}},s={register:function(e){e.ui.registry.addButton("nonbreaking",{icon:"non-breaking",tooltip:"Nonbreaking space",onAction:function(){return e.execCommand("mceNonBreaking")}}),e.ui.registry.addMenuItem("nonbreaking",{icon:"non-breaking",text:"Nonbreaking space",onAction:function(){return e.execCommand("mceNonBreaking")}})}};e.add("nonbreaking",(function(e){i.register(e),s.register(e),u.setup(e)}))}()},function(e,t){!function(e){"use strict";var t=function(e){var n=e,r=function(){return n};return{get:r,set:function(e){n=e},clone:function(){return t(r())}}},n=function(){},r=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e(t.apply(null,n))}},o=function(e){return function(){return e}},i=function(e){return e};function a(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=t.concat(n);return e.apply(null,o)}}var u=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return!e.apply(null,t)}},s=o(!1),c=o(!0),l=function(){return f},f=function(){var e=function(e){return e.isNone()},t=function(e){return e()},r=function(e){return e},i={fold:function(e,t){return e()},is:s,isSome:s,isNone:c,getOr:r,getOrThunk:t,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:o(null),getOrUndefined:o(void 0),or:r,orThunk:t,map:l,each:n,bind:l,exists:s,forall:c,filter:l,equals:e,equals_:e,toArray:function(){return[]},toString:o("none()")};return Object.freeze&&Object.freeze(i),i}(),d=function(e){var t=o(e),n=function(){return i},r=function(t){return t(e)},i={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:c,isNone:s,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return d(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?i:f},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(s,(function(t){return n(e,t)}))}};return i},p={some:d,none:l,from:function(e){return null==e?f:d(e)}},m=tinymce.util.Tools.resolve("tinymce.PluginManager"),h=function(e){return function(t){return function(e){if(null===e)return"null";var t=typeof e;return"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t}(t)===e}},g=h("string"),v=h("array"),b=h("boolean"),y=h("function"),w=h("number"),x=Array.prototype.slice,C=Array.prototype.indexOf,k=Array.prototype.push,S=function(e,t){return n=e,r=t,C.call(n,r)>-1;var n,r},T=function(e,t){for(var n=0,r=e.length;n<r;n++){if(t(e[n],n))return!0}return!1},E=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o)}return r},O=function(e,t){for(var n=0,r=e.length;n<r;n++){t(e[n],n)}},_=function(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];t(i,r)&&n.push(i)}return n},A=function(e,t,n){return function(e,t){for(var n=e.length-1;n>=0;n--){t(e[n],n)}}(e,(function(e){n=t(n,e)})),n},D=function(e,t,n){return O(e,(function(e){n=t(n,e)})),n},N=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];if(t(o,n))return p.some(o)}return p.none()},M=function(e,t){for(var n=0,r=e.length;n<r;n++){if(t(e[n],n))return p.some(n)}return p.none()},R=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!v(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);k.apply(t,e[n])}return t},z=function(e,t){var n=E(e,t);return R(n)},I=function(e,t){for(var n=0,r=e.length;n<r;++n){if(!0!==t(e[n],n))return!1}return!0},B=function(e){var t=x.call(e,0);return t.reverse(),t},P=(y(Array.from)&&Array.from,Object.keys),L=Object.hasOwnProperty,F=function(e,t){for(var n=P(e),r=0,o=n.length;r<o;r++){var i=n[r];t(e[i],i)}},H=function(e,t){return j(e,(function(e,n){return{k:n,v:t(e,n)}}))},j=function(e,t){var n={};return F(e,(function(e,r){var o=t(e,r);n[o.k]=o.v})),n},V=function(e,t){return U(e,t)?p.from(e[t]):p.none()},U=function(e,t){return L.call(e,t)},$=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(e.length!==t.length)throw new Error('Wrong number of arguments to struct. Expected "['+e.length+']", got '+t.length+" arguments");var r={};return O(e,(function(e,n){r[e]=o(t[n])})),r}},q=function(e){return e.slice(0).sort()},W=function(e,t){throw new Error("All required keys ("+q(e).join(", ")+") were not specified. Specified keys were: "+q(t).join(", ")+".")},Y=function(e){throw new Error("Unsupported keys for object: "+q(e).join(", "))},X=function(e,t){if(!v(t))throw new Error("The "+e+" fields must be an array. Was: "+t+".");O(t,(function(t){if(!g(t))throw new Error("The value "+t+" in the "+e+" fields was not a string.")}))},G=function(e){var t=q(e);N(t,(function(e,n){return n<t.length-1&&e===t[n+1]})).each((function(e){throw new Error("The field: "+e+" occurs more than once in the combined fields: ["+t.join(", ")+"].")}))},K=function(e,t){var n=e.concat(t);if(0===n.length)throw new Error("You must specify at least one required or optional field.");return X("required",e),X("optional",t),G(n),function(r){var i=P(r);I(e,(function(e){return S(i,e)}))||W(e,i);var a=_(i,(function(e){return!S(n,e)}));a.length>0&&Y(a);var u={};return O(e,(function(e){u[e]=o(r[e])})),O(t,(function(e){u[e]=o(Object.prototype.hasOwnProperty.call(r,e)?p.some(r[e]):p.none())})),u}},J=(e.Node.ATTRIBUTE_NODE,e.Node.CDATA_SECTION_NODE,e.Node.COMMENT_NODE),Q=e.Node.DOCUMENT_NODE,Z=(e.Node.DOCUMENT_TYPE_NODE,e.Node.DOCUMENT_FRAGMENT_NODE,e.Node.ELEMENT_NODE),ee=e.Node.TEXT_NODE,te=(e.Node.PROCESSING_INSTRUCTION_NODE,e.Node.ENTITY_REFERENCE_NODE,e.Node.ENTITY_NODE,e.Node.NOTATION_NODE,void 0!==e.window?e.window:Function("return this;")(),function(e){return e.dom().nodeName.toLowerCase()}),ne=function(e){return e.dom().nodeType},re=function(e){return function(t){return ne(t)===e}},oe=function(e){return ne(e)===J||"#comment"===te(e)},ie=re(Z),ae=re(ee),ue=function(t,n,r){if(!(g(r)||b(r)||w(r)))throw e.console.error("Invalid call to Attr.set. Key ",n,":: Value ",r,":: Element ",t),new Error("Attribute value was not simple");t.setAttribute(n,r+"")},se=function(e,t,n){ue(e.dom(),t,n)},ce=function(e,t){var n=e.dom();F(t,(function(e,t){ue(n,t,e)}))},le=function(e,t){var n=e.dom().getAttribute(t);return null===n?void 0:n},fe=function(e,t){var n=e.dom();return!(!n||!n.hasAttribute)&&n.hasAttribute(t)},de=function(e,t){e.dom().removeAttribute(t)},pe=function(e){return D(e.dom().attributes,(function(e,t){return e[t.name]=t.value,e}),{})},me=function(e,t,n){return""===t||!(e.length<t.length)&&e.substr(n,n+t.length)===t},he=function(e,t){return-1!==e.indexOf(t)},ge=function(e,t){return me(e,t,0)},ve=function(e){return void 0!==e.style&&y(e.style.getPropertyValue)},be=function(e){var t,n=!1;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return n||(n=!0,t=e.apply(null,r)),t}},ye=function(e){if(null==e)throw new Error("Node cannot be null or undefined");return{dom:o(e)}},we={fromHtml:function(t,n){var r=(n||e.document).createElement("div");if(r.innerHTML=t,!r.hasChildNodes()||r.childNodes.length>1)throw e.console.error("HTML does not have a single root node",t),new Error("HTML must have a single root node");return ye(r.childNodes[0])},fromTag:function(t,n){var r=(n||e.document).createElement(t);return ye(r)},fromText:function(t,n){var r=(n||e.document).createTextNode(t);return ye(r)},fromDom:ye,fromPoint:function(e,t,n){var r=e.dom();return p.from(r.elementFromPoint(t,n)).map(ye)}},xe=function(e){var t=ae(e)?e.dom().parentNode:e.dom();return null!=t&&t.ownerDocument.body.contains(t)},Ce=be((function(){return ke(we.fromDom(e.document))})),ke=function(e){var t=e.dom().body;if(null==t)throw new Error("Body is not available yet");return we.fromDom(t)},Se=function(t,n,r){if(!g(r))throw e.console.error("Invalid call to CSS.set. Property ",n,":: Value ",r,":: Element ",t),new Error("CSS value must be a string: "+r);ve(t)&&t.style.setProperty(n,r)},Te=function(e,t,n){var r=e.dom();Se(r,t,n)},Ee=function(e,t){var n=e.dom();F(t,(function(e,t){Se(n,t,e)}))},Oe=function(t,n){var r=t.dom(),o=e.window.getComputedStyle(r).getPropertyValue(n),i=""!==o||xe(t)?o:_e(r,n);return null===i?void 0:i},_e=function(e,t){return ve(e)?e.style.getPropertyValue(t):""},Ae=function(e,t){var n=e.dom(),r=_e(n,t);return p.from(r).filter((function(e){return e.length>0}))},De=function(e,t){!function(e,t){ve(e)&&e.style.removeProperty(t)}(e.dom(),t),fe(e,"style")&&""===le(e,"style").replace(/^\s+|\s+$/g,"")&&de(e,"style")},Ne=function(e,t,n){return 0!=(e.compareDocumentPosition(t)&n)},Me=function(t,n){return Ne(t,n,e.Node.DOCUMENT_POSITION_CONTAINED_BY)},Re=function(){return(Re=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},ze=function(){return Ie(0,0)},Ie=function(e,t){return{major:e,minor:t}},Be={nu:Ie,detect:function(e,t){var n=String(t).toLowerCase();return 0===e.length?ze():function(e,t){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t))return r}}(e,t);if(!n)return{major:0,minor:0};var r=function(e){return Number(t.replace(n,"$"+e))};return Ie(r(1),r(2))}(e,n)},unknown:ze},Pe=function(e,t){return function(){return t===e}},Le=function(e){var t=e.current;return{current:t,version:e.version,isEdge:Pe("Edge",t),isChrome:Pe("Chrome",t),isIE:Pe("IE",t),isOpera:Pe("Opera",t),isFirefox:Pe("Firefox",t),isSafari:Pe("Safari",t)}},Fe={unknown:function(){return Le({current:void 0,version:Be.unknown()})},nu:Le,edge:o("Edge"),chrome:o("Chrome"),ie:o("IE"),opera:o("Opera"),firefox:o("Firefox"),safari:o("Safari")},He=function(e,t){return function(){return t===e}},je=function(e){var t=e.current;return{current:t,version:e.version,isWindows:He("Windows",t),isiOS:He("iOS",t),isAndroid:He("Android",t),isOSX:He("OSX",t),isLinux:He("Linux",t),isSolaris:He("Solaris",t),isFreeBSD:He("FreeBSD",t)}},Ve={unknown:function(){return je({current:void 0,version:Be.unknown()})},nu:je,windows:o("Windows"),ios:o("iOS"),android:o("Android"),linux:o("Linux"),osx:o("OSX"),solaris:o("Solaris"),freebsd:o("FreeBSD")},Ue=function(e,t){var n=String(t).toLowerCase();return N(e,(function(e){return e.search(n)}))},$e=function(e,t){return Ue(e,t).map((function(e){var n=Be.detect(e.versionRegexes,t);return{current:e.name,version:n}}))},qe=function(e,t){return Ue(e,t).map((function(e){var n=Be.detect(e.versionRegexes,t);return{current:e.name,version:n}}))},We=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Ye=function(e){return function(t){return he(t,e)}},Xe=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return he(e,"edge/")&&he(e,"chrome")&&he(e,"safari")&&he(e,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,We],search:function(e){return he(e,"chrome")&&!he(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return he(e,"msie")||he(e,"trident")}},{name:"Opera",versionRegexes:[We,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Ye("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Ye("firefox")},{name:"Safari",versionRegexes:[We,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(he(e,"safari")||he(e,"mobile/"))&&he(e,"applewebkit")}}],Ge=[{name:"Windows",search:Ye("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return he(e,"iphone")||he(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Ye("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Ye("os x"),versionRegexes:[/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Ye("linux"),versionRegexes:[]},{name:"Solaris",search:Ye("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Ye("freebsd"),versionRegexes:[]}],Ke={browsers:o(Xe),oses:o(Ge)},Je=function(e,t){var n=Ke.browsers(),r=Ke.oses(),i=$e(n,e).fold(Fe.unknown,Fe.nu),a=qe(r,e).fold(Ve.unknown,Ve.nu),u=function(e,t,n,r){var i=e.isiOS()&&!0===/ipad/i.test(n),a=e.isiOS()&&!i,u=e.isiOS()||e.isAndroid(),s=u||r("(pointer:coarse)"),c=i||!a&&u&&r("(min-device-width:768px)"),l=a||u&&!c,f=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n),d=!l&&!c&&!f;return{isiPad:o(i),isiPhone:o(a),isTablet:o(c),isPhone:o(l),isTouch:o(s),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:o(f),isDesktop:o(d)}}(a,i,e,t);return{browser:i,os:a,deviceType:u}},Qe=t(Je(e.navigator.userAgent,(function(t){return e.window.matchMedia(t).matches}))),Ze=function(){return Qe.get()},et=Z,tt=Q,nt=function(e,t){var n=e.dom();if(n.nodeType!==et)return!1;var r=n;if(void 0!==r.matches)return r.matches(t);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(t);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(t);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},rt=function(e){return e.nodeType!==et&&e.nodeType!==tt||0===e.childElementCount},ot=function(e,t){return e.dom()===t.dom()},it=Ze().browser.isIE()?function(e,t){return Me(e.dom(),t.dom())}:function(e,t){var n=e.dom(),r=t.dom();return n!==r&&n.contains(r)},at=nt,ut=function(e){return we.fromDom(e.dom().ownerDocument)},st=function(e){return p.from(e.dom().parentNode).map(we.fromDom)},ct=function(e,t){for(var n=y(t)?t:s,r=e.dom(),o=[];null!==r.parentNode&&void 0!==r.parentNode;){var i=r.parentNode,a=we.fromDom(i);if(o.push(a),!0===n(a))break;r=i}return o},lt=function(e){return p.from(e.dom().previousSibling).map(we.fromDom)},ft=function(e){return p.from(e.dom().nextSibling).map(we.fromDom)},dt=function(e){return E(e.dom().childNodes,we.fromDom)},pt=function(e,t){var n=e.dom().childNodes;return p.from(n[t]).map(we.fromDom)},mt=($("element","offset"),function(e,t){st(e).each((function(n){n.dom().insertBefore(t.dom(),e.dom())}))}),ht=function(e,t){ft(e).fold((function(){st(e).each((function(e){vt(e,t)}))}),(function(e){mt(e,t)}))},gt=function(e,t){(function(e){return pt(e,0)})(e).fold((function(){vt(e,t)}),(function(n){e.dom().insertBefore(t.dom(),n.dom())}))},vt=function(e,t){e.dom().appendChild(t.dom())},bt=function(e,t){mt(e,t),vt(t,e)},yt=function(e,t){O(t,(function(n,r){var o=0===r?e:t[r-1];ht(o,n)}))},wt=function(e,t){O(t,(function(t){vt(e,t)}))},xt=function(e){e.dom().textContent="",O(dt(e),(function(e){Ct(e)}))},Ct=function(e){var t=e.dom();null!==t.parentNode&&t.parentNode.removeChild(t)},kt=function(e){var t,n=dt(e);n.length>0&&(t=e,O(n,(function(e){mt(t,e)}))),Ct(e)},St=($("width","height"),$("width","height"),$("rows","columns")),Tt=$("row","column"),Et=($("x","y"),$("element","rowspan","colspan")),Ot=$("element","rowspan","colspan","isNew"),_t=$("element","rowspan","colspan","row","column"),At=$("element","cells","section"),Dt=$("element","isNew"),Nt=$("element","cells","section","isNew"),Mt=$("cells","section"),Rt=$("details","section"),zt=$("startRow","startCol","finishRow","finishCol"),It=function(e,t){var n=[];return O(dt(e),(function(e){t(e)&&(n=n.concat([e])),n=n.concat(It(e,t))})),n},Bt=function(e,t,n){return function(e,t,n){return _(ct(e,n),t)}(e,(function(e){return nt(e,t)}),n)},Pt=function(e,t){return function(e,t){return _(dt(e),t)}(e,(function(e){return nt(e,t)}))},Lt=function(t,n){return function(t,n){var r=void 0===n?e.document:n.dom();return rt(r)?[]:E(r.querySelectorAll(t),we.fromDom)}(n,t)};function Ft(e,t,n,r,o){return e(n,r)?p.some(n):y(o)&&o(n)?p.none():t(n,r,o)}var Ht=function(e,t,n){for(var r=e.dom(),i=y(n)?n:o(!1);r.parentNode;){r=r.parentNode;var a=we.fromDom(r);if(t(a))return p.some(a);if(i(a))break}return p.none()},jt=function(e,t,n){return Ht(e,(function(e){return nt(e,t)}),n)},Vt=function(e,t){return function(e,t){return N(e.dom().childNodes,(function(e){return t(we.fromDom(e))})).map(we.fromDom)}(e,(function(e){return nt(e,t)}))},Ut=function(t,n){return function(t,n){var r=void 0===n?e.document:n.dom();return rt(r)?p.none():p.from(r.querySelector(t)).map(we.fromDom)}(n,t)},$t=function(e,t,n){return Ft(nt,jt,e,t,n)},qt=function(e,t,n){return z(dt(e),(function(e){return nt(e,t)?n(e)?[e]:[]:qt(e,t,n)}))},Wt={firstLayer:function(e,t){return qt(e,t,o(!0))},filterFirstLayer:qt},Yt=function(e,t,n){if(void 0===n&&(n=s),n(t))return p.none();if(S(e,te(t)))return p.some(t);return jt(t,e.join(","),(function(e){return nt(e,"table")||n(e)}))},Xt=function(e,t){return st(t).map((function(t){return Pt(t,e)}))},Gt=a(Xt,"th,td"),Kt=a(Xt,"tr"),Jt=function(e,t){return parseInt(le(e,t),10)},Qt={cell:function(e,t){return Yt(["td","th"],e,t)},firstCell:function(e){return Ut(e,"th,td")},cells:function(e){return Wt.firstLayer(e,"th,td")},neighbourCells:Gt,table:function(e,t){return $t(e,"table",t)},row:function(e,t){return Yt(["tr"],e,t)},rows:function(e){return Wt.firstLayer(e,"tr")},notCell:function(e,t){return Yt(["caption","tr","tbody","tfoot","thead"],e,t)},neighbourRows:Kt,attr:Jt,grid:function(e,t,n){var r=Jt(e,t),o=Jt(e,n);return St(r,o)}},Zt=function(e){var t=Qt.rows(e);return E(t,(function(e){var t=e,n=st(t).map((function(e){var t=te(e);return"tfoot"===t||"thead"===t||"tbody"===t?t:"tbody"})).getOr("tbody"),r=E(Qt.cells(e),(function(e){var t=fe(e,"rowspan")?parseInt(le(e,"rowspan"),10):1,n=fe(e,"colspan")?parseInt(le(e,"colspan"),10):1;return Et(e,t,n)}));return At(t,r,n)}))},en=function(e,t){return E(e,(function(e){var n=E(Qt.cells(e),(function(e){var t=fe(e,"rowspan")?parseInt(le(e,"rowspan"),10):1,n=fe(e,"colspan")?parseInt(le(e,"colspan"),10):1;return Et(e,t,n)}));return At(e,n,t.section())}))},tn=function(e,t){return e+","+t},nn=function(e,t){var n=z(e.all(),(function(e){return e.cells()}));return _(n,t)},rn={generate:function(e){var t={},n=[],r=e.length,i=0;O(e,(function(e,r){var o=[];O(e.cells(),(function(e){for(var n=0;void 0!==t[tn(r,n)];)n++;for(var a=_t(e.element(),e.rowspan(),e.colspan(),r,n),u=0;u<e.colspan();u++)for(var s=0;s<e.rowspan();s++){var c=n+u,l=tn(r+s,c);t[l]=a,i=Math.max(i,c+1)}o.push(a)})),n.push(At(e.element(),o,e.section()))}));var a=St(r,i);return{grid:o(a),access:o(t),all:o(n)}},getAt:function(e,t,n){var r=e.access()[tn(t,n)];return void 0!==r?p.some(r):p.none()},findItem:function(e,t,n){var r=nn(e,(function(e){return n(t,e.element())}));return r.length>0?p.some(r[0]):p.none()},filterItems:nn,justCells:function(e){var t=E(e.all(),(function(e){return e.cells()}));return R(t)}},on=$("minRow","minCol","maxRow","maxCol"),an=function(e,t,n){var r=e[n].element(),o=we.fromTag("td");vt(o,we.fromTag("br")),(t?vt:gt)(r,o)},un=function(e,t){var n=function(e){return nt(e.element(),t)},r=Zt(e),o=rn.generate(r),i=function(e,t){var n=e.grid().columns(),r=e.grid().rows(),o=n,i=0,a=0;return F(e.access(),(function(e){if(t(e)){var n=e.row(),u=n+e.rowspan()-1,s=e.column(),c=s+e.colspan()-1;n<r?r=n:u>i&&(i=u),s<o?o=s:c>a&&(a=c)}})),on(r,o,i,a)}(o,n),a="th:not("+t+"),td:not("+t+")",u=Wt.filterFirstLayer(e,"th,td",(function(e){return nt(e,a)}));return O(u,Ct),function(e,t,n,r){for(var o=t.grid().columns(),i=t.grid().rows(),a=0;a<i;a++)for(var u=!1,s=0;s<o;s++){if(!(a<n.minRow()||a>n.maxRow()||s<n.minCol()||s>n.maxCol()))rn.getAt(t,a,s).filter(r).isNone()?an(e,u,a):u=!0}}(r,o,i,n),function(e,t){var n=_(Wt.firstLayer(e,"tr"),(function(e){return 0===e.dom().childElementCount}));O(n,Ct),t.minCol()!==t.maxCol()&&t.minRow()!==t.maxRow()||O(Wt.firstLayer(e,"th,td"),(function(e){de(e,"rowspan"),de(e,"colspan")})),de(e,"width"),de(e,"height"),De(e,"width"),De(e,"height")}(e,i),e};var sn=function(e,t){var n=function(t){return e(t)?p.from(t.dom().nodeValue):p.none()};return{get:function(r){if(!e(r))throw new Error("Can only get "+t+" value of a "+t+" node");return n(r).getOr("")},getOption:n,set:function(n,r){if(!e(n))throw new Error("Can only set raw "+t+" value of a "+t+" node");n.dom().nodeValue=r}}}(ae,"text"),cn=function(e){return sn.get(e)},ln=function(e){return sn.getOption(e)},fn=function(e,t){sn.set(e,t)},dn=function(e){return"img"===te(e)?1:ln(e).fold((function(){return dt(e).length}),(function(e){return e.length}))},pn=["img","br"],mn=function(e){return ln(e).filter((function(e){return 0!==e.trim().length||e.indexOf(" ")>-1})).isSome()||S(pn,te(e))},hn=function(e){return t=mn,(n=function(e){for(var r=0;r<e.childNodes.length;r++){var o=we.fromDom(e.childNodes[r]);if(t(o))return p.some(o);var i=n(e.childNodes[r]);if(i.isSome())return i}return p.none()})(e.dom());var t,n},gn=function(e){return vn(e,mn)},vn=function(e,t){var n=function(e){for(var r=dt(e),o=r.length-1;o>=0;o--){var i=r[o];if(t(i))return p.some(i);var a=n(i);if(a.isSome())return a}return p.none()};return n(e)},bn=function(e,t){return we.fromDom(e.dom().cloneNode(t))},yn=function(e){return bn(e,!1)},wn=function(e){return bn(e,!0)},xn=function(e,t){var n=function(e,t){var n=we.fromTag(t),r=pe(e);return ce(n,r),n}(e,t),r=dt(wn(e));return wt(n,r),n},Cn=function(){var e=we.fromTag("td");return vt(e,we.fromTag("br")),e},kn=function(e,t,n){var r=xn(e,t);return F(n,(function(e,t){null===e?de(r,t):se(r,t,e)})),r},Sn=function(e){return e},Tn=function(e){return function(){return we.fromTag("tr",e.dom())}},En={cellOperations:function(e,t,n){return{row:Tn(t),cell:function(t){var r,o,i,a,u=ut(t.element()),s=we.fromTag(te(t.element()),u.dom()),c=n.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),l=c.length>0?function(e,t,n){return hn(e).map((function(r){var o=n.join(","),i=Bt(r,o,(function(t){return ot(t,e)}));return A(i,(function(e,t){var n=yn(t);return de(n,"contenteditable"),vt(e,n),n}),t)})).getOr(t)}(t.element(),s,c):s;return vt(l,we.fromTag("br")),r=t.element(),o=s,i=r.dom(),a=o.dom(),ve(i)&&ve(a)&&(a.style.cssText=i.style.cssText),De(s,"height"),1!==t.colspan()&&De(t.element(),"width"),e(t.element(),s),s},replace:kn,gap:Cn}},paste:function(e){return{row:Tn(e),cell:Cn,replace:Sn,gap:Cn}}},On=function(e,t){return t.column()>=e.startCol()&&t.column()+t.colspan()-1<=e.finishCol()&&t.row()>=e.startRow()&&t.row()+t.rowspan()-1<=e.finishRow()},_n=function(e,t){var n=t.column(),r=t.column()+t.colspan()-1,o=t.row(),i=t.row()+t.rowspan()-1;return n<=e.finishCol()&&r>=e.startCol()&&o<=e.finishRow()&&i>=e.startRow()},An=function(e,t){for(var n=!0,r=a(On,t),o=t.startRow();o<=t.finishRow();o++)for(var i=t.startCol();i<=t.finishCol();i++)n=n&&rn.getAt(e,o,i).exists(r);return n?p.some(t):p.none()},Dn=function(e,t,n){var r=rn.findItem(e,t,ot),o=rn.findItem(e,n,ot);return r.bind((function(e){return o.map((function(t){return n=e,r=t,zt(Math.min(n.row(),r.row()),Math.min(n.column(),r.column()),Math.max(n.row()+n.rowspan()-1,r.row()+r.rowspan()-1),Math.max(n.column()+n.colspan()-1,r.column()+r.colspan()-1));var n,r}))}))},Nn=Dn,Mn=function(e,t,n){return Dn(e,t,n).bind((function(t){return An(e,t)}))},Rn=function(e,t,n,r){return rn.findItem(e,t,ot).bind((function(t){var o=n>0?t.row()+t.rowspan()-1:t.row(),i=r>0?t.column()+t.colspan()-1:t.column();return rn.getAt(e,o+n,i+r).map((function(e){return e.element()}))}))},zn=function(e,t,n){return Nn(e,t,n).map((function(t){var n=rn.filterItems(e,a(_n,t));return E(n,(function(e){return e.element()}))}))},In=function(e,t){return rn.findItem(e,t,(function(e,t){return it(t,e)})).map((function(e){return e.element()}))},Bn=function(e){var t=Zt(e);return rn.generate(t)},Pn=function(e,t,n){return Qt.table(e).bind((function(r){var o=Bn(r);return Rn(o,e,t,n)}))},Ln=function(e,t,n){var r=Bn(e);return zn(r,t,n)},Fn=function(e,t,n,r,o){var i=Bn(e),a=ot(e,n)?p.some(t):In(i,t),u=ot(e,o)?p.some(r):In(i,r);return a.bind((function(e){return u.bind((function(t){return zn(i,e,t)}))}))},Hn=function(e,t,n){var r=Bn(e);return Mn(r,t,n)},jn=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"];function Vn(){return{up:o({selector:jt,closest:$t,predicate:Ht,all:ct}),down:o({selector:Lt,predicate:It}),styles:o({get:Oe,getRaw:Ae,set:Te,remove:De}),attrs:o({get:le,set:se,remove:de,copyTo:function(e,t){var n=pe(e);ce(t,n)}}),insert:o({before:mt,after:ht,afterAll:yt,append:vt,appendAll:wt,prepend:gt,wrap:bt}),remove:o({unwrap:kt,remove:Ct}),create:o({nu:we.fromTag,clone:function(e){return we.fromDom(e.dom().cloneNode(!1))},text:we.fromText}),query:o({comparePosition:function(e,t){return e.dom().compareDocumentPosition(t.dom())},prevSibling:lt,nextSibling:ft}),property:o({children:dt,name:te,parent:st,document:function(e){return e.dom().ownerDocument},isText:ae,isComment:oe,isElement:ie,getText:cn,setText:fn,isBoundary:function(e){return!!ie(e)&&("body"===te(e)||S(jn,te(e)))},isEmptyTag:function(e){return!!ie(e)&&S(["br","img","hr","input"],te(e))}}),eq:ot,is:at}}var Un=$("left","right"),$n=$("first","second","splits"),qn=function(e,t,n){var r=e.property().children(t);return M(r,a(e.eq,n)).map((function(e){return{before:o(r.slice(0,e)),after:o(r.slice(e+1))}}))},Wn=function(e,t,n,r){var o=t(e,n);return A(r,(function(n,r){var o=t(e,r);return Yn(e,n,o)}),o)},Yn=function(e,t,n){return t.bind((function(t){return n.filter(a(e.eq,t))}))},Xn=function(e,t){return a(e.eq,t)},Gn=function(e,t,n,r){void 0===r&&(r=s);var i=[t].concat(e.up().all(t)),a=[n].concat(e.up().all(n)),u=function(e){return M(e,r).fold((function(){return e}),(function(t){return e.slice(0,t+1)}))},c=u(i),l=u(a),f=N(c,(function(t){return T(l,Xn(e,t))}));return{firstpath:o(c),secondpath:o(l),shared:o(f)}},Kn={sharedOne:function(e,t,n){return n.length>0?function(e,t,n,r){return r(e,t,n[0],n.slice(1))}(e,t,n,Wn):p.none()},subset:function(e,t,n){var r=Gn(e,t,n);return r.shared().bind((function(t){return function(e,t,n,r){var o=e.property().children(t);if(e.eq(t,n[0]))return p.some([n[0]]);if(e.eq(t,r[0]))return p.some([r[0]]);var i=function(n){var r=B(n),i=M(r,Xn(e,t)).getOr(-1),a=i<r.length-1?r[i+1]:r[i];return M(o,Xn(e,a))},a=i(n),u=i(r);return a.bind((function(e){return u.map((function(t){var n=Math.min(e,t),r=Math.max(e,t);return o.slice(n,r+1)}))}))}(e,t,r.firstpath(),r.secondpath())}))},ancestors:Gn,breakToLeft:function(e,t,n){return qn(e,t,n).map((function(r){var o=e.create().clone(t);return e.insert().appendAll(o,r.before().concat([n])),e.insert().appendAll(t,r.after()),e.insert().before(t,o),Un(o,t)}))},breakToRight:function(e,t,n){return qn(e,t,n).map((function(n){var r=e.create().clone(t);return e.insert().appendAll(r,n.after()),e.insert().after(t,r),Un(t,r)}))},breakPath:function(e,t,n,r){var o=function(t,i,a){var u=$n(t,p.none(),a);return n(t)?$n(t,i,a):e.property().parent(t).bind((function(i){return r(e,i,t).map((function(e){var t=[{first:e.left,second:e.right}],r=n(i)?i:e.left();return o(r,p.some(e.right()),a.concat(t))}))})).getOr(u)};return o(t,p.none(),[])}},Jn=Vn(),Qn={sharedOne:function(e,t){return Kn.sharedOne(Jn,(function(t,n){return e(n)}),t)},subset:function(e,t){return Kn.subset(Jn,e,t)},ancestors:function(e,t,n){return Kn.ancestors(Jn,e,t,n)},breakToLeft:function(e,t){return Kn.breakToLeft(Jn,e,t)},breakToRight:function(e,t){return Kn.breakToRight(Jn,e,t)},breakPath:function(e,t,n){return Kn.breakPath(Jn,e,t,(function(e,t,r){return n(t,r)}))}},Zn={create:K(["boxes","start","finish"],[])},er=function(e){return jt(e,"table")},tr=function(e,t,n){var r=function(e){return function(t){return void 0!==n&&n(t)||ot(t,e)}};return ot(e,t)?p.some(Zn.create({boxes:p.some([e]),start:e,finish:t})):er(e).bind((function(o){return er(t).bind((function(i){if(ot(o,i))return p.some(Zn.create({boxes:Ln(o,e,t),start:e,finish:t}));if(it(o,i)){var a=(u=Bt(t,"td,th",r(o))).length>0?u[u.length-1]:t;return p.some(Zn.create({boxes:Fn(o,e,o,t,i),start:e,finish:a}))}if(it(i,o)){var u,s=(u=Bt(e,"td,th",r(i))).length>0?u[u.length-1]:e;return p.some(Zn.create({boxes:Fn(i,e,o,t,i),start:e,finish:s}))}return Qn.ancestors(e,t).shared().bind((function(a){return $t(a,"table",n).bind((function(n){var a=Bt(t,"td,th",r(n)),u=a.length>0?a[a.length-1]:t,s=Bt(e,"td,th",r(n)),c=s.length>0?s[s.length-1]:e;return p.some(Zn.create({boxes:Fn(n,e,o,t,i),start:c,finish:u}))}))}))}))}))},nr={identify:tr,retrieve:function(e,t){var n=Lt(e,t);return n.length>0?p.some(n):p.none()},shiftSelection:function(e,t,n,r,i){return function(e,t){return N(e,(function(e){return nt(e,t)}))}(e,i).bind((function(e){return Pn(e,t,n).bind((function(e){return function(e,t){return jt(e,"table").bind((function(n){return Ut(n,t).bind((function(t){return tr(t,e).bind((function(e){return e.boxes().map((function(t){return{boxes:o(t),start:o(e.start()),finish:o(e.finish())}}))}))}))}))}(e,r)}))}))},getEdges:function(e,t,n){return Ut(e,t).bind((function(t){return Ut(e,n).bind((function(e){return Qn.sharedOne(er,[t,e]).map((function(n){return{first:o(t),last:o(e),table:o(n)}}))}))}))}},rr=function(e,t){return nr.retrieve(e,t)},or=function(e,t,n){return nr.getEdges(e,t,n).bind((function(t){var n=function(t){return ot(e,t)},r=jt(t.first(),"thead,tfoot,tbody,table",n),o=jt(t.last(),"thead,tfoot,tbody,table",n);return r.bind((function(e){return o.bind((function(n){return ot(e,n)?Hn(t.table(),t.first(),t.last()):p.none()}))}))}))},ir="data-mce-selected",ar={selected:o(ir),selectedSelector:o("td[data-mce-selected],th[data-mce-selected]"),attributeSelector:o("[data-mce-selected]"),firstSelected:o("data-mce-first-selected"),firstSelectedSelector:o("td[data-mce-first-selected],th[data-mce-first-selected]"),lastSelected:o("data-mce-last-selected"),lastSelectedSelector:o("td[data-mce-last-selected],th[data-mce-last-selected]")},ur=function(t){if(!v(t))throw new Error("cases must be an array");if(0===t.length)throw new Error("there must be at least one case");var n=[],r={};return O(t,(function(o,i){var a=P(o);if(1!==a.length)throw new Error("one and only one name per case");var u=a[0],s=o[u];if(void 0!==r[u])throw new Error("duplicate key detected:"+u);if("cata"===u)throw new Error("cannot have a case named cata (sorry)");if(!v(s))throw new Error("case arguments must be an array");n.push(u),r[u]=function(){var r=arguments.length;if(r!==s.length)throw new Error("Wrong number of arguments to case "+u+". Expected "+s.length+" ("+s+"), got "+r);for(var o=new Array(r),a=0;a<o.length;a++)o[a]=arguments[a];var c=function(e){var t=P(e);if(n.length!==t.length)throw new Error("Wrong number of arguments to match. Expected: "+n.join(",")+"\nActual: "+t.join(","));if(!I(n,(function(e){return S(t,e)})))throw new Error("Not all branches were specified when using match. Specified: "+t.join(", ")+"\nRequired: "+n.join(", "));return e[u].apply(null,o)};return{fold:function(){if(arguments.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+arguments.length);var e=arguments[i];return e.apply(null,o)},match:c,log:function(t){e.console.log(t,{constructors:n,constructor:u,params:o})}}}})),r},sr=ur([{none:[]},{multiple:["elements"]},{single:["selection"]}]),cr={cata:function(e,t,n,r){return e.fold(t,n,r)},none:sr.none,multiple:sr.multiple,single:sr.single},lr=function(e,t){return cr.cata(t.get(),o([]),i,o([e]))},fr=function(e,t){return cr.cata(t.get(),p.none,(function(t,n){return 0===t.length?p.none():or(e,ar.firstSelectedSelector(),ar.lastSelectedSelector()).bind((function(e){return t.length>1?p.some({bounds:o(e),cells:o(t)}):p.none()}))}),p.none)},dr=function(e,t){var n=lr(e,t);return n.length>0&&I(n,(function(e){return fe(e,"rowspan")&&parseInt(le(e,"rowspan"),10)>1||fe(e,"colspan")&&parseInt(le(e,"colspan"),10)>1}))?p.some(n):p.none()},pr=lr,mr=function(e){return{element:o(e),mergable:p.none,unmergable:p.none,selection:o([e])}},hr=$("element","clipboard","generators"),gr={noMenu:mr,forMenu:function(e,t,n){return{element:o(n),mergable:o(fr(t,e)),unmergable:o(dr(n,e)),selection:o(pr(n,e))}},notCell:function(e){return mr(e)},paste:hr,pasteRows:function(e,t,n,r,i){return{element:o(n),mergable:p.none,unmergable:p.none,selection:o(pr(n,e)),clipboard:o(r),generators:o(i)}}},vr={registerEvents:function(t,r,o,i){t.on("BeforeGetContent",(function(e){!0===e.selection&&cr.cata(r.get(),n,(function(n){e.preventDefault(),function(e){return Qt.table(e[0]).map(wn).map((function(e){return[un(e,ar.attributeSelector())]}))}(n).each((function(n){e.content="text"===e.format?function(e){return E(e,(function(e){return e.dom().innerText})).join("")}(n):function(e,t){return E(t,(function(t){return e.selection.serializer.serialize(t.dom(),{})})).join("")}(t,n)}))}),n)})),t.on("BeforeSetContent",(function(n){!0===n.selection&&!0===n.paste&&p.from(t.dom.getParent(t.selection.getStart(),"th,td")).each((function(r){var a=we.fromDom(r);Qt.table(a).each((function(r){var u,s,c,l=_((u=n.content,(c=(s||e.document).createElement("div")).innerHTML=u,dt(we.fromDom(c))),(function(e){return"meta"!==te(e)}));if(1===l.length&&"table"===te(l[0])){n.preventDefault();var f=we.fromDom(t.getDoc()),d=En.paste(f),p=gr.paste(a,l[0],d);o.pasteCells(r,p).each((function(e){t.selection.setRng(e),t.focus(),i.clear(r)}))}}))}))}))}};function br(e,t){var n=function(n){var r=t(n);if(r<=0||null===r){var o=Oe(n,e);return parseFloat(o)||0}return r},r=function(e,t){return D(t,(function(t,n){var r=Oe(e,n),o=void 0===r?0:parseInt(r,10);return isNaN(o)?t:t+o}),0)};return{set:function(t,n){if(!w(n)&&!n.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+n);var r=t.dom();ve(r)&&(r.style[e]=n+"px")},get:n,getOuter:n,aggregate:r,max:function(e,t,n){var o=r(e,n);return t>o?t-o:0}}}var yr=br("height",(function(e){var t=e.dom();return xe(e)?t.getBoundingClientRect().height:t.offsetHeight})),wr=function(e){return yr.get(e)},xr=function(e){return yr.getOuter(e)},Cr=br("width",(function(e){return e.dom().offsetWidth})),kr=function(e){return Cr.get(e)},Sr=function(e){return Cr.getOuter(e)},Tr=Ze(),Er=function(e,t,n){return function(e,t){var n=parseFloat(e);return isNaN(n)?t:n}(Oe(e,t),n)},Or=function(e){return Tr.browser.isIE()||Tr.browser.isEdge()?function(e){var t=Er(e,"padding-top",0),n=Er(e,"padding-bottom",0),r=Er(e,"border-top-width",0),o=Er(e,"border-bottom-width",0),i=e.dom().getBoundingClientRect().height;return"border-box"===Oe(e,"box-sizing")?i:i-t-n-(r+o)}(e):Er(e,"height",wr(e))},_r=/(\d+(\.\d+)?)(\w|%)*/,Ar=/(\d+(\.\d+)?)%/,Dr=/(\d+(\.\d+)?)px|em/,Nr=function(e,t){Te(e,"height",t+"px")},Mr=function(e,t,n,r){var o,i,a=parseInt(e,10);return me(o=e,i="%",o.length-i.length)&&"table"!==te(t)?function(e,t,n,r){var o=Qt.table(e).map((function(e){var r=n(e);return Math.floor(t/100*r)})).getOr(t);return r(e,o),o}(t,a,n,r):a},Rr=function(e){var t=function(e){return Ae(e,"height").getOrThunk((function(){return Or(e)+"px"}))}(e);return t?Mr(t,e,wr,Nr):wr(e)},zr=function(e,t){return fe(e,t)?parseInt(le(e,t),10):1},Ir=function(e){return Ae(e,"width").fold((function(){return p.from(le(e,"width"))}),(function(e){return p.some(e)}))},Br=function(e,t){return e/t.pixelWidth()*100},Pr={percentageBasedSizeRegex:o(Ar),pixelBasedSizeRegex:o(Dr),setPixelWidth:function(e,t){Te(e,"width",t+"px")},setPercentageWidth:function(e,t){Te(e,"width",t+"%")},setHeight:Nr,getPixelWidth:function(e,t){return Ir(e).fold((function(){return kr(e)}),(function(n){return function(e,t,n){var r=Dr.exec(t);if(null!==r)return parseInt(r[1],10);var o=Ar.exec(t);return null!==o?function(e,t){return e/100*t.pixelWidth()}(parseFloat(o[1]),n):kr(e)}(e,n,t)}))},getPercentageWidth:function(e,t){return Ir(e).fold((function(){var n=kr(e);return Br(n,t)}),(function(n){return function(e,t,n){var r=Ar.exec(t);if(null!==r)return parseFloat(r[1]);var o=kr(e);return Br(o,n)}(e,n,t)}))},getGenericWidth:function(e){return Ir(e).bind((function(e){var t=_r.exec(e);return null!==t?p.some({width:o(parseFloat(t[1])),unit:o(t[3])}):p.none()}))},setGenericWidth:function(e,t,n){Te(e,"width",t+n)},getHeight:function(e){return function(e,t,n){return n(e)/zr(e,t)}(e,"rowspan",Rr)},getRawWidth:Ir},Lr=function(e,t){Pr.getGenericWidth(e).each((function(n){var r=n.width()/2;Pr.setGenericWidth(e,r,n.unit()),Pr.setGenericWidth(t,r,n.unit())}))},Fr=function(e,t){return{left:o(e),top:o(t),translate:function(n,r){return Fr(e+n,t+r)}}},Hr=Fr,jr=function(e,t){return void 0!==e?e:void 0!==t?t:0},Vr=function(e){var t=e.dom().ownerDocument,n=t.body,r=t.defaultView,o=t.documentElement;if(n===e.dom())return Hr(n.offsetLeft,n.offsetTop);var i=jr(r.pageYOffset,o.scrollTop),a=jr(r.pageXOffset,o.scrollLeft),u=jr(o.clientTop,n.clientTop),s=jr(o.clientLeft,n.clientLeft);return Ur(e).translate(a-s,i-u)},Ur=function(e){var t=e.dom(),n=t.ownerDocument.body;return n===t?Hr(n.offsetLeft,n.offsetTop):xe(e)?function(e){var t=e.getBoundingClientRect();return Hr(t.left,t.top)}(t):Hr(0,0)},$r=$("row","y"),qr=$("col","x"),Wr=function(e){return Vr(e).left()+Sr(e)},Yr=function(e){return Vr(e).left()},Xr=function(e,t){return qr(e,Yr(t))},Gr=function(e,t){return qr(e,Wr(t))},Kr=function(e){return Vr(e).top()},Jr=function(e,t){return $r(e,Kr(t))},Qr=function(e,t){return $r(e,Kr(t)+xr(t))},Zr=function(e,t,n){if(0===n.length)return[];var r=E(n.slice(1),(function(t,n){return t.map((function(t){return e(n,t)}))})),o=n[n.length-1].map((function(e){return t(n.length-1,e)}));return r.concat([o])},eo={height:{delta:i,positions:function(e){return Zr(Jr,Qr,e)},edge:Kr},rtl:{delta:function(e){return-e},edge:Wr,positions:function(e){return Zr(Gr,Xr,e)}},ltr:{delta:i,edge:Yr,positions:function(e){return Zr(Xr,Gr,e)}}},to={ltr:eo.ltr,rtl:eo.rtl};function no(e){var t=function(t){return e(t).isRtl()?to.rtl:to.ltr};return{delta:function(e,n){return t(n).delta(e,n)},edge:function(e){return t(e).edge(e)},positions:function(e,n){return t(n).positions(e,n)}}}var ro,oo=function(e){var t=Zt(e);return rn.generate(t).grid()},io=function(e){for(var t=[],n=function(e){t.push(e)},r=0;r<e.length;r++)e[r].each(n);return t},ao=function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n],n);if(r.isSome())return r}return p.none()},uo=function(e,t,n,r){n===r?de(e,t):se(e,t,n)},so=function(e,t){var n=[],r=[],i=function(t,o){t.length>0?function(t,o){var i=Vt(e,o).getOrThunk((function(){var t=we.fromTag(o,ut(e).dom());return vt(e,t),t}));xt(i);var a=E(t,(function(e){e.isNew()&&n.push(e.element());var t=e.element();return xt(t),O(e.cells(),(function(e){e.isNew()&&r.push(e.element()),uo(e.element(),"colspan",e.colspan(),1),uo(e.element(),"rowspan",e.rowspan(),1),vt(t,e.element())})),t}));wt(i,a)}(t,o):function(t){Vt(e,t).each(Ct)}(o)},a=[],u=[],s=[];return O(t,(function(e){switch(e.section()){case"thead":a.push(e);break;case"tbody":u.push(e);break;case"tfoot":s.push(e)}})),i(a,"thead"),i(u,"tbody"),i(s,"tfoot"),{newRows:o(n),newCells:o(r)}},co=function(e){return E(e,(function(e){var t=yn(e.element());return O(e.cells(),(function(e){var n=wn(e.element());uo(n,"colspan",e.colspan(),1),uo(n,"rowspan",e.rowspan(),1),vt(t,n)})),t}))},lo=function(e,t){var n=le(e,t);return void 0===n||""===n?[]:n.split(" ")},fo=function(e){return void 0!==e.dom().classList},po=function(e,t){return function(e,t,n){var r=lo(e,t).concat([n]);return se(e,t,r.join(" ")),!0}(e,"class",t)},mo=function(e,t){return function(e,t,n){var r=_(lo(e,t),(function(e){return e!==n}));return r.length>0?se(e,t,r.join(" ")):de(e,t),!1}(e,"class",t)},ho=function(e,t){fo(e)?e.dom().classList.add(t):po(e,t)},go=function(e){0===(fo(e)?e.dom().classList:function(e){return lo(e,"class")}(e)).length&&de(e,"class")},vo=function(e,t){return fo(e)&&e.dom().classList.contains(t)},bo=function(e,t){for(var n=[],r=e;r<t;r++)n.push(r);return n},yo=function(e,t){if(t<0||t>=e.length-1)return p.none();var n=e[t].fold((function(){var n=B(e.slice(0,t));return ao(n,(function(e,t){return e.map((function(e){return{value:e,delta:t+1}}))}))}),(function(e){return p.some({value:e,delta:0})})),r=e[t+1].fold((function(){var n=e.slice(t+1);return ao(n,(function(e,t){return e.map((function(e){return{value:e,delta:t+1}}))}))}),(function(e){return p.some({value:e,delta:1})}));return n.bind((function(e){return r.map((function(t){var n=t.delta+e.delta;return Math.abs(t.value-e.value)/n}))}))},wo=function(e,t,n){var r=e();return N(r,t).orThunk((function(){return p.from(r[0]).orThunk(n)})).map((function(e){return e.element()}))},xo=function(e){var t=e.grid(),n=bo(0,t.columns()),r=bo(0,t.rows());return E(n,(function(t){return wo((function(){return z(r,(function(n){return rn.getAt(e,n,t).filter((function(e){return e.column()===t})).fold(o([]),(function(e){return[e]}))}))}),(function(e){return 1===e.colspan()}),(function(){return rn.getAt(e,0,t)}))}))},Co=function(e){var t=e.grid(),n=bo(0,t.rows()),r=bo(0,t.columns());return E(n,(function(t){return wo((function(){return z(r,(function(n){return rn.getAt(e,t,n).filter((function(e){return e.row()===t})).fold(o([]),(function(e){return[e]}))}))}),(function(e){return 1===e.rowspan()}),(function(){return rn.getAt(e,t,0)}))}))},ko=function(e){var t=e.replace(/\./g,"-");return{resolve:function(e){return t+"-"+e}}},So=ko("ephox-snooker"),To={resolve:So.resolve},Eo=function(e,t,n,r,o){var i=we.fromTag("div");return Ee(i,{position:"absolute",left:t-r/2+"px",top:n+"px",height:o+"px",width:r+"px"}),ce(i,{"data-column":e,role:"presentation"}),i},Oo=function(e,t,n,r,o){var i=we.fromTag("div");return Ee(i,{position:"absolute",left:t+"px",top:n-o/2+"px",height:o+"px",width:r+"px"}),ce(i,{"data-row":e,role:"presentation"}),i},_o=To.resolve("resizer-bar"),Ao=To.resolve("resizer-rows"),Do=To.resolve("resizer-cols"),No=function(e){var t=Lt(e.parent(),"."+_o);O(t,Ct)},Mo=function(e,t,n){var r=e.origin();O(t,(function(t,o){t.each((function(t){var o=n(r,t);ho(o,_o),vt(e.parent(),o)}))}))},Ro=function(e,t,n,r,o,i){var a=Vr(t);!function(e,t,n,r){Mo(e,t,(function(e,t){var o=Oo(t.row(),n.left()-e.left(),t.y()-e.top(),r,7);return ho(o,Ao),o}))}(e,n.length>0?o.positions(n,t):[],a,Sr(t)),function(e,t,n,r){Mo(e,t,(function(e,t){var o=Eo(t.col(),t.x()-e.left(),n.top()-e.top(),7,r);return ho(o,Do),o}))}(e,r.length>0?i.positions(r,t):[],a,xr(t))},zo=function(e,t){var n=Lt(e.parent(),"."+_o);O(n,t)},Io=function(e,t,n,r){No(e);var o=Zt(t),i=rn.generate(o),a=Co(i),u=xo(i);Ro(e,t,a,u,n,r)},Bo=function(e){zo(e,(function(e){Te(e,"display","none")}))},Po=function(e){zo(e,(function(e){Te(e,"display","block")}))},Lo=No,Fo=function(e){return vo(e,Ao)},Ho=function(e){return vo(e,Do)},jo=function(e,t){return Mt(t,e.section())},Vo=function(e,t){return e.cells()[t]},Uo={addCell:function(e,t,n){var r=e.cells(),o=r.slice(0,t),i=r.slice(t),a=o.concat([n]).concat(i);return jo(e,a)},setCells:jo,mutateCell:function(e,t,n){e.cells()[t]=n},getCell:Vo,getCellElement:function(e,t){return Vo(e,t).element()},mapCells:function(e,t){var n=e.cells(),r=E(n,t);return Mt(r,e.section())},cellLength:function(e){return e.cells().length}},$o=function(e,t){if(0===e.length)return 0;var n=e[0];return M(e,(function(e){return!t(n.element(),e.element())})).fold((function(){return e.length}),(function(e){return e}))},qo=function(e,t,n,r){var i=function(e,t){return e[t]}(e,t).cells().slice(n),a=$o(i,r),u=function(e,t){return E(e,(function(e){return Uo.getCell(e,t)}))}(e,n).slice(t),s=$o(u,r);return{colspan:o(a),rowspan:o(s)}},Wo=function(e,t){var n=E(e,(function(e,t){return E(e.cells(),(function(e,t){return!1}))}));return E(e,(function(r,o){var i=z(r.cells(),(function(r,i){if(!1===n[o][i]){var a=qo(e,o,i,t);return function(e,t,r,o){for(var i=e;i<e+r;i++)for(var a=t;a<t+o;a++)n[i][a]=!0}(o,i,a.rowspan(),a.colspan()),[Ot(r.element(),a.rowspan(),a.colspan(),r.isNew())]}return[]}));return Rt(i,r.section())}))},Yo=function(e,t,n){for(var r=[],o=0;o<e.grid().rows();o++){for(var i=[],a=0;a<e.grid().columns();a++){var u=rn.getAt(e,o,a).map((function(e){return Dt(e.element(),n)})).getOrThunk((function(){return Dt(t.gap(),!0)}));i.push(u)}var s=Mt(i,e.all()[o].section());r.push(s)}return r},Xo=function(e,t){return E(e,(function(e){var n=function(e){return ao(e,(function(e){return st(e.element()).map((function(e){var t=st(e).isNone();return Dt(e,t)}))})).getOrThunk((function(){return Dt(t.row(),!0)}))}(e.details());return Nt(n.element(),e.details(),e.section(),n.isNew())}))},Go=function(e,t){var n=Wo(e,ot);return Xo(n,t)},Ko=function(e,t){var n=R(E(e.all(),(function(e){return e.cells()})));return N(n,(function(e){return ot(t,e.element())}))},Jo=function(e,t,n,r,i){return function(a,u,s,c,l){var f=Zt(u),d=rn.generate(f);return t(d,s).map((function(t){var n=function(e,t){return Yo(e,t,!1)}(d,c),r=e(n,t,ot,i(c)),a=Go(r.grid(),c);return{grid:o(a),cursor:r.cursor}})).fold((function(){return p.none()}),(function(e){var t=so(u,e.grid());return n(u,e.grid(),l),r(u),Io(a,u,eo.height,l),p.some({cursor:e.cursor,newRows:t.newRows,newCells:t.newCells})}))}},Qo=function(e,t){return Qt.cell(t.element()).bind((function(t){return Ko(e,t)}))},Zo=function(e,t){var n=E(t.selection(),(function(t){return Qt.cell(t).bind((function(t){return Ko(e,t)}))})),r=io(n);return r.length>0?p.some({cells:r,generators:t.generators,clipboard:t.clipboard}):p.none()},ei=function(e,t){var n=E(t.selection(),(function(t){return Qt.cell(t).bind((function(t){return Ko(e,t)}))})),r=io(n);return r.length>0?p.some(r):p.none()},ti=function(e){return{is:function(t){return e===t},isValue:c,isError:s,getOr:o(e),getOrThunk:o(e),getOrDie:o(e),or:function(t){return ti(e)},orThunk:function(t){return ti(e)},fold:function(t,n){return n(e)},map:function(t){return ti(t(e))},mapError:function(t){return ti(e)},each:function(t){t(e)},bind:function(t){return t(e)},exists:function(t){return t(e)},forall:function(t){return t(e)},toOption:function(){return p.some(e)}}},ni=function(e){return{is:s,isValue:s,isError:c,getOr:i,getOrThunk:function(e){return e()},getOrDie:function(){return(t=String(e),function(){throw new Error(t)})();var t},or:function(e){return e},orThunk:function(e){return e()},fold:function(t,n){return t(e)},map:function(t){return ni(e)},mapError:function(t){return ni(t(e))},each:n,bind:function(t){return ni(e)},exists:s,forall:c,toOption:p.none}},ri={value:ti,error:ni,fromOption:function(e,t){return e.fold((function(){return ni(t)}),ti)}},oi=function(e,t){return E(e,(function(){return Dt(t.cell(),!0)}))},ii=function(e,t,n){return e.concat(function(e,t){for(var n=[],r=0;r<e;r++)n.push(t(r));return n}(t,(function(t){return Uo.setCells(e[e.length-1],oi(e[e.length-1].cells(),n))})))},ai=function(e,t,n){return E(e,(function(e){return Uo.setCells(e,e.cells().concat(oi(bo(0,t),n)))}))},ui=function(e,t,n){if(e.row()>=t.length||e.column()>Uo.cellLength(t[0]))return ri.error("invalid start address out of table bounds, row: "+e.row()+", column: "+e.column());var r=t.slice(e.row()),i=r[0].cells().slice(e.column()),a=Uo.cellLength(n[0]),u=n.length;return ri.value({rowDelta:o(r.length-u),colDelta:o(i.length-a)})},si=function(e,t){var n=Uo.cellLength(e[0]),r=Uo.cellLength(t[0]);return{rowDelta:o(0),colDelta:o(n-r)}},ci=function(e,t,n){var r=t.colDelta()<0?ai:i;return(t.rowDelta()<0?ii:i)(r(e,Math.abs(t.colDelta()),n),Math.abs(t.rowDelta()),n)},li=function(e,t,n,r){if(0===e.length)return e;for(var o=t.startRow();o<=t.finishRow();o++)for(var i=t.startCol();i<=t.finishCol();i++)Uo.mutateCell(e[o],i,Dt(r(),!1));return e},fi=function(e,t,n,r){for(var o=!0,i=0;i<e.length;i++)for(var a=0;a<Uo.cellLength(e[0]);a++){var u=n(Uo.getCellElement(e[i],a),t);!0===u&&!1===o?Uo.mutateCell(e[i],a,Dt(r(),!0)):!0===u&&(o=!1)}return e},di=function(e,t,n,r){if(t>0&&t<e.length){var o=function(e,t){return D(e,(function(e,n){return T(e,(function(e){return t(e.element(),n.element())}))?e:e.concat([n])}),[])}(e[t-1].cells(),n);O(o,(function(o){for(var i=p.none(),a=function(t){for(var a=function(a){var u=e[t].cells()[a];n(u.element(),o.element())&&(i.isNone()&&(i=p.some(r())),i.each((function(n){Uo.mutateCell(e[t],a,Dt(n,!0))})))},u=0;u<Uo.cellLength(e[0]);u++)a(u)},u=t;u<e.length;u++)a(u)}))}return e},pi=function(e,t,n,r){var o=a(r,Uo.getCell(e[t],n).element()),i=e[t];return e.length>1&&Uo.cellLength(i)>1&&(n>0&&o(Uo.getCellElement(i,n-1))||n<i.cells().length-1&&o(Uo.getCellElement(i,n+1))||t>0&&o(Uo.getCellElement(e[t-1],n))||t<e.length-1&&o(Uo.getCellElement(e[t+1],n)))},mi=function(e,t,n,r,o){return ui(e,t,n).map((function(i){var a=ci(t,i,r);return function(e,t,n,r,o){for(var i=e.row(),a=e.column(),u=i+n.length,s=a+Uo.cellLength(n[0]),c=i;c<u;c++)for(var l=a;l<s;l++){pi(t,c,l,o)&&fi(t,Uo.getCellElement(t[c],l),o,r.cell);var f=Uo.getCellElement(n[c-i],l-a),d=r.replace(f);Uo.mutateCell(t[c],l,Dt(d,!0))}return t}(e,a,n,r,o)}))},hi=function(e,t,n,r,o){di(t,e,o,r.cell);var i=si(n,t),a=ci(n,i,r),u=si(t,a),s=ci(t,u,r);return s.slice(0,e).concat(a).concat(s.slice(e,s.length))},gi=function(e,t,n,r,o){var i=e.slice(0,t),a=e.slice(t),u=Uo.mapCells(e[n],(function(n,i){return t>0&&t<e.length&&r(Uo.getCellElement(e[t-1],i),Uo.getCellElement(e[t],i))?Uo.getCell(e[t],i):Dt(o(n.element(),r),!0)}));return i.concat([u]).concat(a)},vi=function(e,t,n,r,o){return E(e,(function(e){var i=t>0&&t<Uo.cellLength(e)&&r(Uo.getCellElement(e,t-1),Uo.getCellElement(e,t))?Uo.getCell(e,t):Dt(o(Uo.getCellElement(e,n),r),!0);return Uo.addCell(e,t,i)}))},bi=function(e,t,n,r,o){var i=n+1;return E(e,(function(e,a){var u=a===t?Dt(o(Uo.getCellElement(e,n),r),!0):Uo.getCell(e,n);return Uo.addCell(e,i,u)}))},yi=function(e,t,n,r,o){var i=t+1,a=e.slice(0,i),u=e.slice(i),s=Uo.mapCells(e[t],(function(e,t){return t===n?Dt(o(e.element(),r),!0):e}));return a.concat([s]).concat(u)},wi=function(e,t,n){return e.slice(0,t).concat(e.slice(n+1))},xi=function(e,t,n){var r=E(e,(function(e){var r=e.cells().slice(0,t).concat(e.cells().slice(n+1));return Mt(r,e.section())}));return _(r,(function(e){return e.cells().length>0}))},Ci=function(e,t,n,r){return E(e,(function(e){return Uo.mapCells(e,(function(e){return function(e){return T(t,(function(t){return n(e.element(),t.element())}))}(e)?Dt(r(e.element(),n),!0):e}))}))},ki=function(e,t,n,r){return void 0!==Uo.getCellElement(e[t],n)&&t>0&&r(Uo.getCellElement(e[t-1],n),Uo.getCellElement(e[t],n))},Si=function(e,t,n){return t>0&&n(Uo.getCellElement(e,t-1),Uo.getCellElement(e,t))},Ti=function(e,t,n,r){var o=z(e,(function(r,o){return ki(e,o,t,n)||Si(r,t,n)?[]:[Uo.getCell(r,t)]}));return Ci(e,o,n,r)},Ei=function(e,t,n,r){var o=e[t],i=z(o.cells(),(function(r,i){return ki(e,t,i,n)||Si(o,i,n)?[]:[r]}));return Ci(e,i,n,r)},Oi=ur([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}]),_i=Re({},Oi),Ai=function(e,t,n,r){var i=e.slice(0),a=function(e,t){return 0===e.length?_i.none():1===e.length?_i.only(0):0===t?_i.left(0,1):t===e.length-1?_i.right(t-1,t):t>0&&t<e.length-1?_i.middle(t-1,t,t+1):_i.none()}(e,t),u=function(e){return E(e,o(0))},s=o(u(i)),c=function(e,t){if(n>=0){var o=Math.max(r.minCellWidth(),i[t]-n);return u(i.slice(0,e)).concat([n,o-i[t]]).concat(u(i.slice(t+1)))}var a=Math.max(r.minCellWidth(),i[e]+n),s=i[e]-a;return u(i.slice(0,e)).concat([a-i[e],s]).concat(u(i.slice(t+1)))},l=c;return a.fold(s,(function(e){return r.singleColumnWidth(i[e],n)}),l,(function(e,t,n){return c(t,n)}),(function(e,t){if(n>=0)return u(i.slice(0,t)).concat([n]);var o=Math.max(r.minCellWidth(),i[t]+n);return u(i.slice(0,t)).concat([o-i[t]])}))},Di=function(e,t){return fe(e,t)&&parseInt(le(e,t),10)>1},Ni={hasColspan:function(e){return Di(e,"colspan")},hasRowspan:function(e){return Di(e,"rowspan")},minWidth:o(10),minHeight:o(10),getInt:function(e,t){return parseInt(Oe(e,t),10)}},Mi=function(e,t,n){return Ae(e,t).fold((function(){return n(e)+"px"}),(function(e){return e}))},Ri=function(e,t){return Mi(e,"width",(function(e){return Pr.getPixelWidth(e,t)}))},zi=function(e){return Mi(e,"height",Pr.getHeight)},Ii=function(e,t,n,r,o){var i=xo(e),a=E(i,(function(e){return e.map(t.edge)}));return E(i,(function(e,t){return e.filter(u(Ni.hasColspan)).fold((function(){var e=yo(a,t);return r(e)}),(function(e){return n(e,o)}))}))},Bi=function(e){return e.map((function(e){return e+"px"})).getOr("")},Pi=function(e,t,n,r){var o=Co(e),i=E(o,(function(e){return e.map(t.edge)}));return E(o,(function(e,t){return e.filter(u(Ni.hasRowspan)).fold((function(){var e=yo(i,t);return r(e)}),(function(e){return n(e)}))}))},Li={getRawWidths:function(e,t,n){return Ii(e,t,Ri,Bi,n)},getPixelWidths:function(e,t,n){return Ii(e,t,Pr.getPixelWidth,(function(e){return e.getOrThunk(n.minCellWidth)}),n)},getPercentageWidths:function(e,t,n){return Ii(e,t,Pr.getPercentageWidth,(function(e){return e.fold((function(){return n.minCellWidth()}),(function(e){return e/n.pixelWidth()*100}))}),n)},getPixelHeights:function(e,t){return Pi(e,t,Pr.getHeight,(function(e){return e.getOrThunk(Ni.minHeight)}))},getRawHeights:function(e,t){return Pi(e,t,zi,Bi)}},Fi=function(e,t,n){for(var r=0,o=e;o<t;o++)r+=void 0!==n[o]?n[o]:0;return r},Hi=function(e,t){var n=rn.justCells(e);return E(n,(function(e){var n=Fi(e.column(),e.column()+e.colspan(),t);return{element:e.element,width:o(n),colspan:e.colspan}}))},ji=function(e,t){var n=rn.justCells(e);return E(n,(function(e){var n=Fi(e.row(),e.row()+e.rowspan(),t);return{element:e.element,height:o(n),rowspan:e.rowspan}}))},Vi=function(e,t){return E(e.all(),(function(e,n){return{element:e.element,height:o(t[n])}}))},Ui=function(e){var t=i;return{width:o(e),pixelWidth:o(e),getWidths:Li.getPixelWidths,getCellDelta:t,singleColumnWidth:function(e,t){return[Math.max(Ni.minWidth(),e+t)-e]},minCellWidth:Ni.minWidth,setElementWidth:Pr.setPixelWidth,setTableWidth:function(e,t,n){var r=A(t,(function(e,t){return e+t}),0);Pr.setPixelWidth(e,r)}}},$i=function(e,t){var n=Pr.percentageBasedSizeRegex().exec(t);if(null!==n)return function(e,t){var n=parseFloat(e),r=kr(t);return{width:o(n),pixelWidth:o(r),getWidths:Li.getPercentageWidths,getCellDelta:function(e){return e/r*100},singleColumnWidth:function(e,t){return[100-e]},minCellWidth:function(){return Ni.minWidth()/r*100},setElementWidth:Pr.setPercentageWidth,setTableWidth:function(e,t,r){var o=r/100*n;Pr.setPercentageWidth(e,n+o)}}}(n[1],e);var r=Pr.pixelBasedSizeRegex().exec(t);if(null!==r){var i=parseInt(r[1],10);return Ui(i)}var a=kr(e);return Ui(a)},qi=function(e){return Pr.getRawWidth(e).fold((function(){var t=kr(e);return Ui(t)}),(function(t){return $i(e,t)}))},Wi=function(e){return rn.generate(e)},Yi=function(e){var t=Zt(e);return Wi(t)},Xi=function(e,t,n,r){var o=qi(e),i=o.getCellDelta(t),a=Yi(e),u=o.getWidths(a,r,o),s=Ai(u,n,i,o),c=E(s,(function(e,t){return e+u[t]})),l=Hi(a,c);O(l,(function(e){o.setElementWidth(e.element(),e.width())})),n===a.grid().columns()-1&&o.setTableWidth(e,c,i)},Gi=function(e,t,n,r){var o=Yi(e),i=Li.getPixelHeights(o,r),a=E(i,(function(e,r){return n===r?Math.max(t+e,Ni.minHeight()):e})),u=ji(o,a),s=Vi(o,a);O(s,(function(e){Pr.setHeight(e.element(),e.height())})),O(u,(function(e){Pr.setHeight(e.element(),e.height())}));var c=A(a,(function(e,t){return e+t}),0);Pr.setHeight(e,c)},Ki=function(e,t,n){var r=qi(e),o=Wi(t),i=r.getWidths(o,n,r),a=Hi(o,i);O(a,(function(e){r.setElementWidth(e.element(),e.width())})),a.length>0&&r.setTableWidth(e,i,r.getCellDelta(0))},Ji=function(e,t,n){if(0===t.length)throw new Error("You must specify at least one required field.");return X("required",t),G(t),function(r){var o=P(r);I(t,(function(e){return S(o,e)}))||W(t,o),e(t,o);var i=_(t,(function(e){return!n.validate(r[e],e)}));return i.length>0&&function(e,t){throw new Error("All values need to be of type: "+t+". Keys ("+q(e).join(", ")+") were not.")}(i,n.label),r}},Qi=function(e,t){var n=_(t,(function(t){return!S(e,t)}));n.length>0&&Y(n)},Zi=function(e){return function(e,t){return Ji(e,t,{validate:y,label:"function"})}(Qi,e)},ea=Zi(["cell","row","replace","gap"]),ta=function(e){var t=fe(e,"colspan")?parseInt(le(e,"colspan"),10):1,n=fe(e,"rowspan")?parseInt(le(e,"rowspan"),10):1;return{element:o(e),colspan:o(t),rowspan:o(n)}},na=function(e,n){void 0===n&&(n=ta),ea(e);var r=t(p.none()),o=function(t){return function(t){return e.cell(t)}(n(t))},i=function(e){var t=o(e);return r.get().isNone()&&r.set(p.some(t)),a=p.some({item:e,replacement:t}),t},a=p.none();return{getOrInit:function(e,t){return a.fold((function(){return i(e)}),(function(n){return t(e,n.item)?n.replacement:i(e)}))},cursor:r.get}},ra=function(e,n){return function(r){var o=t(p.none());ea(r);var i=[],a=function(t){var a={scope:e},u=r.replace(t,n,a);return i.push({item:t,sub:u}),o.get().isNone()&&o.set(p.some(u)),u};return{replaceOrInit:function(e,t){return function(e,t){return N(i,(function(n){return t(n.item,e)}))}(e,t).fold((function(){return a(e)}),(function(n){return t(e,n.item)?n.sub:a(e)}))},cursor:o.get}}},oa=function(e){ea(e);var n=t(p.none());return{combine:function(t){return n.get().isNone()&&n.set(p.some(t)),function(){var n=e.cell({element:o(t),colspan:o(1),rowspan:o(1)});return De(n,"width"),De(t,"width"),n}},cursor:n.get}},ia=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],aa=function(e,t){var n=e.property().name(t);return S(ia,n)},ua=function(e,t){return S(["br","img","hr","input"],e.property().name(t))},sa=aa,ca=function(e,t){var n=e.property().name(t);return S(["ol","ul"],n)},la=ua,fa=Vn(),da=function(e){return sa(fa,e)},pa=function(e){return ca(fa,e)},ma=function(e){return la(fa,e)},ha=function(e){var t,n=function(e){return"br"===te(e)},r=function(e){return gn(e).bind((function(t){var r=ft(t).map((function(e){return!!da(e)||!!ma(e)&&"img"!==te(e)})).getOr(!1);return st(t).map((function(o){return!0===r||function(e){return"li"===te(e)||Ht(e,pa).isSome()}(o)||n(t)||da(o)&&!ot(e,o)?[]:[we.fromTag("br")]}))})).getOr([])},o=0===(t=z(e,(function(e){var t=dt(e);return function(e){return I(e,(function(e){return n(e)||ae(e)&&0===cn(e).trim().length}))}(t)?[]:t.concat(r(e))}))).length?[we.fromTag("br")]:t;xt(e[0]),wt(e[0],o)},ga=function(e){0===Qt.cells(e).length&&Ct(e)},va=$("grid","cursor"),ba=function(e,t,n){return ya(e,t,n).orThunk((function(){return ya(e,0,0)}))},ya=function(e,t,n){return p.from(e[t]).bind((function(e){return p.from(e.cells()[n]).bind((function(e){return p.from(e.element())}))}))},wa=function(e,t,n){return va(e,ya(e,t,n))},xa=function(e){return D(e,(function(e,t){return T(e,(function(e){return e.row()===t.row()}))?e:e.concat([t])}),[]).sort((function(e,t){return e.row()-t.row()}))},Ca=function(e){return D(e,(function(e,t){return T(e,(function(e){return e.column()===t.column()}))?e:e.concat([t])}),[]).sort((function(e,t){return e.column()-t.column()}))},ka=function(e,t,n){var r=en(e,n),o=rn.generate(r);return Yo(o,t,!0)},Sa=Ki,Ta={insertRowBefore:Jo((function(e,t,n,r){var o=t.row(),i=t.row(),a=gi(e,i,o,n,r.getOrInit);return wa(a,i,t.column())}),Qo,n,n,na),insertRowsBefore:Jo((function(e,t,n,r){var o=t[0].row(),i=t[0].row(),a=xa(t),u=D(a,(function(e,t){return gi(e,i,o,n,r.getOrInit)}),e);return wa(u,i,t[0].column())}),ei,n,n,na),insertRowAfter:Jo((function(e,t,n,r){var o=t.row(),i=t.row()+t.rowspan(),a=gi(e,i,o,n,r.getOrInit);return wa(a,i,t.column())}),Qo,n,n,na),insertRowsAfter:Jo((function(e,t,n,r){var o=xa(t),i=o[o.length-1].row(),a=o[o.length-1].row()+o[o.length-1].rowspan(),u=D(o,(function(e,t){return gi(e,a,i,n,r.getOrInit)}),e);return wa(u,a,t[0].column())}),ei,n,n,na),insertColumnBefore:Jo((function(e,t,n,r){var o=t.column(),i=t.column(),a=vi(e,i,o,n,r.getOrInit);return wa(a,t.row(),i)}),Qo,Sa,n,na),insertColumnsBefore:Jo((function(e,t,n,r){var o=Ca(t),i=o[0].column(),a=o[0].column(),u=D(o,(function(e,t){return vi(e,a,i,n,r.getOrInit)}),e);return wa(u,t[0].row(),a)}),ei,Sa,n,na),insertColumnAfter:Jo((function(e,t,n,r){var o=t.column(),i=t.column()+t.colspan(),a=vi(e,i,o,n,r.getOrInit);return wa(a,t.row(),i)}),Qo,Sa,n,na),insertColumnsAfter:Jo((function(e,t,n,r){var o=t[t.length-1].column(),i=t[t.length-1].column()+t[t.length-1].colspan(),a=Ca(t),u=D(a,(function(e,t){return vi(e,i,o,n,r.getOrInit)}),e);return wa(u,t[0].row(),i)}),ei,Sa,n,na),splitCellIntoColumns:Jo((function(e,t,n,r){var o=bi(e,t.row(),t.column(),n,r.getOrInit);return wa(o,t.row(),t.column())}),Qo,Sa,n,na),splitCellIntoRows:Jo((function(e,t,n,r){var o=yi(e,t.row(),t.column(),n,r.getOrInit);return wa(o,t.row(),t.column())}),Qo,n,n,na),eraseColumns:Jo((function(e,t,n,r){var o=Ca(t),i=xi(e,o[0].column(),o[o.length-1].column()),a=ba(i,t[0].row(),t[0].column());return va(i,a)}),ei,Sa,ga,na),eraseRows:Jo((function(e,t,n,r){var o=xa(t),i=wi(e,o[0].row(),o[o.length-1].row()),a=ba(i,t[0].row(),t[0].column());return va(i,a)}),ei,n,ga,na),makeColumnHeader:Jo((function(e,t,n,r){var o=Ti(e,t.column(),n,r.replaceOrInit);return wa(o,t.row(),t.column())}),Qo,n,n,ra("row","th")),unmakeColumnHeader:Jo((function(e,t,n,r){var o=Ti(e,t.column(),n,r.replaceOrInit);return wa(o,t.row(),t.column())}),Qo,n,n,ra(null,"td")),makeRowHeader:Jo((function(e,t,n,r){var o=Ei(e,t.row(),n,r.replaceOrInit);return wa(o,t.row(),t.column())}),Qo,n,n,ra("col","th")),unmakeRowHeader:Jo((function(e,t,n,r){var o=Ei(e,t.row(),n,r.replaceOrInit);return wa(o,t.row(),t.column())}),Qo,n,n,ra(null,"td")),mergeCells:Jo((function(e,t,n,r){var i=t.cells();ha(i);var a=li(e,t.bounds(),n,o(i[0]));return va(a,p.from(i[0]))}),(function(e,t){return t.mergable()}),n,n,oa),unmergeCells:Jo((function(e,t,n,r){var o=A(t,(function(e,t){return fi(e,t,n,r.combine(t))}),e);return va(o,p.from(t[0]))}),(function(e,t){return t.unmergable()}),Sa,n,oa),pasteCells:Jo((function(e,t,n,r){var o=function(e,t){var n=Zt(e),r=rn.generate(n);return Yo(r,t,!0)}(t.clipboard(),t.generators()),i=Tt(t.row(),t.column());return mi(i,e,o,t.generators(),n).fold((function(){return va(e,p.some(t.element()))}),(function(e){var n=ba(e,t.row(),t.column());return va(e,n)}))}),(function(e,t){return Qt.cell(t.element()).bind((function(n){return Ko(e,n).map((function(e){return Re(Re({},e),{generators:t.generators,clipboard:t.clipboard})}))}))}),Sa,n,na),pasteRowsBefore:Jo((function(e,t,n,r){var o=e[t.cells[0].row()],i=t.cells[0].row(),a=ka(t.clipboard(),t.generators(),o),u=hi(i,e,a,t.generators(),n),s=ba(u,t.cells[0].row(),t.cells[0].column());return va(u,s)}),Zo,n,n,na),pasteRowsAfter:Jo((function(e,t,n,r){var o=e[t.cells[0].row()],i=t.cells[t.cells.length-1].row()+t.cells[t.cells.length-1].rowspan(),a=ka(t.clipboard(),t.generators(),o),u=hi(i,e,a,t.generators(),n),s=ba(u,t.cells[0].row(),t.cells[0].column());return va(u,s)}),Zo,n,n,na)},Ea=function(e){return we.fromDom(e.getBody())},Oa=function(e){return e.getBoundingClientRect().width},_a=function(e){return e.getBoundingClientRect().height},Aa=function(e){return function(t){return ot(t,Ea(e))}},Da=function(e){return/^[0-9]+$/.test(e)&&(e+="px"),e},Na=function(e){var t=Lt(e,"td[data-mce-style],th[data-mce-style]");de(e,"data-mce-style"),O(t,(function(e){de(e,"data-mce-style")}))},Ma={isRtl:o(!1)},Ra={isRtl:o(!0)},za={directionAt:function(e){return"rtl"===function(e){return"rtl"===Oe(e,"direction")?"rtl":"ltr"}(e)?Ra:Ma}},Ia={"border-collapse":"collapse",width:"100%"},Ba={border:"1"},Pa=function(e){return e.getParam("table_default_attributes",Ba,"object")},La=function(e){return e.getParam("table_default_styles",Ia,"object")},Fa=function(e){return e.getParam("table_tab_navigation",!0,"boolean")},Ha=function(e){return e.getParam("table_cell_advtab",!0,"boolean")},ja=function(e){return e.getParam("table_row_advtab",!0,"boolean")},Va=function(e){return e.getParam("table_advtab",!0,"boolean")},Ua=function(e){return e.getParam("table_style_by_css",!1,"boolean")},$a=function(e){return e.getParam("table_class_list",[],"array")},qa=function(e){return!1===e.getParam("table_responsive_width")},Wa=function(e){var t=e.getParam("table_clone_elements");return g(t)?p.some(t.split(/[ ,]/)):Array.isArray(t)?p.some(t):p.none()},Ya=function(e,t){return e.fire("newrow",{node:t})},Xa=function(e,t){return e.fire("newcell",{node:t})},Ga=function(e,t,n,r){e.fire("ObjectResizeStart",{target:t,width:n,height:r})},Ka=function(e,t,n,r){e.fire("ObjectResized",{target:t,width:n,height:r})},Ja=function(e,t,n,r,o){e.fire("TableSelectionChange",{cells:t,start:n,finish:r,otherCells:o})},Qa=function(e){e.fire("TableSelectionClear")},Za=function(e,t){var r=function(e){return"table"===te(Ea(e))},o=Wa(e),i=function(t,n,r,i){return function(a,u){Na(a);var s=i(),c=we.fromDom(e.getDoc()),l=no(za.directionAt),f=En.cellOperations(r,c,o);return n(a)?t(s,a,u,f,l).bind((function(t){return O(t.newRows(),(function(t){Ya(e,t.dom())})),O(t.newCells(),(function(t){Xa(e,t.dom())})),t.cursor().map((function(t){var n=e.dom.createRng();return n.setStart(t.dom(),0),n.setEnd(t.dom(),0),n}))})):p.none()}};return{deleteRow:i(Ta.eraseRows,(function(t){var n=oo(t);return!1===r(e)||n.rows()>1}),n,t),deleteColumn:i(Ta.eraseColumns,(function(t){var n=oo(t);return!1===r(e)||n.columns()>1}),n,t),insertRowsBefore:i(Ta.insertRowsBefore,c,n,t),insertRowsAfter:i(Ta.insertRowsAfter,c,n,t),insertColumnsBefore:i(Ta.insertColumnsBefore,c,Lr,t),insertColumnsAfter:i(Ta.insertColumnsAfter,c,Lr,t),mergeCells:i(Ta.mergeCells,c,n,t),unmergeCells:i(Ta.unmergeCells,c,n,t),pasteRowsBefore:i(Ta.pasteRowsBefore,c,n,t),pasteRowsAfter:i(Ta.pasteRowsAfter,c,n,t),pasteCells:i(Ta.pasteCells,c,n,t)}},eu=function(e,t,n){var r=Zt(e),o=rn.generate(r);return ei(o,t).map((function(e){var t=Yo(o,n,!1).slice(e[0].row(),e[e.length-1].row()+e[e.length-1].rowspan()),r=Go(t,n);return co(r)}))},tu=tinymce.util.Tools.resolve("tinymce.util.Tools"),nu=function(e,t,n){n&&e.formatter.apply("align"+n,{},t)},ru=function(e,t,n){n&&e.formatter.apply("valign"+n,{},t)},ou=function(e,t){tu.each("left center right".split(" "),(function(n){e.formatter.remove("align"+n,{},t)}))},iu=function(e,t){tu.each("top middle bottom".split(" "),(function(n){e.formatter.remove("valign"+n,{},t)}))},au=function(e,t,n){var r;return r=function(t,r){for(var o=0;o<r.length;o++){var i=e.getStyle(r[o],n);if(void 0===t&&(t=i),t!==i)return""}return t}(r,e.select("td,th",t))},uu=function(e,t){var n=function(t){return ge(t,"rgb")?e.toHex(t):t};return{borderwidth:Ae(we.fromDom(t),"border-width").getOr(""),borderstyle:Ae(we.fromDom(t),"border-style").getOr(""),bordercolor:Ae(we.fromDom(t),"border-color").map(n).getOr(""),backgroundcolor:Ae(we.fromDom(t),"background-color").map(n).getOr("")}},su=function(e,t,n,r,o){var i={};return tu.each(e.split(" "),(function(e){r.formatter.matchNode(o,t+e)&&(i[n]=e)})),i[n]||(i[n]=""),i},cu=a(su,"left center right"),lu=a(su,"top middle bottom"),fu=function(e,t,n){var r=function(e,n){return n=n||[],tu.each(e,(function(e){var o={text:e.text||e.title};e.menu?o.menu=r(e.menu):(o.value=e.value,t&&t(o)),n.push(o)})),n};return r(e,n||[])},du=function(e){var t=e[0],n=e.slice(1),r=P(t);return O(n,(function(e){O(r,(function(n){F(e,(function(e,r){var o=t[n];""!==o&&n===r&&o!==e&&(t[n]="")}))}))})),t},pu=function(e){var t=[{name:"borderstyle",type:"selectbox",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}];return{title:"Advanced",name:"advanced",items:"cell"===e?[{name:"borderwidth",type:"input",label:"Border width"}].concat(t):t}},mu=function(e,t,n){var r=e.dom;return Re(Re({width:r.getStyle(t,"width")||r.getAttrib(t,"width"),height:r.getStyle(t,"height")||r.getAttrib(t,"height"),cellspacing:r.getStyle(t,"border-spacing")||r.getAttrib(t,"cellspacing"),cellpadding:r.getAttrib(t,"cellpadding")||au(e.dom,t,"padding"),border:function(t,n){var r=Ae(we.fromDom(n),"border-width");return Ua(e)&&r.isSome()?r.getOr(""):t.getAttrib(n,"border")||au(e.dom,n,"border-width")||au(e.dom,n,"border")}(r,t),caption:!!r.select("caption",t)[0],class:r.getAttrib(t,"class","")},cu("align","align",e,t)),n?uu(r,t):{})},hu=function(e,t,n){var r=e.dom;return Re(Re({height:r.getStyle(t,"height")||r.getAttrib(t,"height"),scope:r.getAttrib(t,"scope"),class:r.getAttrib(t,"class",""),align:"",type:t.parentNode.nodeName.toLowerCase()},cu("align","align",e,t)),n?uu(r,t):{})},gu=function(e,t,n){var r=e.dom;return Re(Re(Re({width:r.getStyle(t,"width")||r.getAttrib(t,"width"),height:r.getStyle(t,"height")||r.getAttrib(t,"height"),scope:r.getAttrib(t,"scope"),celltype:t.nodeName.toLowerCase(),class:r.getAttrib(t,"class","")},cu("align","halign",e,t)),lu("valign","valign",e,t)),n?uu(r,t):{})},vu=function(e,t){var n,r,o,i=La(e),a=Pa(e),u=e.dom,s=t?function(e){var t=function(t){return ge(t,"rgb")?e.toHex(t):t},n=V(i,"border-style").getOr(""),r=V(i,"border-color").getOr(""),o=V(i,"background-color").getOr("");return{borderstyle:n,bordercolor:t(r),backgroundcolor:t(o)}}(u):{};return Re(Re(Re(Re(Re(Re({},{height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:""}),i),a),s),(o=i["border-width"],Ua(e)&&o?{border:o}:V(a,"border").fold((function(){return{}}),(function(e){return{border:e}})))),(n=V(i,"border-spacing").or(V(a,"cellspacing")).fold((function(){return{}}),(function(e){return{cellspacing:e}})),r=V(i,"border-padding").or(V(a,"cellpadding")).fold((function(){return{}}),(function(e){return{cellpadding:e}})),Re(Re({},n),r)))},bu=[{name:"width",type:"input",label:"Width"},{name:"height",type:"input",label:"Height"},{name:"celltype",type:"selectbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"selectbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"selectbox",label:"H Align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"selectbox",label:"V Align",items:[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}]}],yu=function(e){return function(e){var t=function(e){return e.getParam("table_cell_class_list",[],"array")}(e),n=fu(t,(function(t){t.value&&(t.textStyle=function(){return e.formatter.getCssText({block:"tr",classes:[t.value]})})}));return t.length>0?p.some({name:"class",type:"selectbox",label:"Class",items:n}):p.none()}(e).fold((function(){return bu}),(function(e){return bu.concat(e)}))},wu={normal:function(e,t){return{setAttrib:function(n,r){e.setAttrib(t,n,r)},setStyle:function(n,r){e.setStyle(t,n,r)}}},ifTruthy:function(e,t){return{setAttrib:function(n,r){r&&e.setAttrib(t,n,r)},setStyle:function(n,r){r&&e.setStyle(t,n,r)}}}},xu=function(e,t){e.setAttrib("scope",t.scope),e.setAttrib("class",t.class),e.setStyle("width",Da(t.width)),e.setStyle("height",Da(t.height))},Cu=function(e,t){e.setStyle("background-color",t.backgroundcolor),e.setStyle("border-color",t.bordercolor),e.setStyle("border-style",t.borderstyle),e.setStyle("border-width",Da(t.borderwidth))},ku=function(e,t,n){var r=e.dom,o=n.celltype&&t[0].nodeName.toLowerCase()!==n.celltype?r.rename(t[0],n.celltype):t[0],i=wu.normal(r,o);xu(i,n),Ha(e)&&Cu(i,n),ou(e,o),iu(e,o),n.halign&&nu(e,o,n.halign),n.valign&&ru(e,o,n.valign)},Su=function(e,t,n){var r=e.dom;tu.each(t,(function(t){n.celltype&&t.nodeName.toLowerCase()!==n.celltype&&(t=r.rename(t,n.celltype));var o=wu.ifTruthy(r,t);xu(o,n),Ha(e)&&Cu(o,n),n.halign&&nu(e,t,n.halign),n.valign&&ru(e,t,n.valign)}))},Tu=function(e,t,n){var r=n.getData();n.close(),e.undoManager.transact((function(){(1===t.length?ku:Su)(e,t,r),e.focus()}))},Eu=function(e){var t,n=[];if(n=e.dom.select("td[data-mce-selected],th[data-mce-selected]"),t=e.dom.getParent(e.selection.getStart(),"td,th"),!n.length&&t&&n.push(t),t=t||n[0]){var r=tu.map(n,(function(t){return gu(e,t,Ha(e))})),o=du(r),i={type:"tabpanel",tabs:[{title:"General",name:"general",items:yu(e)},pu("cell")]},u={type:"panel",items:[{type:"grid",columns:2,items:yu(e)}]};e.windowManager.open({title:"Cell Properties",size:"normal",body:Ha(e)?i:u,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:o,onSubmit:a(Tu,e,n)})}},Ou=[{type:"selectbox",name:"type",label:"Row type",items:[{text:"Header",value:"thead"},{text:"Body",value:"tbody"},{text:"Footer",value:"tfoot"}]},{type:"selectbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],_u=function(e){return function(e){var t=function(e){return e.getParam("table_row_class_list",[],"array")}(e),n=fu(t,(function(t){t.value&&(t.textStyle=function(){return e.formatter.getCssText({block:"tr",classes:[t.value]})})}));return t.length>0?p.some({name:"class",type:"selectbox",label:"Class",items:n}):p.none()}(e).fold((function(){return Ou}),(function(e){return Ou.concat(e)}))},Au=function(e,t,n,r){var o=e.dom,i=r.getData();r.close();var a=1===t.length?wu.normal:wu.ifTruthy;e.undoManager.transact((function(){tu.each(t,(function(t){i.type!==t.parentNode.nodeName.toLowerCase()&&function(e,t,n){var r=e.getParent(t,"table"),o=t.parentNode,i=e.select(n,r)[0];i||(i=e.create(n),r.firstChild?"CAPTION"===r.firstChild.nodeName?e.insertAfter(i,r.firstChild):r.insertBefore(i,r.firstChild):r.appendChild(i)),i.appendChild(t),o.hasChildNodes()||e.remove(o)}(e.dom,t,i.type);var r=a(o,t);r.setAttrib("scope",i.scope),r.setAttrib("class",i.class),r.setStyle("height",Da(i.height)),ja(e)&&function(e,t){e.setStyle("background-color",t.backgroundcolor),e.setStyle("border-color",t.bordercolor),e.setStyle("border-style",t.borderstyle)}(r,i),i.align!==n.align&&(ou(e,t),nu(e,t,i.align))})),e.focus()}))},Du=function(e){var t,n,r=e.dom,o=[];if((t=r.getParent(e.selection.getStart(),"table"))&&(n=r.getParent(e.selection.getStart(),"td,th"),tu.each(t.rows,(function(e){tu.each(e.cells,(function(t){if((r.getAttrib(t,"data-mce-selected")||t===n)&&o.indexOf(e)<0)return o.push(e),!1}))})),o[0])){var i=tu.map(o,(function(t){return hu(e,t,ja(e))})),u=du(i),s={type:"tabpanel",tabs:[{title:"General",name:"general",items:_u(e)},pu("row")]},c={type:"panel",items:[{type:"grid",columns:2,items:_u(e)}]};e.windowManager.open({title:"Row Properties",size:"normal",body:ja(e)?s:c,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:u,onSubmit:a(Au,e,o,u)})}},Nu=Object.prototype.hasOwnProperty,Mu=(ro=function(e,t){return t},function(){for(var e=new Array(arguments.length),t=0;t<e.length;t++)e[t]=arguments[t];if(0===e.length)throw new Error("Can't merge zero objects");for(var n={},r=0;r<e.length;r++){var o=e[r];for(var i in o)Nu.call(o,i)&&(n[i]=ro(n[i],o[i]))}return n}),Ru=tinymce.util.Tools.resolve("tinymce.Env"),zu={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},percentages:!0},Iu=function(e,t,n,r,o){void 0===o&&(o=zu);var i=we.fromTag("table");Ee(i,o.styles),ce(i,o.attributes);var a=we.fromTag("tbody");vt(i,a);for(var u=[],s=0;s<e;s++){for(var c=we.fromTag("tr"),l=0;l<t;l++){var f=s<n||l<r?we.fromTag("th"):we.fromTag("td");l<r&&se(f,"scope","row"),s<n&&se(f,"scope","col"),vt(f,we.fromTag("br")),o.percentages&&Te(f,"width",100/t+"%"),vt(c,f)}u.push(c)}return wt(a,u),i},Bu=function(e,t){e.selection.select(t.dom(),!0),e.selection.collapse(!0)},Pu=function(e,t,n){var r,o=La(e),i={styles:o,attributes:Pa(e),percentages:(r=o.width,g(r)&&-1!==r.indexOf("%")&&!qa(e))},u=Iu(n,t,0,0,i);se(u,"data-mce-id","__mce");var s=function(e){var t=we.fromTag("div"),n=we.fromDom(e.dom().cloneNode(!0));return vt(t,n),function(e){return e.dom().innerHTML}(t)}(u);return e.insertContent(s),Ut(Ea(e),'table[data-mce-id="__mce"]').map((function(t){return qa(e)&&Te(t,"width",Oe(t,"width")),de(t,"data-mce-id"),function(e,t){O(Lt(t,"tr"),(function(t){Ya(e,t.dom()),O(Lt(t,"th,td"),(function(t){Xa(e,t.dom())}))}))}(e,t),function(e,t){Ut(t,"td,th").each(a(Bu,e))}(e,t),t.dom()})).getOr(null)},Lu=function(e,t,n){var r=n?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[],o=function(e){return e.getParam("table_appearance_options",!0,"boolean")}(e)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],i=t?[{type:"selectbox",name:"class",label:"Class",items:fu($a(e),(function(t){t.value&&(t.textStyle=function(){return e.formatter.getCssText({block:"table",classes:[t.value]})})}))}]:[];return r.concat([{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}]).concat(o).concat([{type:"selectbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}]).concat(i)},Fu=function(e,t,n,r){if("TD"===t.tagName||"TH"===t.tagName)g(n)?e.setStyle(t,n,r):e.setStyle(t,n);else if(t.children)for(var o=0;o<t.children.length;o++)Fu(e,t.children[o],n,r)},Hu=function(e,t,n){var r,o=e.dom,i=n.getData();n.close(),""===i.class&&delete i.class,e.undoManager.transact((function(){if(!t){var n=parseInt(i.cols,10)||1,a=parseInt(i.rows,10)||1;t=Pu(e,n,a)}!function(e,t,n){var r,o=e.dom,i={},a={};if(i.class=n.class,a.height=Da(n.height),o.getAttrib(t,"width")&&!Ua(e)?i.width=(r=n.width)?r.replace(/px$/,""):"":a.width=Da(n.width),Ua(e)?(a["border-width"]=Da(n.border),a["border-spacing"]=Da(n.cellspacing)):(i.border=n.border,i.cellpadding=n.cellpadding,i.cellspacing=n.cellspacing),Ua(e)&&t.children)for(var u=0;u<t.children.length;u++)Fu(o,t.children[u],{"border-width":Da(n.border),padding:Da(n.cellpadding)}),Va(e)&&Fu(o,t.children[u],{"border-color":n.bordercolor});Va(e)&&(a["background-color"]=n.backgroundcolor,a["border-color"]=n.bordercolor,a["border-style"]=n.borderstyle),i.style=o.serializeStyle(Mu(La(e),a)),o.setAttribs(t,Mu(Pa(e),i))}(e,t,i),(r=o.select("caption",t)[0])&&!i.caption&&o.remove(r),!r&&i.caption&&((r=o.create("caption")).innerHTML=Ru.ie?" ":'<br data-mce-bogus="1"/>',t.insertBefore(r,t.firstChild)),""===i.align?ou(e,t):nu(e,t,i.align),e.focus(),e.addVisual()}))},ju=function(e,t){var n,r=e.dom,o=vu(e,Va(e));!1===t?(n=r.getParent(e.selection.getStart(),"table"))?o=mu(e,n,Va(e)):Va(e)&&(o.borderstyle="",o.bordercolor="",o.backgroundcolor=""):(o.cols="1",o.rows="1",Va(e)&&(o.borderstyle="",o.bordercolor="",o.backgroundcolor=""));var i=$a(e).length>0;i&&o.class&&(o.class=o.class.replace(/\s*mce\-item\-table\s*/g,""));var u={type:"grid",columns:2,items:Lu(e,i,t)},s=Va(e)?{type:"tabpanel",tabs:[{title:"General",name:"general",items:[u]},pu("table")]}:{type:"panel",items:[u]};e.windowManager.open({title:"Table Properties",size:"normal",body:s,onSubmit:a(Hu,e,n),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:o})},Vu=function(e){return function(t){return p.from(t.dom.getParent(t.selection.getStart(),e)).map(we.fromDom)}},Uu=Vu("th,td"),$u=Vu("th,td,caption"),qu=tu.each,Wu={registerCommands:function(e,t,r,o,i){var s=Aa(e),c=function(e){return Qt.table(e,s)},l=function(e){return{width:Oa(e.dom()),height:Oa(e.dom())}},f=function(t){Uu(e).each((function(n){c(n).each((function(i){var a=gr.forMenu(o,i,n),u=l(i);t(i,a).each((function(t){!function(e,t,n){var r=l(n);t.width===r.width&&t.height===r.height||(Ga(e,n.dom(),t.width,t.height),Ka(e,n.dom(),r.width,r.height))}(e,u,i),e.selection.setRng(t),e.focus(),r.clear(i),Na(i)}))}))}))},d=function(t){return Uu(e).map((function(t){return c(t).bind((function(r){var i=we.fromDom(e.getDoc()),a=gr.forMenu(o,r,t),u=En.cellOperations(n,i,p.none());return eu(r,a,u)}))}))},m=function(t){i.get().each((function(n){var i=E(n,(function(e){return wn(e)}));Uu(e).each((function(n){c(n).each((function(a){var u=we.fromDom(e.getDoc()),s=En.paste(u),c=gr.pasteRows(o,a,n,i,s);t(a,c).each((function(t){e.selection.setRng(t),e.focus(),r.clear(a)}))}))}))}))};qu({mceTableSplitCells:function(){f(t.unmergeCells)},mceTableMergeCells:function(){f(t.mergeCells)},mceTableInsertRowBefore:function(){f(t.insertRowsBefore)},mceTableInsertRowAfter:function(){f(t.insertRowsAfter)},mceTableInsertColBefore:function(){f(t.insertColumnsBefore)},mceTableInsertColAfter:function(){f(t.insertColumnsAfter)},mceTableDeleteCol:function(){f(t.deleteColumn)},mceTableDeleteRow:function(){f(t.deleteRow)},mceTableCutRow:function(e){d().each((function(e){i.set(e),f(t.deleteRow)}))},mceTableCopyRow:function(e){d().each((function(e){i.set(e)}))},mceTablePasteRowBefore:function(e){m(t.pasteRowsBefore)},mceTablePasteRowAfter:function(e){m(t.pasteRowsAfter)},mceTableDelete:function(){$u(e).each((function(t){Qt.table(t,s).filter(u(s)).each((function(t){var n=we.fromText("");if(ht(t,n),Ct(t),e.dom.isEmpty(e.getBody()))e.setContent(""),e.selection.setCursorLocation();else{var r=e.dom.createRng();r.setStart(n.dom(),0),r.setEnd(n.dom(),0),e.selection.setRng(r),e.nodeChanged()}}))}))}},(function(t,n){e.addCommand(n,t)})),qu({mceInsertTable:a(ju,e,!0),mceTableProps:a(ju,e,!1),mceTableRowProps:a(Du,e),mceTableCellProps:a(Eu,e)},(function(t,n){e.addCommand(n,(function(){t()}))}))}},Yu=function(e){var t=p.from(e.dom().documentElement).map(we.fromDom).getOr(e);return{parent:o(t),view:o(e),origin:o(Hr(0,0))}},Xu=function(e,t){return{parent:o(t),view:o(e),origin:o(Hr(0,0))}},Gu=function(e){var t=$.apply(null,e),n=[];return{bind:function(e){if(void 0===e)throw new Error("Event bind error: undefined handler");n.push(e)},unbind:function(e){n=_(n,(function(t){return t!==e}))},trigger:function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var o=t.apply(null,e);O(n,(function(e){e(o)}))}}},Ku={create:function(e){return{registry:H(e,(function(e){return{bind:e.bind,unbind:e.unbind}})),trigger:H(e,(function(e){return e.trigger}))}}},Ju=function(e){var t=we.fromDom(e.target),n=function(){e.stopPropagation()},i=function(){e.preventDefault()},a=r(i,n);return function(e,t,n,r,i,a,u){return{target:o(e),x:o(t),y:o(n),stop:r,prevent:i,kill:a,raw:o(u)}}(t,e.clientX,e.clientY,n,i,a,e)},Qu=function(e,t,n,r,o){var i=function(e,t){return function(n){e(n)&&t(Ju(n))}}(n,r);return e.dom().addEventListener(t,i,o),{unbind:a(Zu,e,t,i,o)}},Zu=function(e,t,n,r){e.dom().removeEventListener(t,n,r)},es=o(!0),ts=function(e,t,n){return function(e,t,n,r){return Qu(e,t,n,r,!1)}(e,t,es,n)},ns={resolve:ko("ephox-dragster").resolve},rs=Zi(["compare","extract","mutate","sink"]),os=Zi(["element","start","stop","destroy"]),is=Zi(["forceDrop","drop","move","delayDrop"]),as=rs({compare:function(e,t){return Hr(t.left()-e.left(),t.top()-e.top())},extract:function(e){return p.some(Hr(e.x(),e.y()))},sink:function(e,t){var n=function(e){var t=Mu({layerClass:ns.resolve("blocker")},e),n=we.fromTag("div");se(n,"role","presentation"),Ee(n,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),ho(n,ns.resolve("blocker")),ho(n,t.layerClass);return{element:function(){return n},destroy:function(){Ct(n)}}}(t),r=ts(n.element(),"mousedown",e.forceDrop),o=ts(n.element(),"mouseup",e.drop),i=ts(n.element(),"mousemove",e.move),a=ts(n.element(),"mouseout",e.delayDrop);return os({element:n.element,start:function(e){vt(e,n.element())},stop:function(){Ct(n.element())},destroy:function(){n.destroy(),o.unbind(),i.unbind(),a.unbind(),r.unbind()}})},mutate:function(e,t){e.mutate(t.left(),t.top())}});function us(){var e=p.none(),t=Ku.create({move:Gu(["info"])});return{onEvent:function(n,r){r.extract(n).each((function(n){(function(t,n){var r=e.map((function(e){return t.compare(e,n)}));return e=p.some(n),r})(r,n).each((function(e){t.trigger.move(e)}))}))},reset:function(){e=p.none()},events:t.registry}}function ss(){var e={onEvent:n,reset:n},t=us(),r=e;return{on:function(){r.reset(),r=t},off:function(){r.reset(),r=e},isOn:function(){return r===t},onEvent:function(e,t){r.onEvent(e,t)},events:t.events}}var cs=function(t,n,r){var o,i,a,u=!1,s=Ku.create({start:Gu([]),stop:Gu([])}),c=ss(),l=function(){p.stop(),c.isOn()&&(c.off(),s.trigger.stop())},f=(o=l,i=200,a=null,{cancel:function(){null!==a&&(e.clearTimeout(a),a=null)},throttle:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];null!==a&&e.clearTimeout(a),a=e.setTimeout((function(){o.apply(null,t),a=null}),i)}});c.events.move.bind((function(e){n.mutate(t,e.info())}));var d=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];u&&e.apply(null,t)}},p=n.sink(is({forceDrop:l,drop:d(l),move:d((function(e){f.cancel(),c.onEvent(e,n)})),delayDrop:d(f.throttle)}),r);return{element:p.element,go:function(e){p.start(e),c.on(),s.trigger.start()},on:function(){u=!0},off:function(){u=!1},destroy:function(){p.destroy()},events:s.registry}},ls=function(e,t){void 0===t&&(t={});var n=void 0!==t.mode?t.mode:as;return cs(e,n,t)},fs=function(){var e=Ku.create({drag:Gu(["xDelta","yDelta","target"])}),t=p.none(),n=function(){var e=Ku.create({drag:Gu(["xDelta","yDelta"])});return{mutate:function(t,n){e.trigger.drag(t,n)},events:e.registry}}();n.events.drag.bind((function(n){t.each((function(t){e.trigger.drag(n.xDelta(),n.yDelta(),t)}))}));return{assign:function(e){t=p.some(e)},get:function(){return t},mutate:n.mutate,events:e.registry}},ds=function(e){return"true"===le(e,"contenteditable")},ps=To.resolve("resizer-bar-dragging"),ms=function(e,t,n){var r=fs(),o=ls(r,{}),i=p.none(),u=function(e,t){return p.from(le(e,t))};r.events.drag.bind((function(e){u(e.target(),"data-row").each((function(t){var n=Ni.getInt(e.target(),"top");Te(e.target(),"top",n+e.yDelta()+"px")})),u(e.target(),"data-column").each((function(t){var n=Ni.getInt(e.target(),"left");Te(e.target(),"left",n+e.xDelta()+"px")}))}));var s=function(e,t){return Ni.getInt(e,t)-parseInt(le(e,"data-initial-"+t),10)};o.events.stop.bind((function(){r.get().each((function(r){i.each((function(o){u(r,"data-row").each((function(e){var t=s(r,"top");de(r,"data-initial-top"),h.trigger.adjustHeight(o,t,parseInt(e,10))})),u(r,"data-column").each((function(e){var t=s(r,"left");de(r,"data-initial-left"),h.trigger.adjustWidth(o,t,parseInt(e,10))})),Io(e,o,n,t)}))}))}));var c=function(t,n){h.trigger.startAdjust(),r.assign(t),se(t,"data-initial-"+n,parseInt(Oe(t,n),10)),ho(t,ps),Te(t,"opacity","0.2"),o.go(e.parent())},l=ts(e.parent(),"mousedown",(function(e){Fo(e.target())&&c(e.target(),"top"),Ho(e.target())&&c(e.target(),"left")})),f=function(t){return ot(t,e.view())},d=function(e){return $t(e,"table",f).filter((function(e){return function(e,t){return $t(e,"[contenteditable]",t)}(e,f).exists(ds)}))},m=ts(e.view(),"mouseover",(function(r){d(r.target()).fold((function(){xe(r.target())&&Lo(e)}),(function(r){i=p.some(r),Io(e,r,n,t)}))})),h=Ku.create({adjustHeight:Gu(["table","delta","row"]),adjustWidth:Gu(["table","delta","column"]),startAdjust:Gu([])});return{destroy:function(){l.unbind(),m.unbind(),o.destroy(),Lo(e)},refresh:function(r){Io(e,r,n,t)},on:o.on,off:o.off,hideBars:a(Bo,e),showBars:a(Po,e),events:h.registry}},hs=function(e,t){var n=eo.height,r=ms(e,t,n),o=Ku.create({beforeResize:Gu(["table"]),afterResize:Gu(["table"]),startDrag:Gu([])});return r.events.adjustHeight.bind((function(e){o.trigger.beforeResize(e.table());var t=n.delta(e.delta(),e.table());Gi(e.table(),t,e.row(),n),o.trigger.afterResize(e.table())})),r.events.startAdjust.bind((function(e){o.trigger.startDrag()})),r.events.adjustWidth.bind((function(e){o.trigger.beforeResize(e.table());var n=t.delta(e.delta(),e.table());Xi(e.table(),n,e.column(),t),o.trigger.afterResize(e.table())})),{on:r.on,off:r.off,hideBars:r.hideBars,showBars:r.showBars,destroy:r.destroy,events:o.registry}},gs=function(e,t){return e.inline?Xu(Ea(e),function(){var e=we.fromTag("div");return Ee(e,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),vt(Ce(),e),e}()):Yu(we.fromDom(e.getDoc()))},vs=function(e,t){e.inline&&Ct(t.parent())},bs=function(e,t){return Oa(e.dom())/Oa(t.dom())*100+"%"},ys=function(e){var t,n,r=p.none(),o=p.none(),i=p.none(),a=/(\d+(\.\d+)?)%/,u=function(e){return"TABLE"===e.nodeName},s=function(t){var n=e.dom.getStyle(t,"width")||e.dom.getAttrib(t,"width");return p.from(n).filter((function(e){return e.length>0}))},c=function(){return o};return e.on("init",(function(){var t=no(za.directionAt),n=gs(e);if(i=p.some(n),function(e){var t=e.getParam("object_resizing",!0);return g(t)?"table"===t:t}(e)&&function(e){return e.getParam("table_resize_bars",!0,"boolean")}(e)){var a=hs(n,t);a.on(),a.events.startDrag.bind((function(t){r=p.some(e.selection.getRng())})),a.events.beforeResize.bind((function(t){var n=t.table().dom();Ga(e,n,Oa(n),_a(n))})),a.events.afterResize.bind((function(t){var n=t.table(),o=n.dom();Na(n),r.each((function(t){e.selection.setRng(t),e.focus()})),Ka(e,o,Oa(o),_a(o)),e.undoManager.add()})),o=p.some(a)}})),e.on("ObjectResizeStart",(function(r){var o=r.target;if(u(o)){var i=s(o).map((function(e){return a.test(e)})).getOr(!1);i&&qa(e)?function(e){Te(we.fromDom(e),"width",Oa(e).toString()+"px")}(o):!i&&function(e){return!0===e.getParam("table_responsive_width")}(e)&&function(e){var t=we.fromDom(e);st(t).map((function(e){return bs(t,e)})).each((function(e){Te(t,"width",e),O(Lt(t,"tr"),(function(e){O(dt(e),(function(t){Te(t,"width",bs(t,e))}))}))}))}(o),t=r.width,n=s(o).getOr("")}})),e.on("ObjectResized",(function(r){var o=r.target;if(u(o)){var i=o;if(a.test(n)){var s=parseFloat(a.exec(n)[1]),c=r.width*s/t;e.dom.setStyle(i,"width",c+"%")}else{var l=[];tu.each(i.rows,(function(t){tu.each(t.cells,(function(t){var n=e.dom.getStyle(t,"width",!0);l.push({cell:t,width:n})}))})),tu.each(l,(function(t){e.dom.setStyle(t.cell,"width",t.width),e.dom.setAttrib(t.cell,"width",null)}))}}})),e.on("SwitchMode",(function(){c().each((function(t){e.readonly?t.hideBars():t.showBars()}))})),{lazyResize:c,lazyWire:function(){return i.getOr(Yu(we.fromDom(e.getBody())))},destroy:function(){o.each((function(e){e.destroy()})),i.each((function(t){vs(e,t)}))}}},ws=ur([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),xs=Re(Re({},ws),{none:function(e){return void 0===e&&(e=void 0),ws.none(e)}}),Cs=function(e,t){return Qt.table(e,t).bind((function(t){var n=Qt.cells(t);return M(n,(function(t){return ot(e,t)})).map((function(e){return{index:o(e),all:o(n)}}))}))},ks=function(e,t){return Cs(e,t).fold((function(){return xs.none(e)}),(function(t){return t.index()+1<t.all().length?xs.middle(e,t.all()[t.index()+1]):xs.last(e)}))},Ss=function(e,t){return Cs(e,t).fold((function(){return xs.none()}),(function(t){return t.index()-1>=0?xs.middle(e,t.all()[t.index()-1]):xs.first(e)}))},Ts={create:$("start","soffset","finish","foffset")},Es=ur([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Os={before:Es.before,on:Es.on,after:Es.after,cata:function(e,t,n,r){return e.fold(t,n,r)},getStart:function(e){return e.fold(i,i,i)}},_s=ur([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),As={domRange:_s.domRange,relative:_s.relative,exact:_s.exact,exactFromRange:function(e){return _s.exact(e.start(),e.soffset(),e.finish(),e.foffset())},getWin:function(e){var t,n=function(e){return e.match({domRange:function(e){return we.fromDom(e.startContainer)},relative:function(e,t){return Os.getStart(e)},exact:function(e,t,n,r){return e}})}(e);return t=n,we.fromDom(t.dom().ownerDocument.defaultView)},range:Ts.create},Ds=function(e,t){e.selectNodeContents(t.dom())},Ns=function(e,t,n){var r,o=e.document.createRange();return r=o,t.fold((function(e){r.setStartBefore(e.dom())}),(function(e,t){r.setStart(e.dom(),t)}),(function(e){r.setStartAfter(e.dom())})),function(e,t){t.fold((function(t){e.setEndBefore(t.dom())}),(function(t,n){e.setEnd(t.dom(),n)}),(function(t){e.setEndAfter(t.dom())}))}(o,n),o},Ms=function(e,t,n,r,o){var i=e.document.createRange();return i.setStart(t.dom(),n),i.setEnd(r.dom(),o),i},Rs=function(e){return{left:o(e.left),top:o(e.top),right:o(e.right),bottom:o(e.bottom),width:o(e.width),height:o(e.height)}},zs=ur([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Is=function(e,t,n){return t(we.fromDom(n.startContainer),n.startOffset,we.fromDom(n.endContainer),n.endOffset)},Bs=function(e,t){return function(e,t){var n=t.ltr();return n.collapsed?t.rtl().filter((function(e){return!1===e.collapsed})).map((function(e){return zs.rtl(we.fromDom(e.endContainer),e.endOffset,we.fromDom(e.startContainer),e.startOffset)})).getOrThunk((function(){return Is(0,zs.ltr,n)})):Is(0,zs.ltr,n)}(0,function(e,t){return t.match({domRange:function(e){return{ltr:o(e),rtl:p.none}},relative:function(t,n){return{ltr:be((function(){return Ns(e,t,n)})),rtl:be((function(){return p.some(Ns(e,n,t))}))}},exact:function(t,n,r,o){return{ltr:be((function(){return Ms(e,t,n,r,o)})),rtl:be((function(){return p.some(Ms(e,r,o,t,n))}))}}})}(e,t))},Ps=function(e,t){return Bs(e,t).match({ltr:function(t,n,r,o){var i=e.document.createRange();return i.setStart(t.dom(),n),i.setEnd(r.dom(),o),i},rtl:function(t,n,r,o){var i=e.document.createRange();return i.setStart(r.dom(),o),i.setEnd(t.dom(),n),i}})},Ls=function(e,t,n){return t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom},Fs=function(e,t,n,r,o){var i=function(n){var r=e.dom().createRange();return r.setStart(t.dom(),n),r.collapse(!0),r},a=cn(t).length,u=function(e,t,n,r,o){if(0===o)return 0;if(t===r)return o-1;for(var i=r,a=1;a<o;a++){var u=e(a),s=Math.abs(t-u.left);if(n<=u.bottom){if(n<u.top||s>i)return a-1;i=s}}return 0}((function(e){return i(e).getBoundingClientRect()}),n,r,o.right,a);return i(u)},Hs=function(e,t,n,r){return ae(t)?function(e,t,n,r){var o=e.dom().createRange();o.selectNode(t.dom());var i=o.getClientRects();return ao(i,(function(e){return Ls(e,n,r)?p.some(e):p.none()})).map((function(o){return Fs(e,t,n,r,o)}))}(e,t,n,r):function(e,t,n,r){var o=e.dom().createRange(),i=dt(t);return ao(i,(function(t){return o.selectNode(t.dom()),Ls(o.getBoundingClientRect(),n,r)?Hs(e,t,n,r):p.none()}))}(e,t,n,r)},js=function(e,t){return t-e.left<e.right-t},Vs=function(e,t,n){var r=e.dom().createRange();return r.selectNode(t.dom()),r.collapse(n),r},Us=function(e,t,n){var r=e.dom().createRange();r.selectNode(t.dom());var o=r.getBoundingClientRect(),i=js(o,n);return(!0===i?hn:gn)(t).map((function(t){return Vs(e,t,i)}))},$s=function(e,t,n){var r=t.dom().getBoundingClientRect(),o=js(r,n);return p.some(Vs(e,t,o))},qs=function(e,t,n,r){var o=e.dom().createRange();o.selectNode(t.dom());var i=o.getBoundingClientRect();return function(e,t,n,r){var o=e.dom().createRange();o.selectNode(t.dom());var i=o.getBoundingClientRect(),a=Math.max(i.left,Math.min(i.right,n)),u=Math.max(i.top,Math.min(i.bottom,r));return Hs(e,t,a,u)}(e,t,Math.max(i.left,Math.min(i.right,n)),Math.max(i.top,Math.min(i.bottom,r)))},Ws=document.caretPositionFromPoint?function(e,t,n){return p.from(e.dom().caretPositionFromPoint(t,n)).bind((function(t){if(null===t.offsetNode)return p.none();var n=e.dom().createRange();return n.setStart(t.offsetNode,t.offset),n.collapse(),p.some(n)}))}:document.caretRangeFromPoint?function(e,t,n){return p.from(e.dom().caretRangeFromPoint(t,n))}:function(e,t,n){return we.fromPoint(e,t,n).bind((function(r){var o=function(){return function(e,t,n){return(0===dt(t).length?$s:Us)(e,t,n)}(e,r,t)};return 0===dt(r).length?o():qs(e,r,t,n).orThunk(o)}))},Ys=function(e,t){var n=te(e);return"input"===n?Os.after(e):S(["br","img"],n)?0===t?Os.before(e):Os.after(e):Os.on(e,t)},Xs=function(e,t){var n=e.fold(Os.before,Ys,Os.after),r=t.fold(Os.before,Ys,Os.after);return As.relative(n,r)},Gs=function(e,t,n,r){var o=Ys(e,t),i=Ys(n,r);return As.relative(o,i)},Ks=function(e,t,n,r){var o=function(e,t,n,r){var o=ut(e).dom().createRange();return o.setStart(e.dom(),t),o.setEnd(n.dom(),r),o}(e,t,n,r),i=ot(e,n)&&t===r;return o.collapsed&&!i},Js=function(e,t){p.from(e.getSelection()).each((function(e){e.removeAllRanges(),e.addRange(t)}))},Qs=function(e,t,n,r,o){var i=Ms(e,t,n,r,o);Js(e,i)},Zs=function(e,t){return Bs(e,t).match({ltr:function(t,n,r,o){Qs(e,t,n,r,o)},rtl:function(t,n,r,o){var i=e.getSelection();if(i.setBaseAndExtent)i.setBaseAndExtent(t.dom(),n,r.dom(),o);else if(i.extend)try{!function(e,t,n,r,o,i){t.collapse(n.dom(),r),t.extend(o.dom(),i)}(0,i,t,n,r,o)}catch(i){Qs(e,r,o,t,n)}else Qs(e,r,o,t,n)}})},ec=function(e,t,n,r,o){var i=Gs(t,n,r,o);Zs(e,i)},tc=function(e,t,n){var r=Xs(t,n);Zs(e,r)},nc=function(e){var t=As.getWin(e).dom(),n=function(e,n,r,o){return Ms(t,e,n,r,o)},r=function(e){return e.match({domRange:function(e){var t=we.fromDom(e.startContainer),n=we.fromDom(e.endContainer);return Gs(t,e.startOffset,n,e.endOffset)},relative:Xs,exact:Gs})}(e);return Bs(t,r).match({ltr:n,rtl:n})},rc=function(e){var t=we.fromDom(e.anchorNode),n=we.fromDom(e.focusNode);return Ks(t,e.anchorOffset,n,e.focusOffset)?p.some(Ts.create(t,e.anchorOffset,n,e.focusOffset)):function(e){if(e.rangeCount>0){var t=e.getRangeAt(0),n=e.getRangeAt(e.rangeCount-1);return p.some(Ts.create(we.fromDom(t.startContainer),t.startOffset,we.fromDom(n.endContainer),n.endOffset))}return p.none()}(e)},oc=function(e,t){var n=function(e,t){var n=e.document.createRange();return Ds(n,t),n}(e,t);Js(e,n)},ic=function(e){return function(e){return p.from(e.getSelection()).filter((function(e){return e.rangeCount>0})).bind(rc)}(e).map((function(e){return As.exact(e.start(),e.soffset(),e.finish(),e.foffset())}))},ac=function(e,t){return function(e){var t=e.getClientRects(),n=t.length>0?t[0]:e.getBoundingClientRect();return n.width>0||n.height>0?p.some(n).map(Rs):p.none()}(Ps(e,t))},uc=function(e,t,n){return function(e,t,n){var r=we.fromDom(e.document);return Ws(r,t,n).map((function(e){return Ts.create(we.fromDom(e.startContainer),e.startOffset,we.fromDom(e.endContainer),e.endOffset)}))}(e,t,n)},sc=tinymce.util.Tools.resolve("tinymce.util.VK"),cc=function(e,t,n,r){return pc(e,t,ks(n),r)},lc=function(e,t,n,r){return pc(e,t,Ss(n),r)},fc=function(e,t){var n=As.exact(t,0,t,0);return nc(n)},dc=function(e,t){var n,r=Lt(t,"tr");return(n=r,0===n.length?p.none():p.some(n[n.length-1])).bind((function(e){return Ut(e,"td,th").map((function(e){return fc(0,e)}))}))},pc=function(e,t,n,r,o){return n.fold(p.none,p.none,(function(e,t){return hn(t).map((function(e){return fc(0,e)}))}),(function(n){return Qt.table(n,t).bind((function(t){var o=gr.noMenu(n);return e.undoManager.transact((function(){r.insertRowsAfter(t,o)})),dc(0,t)}))}))},mc=["table","li","dl"],hc={handle:function(e,t,n,r){if(e.keyCode===sc.TAB){var o=Ea(t),i=function(e){var t=te(e);return ot(e,o)||S(mc,t)},a=t.selection.getRng();if(a.collapsed){var u=we.fromDom(a.startContainer);Qt.cell(u,i).each((function(o){e.preventDefault(),(e.shiftKey?lc:cc)(t,i,o,n,r).each((function(e){t.selection.setRng(e)}))}))}}}},gc={create:$("selection","kill")},vc=function(e,t,n,r){return{start:o(Os.on(e,t)),finish:o(Os.on(n,r))}},bc={convertToRange:function(e,t){var n=Ps(e,t);return Ts.create(we.fromDom(n.startContainer),n.startOffset,we.fromDom(n.endContainer),n.endOffset)},makeSitus:vc},yc=function(e,t,n,r,o){return ot(n,r)?p.none():nr.identify(n,r,t).bind((function(t){var r=t.boxes().getOr([]);return r.length>0?(o(e,r,t.start(),t.finish()),p.some(gc.create(p.some(bc.makeSitus(n,0,n,dn(n))),!0))):p.none()}))},wc={sync:function(e,t,n,r,o,i,a){return ot(n,o)&&r===i?p.none():$t(n,"td,th",t).bind((function(n){return $t(o,"td,th",t).bind((function(r){return yc(e,t,n,r,a)}))}))},detect:yc,update:function(e,t,n,r,o){return nr.shiftSelection(r,e,t,o.firstSelectedSelector(),o.lastSelectedSelector()).map((function(e){return o.clearBeforeUpdate(n),o.selectRange(n,e.boxes(),e.start(),e.finish()),e.boxes()}))}},xc=$("item","mode"),Cc=function(e,t,n,r){return void 0===r&&(r=kc),e.property().parent(t).map((function(e){return xc(e,r)}))},kc=function(e,t,n,r){return void 0===r&&(r=Sc),n.sibling(e,t).map((function(e){return xc(e,r)}))},Sc=function(e,t,n,r){void 0===r&&(r=Sc);var o=e.property().children(t);return n.first(o).map((function(e){return xc(e,r)}))},Tc=[{current:Cc,next:kc,fallback:p.none()},{current:kc,next:Sc,fallback:p.some(Cc)},{current:Sc,next:Sc,fallback:p.some(kc)}],Ec=function(e,t,n,r,o){return void 0===o&&(o=Tc),N(o,(function(e){return e.current===n})).bind((function(n){return n.current(e,t,r,n.next).orThunk((function(){return n.fallback.bind((function(n){return Ec(e,t,n,r)}))}))}))},Oc=function(){return{sibling:function(e,t){return e.query().prevSibling(t)},first:function(e){return e.length>0?p.some(e[e.length-1]):p.none()}}},_c=function(){return{sibling:function(e,t){return e.query().nextSibling(t)},first:function(e){return e.length>0?p.some(e[0]):p.none()}}},Ac=function(e,t,n,r,o,i){return Ec(e,t,r,o).bind((function(t){return i(t.item())?p.none():n(t.item())?p.some(t.item()):Ac(e,t.item(),n,t.mode(),o,i)}))},Dc=function(e){return function(t){return 0===e.property().children(t).length}},Nc=function(e,t,n,r){return Ac(e,t,n,kc,Oc(),r)},Mc=function(e,t,n,r){return Ac(e,t,n,kc,_c(),r)},Rc=Vn(),zc=function(e,t){return function(e,t,n){return Nc(e,t,Dc(e),n)}(Rc,e,t)},Ic=function(e,t){return function(e,t,n){return Mc(e,t,Dc(e),n)}(Rc,e,t)},Bc=$("element","offset"),Pc=($("element","deltaOffset"),$("element","start","finish"),$("begin","end"),$("element","text"),ur([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}])),Lc=function(e){return $t(e,"tr")},Fc=Re(Re({},Pc),{verify:function(e,t,n,r,o,i,a){return $t(r,"td,th",a).bind((function(n){return $t(t,"td,th",a).map((function(t){return ot(n,t)?ot(r,n)&&dn(n)===o?i(t):Pc.none("in same cell"):Qn.sharedOne(Lc,[n,t]).fold((function(){return function(e,t,n){var r=e.getRect(t),o=e.getRect(n);return o.right>r.left&&o.left<r.right}(e,t,n)?Pc.success():i(t)}),(function(e){return i(t)}))}))})).getOr(Pc.none("default"))},cata:function(e,t,n,r,o){return e.fold(t,n,r,o)}}),Hc=($("ancestor","descendants","element","index"),$("parent","children","element","index")),jc=function(e,t){return M(e,a(ot,t))},Vc=function(e){return"br"===te(e)},Uc=function(e,t,n){return t(e,n).bind((function(e){return ae(e)&&0===cn(e).trim().length?Uc(e,t,n):p.some(e)}))},$c=function(e,t,n,r){return function(e,t){return pt(e,t).filter(Vc).orThunk((function(){return pt(e,t-1).filter(Vc)}))}(t,n).bind((function(t){return r.traverse(t).fold((function(){return Uc(t,r.gather,e).map(r.relative)}),(function(e){return function(e){return st(e).bind((function(t){var n=dt(t);return jc(n,e).map((function(r){return Hc(t,n,e,r)}))}))}(e).map((function(e){return Os.on(e.parent(),e.index())}))}))}))},qc=function(e,t,n,r){return(Vc(t)?function(e,t,n){return n.traverse(t).orThunk((function(){return Uc(t,n.gather,e)})).map(n.relative)}(e,t,r):$c(e,t,n,r)).map((function(e){return{start:o(e),finish:o(e)}}))},Wc=function(e){return Fc.cata(e,(function(e){return p.none()}),(function(){return p.none()}),(function(e){return p.some(Bc(e,0))}),(function(e){return p.some(Bc(e,dn(e)))}))},Yc=K(["left","top","right","bottom"],[]),Xc={nu:Yc,moveUp:function(e,t){return Yc({left:e.left(),top:e.top()-t,right:e.right(),bottom:e.bottom()-t})},moveDown:function(e,t){return Yc({left:e.left(),top:e.top()+t,right:e.right(),bottom:e.bottom()+t})},moveBottomTo:function(e,t){var n=e.bottom()-e.top();return Yc({left:e.left(),top:t-n,right:e.right(),bottom:t})},moveTopTo:function(e,t){var n=e.bottom()-e.top();return Yc({left:e.left(),top:t,right:e.right(),bottom:t+n})},getTop:function(e){return e.top()},getBottom:function(e){return e.bottom()},translate:function(e,t,n){return Yc({left:e.left()+t,top:e.top()+n,right:e.right()+t,bottom:e.bottom()+n})},toString:function(e){return"("+e.left()+", "+e.top()+") -> ("+e.right()+", "+e.bottom()+")"}},Gc=function(e){return Xc.nu({left:e.left,top:e.top,right:e.right,bottom:e.bottom})},Kc=function(e,t){return p.some(e.getRect(t))},Jc=function(e,t,n){return ie(t)?Kc(e,t).map(Gc):ae(t)?function(e,t,n){return n>=0&&n<dn(t)?e.getRangedRect(t,n,t,n+1):n>0?e.getRangedRect(t,n-1,t,n):p.none()}(e,t,n).map(Gc):p.none()},Qc=function(e,t){return ie(t)?Kc(e,t).map(Gc):ae(t)?e.getRangedRect(t,0,t,dn(t)).map(Gc):p.none()},Zc=ur([{none:[]},{retry:["caret"]}]),el=function(e,t,n){return(r=t,i=da,Ft((function(e,t){return t(e)}),Ht,r,i,a)).fold(o(!1),(function(t){return Qc(e,t).exists((function(e){return function(e,t){return e.left()<t.left()||Math.abs(t.right()-e.left())<1||e.left()>t.right()}(n,e)}))}));var r,i,a},tl={point:Xc.getTop,adjuster:function(e,t,n,r,o){var i=Xc.moveUp(o,5);return Math.abs(n.top()-r.top())<1?Zc.retry(i):n.bottom()<o.top()?Zc.retry(i):n.bottom()===o.top()?Zc.retry(Xc.moveUp(o,1)):el(e,t,o)?Zc.retry(Xc.translate(i,5,0)):Zc.none()},move:Xc.moveUp,gather:zc},nl={point:Xc.getBottom,adjuster:function(e,t,n,r,o){var i=Xc.moveDown(o,5);return Math.abs(n.bottom()-r.bottom())<1?Zc.retry(i):n.top()>o.bottom()?Zc.retry(i):n.top()===o.bottom()?Zc.retry(Xc.moveDown(o,1)):el(e,t,o)?Zc.retry(Xc.translate(i,5,0)):Zc.none()},move:Xc.moveDown,gather:Ic},rl=function(e,t,n,r,o){return 0===o?p.some(r):function(e,t,n){return e.elementFromPoint(t,n).filter((function(e){return"table"===te(e)})).isSome()}(e,r.left(),t.point(r))?function(e,t,n,r,o){return rl(e,t,n,t.move(r,5),o)}(e,t,n,r,o-1):e.situsFromPoint(r.left(),t.point(r)).bind((function(i){return i.start().fold(p.none,(function(i){return Qc(e,i).bind((function(a){return t.adjuster(e,i,a,n,r).fold(p.none,(function(r){return rl(e,t,n,r,o-1)}))})).orThunk((function(){return p.some(r)}))}),p.none)}))},ol=function(e,t,n){var r=e.move(n,5),o=rl(t,e,n,r,100).getOr(r);return function(e,t,n){return e.point(t)>n.getInnerHeight()?p.some(e.point(t)-n.getInnerHeight()):e.point(t)<0?p.some(-e.point(t)):p.none()}(e,o,t).fold((function(){return t.situsFromPoint(o.left(),e.point(o))}),(function(n){return t.scrollBy(0,n),t.situsFromPoint(o.left(),e.point(o)-n)}))},il={tryUp:a(ol,tl),tryDown:a(ol,nl),ieTryUp:function(e,t){return e.situsFromPoint(t.left(),t.top()-5)},ieTryDown:function(e,t){return e.situsFromPoint(t.left(),t.bottom()+5)},getJumpSize:o(5)},al=Ze(),ul=function(e,t,n,r,o,i){return 0===i?p.none():ll(e,t,n,r,o).bind((function(a){var u=e.fromSitus(a),s=Fc.verify(e,n,r,u.finish(),u.foffset(),o.failure,t);return Fc.cata(s,(function(){return p.none()}),(function(){return p.some(a)}),(function(a){return ot(n,a)&&0===r?sl(e,n,r,Xc.moveUp,o):ul(e,t,a,0,o,i-1)}),(function(a){return ot(n,a)&&r===dn(a)?sl(e,n,r,Xc.moveDown,o):ul(e,t,a,dn(a),o,i-1)}))}))},sl=function(e,t,n,r,o){return Jc(e,t,n).bind((function(t){return cl(e,o,r(t,il.getJumpSize()))}))},cl=function(e,t,n){return al.browser.isChrome()||al.browser.isSafari()||al.browser.isFirefox()||al.browser.isEdge()?t.otherRetry(e,n):al.browser.isIE()?t.ieRetry(e,n):p.none()},ll=function(e,t,n,r,o){return Jc(e,n,r).bind((function(t){return cl(e,o,t)}))},fl=function(e,t,n){return function(e,t,n){return e.getSelection().bind((function(r){return qc(t,r.finish(),r.foffset(),n).fold((function(){return p.some(Bc(r.finish(),r.foffset()))}),(function(o){var i=e.fromSitus(o),a=Fc.verify(e,r.finish(),r.foffset(),i.finish(),i.foffset(),n.failure,t);return Wc(a)}))}))}(e,t,n).bind((function(r){return ul(e,t,r.element(),r.offset(),n,20).map(e.fromSitus)}))},dl=Ze(),pl=function(e,t){return Ht(e,(function(e){return st(e).exists((function(e){return ot(e,t)}))}),n).isSome();var n},ml=function(e,t,n,r,i){return $t(r,"td,th",t).bind((function(r){return $t(r,"table",t).bind((function(a){return pl(i,a)?fl(e,t,n).bind((function(e){return $t(e.finish(),"td,th",t).map((function(t){return{start:o(r),finish:o(t),range:o(e)}}))})):p.none()}))}))},hl=function(e,t,n,r,o,i){return dl.browser.isIE()?p.none():i(r,t).orThunk((function(){return ml(e,t,n,r,o).map((function(e){var t=e.range();return gc.create(p.some(bc.makeSitus(t.start(),t.soffset(),t.finish(),t.foffset())),!0)}))}))},gl=function(e,t,n,r,o,i,a){return ml(e,n,r,o,i).bind((function(e){return wc.detect(t,n,e.start(),e.finish(),a)}))},vl=function(e,t){return $t(e,"tr",t).bind((function(e){return $t(e,"table",t).bind((function(n){var r=Lt(n,"tr");return ot(e,r[0])?function(e,t,n){return Nc(Rc,e,t,n)}(n,(function(e){return gn(e).isSome()}),t).map((function(e){var t=dn(e);return gc.create(p.some(bc.makeSitus(e,t,e,t)),!0)})):p.none()}))}))},bl=function(e,t){return $t(e,"tr",t).bind((function(e){return $t(e,"table",t).bind((function(n){var r=Lt(n,"tr");return ot(e,r[r.length-1])?function(e,t,n){return Mc(Rc,e,t,n)}(n,(function(e){return hn(e).isSome()}),t).map((function(e){return gc.create(p.some(bc.makeSitus(e,0,e,0)),!0)})):p.none()}))}))},yl=function(e,t){return $t(e,"td,th",t)};var wl={down:{traverse:ft,gather:Ic,relative:Os.before,otherRetry:il.tryDown,ieRetry:il.ieTryDown,failure:Fc.failedDown},up:{traverse:lt,gather:zc,relative:Os.before,otherRetry:il.tryUp,ieRetry:il.ieTryUp,failure:Fc.failedUp}},xl=function(e){return function(t){return t===e}},Cl=xl(38),kl=xl(40),Sl={ltr:{isBackward:xl(37),isForward:xl(39)},rtl:{isBackward:xl(39),isForward:xl(37)},isUp:Cl,isDown:kl,isNavigation:function(e){return e>=37&&e<=40}},Tl=function(e){return{left:e.left(),top:e.top(),right:e.right(),bottom:e.bottom(),width:e.width(),height:e.height()}},El=(Ze().browser.isSafari(),function(t){return{elementFromPoint:function(e,n){return we.fromPoint(we.fromDom(t.document),e,n)},getRect:function(e){return e.dom().getBoundingClientRect()},getRangedRect:function(e,n,r,o){var i=As.exact(e,n,r,o);return ac(t,i).map(Tl)},getSelection:function(){return ic(t).map((function(e){return bc.convertToRange(t,e)}))},fromSitus:function(e){var n=As.relative(e.start(),e.finish());return bc.convertToRange(t,n)},situsFromPoint:function(e,n){return uc(t,e,n).map((function(e){return vc(e.start(),e.soffset(),e.finish(),e.foffset())}))},clearSelection:function(){!function(e){e.getSelection().removeAllRanges()}(t)},collapseSelection:function(e){void 0===e&&(e=!1),ic(t).each((function(n){return n.fold((function(t){return t.collapse(e)}),(function(n,r){var o=e?n:r;tc(t,o,o)}),(function(n,r,o,i){var a=e?n:o,u=e?r:i;ec(t,a,u,a,u)}))}))},setSelection:function(e){ec(t,e.start(),e.soffset(),e.finish(),e.foffset())},setRelativeSelection:function(e,n){tc(t,e,n)},selectContents:function(e){oc(t,e)},getInnerHeight:function(){return t.innerHeight},getScrollY:function(){var n,r,o,i;return(n=we.fromDom(t.document),r=void 0!==n?n.dom():e.document,o=r.body.scrollLeft||r.documentElement.scrollLeft,i=r.body.scrollTop||r.documentElement.scrollTop,Hr(o,i)).top()},scrollBy:function(n,r){!function(t,n,r){(void 0!==r?r.dom():e.document).defaultView.scrollBy(t,n)}(n,r,we.fromDom(t.document))}}}),Ol=$("rows","cols"),_l={mouse:function(e,t,n,r){var o=function(e,t,n,r){var o=p.none(),i=function(){o=p.none()};return{mousedown:function(e){r.clear(t),o=yl(e.target(),n)},mouseover:function(i){o.each((function(o){r.clearBeforeUpdate(t),yl(i.target(),n).each((function(i){nr.identify(o,i,n).each((function(n){var a=n.boxes().getOr([]);(a.length>1||1===a.length&&!ot(o,i))&&(r.selectRange(t,a,n.start(),n.finish()),e.selectContents(i))}))}))}))},mouseup:function(e){o.each(i)}}}(El(e),t,n,r);return{mousedown:o.mousedown,mouseover:o.mouseover,mouseup:o.mouseup}},keyboard:function(e,t,n,r){var o=El(e),i=function(){return r.clear(t),p.none()};return{keydown:function(e,u,s,c,l,f){var d=e.raw(),m=d.which,h=!0===d.shiftKey;return nr.retrieve(t,r.selectedSelector()).fold((function(){return Sl.isDown(m)&&h?a(gl,o,t,n,wl.down,c,u,r.selectRange):Sl.isUp(m)&&h?a(gl,o,t,n,wl.up,c,u,r.selectRange):Sl.isDown(m)?a(hl,o,n,wl.down,c,u,bl):Sl.isUp(m)?a(hl,o,n,wl.up,c,u,vl):p.none}),(function(e){var n=function(n){return function(){return ao(n,(function(n){return wc.update(n.rows(),n.cols(),t,e,r)})).fold((function(){return nr.getEdges(t,r.firstSelectedSelector(),r.lastSelectedSelector()).map((function(e){var n=Sl.isDown(m)||f.isForward(m)?Os.after:Os.before;return o.setRelativeSelection(Os.on(e.first(),0),n(e.table())),r.clear(t),gc.create(p.none(),!0)}))}),(function(e){return p.some(gc.create(p.none(),!0))}))}};return Sl.isDown(m)&&h?n([Ol(1,0)]):Sl.isUp(m)&&h?n([Ol(-1,0)]):f.isBackward(m)&&h?n([Ol(0,-1),Ol(-1,0)]):f.isForward(m)&&h?n([Ol(0,1),Ol(1,0)]):Sl.isNavigation(m)&&!1===h?i:p.none}))()},keyup:function(e,o,i,a,u){return nr.retrieve(t,r.selectedSelector()).fold((function(){var s=e.raw(),c=s.which;return!1===(!0===s.shiftKey)?p.none():Sl.isNavigation(c)?wc.sync(t,n,o,i,a,u,r.selectRange):p.none()}),p.none)}}},external:function(e,t,n,r){var o=El(e);return function(e,i){r.clearBeforeUpdate(t),nr.identify(e,i,n).each((function(e){var n=e.boxes().getOr([]);r.selectRange(t,n,e.start(),e.finish()),o.selectContents(i),o.collapseSelection()}))}}},Al=function(e,t){O(t,(function(t){!function(e,t){fo(e)?e.dom().classList.remove(t):mo(e,t);go(e)}(e,t)}))},Dl={byClass:function(e){var t,n,r=(t=e.selected(),function(e){ho(e,t)}),o=(n=[e.selected(),e.lastSelected(),e.firstSelected()],function(e){Al(e,n)}),i=function(t){var n=Lt(t,e.selectedSelector());O(n,o)};return{clearBeforeUpdate:i,clear:i,selectRange:function(t,n,o,a){i(t),O(n,r),ho(o,e.firstSelected()),ho(a,e.lastSelected())},selectedSelector:e.selectedSelector,firstSelectedSelector:e.firstSelectedSelector,lastSelectedSelector:e.lastSelectedSelector}},byAttr:function(e,t,n){var r=function(t){de(t,e.selected()),de(t,e.firstSelected()),de(t,e.lastSelected())},o=function(t){se(t,e.selected(),"1")},i=function(e){a(e),n()},a=function(t){var n=Lt(t,e.selectedSelector());O(n,r)};return{clearBeforeUpdate:a,clear:i,selectRange:function(n,r,a,u){i(n),O(r,o),se(a,e.firstSelected(),"1"),se(u,e.lastSelected(),"1"),t(r,a,u)},selectedSelector:e.selectedSelector,firstSelectedSelector:e.firstSelectedSelector,lastSelectedSelector:e.lastSelectedSelector}}},Nl={getOtherCells:function(e,t,n){var r=Zt(e),o=rn.generate(r);return ei(o,t).map((function(e){var t=Yo(o,n,!1);return{upOrLeftCells:function(e,t,n){var r=e.slice(0,t[t.length-1].row()+1),o=Go(r,n);return z(o,(function(e){var n=e.cells().slice(0,t[t.length-1].column()+1);return E(n,(function(e){return e.element()}))}))}(t,e,n),downOrRightCells:function(e,t,n){var r=e.slice(t[0].row()+t[0].rowspan()-1,e.length),o=Go(r,n);return z(o,(function(e){var n=e.cells().slice(t[0].column()+t[0].colspan()-1,+e.cells().length);return E(n,(function(e){return e.element()}))}))}(t,e,n)}}))}},Ml=function(e){return!1===vo(we.fromDom(e.target),"ephox-snooker-resizer-bar")};var Rl=function(e){return{get:function(){var t=Ea(e);return rr(t,ar.selectedSelector()).fold((function(){return void 0===e.selection.getStart()?cr.none():cr.single(e.selection)}),(function(e){return cr.multiple(e)}))}}},zl=function(e,n){var r=t(p.none()),o=t([]),i=function(){return $u(e).bind((function(e){return Qt.table(e).map((function(t){return"caption"===te(e)?gr.notCell(e):gr.forMenu(n,t,e)}))}))},a=function(){r.set(be(i)()),O(o.get(),(function(e){return e()}))},u=function(e,t){var n=function(){return r.get().fold((function(){e.setDisabled(!0)}),(function(n){e.setDisabled(t(n))}))};return n(),o.set(o.get().concat([n])),function(){o.set(_(o.get(),(function(e){return e!==n})))}};return e.on("NodeChange TableSelectorChange",a),{onSetupTable:function(e){return u(e,(function(e){return!1}))},onSetupCellOrRow:function(e){return u(e,(function(e){return"caption"===te(e.element())}))},onSetupMergeable:function(e){return u(e,(function(e){return e.mergable().isNone()}))},onSetupUnmergeable:function(e){return u(e,(function(e){return e.unmergable().isNone()}))},resetTargets:a,targets:function(){return r.get()}}},Il={addButtons:function(e,t){e.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",fetch:function(e){return e("inserttable | cell row column | advtablesort | tableprops deletetable")}});var n=function(t){return function(){return e.execCommand(t)}};e.ui.registry.addButton("tableprops",{tooltip:"Table properties",onAction:n("mceTableProps"),icon:"table",onSetup:t.onSetupTable}),e.ui.registry.addButton("tabledelete",{tooltip:"Delete table",onAction:n("mceTableDelete"),icon:"table-delete-table",onSetup:t.onSetupTable}),e.ui.registry.addButton("tablecellprops",{tooltip:"Cell properties",onAction:n("mceTableCellProps"),icon:"table-cell-properties",onSetup:t.onSetupCellOrRow}),e.ui.registry.addButton("tablemergecells",{tooltip:"Merge cells",onAction:n("mceTableMergeCells"),icon:"table-merge-cells",onSetup:t.onSetupMergeable}),e.ui.registry.addButton("tablesplitcells",{tooltip:"Split cell",onAction:n("mceTableSplitCells"),icon:"table-split-cells",onSetup:t.onSetupUnmergeable}),e.ui.registry.addButton("tableinsertrowbefore",{tooltip:"Insert row before",onAction:n("mceTableInsertRowBefore"),icon:"table-insert-row-above",onSetup:t.onSetupCellOrRow}),e.ui.registry.addButton("tableinsertrowafter",{tooltip:"Insert row after",onAction:n("mceTableInsertRowAfter"),icon:"table-insert-row-after",onSetup:t.onSetupCellOrRow}),e.ui.registry.addButton("tabledeleterow",{tooltip:"Delete row",onAction:n("mceTableDeleteRow"),icon:"table-delete-row",onSetup:t.onSetupCellOrRow}),e.ui.registry.addButton("tablerowprops",{tooltip:"Row properties",onAction:n("mceTableRowProps"),icon:"table-row-properties",onSetup:t.onSetupCellOrRow}),e.ui.registry.addButton("tableinsertcolbefore",{tooltip:"Insert column before",onAction:n("mceTableInsertColBefore"),icon:"table-insert-column-before",onSetup:t.onSetupCellOrRow}),e.ui.registry.addButton("tableinsertcolafter",{tooltip:"Insert column after",onAction:n("mceTableInsertColAfter"),icon:"table-insert-column-after",onSetup:t.onSetupCellOrRow}),e.ui.registry.addButton("tabledeletecol",{tooltip:"Delete column",onAction:n("mceTableDeleteCol"),icon:"table-delete-column",onSetup:t.onSetupCellOrRow}),e.ui.registry.addButton("tablecutrow",{tooltip:"Cut row",onAction:n("mceTableCutRow"),icon:"temporary-placeholder",onSetup:t.onSetupCellOrRow}),e.ui.registry.addButton("tablecopyrow",{tooltip:"Copy row",onAction:n("mceTableCopyRow"),icon:"temporary-placeholder",onSetup:t.onSetupCellOrRow}),e.ui.registry.addButton("tablepasterowbefore",{tooltip:"Paste row before",onAction:n("mceTablePasteRowBefore"),icon:"temporary-placeholder",onSetup:t.onSetupCellOrRow}),e.ui.registry.addButton("tablepasterowafter",{tooltip:"Paste row after",onAction:n("mceTablePasteRowAfter"),icon:"temporary-placeholder",onSetup:t.onSetupCellOrRow}),e.ui.registry.addButton("tableinsertdialog",{tooltip:"Insert table",onAction:n("mceInsertTable"),icon:"table"})},addToolbars:function(e){var t=function(e){return e.getParam("table_toolbar","tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol")}(e);t.length>0&&e.ui.registry.addContextToolbar("table",{predicate:function(t){return e.dom.is(t,"table")&&e.getBody().contains(t)},items:t,scope:"node",position:"node"})}},Bl={addMenuItems:function(e,t){var n=function(t){return function(){return e.execCommand(t)}},r=function(t){var n=t.numRows,r=t.numColumns;e.undoManager.transact((function(){Pu(e,r,n)})),e.addVisual()},o={text:"Table properties",onSetup:t.onSetupTable,onAction:n("mceTableProps")},i={text:"Delete table",icon:"table-delete-table",onSetup:t.onSetupTable,onAction:n("mceTableDelete")},a=[{type:"menuitem",text:"Insert row before",icon:"table-insert-row-above",onAction:n("mceTableInsertRowBefore"),onSetup:t.onSetupCellOrRow},{type:"menuitem",text:"Insert row after",icon:"table-insert-row-after",onAction:n("mceTableInsertRowAfter"),onSetup:t.onSetupCellOrRow},{type:"menuitem",text:"Delete row",icon:"table-delete-row",onAction:n("mceTableDeleteRow"),onSetup:t.onSetupCellOrRow},{type:"menuitem",text:"Row properties",icon:"table-row-properties",onAction:n("mceTableRowProps"),onSetup:t.onSetupCellOrRow},{type:"separator"},{type:"menuitem",text:"Cut row",onAction:n("mceTableCutRow"),onSetup:t.onSetupCellOrRow},{type:"menuitem",text:"Copy row",onAction:n("mceTableCopyRow"),onSetup:t.onSetupCellOrRow},{type:"menuitem",text:"Paste row before",onAction:n("mceTablePasteRowBefore"),onSetup:t.onSetupCellOrRow},{type:"menuitem",text:"Paste row after",onAction:n("mceTablePasteRowAfter"),onSetup:t.onSetupCellOrRow}],u={type:"nestedmenuitem",text:"Row",getSubmenuItems:function(){return a}},s=[{type:"menuitem",text:"Insert column before",icon:"table-insert-column-before",onAction:n("mceTableInsertColBefore"),onSetup:t.onSetupCellOrRow},{type:"menuitem",text:"Insert column after",icon:"table-insert-column-after",onAction:n("mceTableInsertColAfter"),onSetup:t.onSetupCellOrRow},{type:"menuitem",text:"Delete column",icon:"table-delete-column",onAction:n("mceTableDeleteCol"),onSetup:t.onSetupCellOrRow}],c={type:"nestedmenuitem",text:"Column",getSubmenuItems:function(){return s}},l=[{type:"menuitem",text:"Cell properties",icon:"table-cell-properties",onAction:n("mceTableCellProps"),onSetup:t.onSetupCellOrRow},{type:"menuitem",text:"Merge cells",icon:"table-merge-cells",onAction:n("mceTableMergeCells"),onSetup:t.onSetupMergeable},{type:"menuitem",text:"Split cell",icon:"table-split-cells",onAction:n("mceTableSplitCells"),onSetup:t.onSetupUnmergeable}],f={type:"nestedmenuitem",text:"Cell",getSubmenuItems:function(){return l}};!1===function(e){return e.getParam("table_grid",!0,"boolean")}(e)?e.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:n("mceInsertTable")}):e.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"inserttable",onAction:r}]}}),e.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:n("mceInsertTable")}),e.ui.registry.addMenuItem("tableprops",o),e.ui.registry.addMenuItem("deletetable",i),e.ui.registry.addNestedMenuItem("row",u),e.ui.registry.addNestedMenuItem("column",c),e.ui.registry.addNestedMenuItem("cell",f),e.ui.registry.addContextMenu("table",{update:function(){return t.resetTargets(),t.targets().fold((function(){return""}),(function(e){return"caption"===te(e.element())?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable"}))}})}},Pl=function(e,t,n,r){return{insertTable:function(t,n){return Pu(e,t,n)},setClipboardRows:function(e){return function(e,t){var n=E(e,we.fromDom);t.set(p.from(n))}(e,t)},getClipboardRows:function(){return function(e){return e.get().fold((function(){}),(function(e){return E(e,(function(e){return e.dom()}))}))}(t)},resizeHandler:n,selectionTargets:r}};function Ll(e){var i=Rl(e),a=zl(e,i),u=ys(e),s=function(e,i,a){var u=K(["mousedown","mouseover","mouseup","keyup","keydown"],[]),s=p.none(),c=Wa(e),l=Dl.byAttr(ar,(function(t,r,o){a.targets().each((function(i){Qt.table(r).each((function(a){var u=we.fromDom(e.getDoc()),s=En.cellOperations(n,u,c),l=Nl.getOtherCells(a,i,s);Ja(e,t,r,o,l)}))}))}),(function(){Qa(e)}));return e.on("init",(function(a){var c=e.getWin(),f=Ea(e),d=Aa(e),m=_l.mouse(c,f,d,l),h=_l.keyboard(c,f,d,l),g=_l.external(c,f,d,l);e.on("TableSelectorChange",(function(e){g(e.start,e.finish)}));var v,b,y=function(t,n){(function(e){return!0===e.raw().shiftKey})(t)&&(n.kill()&&t.kill(),n.selection().each((function(t){var n=As.relative(t.start(),t.finish()),r=Ps(c,n);e.selection.setRng(r)})))},w=function(t){var n=k(t);if(n.raw().shiftKey&&Sl.isNavigation(n.raw().which)){var r=e.selection.getRng(),o=we.fromDom(r.startContainer),i=we.fromDom(r.endContainer);h.keyup(n,o,r.startOffset,i,r.endOffset).each((function(e){y(n,e)}))}},x=function(t){var n=k(t);i().each((function(e){e.hideBars()}));var r=e.selection.getRng(),o=we.fromDom(e.selection.getStart()),a=we.fromDom(r.startContainer),u=we.fromDom(r.endContainer),s=za.directionAt(o).isRtl()?Sl.rtl:Sl.ltr;h.keydown(n,a,r.startOffset,u,r.endOffset,s).each((function(e){y(n,e)})),i().each((function(e){e.showBars()}))},C=function(e){return e.hasOwnProperty("x")&&e.hasOwnProperty("y")},k=function(e){var t=we.fromDom(e.target),n=function(){e.stopPropagation()},i=function(){e.preventDefault()},a=r(i,n);return{target:o(t),x:o(C(e)?e.x:null),y:o(C(e)?e.y:null),stop:n,prevent:i,kill:a,raw:o(e)}},S=function(e){return 0===e.button},T=function(e){S(e)&&Ml(e)&&m.mousedown(k(e))},E=function(e){var t;void 0!==(t=e).buttons&&0==(1&t.buttons)||!Ml(e)||m.mouseover(k(e))},O=function(e){S(e)&&Ml(e)&&m.mouseup(k(e))},_=(v=t(we.fromDom(f)),b=t(0),{touchEnd:function(e){var t=we.fromDom(e.target);if("td"===te(t)||"th"===te(t)){var n=v.get(),r=b.get();ot(n,t)&&e.timeStamp-r<300&&(e.preventDefault(),g(t,t))}v.set(t),b.set(e.timeStamp)}});e.on("mousedown",T),e.on("mouseover",E),e.on("mouseup",O),e.on("touchend",_.touchEnd),e.on("keyup",w),e.on("keydown",x),e.on("NodeChange",(function(){var t=e.selection,r=we.fromDom(t.getStart()),o=we.fromDom(t.getEnd());Qn.sharedOne(Qt.table,[r,o]).fold((function(){l.clear(f)}),n)})),s=p.some(u({mousedown:T,mouseover:E,mouseup:O,keyup:w,keydown:x}))})),{clear:l.clear,destroy:function(){s.each((function(e){}))}}}(e,u.lazyResize,a),c=Za(e,u.lazyWire),l=t(p.none());return Wu.registerCommands(e,c,s,i,l),vr.registerEvents(e,i,c,s),Bl.addMenuItems(e,a),Il.addButtons(e,a),Il.addToolbars(e),e.on("PreInit",(function(){e.serializer.addTempAttr(ar.firstSelected()),e.serializer.addTempAttr(ar.lastSelected())})),Fa(e)&&e.on("keydown",(function(t){hc.handle(t,e,c,u.lazyWire)})),e.on("remove",(function(){u.destroy(),s.destroy()})),Pl(e,l,u,a)}m.add("table",Ll)}(window)},function(e,t){!function(e){"use strict";var t,n,r,o,i,a,u=tinymce.util.Tools.resolve("tinymce.PluginManager"),s=function(){},c=function(e){return function(){return e}},l=c(!1),f=c(!0),d=function(){return p},p=(t=function(e){return e.isNone()},o={fold:function(e,t){return e()},is:l,isSome:l,isNone:f,getOr:r=function(e){return e},getOrThunk:n=function(e){return e()},getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:c(null),getOrUndefined:c(void 0),or:r,orThunk:n,map:d,each:s,bind:d,exists:l,forall:f,filter:d,equals:t,equals_:t,toArray:function(){return[]},toString:c("none()")},Object.freeze&&Object.freeze(o),o),m=function(e){var t=c(e),n=function(){return o},r=function(t){return t(e)},o={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:f,isNone:l,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return m(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:p},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(l,(function(t){return n(e,t)}))}};return o},h={some:m,none:d,from:function(e){return null==e?p:m(e)}},g=(i="function",function(e){return function(e){if(null===e)return"null";var t=typeof e;return"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t}(e)===i}),v=Array.prototype.slice,b=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o)}return r},y=(g(Array.from)&&Array.from,function(e,t){return-1!==e.indexOf(t)}),w=function(e,t){return y(e.title.toLowerCase(),t)||function(e,t){for(var n=0,r=e.length;n<r;n++){if(t(e[n],n))return!0}return!1}(e.keywords,(function(e){return y(e.toLowerCase(),t)}))},x=function(e,t,n){for(var r=[],o=t.toLowerCase(),i=n.fold((function(){return l}),(function(e){return function(t){return t>=e}})),a=0;a<e.length&&(0!==t.length&&!w(e[a],o)||(r.push({value:e[a].char,text:e[a].title,icon:e[a].char}),!i(r.length)));a++);return r},C=function(e,t){e.ui.registry.addAutocompleter("emoticons",{ch:":",columns:"auto",minChars:2,fetch:function(e,n){return t.waitForLoad().then((function(){var r=t.listAll();return x(r,e,h.some(n))}))},onAction:function(t,n,r){e.selection.setRng(n),e.insertContent(r),t.hide()}})},k=function(e){var t=e,n=function(){return t};return{get:n,set:function(e){t=e},clone:function(){return k(n())}}},S=Object.prototype.hasOwnProperty,T=(a=function(e,t){return t},function(){for(var e=new Array(arguments.length),t=0;t<e.length;t++)e[t]=arguments[t];if(0===e.length)throw new Error("Can't merge zero objects");for(var n={},r=0;r<e.length;r++){var o=e[r];for(var i in o)S.call(o,i)&&(n[i]=a(n[i],o[i]))}return n}),E=Object.keys,O=Object.hasOwnProperty,_=function(e,t){for(var n=E(e),r=0,o=n.length;r<o;r++){var i=n[r];t(e[i],i)}},A=function(e,t){var n={};return _(e,(function(e,r){var o=t(e,r);n[o.k]=o.v})),n},D=tinymce.util.Tools.resolve("tinymce.Resource"),N=tinymce.util.Tools.resolve("tinymce.util.Delay"),M=tinymce.util.Tools.resolve("tinymce.util.Promise"),R={getEmoticonDatabaseUrl:function(e,t){return e.getParam("emoticons_database_url",t+"/js/emojis"+e.suffix+".js")},getEmoticonDatabaseId:function(e){return e.getParam("emoticons_database_id","tinymce.plugins.emoticons","string")},getAppendedEmoticons:function(e){return e.getParam("emoticons_append",{},"object")}},z="All",I={symbols:"Symbols",people:"People",animals_and_nature:"Animals and Nature",food_and_drink:"Food and Drink",activity:"Activity",travel_and_places:"Travel and Places",objects:"Objects",flags:"Flags",user:"User Defined"},B=function(e,t){return n=e,r=t,O.call(n,r)?e[t]:t;var n,r},P=function(e){var t,n=R.getAppendedEmoticons(e);return t=function(e){return T({keywords:[],category:"user"},e)},A(n,(function(e,n){return{k:n,v:t(e,n)}}))},L=function(t,n,r){var o=k(h.none()),i=k(h.none());t.on("init",(function(){D.load(r,n).then((function(e){var n=P(t);!function(e){var t={},n=[];_(e,(function(e,r){var o={title:r,keywords:e.keywords,char:e.char,category:B(I,e.category)},i=void 0!==t[o.category]?t[o.category]:[];t[o.category]=i.concat([o]),n.push(o)})),o.set(h.some(t)),i.set(h.some(n))}(T(e,n))}),(function(t){e.console.log("Failed to load emoticons: "+t),o.set(h.some({})),i.set(h.some([]))}))}));var a=function(){return i.get().getOr([])},u=function(){return o.get().isSome()&&i.get().isSome()};return{listCategories:function(){return[z].concat(E(o.get().getOr({})))},hasLoaded:u,waitForLoad:function(){return u()?M.resolve(!0):new M((function(t,r){var o=15,i=N.setInterval((function(){u()?(N.clearInterval(i),t(!0)):--o<0&&(e.console.log("Could not load emojis from url: "+n),N.clearInterval(i),r(!1))}),100)}))},listAll:a,listCategory:function(e){return e===z?a():o.get().bind((function(t){return h.from(t[e])})).getOr([])}}},F=function(t,n){var r,o,i,a={pattern:"",results:x(n.listAll(),"",h.some(300))},u=k(z),s=(r=function(e){!function(e){var t=e.getData(),r=u.get(),o=n.listCategory(r),i=x(o,t.pattern,r===z?h.some(300):h.none());e.setData({results:i})}(e)},o=200,i=null,{cancel:function(){null!==i&&(e.clearTimeout(i),i=null)},throttle:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];null!==i&&e.clearTimeout(i),i=e.setTimeout((function(){r.apply(null,t),i=null}),o)}}),c={label:"Search",type:"input",name:"pattern"},l={type:"collection",name:"results"},f=function(){return{title:"Emoticons",size:"normal",body:{type:"tabpanel",tabs:b(n.listCategories(),(function(e){return{title:e,name:e,items:[c,l]}}))},initialData:a,onTabChange:function(e,t){u.set(t.newTabName),s.throttle(e)},onChange:s.throttle,onAction:function(e,n){"results"===n.name&&(!function(e,t){e.insertContent(t)}(t,n.value),e.close())},buttons:[{type:"cancel",text:"Close",primary:!0}]}},d=t.windowManager.open(f());d.focus("pattern"),n.hasLoaded()||(d.block("Loading emoticons..."),n.waitForLoad().then((function(){d.redial(f()),s.throttle(d),d.focus("pattern"),d.unblock()})).catch((function(e){d.redial({title:"Emoticons",body:{type:"panel",items:[{type:"alertbanner",level:"error",icon:"warning",text:"<p>Could not load emoticons</p>"}]},buttons:[{type:"cancel",text:"Close",primary:!0}],initialData:{pattern:"",results:[]}}),d.focus("pattern"),d.unblock()})))},H={register:function(e,t){var n=function(){return F(e,t)};e.ui.registry.addButton("emoticons",{tooltip:"Emoticons",icon:"emoji",onAction:n}),e.ui.registry.addMenuItem("emoticons",{text:"Emoticons...",icon:"emoji",onAction:n})}};u.add("emoticons",(function(e,t){var n=R.getEmoticonDatabaseUrl(e,t),r=R.getEmoticonDatabaseId(e),o=L(e,n,r);H.register(e,o),C(e,o)}))}(window)},function(e,t){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=function(){},n=function(e){return function(){return e}};var r,o,i,a,u,s=n(!1),c=n(!0),l=tinymce.util.Tools.resolve("tinymce.util.Tools"),f=tinymce.util.Tools.resolve("tinymce.util.XHR"),d=function(e){return e.getParam("template_cdate_classes","cdate")},p=function(e){return e.getParam("template_mdate_classes","mdate")},m=function(e){return e.getParam("template_selected_content_classes","selcontent")},h=function(e){return e.getParam("template_preview_replace_values")},g=function(e){return e.getParam("template_replace_values")},v=function(e){return e.templates},b=function(e){return e.getParam("template_cdate_format",e.translate("%Y-%m-%d"))},y=function(e){return e.getParam("template_mdate_format",e.translate("%Y-%m-%d"))},w=function(e,t){if((e=""+e).length<t)for(var n=0;n<t-e.length;n++)e="0"+e;return e},x=function(e,t,n){var r="Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),o="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),i="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),a="January February March April May June July August September October November December".split(" ");return n=n||new Date,t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=t.replace("%D","%m/%d/%Y")).replace("%r","%I:%M:%S %p")).replace("%Y",""+n.getFullYear())).replace("%y",""+n.getYear())).replace("%m",w(n.getMonth()+1,2))).replace("%d",w(n.getDate(),2))).replace("%H",""+w(n.getHours(),2))).replace("%M",""+w(n.getMinutes(),2))).replace("%S",""+w(n.getSeconds(),2))).replace("%I",""+((n.getHours()+11)%12+1))).replace("%p",n.getHours()<12?"AM":"PM")).replace("%B",""+e.translate(a[n.getMonth()]))).replace("%b",""+e.translate(i[n.getMonth()]))).replace("%A",""+e.translate(o[n.getDay()]))).replace("%a",""+e.translate(r[n.getDay()]))).replace("%%","%")},C=function(e,t){return l.each(t,(function(t,n){"function"==typeof t&&(t=t(n)),e=e.replace(new RegExp("\\{\\$"+n+"\\}","g"),t)})),e},k=function(e,t){var n=e.dom,r=g(e);l.each(n.select("*",t),(function(e){l.each(r,(function(t,o){n.hasClass(e,o)&&"function"==typeof r[o]&&r[o](e)}))}))},S=function(e,t){return new RegExp("\\b"+t+"\\b","g").test(e.className)},T=function(e,t){return function(){var n=v(e);"function"!=typeof n?"string"==typeof n?f.send({url:n,success:function(e){t(JSON.parse(e))}}):t(n):n(t)}},E=C,O=k,_=function(e,t,n){var r,o,i=e.dom,a=e.selection.getContent();n=C(n,g(e)),r=i.create("div",null,n),(o=i.select(".mceTmpl",r))&&o.length>0&&(r=i.create("div",null)).appendChild(o[0].cloneNode(!0)),l.each(i.select("*",r),(function(t){S(t,d(e).replace(/\s+/g,"|"))&&(t.innerHTML=x(e,b(e))),S(t,p(e).replace(/\s+/g,"|"))&&(t.innerHTML=x(e,y(e))),S(t,m(e).replace(/\s+/g,"|"))&&(t.innerHTML=a)})),k(e,r),e.execCommand("mceInsertContent",!1,r.innerHTML),e.addVisual()},A={register:function(e){e.addCommand("mceInsertTemplate",function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=t.concat(n);return e.apply(null,o)}}(_,e))}},D={setup:function(e){e.on("PreProcess",(function(t){var n=e.dom,r=y(e);l.each(n.select("div",t.node),(function(t){n.hasClass(t,"mceTmpl")&&(l.each(n.select("*",t),(function(t){n.hasClass(t,e.getParam("template_mdate_classes","mdate").replace(/\s+/g,"|"))&&(t.innerHTML=x(e,r))})),O(e,t))}))}))}},N=function(){return M},M=(r=function(e){return e.isNone()},a={fold:function(e,t){return e()},is:s,isSome:s,isNone:c,getOr:i=function(e){return e},getOrThunk:o=function(e){return e()},getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:n(null),getOrUndefined:n(void 0),or:i,orThunk:o,map:N,each:t,bind:N,exists:s,forall:c,filter:N,equals:r,equals_:r,toArray:function(){return[]},toString:n("none()")},Object.freeze&&Object.freeze(a),a),R=function(e){var t=n(e),r=function(){return i},o=function(t){return t(e)},i={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:c,isNone:s,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:r,orThunk:r,map:function(t){return R(t(e))},each:function(t){t(e)},bind:o,exists:o,forall:o,filter:function(t){return t(e)?i:M},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(s,(function(t){return n(e,t)}))}};return i},z={some:R,none:N,from:function(e){return null==e?M:R(e)}},I=(u="function",function(e){return function(e){if(null===e)return"null";var t=typeof e;return"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t}(e)===u}),B=Array.prototype.slice,P=(I(Array.from)&&Array.from,tinymce.util.Tools.resolve("tinymce.util.Promise")),L=Object.hasOwnProperty,F=function(e,t){return L.call(e,t)},H={'"':"&quot;","<":"&lt;",">":"&gt;","&":"&amp;","'":"&#039;"},j=function(e){return e.replace(/["'<>&]/g,(function(e){return(t=H,n=e,F(t,n)?z.from(t[n]):z.none()).getOr(e);var t,n}))},V=function(e,t){var n=function(e){return function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o)}return r}(e,(function(e){return{text:e.text,value:e.text}}))},r=function(e,t){return function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];if(t(o,n))return z.some(o)}return z.none()}(e,(function(e){return e.text===t}))},o=function(e){return new P((function(t,n){e.value.url.fold((function(){return t(e.value.content.getOr(""))}),(function(e){return f.send({url:e,success:function(e){t(e)},error:function(e){n(e)}})}))}))},i=function(e,t){return function(n,i){if("template"===i.name){var a=n.getData().template;r(e,a).each((function(e){n.block("Loading..."),o(e).then((function(r){t(n,e,r),n.unblock()}))}))}}},a=function(t){return function(n){var i=n.getData();r(t,i.template).each((function(t){o(t).then((function(t){_(e,!1,t),n.close()}))}))}};(function(){if(!t||0===t.length){var n=e.translate("No templates defined.");return e.notificationManager.open({text:n,type:"info"}),z.none()}return z.from(l.map(t,(function(e,t){var n=function(e){return void 0!==e.url};return{selected:0===t,text:e.title,value:{url:n(e)?z.from(e.url):z.none(),content:n(e)?z.none():z.from(e.content),description:e.description}}})))})().each((function(t){var r=n(t),u=function(e,n){return{title:"Insert Template",size:"large",body:{type:"panel",items:e},initialData:n,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:a(t),onChange:i(t,s)}},s=function(t,n,o){var i=function(e,t){if(-1===t.indexOf("<html>")){var n="";l.each(e.contentCSS,(function(t){n+='<link type="text/css" rel="stylesheet" href="'+e.documentBaseURI.toAbsolute(t)+'">'}));var r=e.settings.body_class||"";-1!==r.indexOf("=")&&(r=(r=e.getParam("body_class","","hash"))[e.id]||"");var o=e.dom.encode,i=e.getBody().dir,a=i?' dir="'+o(i)+'"':"";t="<!DOCTYPE html><html><head>"+n+'</head><body class="'+o(r)+'"'+a+">"+t+"</body></html>"}return E(t,h(e))}(e,o),a=[{type:"selectbox",name:"template",label:"Templates",items:r},{type:"htmlpanel",html:'<p aria-live="polite">'+j(n.value.description)+"</p>"},{label:"Preview",type:"iframe",name:"preview",sandboxed:!1}],s={template:n.text,preview:i};t.unblock(),t.redial(u(a,s)),t.focus("template")},c=e.windowManager.open(u([],{template:"",preview:""}));c.block("Loading..."),o(t[0]).then((function(e){s(c,t[0],e)}))}))},U=function(e){return function(t){V(e,t)}},$={register:function(e){e.ui.registry.addButton("template",{icon:"template",tooltip:"Insert template",onAction:T(e.settings,U(e))}),e.ui.registry.addMenuItem("template",{icon:"template",text:"Insert template...",onAction:T(e.settings,U(e))})}};e.add("template",(function(e){$.register(e),A.register(e),D.setup(e)}))}()},function(e,t,n){(function(e){!function(t){"use strict";var n,r,o,i,a,u=function(e){var t=e,n=function(){return t};return{get:n,set:function(e){t=e},clone:function(){return u(n())}}},s=tinymce.util.Tools.resolve("tinymce.PluginManager"),c={hasProPlugin:function(e){return!(!/(^|[ ,])powerpaste([, ]|$)/.test(e.settings.plugins)||!s.get("powerpaste"))&&(void 0!==t.window.console&&t.window.console.log&&t.window.console.log("PowerPaste is incompatible with Paste plugin! Remove 'paste' from the 'plugins' option."),!0)}},l={get:function(e,t){return{clipboard:e,quirks:t}}},f=function(e,t,n,r){return e.fire("PastePreProcess",{content:t,internal:n,wordContent:r})},d=function(e,t,n,r){return e.fire("PastePostProcess",{node:t,internal:n,wordContent:r})},p=function(e,t){return e.fire("PastePlainTextToggle",{state:t})},m=function(e,t){return e.fire("paste",{ieFake:t})},h=function(e,t){"text"===t.pasteFormat.get()?(t.pasteFormat.set("html"),p(e,!1)):(t.pasteFormat.set("text"),p(e,!0)),e.focus()},g={register:function(e,t){e.addCommand("mceTogglePlainTextPaste",(function(){h(e,t)})),e.addCommand("mceInsertClipboardContent",(function(e,n){n.content&&t.pasteHtml(n.content,n.internal),n.text&&t.pasteText(n.text)}))}},v=function(){},b=function(e){return function(){return e}},y=b(!1),w=b(!0),x=function(){return C},C=(n=function(e){return e.isNone()},i={fold:function(e,t){return e()},is:y,isSome:y,isNone:w,getOr:o=function(e){return e},getOrThunk:r=function(e){return e()},getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:b(null),getOrUndefined:b(void 0),or:o,orThunk:r,map:x,each:v,bind:x,exists:y,forall:w,filter:x,equals:n,equals_:n,toArray:function(){return[]},toString:b("none()")},Object.freeze&&Object.freeze(i),i),k=function(e){var t=b(e),n=function(){return o},r=function(t){return t(e)},o={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:w,isNone:y,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return k(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:C},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(y,(function(t){return n(e,t)}))}};return o},S={some:k,none:x,from:function(e){return null==e?C:k(e)}},T=(a="function",function(e){return function(e){if(null===e)return"null";var t=typeof e;return"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t}(e)===a}),E=Array.prototype.slice,O=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o)}return r},_=function(e,t){for(var n=0,r=e.length;n<r;n++){t(e[n],n)}},A=T(Array.from)?Array.from:function(e){return E.call(e)},D={},N={exports:D};!function(t,n,r,o){!function(o){if("object"==typeof n&&void 0!==r)r.exports=o();else if("function"==typeof t&&t.amd)t([],o);else{("undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:this).EphoxContactWrapper=o()}}((function(){return function e(t,n,r){function i(u,s){if(!n[u]){if(!t[u]){var c="function"==typeof o&&o;if(!s&&c)return c(u,!0);if(a)return a(u,!0);var l=new Error("Cannot find module '"+u+"'");throw l.code="MODULE_NOT_FOUND",l}var f=n[u]={exports:{}};t[u][0].call(f.exports,(function(e){return i(t[u][1][e]||e)}),f,f.exports,e,t,n,r)}return n[u].exports}for(var a="function"==typeof o&&o,u=0;u<r.length;u++)i(r[u]);return i}({1:[function(e,t,n){var r,o,i=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:a}catch(e){r=a}try{o="function"==typeof clearTimeout?clearTimeout:u}catch(e){o=u}}();var c,l=[],f=!1,d=-1;function p(){f&&c&&(f=!1,c.length?l=c.concat(l):d=-1,l.length&&m())}function m(){if(!f){var e=s(p);f=!0;for(var t=l.length;t;){for(c=l,l=[];++d<t;)c&&c[d].run();d=-1,t=l.length}c=null,f=!1,function(e){if(o===clearTimeout)return clearTimeout(e);if((o===u||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(e);try{o(e)}catch(t){try{return o.call(null,e)}catch(t){return o.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function g(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new h(e,t)),1!==l.length||f||s(m)},h.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],2:[function(e,t,n){(function(e){!function(n){var r=setTimeout;function o(){}function i(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],f(e,this)}function a(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,i._immediateFn((function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var r;try{r=n(e._value)}catch(e){return void s(t.promise,e)}u(t.promise,r)}else(1===e._state?u:s)(t.promise,e._value)}))):e._deferreds.push(t)}function u(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof i)return e._state=3,e._value=t,void c(e);if("function"==typeof n)return void f((r=n,o=t,function(){r.apply(o,arguments)}),e)}e._state=1,e._value=t,c(e)}catch(t){s(e,t)}var r,o}function s(e,t){e._state=2,e._value=t,c(e)}function c(e){2===e._state&&0===e._deferreds.length&&i._immediateFn((function(){e._handled||i._unhandledRejectionFn(e._value)}));for(var t=0,n=e._deferreds.length;t<n;t++)a(e,e._deferreds[t]);e._deferreds=null}function l(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function f(e,t){var n=!1;try{e((function(e){n||(n=!0,u(t,e))}),(function(e){n||(n=!0,s(t,e))}))}catch(e){if(n)return;n=!0,s(t,e)}}i.prototype.catch=function(e){return this.then(null,e)},i.prototype.then=function(e,t){var n=new this.constructor(o);return a(this,new l(e,t,n)),n},i.all=function(e){var t=Array.prototype.slice.call(e);return new i((function(e,n){if(0===t.length)return e([]);var r=t.length;function o(i,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var u=a.then;if("function"==typeof u)return void u.call(a,(function(e){o(i,e)}),n)}t[i]=a,0==--r&&e(t)}catch(e){n(e)}}for(var i=0;i<t.length;i++)o(i,t[i])}))},i.resolve=function(e){return e&&"object"==typeof e&&e.constructor===i?e:new i((function(t){t(e)}))},i.reject=function(e){return new i((function(t,n){n(e)}))},i.race=function(e){return new i((function(t,n){for(var r=0,o=e.length;r<o;r++)e[r].then(t,n)}))},i._immediateFn="function"==typeof e?function(t){e(t)}:function(e){r(e,0)},i._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},i._setImmediateFn=function(e){i._immediateFn=e},i._setUnhandledRejectionFn=function(e){i._unhandledRejectionFn=e},void 0!==t&&t.exports?t.exports=i:n.Promise||(n.Promise=i)}(this)}).call(this,e("timers").setImmediate)},{timers:3}],3:[function(e,t,n){(function(t,r){var o=e("process/browser.js").nextTick,i=Function.prototype.apply,a=Array.prototype.slice,u={},s=0;function c(e,t){this._id=e,this._clearFn=t}n.setTimeout=function(){return new c(i.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new c(i.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(e){e.close()},c.prototype.unref=c.prototype.ref=function(){},c.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},n.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},n._unrefActive=n.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n.setImmediate="function"==typeof t?t:function(e){var t=s++,r=!(arguments.length<2)&&a.call(arguments,1);return u[t]=!0,o((function(){u[t]&&(r?e.apply(null,r):e.call(null),n.clearImmediate(t))})),t},n.clearImmediate="function"==typeof r?r:function(e){delete u[e]}}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":1,timers:3}],4:[function(e,t,n){var r=e("promise-polyfill"),o="undefined"!=typeof window?window:Function("return this;")();t.exports={boltExport:o.Promise||r}},{"promise-polyfill":2}]},{},[4])(4)}))}(void 0,D,N,void 0);var M=N.exports.boltExport,R=function(e){var n=S.none(),r=[],o=function(e){i()?u(e):r.push(e)},i=function(){return n.isSome()},a=function(e){_(e,u)},u=function(e){n.each((function(n){t.setTimeout((function(){e(n)}),0)}))};return e((function(e){n=S.some(e),a(r),r=[]})),{get:o,map:function(e){return R((function(t){o((function(n){t(e(n))}))}))},isReady:i}},z={nu:R,pure:function(e){return R((function(t){t(e)}))}},I=function(e){t.setTimeout((function(){throw e}),0)},B=function(e){var t=function(t){e().then(t,I)};return{map:function(t){return B((function(){return e().then(t)}))},bind:function(t){return B((function(){return e().then((function(e){return t(e).toPromise()}))}))},anonBind:function(t){return B((function(){return e().then((function(){return t.toPromise()}))}))},toLazy:function(){return z.nu(t)},toCached:function(){var t=null;return B((function(){return null===t&&(t=e()),t}))},toPromise:e,get:t}},P=function(e){return B((function(){return new M(e)}))},L=function(e,t){return t((function(t){var n=[],r=0;0===e.length?t([]):_(e,(function(o,i){o.get(function(o){return function(i){n[o]=i,++r>=e.length&&t(n)}}(i))}))}))},F=function(e,t){return n=O(e,t),L(n,P);var n},H=tinymce.util.Tools.resolve("tinymce.Env"),j=tinymce.util.Tools.resolve("tinymce.util.Delay"),V=tinymce.util.Tools.resolve("tinymce.util.Tools"),U=tinymce.util.Tools.resolve("tinymce.util.VK"),$="\x3c!-- x-tinymce/html --\x3e",q={mark:function(e){return $+e},unmark:function(e){return e.replace($,"")},isMarked:function(e){return-1!==e.indexOf($)},internalHtmlMime:function(){return"x-tinymce/html"}},W=tinymce.util.Tools.resolve("tinymce.html.Entities"),Y=function(e){return e.replace(/\r?\n/g,"<br>")},X=function(e,t,n){var r=e.split(/\n\n/),o=function(e,t){var n,r=[],o="<"+e;if("object"==typeof t){for(n in t)t.hasOwnProperty(n)&&r.push(n+'="'+W.encodeAllRaw(t[n])+'"');r.length&&(o+=" "+r.join(" "))}return o+">"}(t,n),i="</"+t+">",a=V.map(r,(function(e){return e.split(/\n/).join("<br />")}));return 1===a.length?a[0]:V.map(a,(function(e){return o+e+i})).join("")},G={isPlainText:function(e){return!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e)},convert:function(e,t,n){return t?X(e,!0===t?"p":t,n):Y(e)},toBRs:Y,toBlockElements:X},K=tinymce.util.Tools.resolve("tinymce.html.DomParser"),J=tinymce.util.Tools.resolve("tinymce.html.Serializer"),Q=tinymce.util.Tools.resolve("tinymce.html.Node"),Z=tinymce.util.Tools.resolve("tinymce.html.Schema"),ee={shouldBlockDrop:function(e){return e.getParam("paste_block_drop",!1)},shouldPasteDataImages:function(e){return e.getParam("paste_data_images",!1)},shouldFilterDrop:function(e){return e.getParam("paste_filter_drop",!0)},getPreProcess:function(e){return e.getParam("paste_preprocess")},getPostProcess:function(e){return e.getParam("paste_postprocess")},getWebkitStyles:function(e){return e.getParam("paste_webkit_styles")},shouldRemoveWebKitStyles:function(e){return e.getParam("paste_remove_styles_if_webkit",!0)},shouldMergeFormats:function(e){return e.getParam("paste_merge_formats",!0)},isSmartPasteEnabled:function(e){return e.getParam("smart_paste",!0)},isPasteAsTextEnabled:function(e){return e.getParam("paste_as_text",!1)},getRetainStyleProps:function(e){return e.getParam("paste_retain_style_properties")},getWordValidElements:function(e){return e.getParam("paste_word_valid_elements","-strong/b,-em/i,-u,-span,-p,-ol,-ul,-li,-h1,-h2,-h3,-h4,-h5,-h6,-p/div,-a[href|name],sub,sup,strike,br,del,table[width],tr,td[colspan|rowspan|width],th[colspan|rowspan|width],thead,tfoot,tbody")},shouldConvertWordFakeLists:function(e){return e.getParam("paste_convert_word_fake_lists",!0)},shouldUseDefaultFilters:function(e){return e.getParam("paste_enable_default_filters",!0)}};function te(e,t){return V.each(t,(function(t){e=t.constructor===RegExp?e.replace(t,""):e.replace(t[0],t[1])})),e}var ne={filter:te,innerText:function(e){var t=Z(),n=K({},t),r="",o=t.getShortEndedElements(),i=V.makeMap("script noscript style textarea video audio iframe object"," "),a=t.getBlockElements();return e=te(e,[/<!\[[^\]]+\]>/g]),function e(t){var n=t.name,u=t;if("br"!==n){if("wbr"!==n)if(o[n]&&(r+=" "),i[n])r+=" ";else{if(3===t.type&&(r+=t.value),!t.shortEnded&&(t=t.firstChild))do{e(t)}while(t=t.next);a[n]&&u.next&&(r+="\n","p"===n&&(r+="\n"))}}else r+="\n"}(n.parse(e)),r},trimHtml:function(e){return e=te(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/gi,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,function(e,t,n){return t||n?" ":" "}],/<br class="Apple-interchange-newline">/g,/<br>$/i])},createIdGenerator:function(e){var t=0;return function(){return e+t++}},isMsEdge:function(){return-1!==t.navigator.userAgent.indexOf(" Edge/")}};function re(e){var t,n;return n=[/^[IVXLMCD]{1,2}\.[ \u00a0]/,/^[ivxlmcd]{1,2}\.[ \u00a0]/,/^[a-z]{1,2}[\.\)][ \u00a0]/,/^[A-Z]{1,2}[\.\)][ \u00a0]/,/^[0-9]+\.[ \u00a0]/,/^[\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]+\.[ \u00a0]/,/^[\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d\u62fe]+\.[ \u00a0]/],e=e.replace(/^[\u00a0 ]+/,""),V.each(n,(function(n){if(n.test(e))return t=!0,!1})),t}function oe(e){var t,n,r=1;function o(e){var t="";if(3===e.type)return e.value;if(e=e.firstChild)do{t+=o(e)}while(e=e.next);return t}function i(e,t){if(3===e.type&&t.test(e.value))return e.value=e.value.replace(t,""),!1;if(e=e.firstChild)do{if(!i(e,t))return!1}while(e=e.next);return!0}function a(e,o,a){var u=e._listLevel||r;u!==r&&(u<r?t&&(t=t.parent.parent):(n=t,t=null)),t&&t.name===o?t.append(e):(n=n||t,t=new Q(o,1),a>1&&t.attr("start",""+a),e.wrap(t)),e.name="li",u>r&&n&&n.lastChild.append(t),r=u,function e(t){if(t._listIgnore)t.remove();else if(t=t.firstChild)do{e(t)}while(t=t.next)}(e),i(e,/^\u00a0+/),i(e,/^\s*([\u2022\u00b7\u00a7\u25CF]|\w+\.)/),i(e,/^\u00a0+/)}for(var u=[],s=e.firstChild;null!=s;)if(u.push(s),null!==(s=s.walk()))for(;void 0!==s&&s.parent!==e;)s=s.walk();for(var c=0;c<u.length;c++)if("p"===(e=u[c]).name&&e.firstChild){var l=o(e);if(/^[\s\u00a0]*[\u2022\u00b7\u00a7\u25CF]\s*/.test(l)){a(e,"ul");continue}if(re(l)){var f=/([0-9]+)\./.exec(l),d=1;f&&(d=parseInt(f[1],10)),a(e,"ol",d);continue}if(e._listLevel){a(e,"ul",1);continue}t=null}else n=t,t=null}function ie(e,t,n,r){var o,i={},a=e.dom.parseStyle(r);return V.each(a,(function(a,u){switch(u){case"mso-list":(o=/\w+ \w+([0-9]+)/i.exec(r))&&(n._listLevel=parseInt(o[1],10)),/Ignore/i.test(a)&&n.firstChild&&(n._listIgnore=!0,n.firstChild._listIgnore=!0);break;case"horiz-align":u="text-align";break;case"vert-align":u="vertical-align";break;case"font-color":case"mso-foreground":u="color";break;case"mso-background":case"mso-highlight":u="background";break;case"font-weight":case"font-style":return void("normal"!==a&&(i[u]=a));case"mso-element":if(/^(comment|comment-list)$/i.test(a))return void n.remove()}0!==u.indexOf("mso-comment")?0!==u.indexOf("mso-")&&("all"===ee.getRetainStyleProps(e)||t&&t[u])&&(i[u]=a):n.remove()})),/(bold)/i.test(i["font-weight"])&&(delete i["font-weight"],n.wrap(new Q("b",1))),/(italic)/i.test(i["font-style"])&&(delete i["font-style"],n.wrap(new Q("i",1))),(i=e.dom.serializeStyle(i,n.name))||null}var ae={preProcess:function(e,t){return ee.shouldUseDefaultFilters(e)?function(e,t){var n,r;(n=ee.getRetainStyleProps(e))&&(r=V.makeMap(n.split(/[, ]/))),t=ne.filter(t,[/<br class="?Apple-interchange-newline"?>/gi,/<b[^>]+id="?docs-internal-[^>]*>/gi,/<!--[\s\S]+?-->/gi,/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|img|meta|link|style|\w:\w+)(?=[\s\/>]))[^>]*>/gi,[/<(\/?)s>/gi,"<$1strike>"],[/&nbsp;/gi," "],[/<span\s+style\s*=\s*"\s*mso-spacerun\s*:\s*yes\s*;?\s*"\s*>([\s\u00a0]*)<\/span>/gi,function(e,t){return t.length>0?t.replace(/./," ").slice(Math.floor(t.length/2)).split("").join(" "):""}]]);var o=ee.getWordValidElements(e),i=Z({valid_elements:o,valid_children:"-li[p]"});V.each(i.elements,(function(e){e.attributes.class||(e.attributes.class={},e.attributesOrder.push("class")),e.attributes.style||(e.attributes.style={},e.attributesOrder.push("style"))}));var a=K({},i);a.addAttributeFilter("style",(function(t){for(var n,o=t.length;o--;)(n=t[o]).attr("style",ie(e,r,n,n.attr("style"))),"span"===n.name&&n.parent&&!n.attributes.length&&n.unwrap()})),a.addAttributeFilter("class",(function(e){for(var t,n,r=e.length;r--;)n=(t=e[r]).attr("class"),/^(MsoCommentReference|MsoCommentText|msoDel)$/i.test(n)&&t.remove(),t.attr("class",null)})),a.addNodeFilter("del",(function(e){for(var t=e.length;t--;)e[t].remove()})),a.addNodeFilter("a",(function(e){for(var t,n,r,o=e.length;o--;)if(n=(t=e[o]).attr("href"),r=t.attr("name"),n&&-1!==n.indexOf("#_msocom_"))t.remove();else if(n&&0===n.indexOf("file://")&&(n=n.split("#")[1])&&(n="#"+n),n||r){if(r&&!/^_?(?:toc|edn|ftn)/i.test(r)){t.unwrap();continue}t.attr({href:n,name:r})}else t.unwrap()}));var u=a.parse(t);return ee.shouldConvertWordFakeLists(e)&&oe(u),t=J({validate:e.settings.validate},i).serialize(u)}(e,t):t},isWordContent:function(e){return/<font face="Times New Roman"|class="?Mso|style="[^"]*\bmso-|style='[^'']*\bmso-|w:WordDocument/i.test(e)||/class="OutlineElement/.test(e)||/id="?docs\-internal\-guid\-/.test(e)}},ue=function(e,t){return{content:e,cancelled:t}},se=function(e,t,n,r){var o=f(e,t,n,r),i=function(e,t){var n=K({},e.schema);n.addNodeFilter("meta",(function(e){V.each(e,(function(e){return e.remove()}))}));var r=n.parse(t,{forced_root_block:!1,isRootContent:!0});return J({validate:e.settings.validate},e.schema).serialize(r)}(e,o.content);return e.hasEventListeners("PastePostProcess")&&!o.isDefaultPrevented()?function(e,t,n,r){var o=e.dom.create("div",{style:"display:none"},t),i=d(e,o,n,r);return ue(i.node.innerHTML,i.isDefaultPrevented())}(e,i,n,r):ue(i,o.isDefaultPrevented())},ce=function(e,t,n){var r=ae.isWordContent(t),o=r?ae.preProcess(e,t):t;return se(e,o,n,r)},le=function(e,t){return e.insertContent(t,{merge:ee.shouldMergeFormats(e),paste:!0}),!0},fe=function(e){return/^https?:\/\/[\w\?\-\/+=.&%@~#]+$/i.test(e)},de=function(e){return fe(e)&&/.(gif|jpe?g|png)$/.test(e)},pe=function(e,t,n){return!(!1!==e.selection.isCollapsed()||!fe(t))&&function(e,t,n){return e.undoManager.extra((function(){n(e,t)}),(function(){e.execCommand("mceInsertLink",!1,t)})),!0}(e,t,n)},me=function(e,t,n){return!!de(t)&&function(e,t,n){return e.undoManager.extra((function(){n(e,t)}),(function(){e.insertContent('<img src="'+t+'">')})),!0}(e,t,n)},he={isImageUrl:de,isAbsoluteUrl:fe,insertContent:function(e,t,n){n||!1===ee.isSmartPasteEnabled(e)?le(e,t):function(e,t){V.each([pe,me,le],(function(n){return!0!==n(e,t,le)}))}(e,t)}},ge=function(e){return"\n"===e||"\r"===e},ve=function(e){return function(e,t,n){return _(e,(function(e){n=t(n,e)})),n}(e,(function(t,n){return function(e){return-1!==" \f\t\v".indexOf(e)}(n)||" "===n?t.pcIsSpace||""===t.str||t.str.length===e.length-1||function(e,t){return t<e.length&&t>=0&&ge(e[t])}(e,t.str.length+1)?{pcIsSpace:!1,str:t.str+" "}:{pcIsSpace:!0,str:t.str+" "}:{pcIsSpace:ge(n),str:t.str+n}}),{pcIsSpace:!1,str:""}).str},be=function(e,t,n,r){var o=ce(e,t,n);!1===o.cancelled&&he.insertContent(e,o.content,r)},ye=function(e,t,n){var r=n||q.isMarked(t);be(e,q.unmark(t),r,!1)},we=function(e,t){var n=e.dom.encode(t).replace(/\r\n/g,"\n"),r=ve(n),o=G.convert(r,e.settings.forced_root_block,e.settings.forced_root_block_attrs);be(e,o,!1,!0)},xe=function(e){var t={};if(e){if(e.getData){var n=e.getData("Text");n&&n.length>0&&-1===n.indexOf("data:text/mce-internal,")&&(t["text/plain"]=n)}if(e.types)for(var r=0;r<e.types.length;r++){var o=e.types[r];try{t[o]=e.getData(o)}catch(e){t[o]=""}}}return t},Ce=function(e,t){return t in e&&e[t].length>0},ke=function(e){return Ce(e,"text/html")||Ce(e,"text/plain")},Se=ne.createIdGenerator("mceclip"),Te=function(e,n,r){var o,i="paste"===n.type?n.clipboardData:n.dataTransfer;if(e.settings.paste_data_images&&i){var a=function(e){var t=e.items?O(A(e.items),(function(e){return e.getAsFile()})):[],n=e.files?A(e.files):[];return function(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];t(i,r)&&n.push(i)}return n}(t.length>0?t:n,(function(e){return/^image\/(jpeg|png|gif|bmp)$/.test(e.type)}))}(i);if(a.length>0)return n.preventDefault(),(o=a,F(o,(function(e){return P((function(t){var n=e.getAsFile?e.getAsFile():e,r=new window.FileReader;r.onload=function(){t({blob:n,uri:r.result})},r.readAsDataURL(n)}))}))).get((function(n){r&&e.selection.setRng(r),_(n,(function(n){!function(e,n){var r,o,i,a,u=(r=n.uri,-1!==(o=r.indexOf(","))?r.substr(o+1):null),s=Se(),c=e.settings.images_reuse_filename&&n.blob.name?function(e,t){var n=t.match(/([\s\S]+?)\.(?:jpeg|jpg|png|gif)$/i);return n?e.dom.encode(n[1]):null}(e,n.blob.name):s,l=new t.Image;if(l.src=n.uri,i=e.settings,a=l,!i.images_dataimg_filter||i.images_dataimg_filter(a)){var f,d=e.editorUpload.blobCache,p=void 0;(f=d.findFirst((function(e){return e.base64()===u})))?p=f:(p=d.create(s,n.blob,u,c),d.add(p)),ye(e,'<img src="'+p.blobUri()+'">',!1)}else ye(e,'<img src="'+n.uri+'">',!1)}(e,n)}))})),!0}return!1},Ee=function(e){return U.metaKeyPressed(e)&&86===e.keyCode||e.shiftKey&&45===e.keyCode},Oe=function(e,n,r){var o,i,a=(o=u(S.none()),{clear:function(){o.set(S.none())},set:function(e){o.set(S.some(e))},isSet:function(){return o.get().isSome()},on:function(e){o.get().each(e)}});function s(t,r,o,i){var a,u,s;Ce(t,"text/html")?a=t["text/html"]:(a=n.getHtml(),i=i||q.isMarked(a),n.isDefaultContent(a)&&(o=!0)),a=ne.trimHtml(a),n.remove(),u=!1===i&&G.isPlainText(a),s=he.isImageUrl(a),(!a.length||u&&!s)&&(o=!0),(o||s)&&(a=Ce(t,"text/plain")&&u?t["text/plain"]:ne.innerText(a)),n.isDefaultContent(a)?r||e.windowManager.alert("Please use Ctrl+V/Cmd+V keyboard shortcuts to paste contents."):o?we(e,a):ye(e,a,i)}e.on("keydown",(function(r){function o(e){Ee(e)&&!e.isDefaultPrevented()&&n.remove()}if(Ee(r)&&!r.isDefaultPrevented()){if((i=r.shiftKey&&86===r.keyCode)&&H.webkit&&-1!==t.navigator.userAgent.indexOf("Version/"))return;if(r.stopImmediatePropagation(),a.set(r),window.setTimeout((function(){a.clear()}),100),H.ie&&i)return r.preventDefault(),void m(e,!0);n.remove(),n.create(),e.once("keyup",o),e.once("paste",(function(){e.off("keyup",o)}))}}));e.on("paste",(function(o){var u=a.isSet(),c=function(e,t){var n=xe(t.clipboardData||e.getDoc().dataTransfer);return ne.isMsEdge()?V.extend(n,{"text/html":""}):n}(e,o),l="text"===r.get()||i,f=Ce(c,q.internalHtmlMime());i=!1,o.isDefaultPrevented()||function(e){var n=e.clipboardData;return-1!==t.navigator.userAgent.indexOf("Android")&&n&&n.items&&0===n.items.length}(o)?n.remove():ke(c)||!Te(e,o,n.getLastRng()||e.selection.getRng())?(u||o.preventDefault(),!H.ie||u&&!o.ieFake||Ce(c,"text/html")||(n.create(),e.dom.bind(n.getEl(),"paste",(function(e){e.stopPropagation()})),e.getDoc().execCommand("Paste",!1,null),c["text/html"]=n.getHtml()),Ce(c,"text/html")?(o.preventDefault(),f||(f=q.isMarked(c["text/html"])),s(c,u,l,f)):j.setEditorTimeout(e,(function(){s(c,u,l,f)}),0)):n.remove()}))},_e=function(e){return H.ie&&e.inline?t.document.body:e.getBody()},Ae=function(e,t,n){(function(e){return _e(e)!==e.getBody()})(e)&&e.dom.bind(t,"paste keyup",(function(t){Me(e,n)||e.fire("paste")}))},De=function(e){return e.dom.get("mcepastebin")},Ne=function(e,t){return t===e},Me=function(e,t){var n,r=De(e);return(n=r)&&"mcepastebin"===n.id&&Ne(t,r.innerHTML)},Re=function(e){var t=u(null);return{create:function(){return function(e,t,n){var r,o=e.dom,i=e.getBody();t.set(e.selection.getRng()),r=e.dom.add(_e(e),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},n),(H.ie||H.gecko)&&o.setStyle(r,"left","rtl"===o.getStyle(i,"direction",!0)?65535:-65535),o.bind(r,"beforedeactivate focusin focusout",(function(e){e.stopPropagation()})),Ae(e,r,n),r.focus(),e.selection.select(r,!0)}(e,t,"%MCEPASTEBIN%")},remove:function(){return function(e,t){if(De(e)){for(var n=void 0,r=t.get();n=e.dom.get("mcepastebin");)e.dom.remove(n),e.dom.unbind(n);r&&e.selection.setRng(r)}t.set(null)}(e,t)},getEl:function(){return De(e)},getHtml:function(){return function(e){var t,n,r,o,i,a=function(t,n){t.appendChild(n),e.dom.remove(n,!0)};for(n=V.grep(_e(e).childNodes,(function(e){return"mcepastebin"===e.id})),t=n.shift(),V.each(n,(function(e){a(t,e)})),r=(o=e.dom.select("div[id=mcepastebin]",t)).length-1;r>=0;r--)i=e.dom.create("div"),t.insertBefore(i,o[r]),a(i,o[r]);return t?t.innerHTML:""}(e)},getLastRng:function(){return function(e){return e.get()}(t)},isDefault:function(){return Me(e,"%MCEPASTEBIN%")},isDefaultContent:function(e){return Ne("%MCEPASTEBIN%",e)}}},ze=function(e,t){var n=Re(e);return e.on("PreInit",(function(){return function(e,t,n){var r;Oe(e,t,n),e.parser.addNodeFilter("img",(function(t,n,o){var i=function(e){e.attr("data-mce-object")||r===H.transparentSrc||e.remove()},a=function(e){return 0===e.indexOf("webkit-fake-url")},u=function(e){return 0===e.indexOf("data:")};if(!e.settings.paste_data_images&&function(e){return e.data&&!0===e.data.paste}(o))for(var s=t.length;s--;)(r=t[s].attr("src"))&&(a(r)?i(t[s]):!e.settings.allow_html_data_urls&&u(r)&&i(t[s]))}))}(e,n,t)})),{pasteFormat:t,pasteHtml:function(t,n){return ye(e,t,n)},pasteText:function(t){return we(e,t)},pasteImageData:function(t,n){return Te(e,t,n)},getDataTransferItems:xe,hasHtmlOrText:ke,hasContentType:Ce}},Ie=function(e,t,n){if(!function(e){return!1===H.iOS&&void 0!==e&&"function"==typeof e.setData&&!0!==ne.isMsEdge()}(e))return!1;try{return e.clearData(),e.setData("text/html",t),e.setData("text/plain",n),e.setData(q.internalHtmlMime(),t),!0}catch(e){return!1}},Be=function(e,t,n,r){Ie(e.clipboardData,t.html,t.text)?(e.preventDefault(),r()):n(t.html,r)},Pe=function(e){return function(t,n){var r=q.mark(t),o=e.dom.create("div",{contenteditable:"false","data-mce-bogus":"all"}),i=e.dom.create("div",{contenteditable:"true"},r);e.dom.setStyles(o,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),o.appendChild(i),e.dom.add(e.getBody(),o);var a=e.selection.getRng();i.focus();var u=e.dom.createRng();u.selectNodeContents(i),e.selection.setRng(u),j.setTimeout((function(){e.selection.setRng(a),o.parentNode.removeChild(o),n()}),0)}},Le=function(e){return{html:e.selection.getContent({contextual:!0}),text:e.selection.getContent({format:"text"})}},Fe=function(e){return!e.selection.isCollapsed()||function(e){return!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody())}(e)},He={register:function(e){e.on("cut",function(e){return function(t){Fe(e)&&Be(t,Le(e),Pe(e),(function(){if(H.browser.isChrome()){var t=e.selection.getRng();j.setEditorTimeout(e,(function(){e.selection.setRng(t),e.execCommand("Delete")}),0)}else e.execCommand("Delete")}))}}(e)),e.on("copy",function(e){return function(t){Fe(e)&&Be(t,Le(e),Pe(e),(function(){}))}}(e))}},je=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),Ve=function(e,t){return je.getCaretRangeFromPoint(t.clientX,t.clientY,e.getDoc())},Ue=function(e,t){e.focus(),e.selection.setRng(t)},$e={setup:function(e,t,n){ee.shouldBlockDrop(e)&&e.on("dragend dragover draggesture dragdrop drop drag",(function(e){e.preventDefault(),e.stopPropagation()})),ee.shouldPasteDataImages(e)||e.on("drop",(function(e){var t=e.dataTransfer;t&&t.files&&t.files.length>0&&e.preventDefault()})),e.on("drop",(function(r){var o,i;if(i=Ve(e,r),!r.isDefaultPrevented()&&!n.get()){o=t.getDataTransferItems(r.dataTransfer);var a,u=t.hasContentType(o,q.internalHtmlMime());if(t.hasHtmlOrText(o)&&(!(a=o["text/plain"])||0!==a.indexOf("file://"))||!t.pasteImageData(r,i))if(i&&ee.shouldFilterDrop(e)){var s=o["mce-internal"]||o["text/html"]||o["text/plain"];s&&(r.preventDefault(),j.setEditorTimeout(e,(function(){e.undoManager.transact((function(){o["mce-internal"]&&e.execCommand("Delete"),Ue(e,i),s=ne.trimHtml(s),o["text/html"]?t.pasteHtml(s,u):t.pasteText(s)}))})))}}})),e.on("dragstart",(function(e){n.set(!0)})),e.on("dragover dragend",(function(t){ee.shouldPasteDataImages(e)&&!1===n.get()&&(t.preventDefault(),Ue(e,Ve(e,t))),"dragend"===t.type&&n.set(!1)}))}},qe={setup:function(e){var t=e.plugins.paste,n=ee.getPreProcess(e);n&&e.on("PastePreProcess",(function(e){n.call(t,t,e)}));var r=ee.getPostProcess(e);r&&e.on("PastePostProcess",(function(e){r.call(t,t,e)}))}};function We(e,t){e.on("PastePreProcess",(function(n){n.content=t(e,n.content,n.internal,n.wordContent)}))}function Ye(e,t){if(!ae.isWordContent(t))return t;var n=[];V.each(e.schema.getBlockElements(),(function(e,t){n.push(t)}));var r=new RegExp("(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*(<\\/?("+n.join("|")+")[^>]*>)(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*","g");return t=ne.filter(t,[[r,"$1"]]),t=ne.filter(t,[[/<br><br>/g,"<BR><BR>"],[/<br>/g," "],[/<BR><BR>/g,"<br>"]])}function Xe(e,t,n,r){if(r||n)return t;var o,i=ee.getWebkitStyles(e);if(!1===ee.shouldRemoveWebKitStyles(e)||"all"===i)return t;if(i&&(o=i.split(/[, ]/)),o){var a=e.dom,u=e.selection.getNode();t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(function(e,t,n,r){var i=a.parseStyle(a.decode(n)),s={};if("none"===o)return t+r;for(var c=0;c<o.length;c++){var l=i[o[c]],f=a.getStyle(u,o[c],!0);/color/.test(o[c])&&(l=a.toHex(l),f=a.toHex(f)),f!==l&&(s[o[c]]=l)}return(s=a.serializeStyle(s,"span"))?t+' style="'+s+'"'+r:t+r}))}else t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return t=t.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(function(e,t,n,r){return t+' style="'+n+'"'+r}))}function Ge(e,t){e.$("a",t).find("font,u").each((function(t,n){e.dom.remove(n,!0)}))}var Ke={setup:function(e){H.webkit&&We(e,Xe),H.ie&&(We(e,Ye),function(e,t){e.on("PastePostProcess",(function(n){t(e,n.node)}))}(e,Ge))}},Je=function(e,t){return function(n){n.setActive("text"===t.pasteFormat.get());var r=function(e){return n.setActive(e.state)};return e.on("PastePlainTextToggle",r),function(){return e.off("PastePlainTextToggle",r)}}},Qe={register:function(e,t){e.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:function(){return e.execCommand("mceTogglePlainTextPaste")},onSetup:Je(e,t)}),e.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",onAction:function(){return e.execCommand("mceTogglePlainTextPaste")},onSetup:Je(e,t)})}};s.add("paste",(function(e){if(!1===c.hasProPlugin(e)){var t=u(!1),n=u(ee.isPasteAsTextEnabled(e)?"text":"html"),r=ze(e,n),o=Ke.setup(e);return Qe.register(e,r),g.register(e,r),qe.setup(e),He.register(e),$e.setup(e,r,t),l.get(r,o)}}))}(window)}).call(this,n(1))},function(e,t){!function(e){"use strict";var t=function(e){var n=e,r=function(){return n};return{get:r,set:function(e){n=e},clone:function(){return t(r())}}},n=tinymce.util.Tools.resolve("tinymce.PluginManager"),r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};var o,i,a,u,s=function(){},c=function(e){return function(){return e}},l=function(e){return e},f=c(!1),d=c(!0),p=function(){return m},m=(o=function(e){return e.isNone()},u={fold:function(e,t){return e()},is:f,isSome:f,isNone:d,getOr:a=function(e){return e},getOrThunk:i=function(e){return e()},getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:c(null),getOrUndefined:c(void 0),or:a,orThunk:i,map:p,each:s,bind:p,exists:f,forall:d,filter:p,equals:o,equals_:o,toArray:function(){return[]},toString:c("none()")},Object.freeze&&Object.freeze(u),u),h=function(e){var t=c(e),n=function(){return o},r=function(t){return t(e)},o={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:d,isNone:f,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return h(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:m},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(f,(function(t){return n(e,t)}))}};return o},g={some:h,none:p,from:function(e){return null==e?m:h(e)}},v=function(e){return function(t){return function(e){if(null===e)return"null";var t=typeof e;return"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t}(t)===e}},b=v("string"),y=v("object"),w=v("array"),x=v("function"),C=Array.prototype.slice,k=Array.prototype.indexOf,S=function(e,t){return n=e,r=t,k.call(n,r)>-1;var n,r},T=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o)}return r},E=function(e,t){for(var n=0,r=e.length;n<r;n++){t(e[n],n)}},O=function(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];t(i,r)&&n.push(i)}return n},_=function(e,t,n){return function(e,t){for(var n=e.length-1;n>=0;n--){t(e[n],n)}}(e,(function(e){n=t(n,e)})),n},A=function(e,t){for(var n=0,r=e.length;n<r;++n){if(!0!==t(e[n],n))return!1}return!0},D=(x(Array.from)&&Array.from,Object.keys),N=Object.hasOwnProperty,M=function(e,t){return N.call(e,t)},R=function(t){if(!w(t))throw new Error("cases must be an array");if(0===t.length)throw new Error("there must be at least one case");var n=[],r={};return E(t,(function(o,i){var a=D(o);if(1!==a.length)throw new Error("one and only one name per case");var u=a[0],s=o[u];if(void 0!==r[u])throw new Error("duplicate key detected:"+u);if("cata"===u)throw new Error("cannot have a case named cata (sorry)");if(!w(s))throw new Error("case arguments must be an array");n.push(u),r[u]=function(){var r=arguments.length;if(r!==s.length)throw new Error("Wrong number of arguments to case "+u+". Expected "+s.length+" ("+s+"), got "+r);for(var o=new Array(r),a=0;a<o.length;a++)o[a]=arguments[a];var c=function(e){var t=D(e);if(n.length!==t.length)throw new Error("Wrong number of arguments to match. Expected: "+n.join(",")+"\nActual: "+t.join(","));if(!A(n,(function(e){return S(t,e)})))throw new Error("Not all branches were specified when using match. Specified: "+t.join(", ")+"\nRequired: "+n.join(", "));return e[u].apply(null,o)};return{fold:function(){if(arguments.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+arguments.length);var e=arguments[i];return e.apply(null,o)},match:c,log:function(t){e.console.log(t,{constructors:n,constructor:u,params:o})}}}})),r},z=(R([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]),function(e){var t=[],n=[];return E(e,(function(e){e.fold((function(e){t.push(e)}),(function(e){n.push(e)}))})),{errors:t,values:n}}),I=function(e){return{is:function(t){return e===t},isValue:d,isError:f,getOr:c(e),getOrThunk:c(e),getOrDie:c(e),or:function(t){return I(e)},orThunk:function(t){return I(e)},fold:function(t,n){return n(e)},map:function(t){return I(t(e))},mapError:function(t){return I(e)},each:function(t){t(e)},bind:function(t){return t(e)},exists:function(t){return t(e)},forall:function(t){return t(e)},toOption:function(){return g.some(e)}}},B=function(e){return{is:f,isValue:f,isError:d,getOr:l,getOrThunk:function(e){return e()},getOrDie:function(){return(t=String(e),function(){throw new Error(t)})();var t},or:function(e){return e},orThunk:function(e){return e()},fold:function(t,n){return t(e)},map:function(t){return B(e)},mapError:function(t){return B(t(e))},each:s,bind:function(t){return B(e)},exists:f,forall:d,toOption:g.none}},P={value:I,error:B,fromOption:function(e,t){return e.fold((function(){return B(t)}),I)}},L=function(e){return"inline-command"===e.type||"inline-format"===e.type},F=function(e){return"block-command"===e.type||"block-format"===e.type},H=function(e){return t=e,n=function(e,t){return e.start.length===t.start.length?0:e.start.length>t.start.length?-1:1},(r=C.call(t,0)).sort(n),r;var t,n,r},j=function(e){var t=function(t){return P.error({message:t,pattern:e})},n=function(n,r,o){if(void 0!==e.format){var i=void 0;if(w(e.format)){if(!A(e.format,b))return t(n+" pattern has non-string items in the `format` array");i=e.format}else{if(!b(e.format))return t(n+" pattern has non-string `format` parameter");i=[e.format]}return P.value(r(i))}return void 0!==e.cmd?b(e.cmd)?P.value(o(e.cmd,e.value)):t(n+" pattern has non-string `cmd` parameter"):t(n+" pattern is missing both `format` and `cmd` parameters")};if(!y(e))return t("Raw pattern is not an object");if(!b(e.start))return t("Raw pattern is missing `start` parameter");if(void 0!==e.end){if(!b(e.end))return t("Inline pattern has non-string `end` parameter");if(0===e.start.length&&0===e.end.length)return t("Inline pattern has empty `start` and `end` parameters");var r=e.start,o=e.end;return 0===o.length&&(o=r,r=""),n("Inline",(function(e){return{type:"inline-format",start:r,end:o,format:e}}),(function(e,t){return{type:"inline-command",start:r,end:o,cmd:e,value:t}}))}return void 0!==e.replacement?b(e.replacement)?0===e.start.length?t("Replacement pattern has empty `start` parameter"):P.value({type:"inline-command",start:"",end:e.start,cmd:"mceInsertContent",value:e.replacement}):t("Replacement pattern has non-string `replacement` parameter"):0===e.start.length?t("Block pattern has empty `start` parameter"):n("Block",(function(t){return{type:"block-format",start:e.start,format:t[0]}}),(function(t,n){return{type:"block-command",start:e.start,cmd:t,value:n}}))},V=function(e){return"block-command"===e.type?{start:e.start,cmd:e.cmd,value:e.value}:"block-format"===e.type?{start:e.start,format:e.format}:"inline-command"===e.type?"mceInsertContent"===e.cmd&&""===e.start?{start:e.end,replacement:e.value}:{start:e.start,end:e.end,cmd:e.cmd,value:e.value}:"inline-format"===e.type?{start:e.start,end:e.end,format:1===e.format.length?e.format[0]:e.format}:void 0},U=function(e){return{inlinePatterns:O(e,L),blockPatterns:H(O(e,F))}},$={get:function(e){return{setPatterns:function(t){var n=z(T(t,j));if(n.errors.length>0){var r=n.errors[0];throw new Error(r.message+":\n"+JSON.stringify(r.pattern,null,2))}e.set(U(n.values))},getPatterns:function(){return function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,u=i.length;a<u;a++,o++)r[o]=i[a];return r}(T(e.get().inlinePatterns,V),T(e.get().blockPatterns,V))}}}},q=void 0!==e.window?e.window:Function("return this;")(),W=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=q.console;n&&(n.error?n.error.apply(n,e):n.log.apply(n,e))},Y=[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1"},{start:"##",format:"h2"},{start:"###",format:"h3"},{start:"####",format:"h4"},{start:"#####",format:"h5"},{start:"######",format:"h6"},{start:"1. ",cmd:"InsertOrderedList"},{start:"* ",cmd:"InsertUnorderedList"},{start:"- ",cmd:"InsertUnorderedList"}],X=function(e){var t,n,r=(t=e,n="textpattern_patterns",M(t,n)?g.from(t[n]):g.none()).getOr(Y);if(!w(r))return W("The setting textpattern_patterns should be an array"),{inlinePatterns:[],blockPatterns:[]};var o=z(T(r,j));return E(o.errors,(function(e){return W(e.message,e.pattern)})),U(o.values)},G=function(e){var t=e.getParam("forced_root_block","p");return!1===t?"":!0===t?"p":t},K=tinymce.util.Tools.resolve("tinymce.util.Delay"),J=tinymce.util.Tools.resolve("tinymce.util.VK"),Q=tinymce.util.Tools.resolve("tinymce.util.Tools"),Z=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),ee=function(t){return t.nodeType===e.Node.TEXT_NODE},te=function(e,t,n){if(t&&e.isEmpty(t)&&!n(t)){var r=t.parentNode;e.remove(t),te(e,r,n)}},ne=function(e,t,n,r){void 0===r&&(r=!0);var o=t.startContainer.parentNode,i=t.endContainer.parentNode;t.deleteContents(),r&&!n(t.startContainer)&&(ee(t.startContainer)&&0===t.startContainer.data.length&&e.remove(t.startContainer),ee(t.endContainer)&&0===t.endContainer.data.length&&e.remove(t.endContainer),te(e,o,n),o!==i&&te(e,i,n))},re=function(e,t){var n,r=t.get(e);return w(r)&&(n=r,0===n.length?g.none():g.some(n[0])).exists((function(e){return M(e,"block")}))},oe=function(e){return 0===e.start.length},ie=function(e,t){var n=g.from(e.dom.getParent(t.startContainer,e.dom.isBlock));return""===G(e)?n.orThunk((function(){return g.some(e.getBody())})):n},ae=function(e,t){return{element:e,offset:t}},ue=function(t,n){var r=new Z(t,n),o=function(t){for(var n=r[t]();n&&n.nodeType!==e.Node.TEXT_NODE;)n=r[t]();return n&&n.nodeType===e.Node.TEXT_NODE?g.some(n):g.none()};return{next:function(){return o("next")},prev:function(){return o("prev")},prev2:function(){return o("prev2")}}},se=function(e,t,n){return ee(e)&&t>=0?g.some(ae(e,t)):ue(e,n).prev().map((function(e){return ae(e,e.data.length)}))},ce=function(e,t,n){if(!ee(e))return g.none();var r=e.textContent;return t>=0&&t<=r.length?g.some(ae(e,t)):ue(e,n).prev().bind((function(e){var r=e.textContent;return ce(e,t+r.length,n)}))},le=function(e,t,n){if(!ee(e))return g.none();var r=e.textContent;return t<=r.length?g.some(ae(e,t)):ue(e,n).next().bind((function(e){return le(e,t-r.length,n)}))},fe=R([{aborted:[]},{edge:["element"]},{success:["info"]}]),de=R([{abort:[]},{kontinue:[]},{finish:["info"]}]),pe=function(e,t,n,r,o,i){var a=function(){return i.fold(fe.aborted,fe.edge)},u=function(){var n=o();return n?pe(e,n,g.none(),r,o,g.some(t)):a()};if(function(e,t){return e.isBlock(t)||S(["BR","IMG","HR","INPUT"],t.nodeName)||"false"===e.getContentEditable(t)}(e,t))return a();if(ee(t)){var s=t.textContent;return r(de,t,s,n).fold(fe.aborted,(function(){return u()}),fe.success)}return u()},me=function(e,t,n){if(ee(t)&&(n<0||n>t.data.length))return[];for(var r=[n],o=t;o!==e&&o.parentNode;){for(var i=o.parentNode,a=0;a<i.childNodes.length;a++)if(i.childNodes[a]===o){r.push(a);break}o=i}return o===e?r.reverse():[]},he=function(e,t,n,r,o){return{start:me(e,t,n),end:me(e,r,o)}},ge=function(e,t){var n,r,o,i=t.slice(),a=i.pop();return(n=i,r=function(e,t){return e.bind((function(e){return g.from(e.childNodes[t])}))},o=g.some(e),E(n,(function(e){o=r(o,e)})),o).bind((function(e){return ee(e)&&a>=0&&e.data.length,g.some({node:e,offset:a})}))},ve=function(t,n){return ge(t,n.start).bind((function(r){var o=r.node,i=r.offset;return ge(t,n.end).map((function(t){var n=t.node,r=t.offset,a=e.document.createRange();return a.setStart(o,i),a.setEnd(n,r),a}))}))},be=function(e,t,n){ue(t,t).next().each((function(r){le(r,n.start.length,t).each((function(n){var o=e.createRng();o.setStart(r,0),o.setEnd(n.element,n.offset),ne(e,o,(function(e){return e===t}))}))}))},ye=function(e,t){var n=t.replace(" "," ");return function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];if(t(o,n))return g.some(o)}return g.none()}(e,(function(e){return 0===t.indexOf(e.start)||0===n.indexOf(e.start)}))},we=function(e,t){if(0!==t.length){var n=e.selection.getBookmark();E(t,(function(t){return function(e,t){var n=e.dom,r=t.pattern,o=ve(n.getRoot(),t.range).getOrDie("Unable to resolve path range");return ie(e,o).each((function(t){"block-format"===r.type?re(r.format,e.formatter)&&e.undoManager.transact((function(){be(e.dom,t,r),e.formatter.apply(r.format)})):"block-command"===r.type&&e.undoManager.transact((function(){be(e.dom,t,r),e.execCommand(r.cmd,!1,r.value)}))})),!0}(e,t)})),e.selection.moveToBookmark(n)}},xe=0,Ce=function(e,t){return e.create("span",{"data-mce-type":"bookmark",id:t})},ke=function(e,t){var n=e.createRng();return n.setStartAfter(t.start),n.setEndBefore(t.end),n},Se=function(e,t,n){var r=ve(e.getRoot(),n).getOrDie("Unable to resolve path range"),o=r.startContainer,i=r.endContainer,a=0===r.endOffset?i:i.splitText(r.endOffset),u=0===r.startOffset?o:o.splitText(r.startOffset);return{prefix:t,end:a.parentNode.insertBefore(Ce(e,t+"-end"),a),start:u.parentNode.insertBefore(Ce(e,t+"-start"),u)}},Te=function(e,t,n){te(e,e.get(t.prefix+"-end"),n),te(e,e.get(t.prefix+"-start"),n)},Ee=function(e,t,n,r,o,i){if(void 0===i&&(i=!1),0===t.start.length&&!i){var a=e.createRng();return a.setStart(n,r),a.setEnd(n,r),g.some(a)}return se(n,r,o).bind((function(n){return function(e,t,n,r,o){var i=new Z(t,o);return pe(e,t,g.some(n),r,i.prev,g.none())}(e,n.element,n.offset,function(e,t,n){return function(r,o,i,a){if(o===t)return r.abort();var u=i.substring(0,a.getOr(i.length)),s=u.lastIndexOf(n.charAt(n.length-1)),c=u.lastIndexOf(n);if(-1!==c){var l=e.createRng();return l.setStart(o,c),l.setEnd(o,c+n.length),r.finish(l)}return-1!==s?ce(o,s+1-n.length,t).fold((function(){return r.kontinue()}),(function(t){var i=e.createRng();return i.setStart(t.element,t.offset),i.setEnd(o,s+1),i.toString()===n?r.finish(i):r.kontinue()})):r.kontinue()}}(e,o,t.start),o).fold(g.none,g.none,g.some).bind((function(e){if(i){if(e.endContainer===n.element&&e.endOffset===n.offset)return g.none();if(0===n.offset&&e.endContainer.textContent.length===e.endOffset)return g.none()}return g.some(e)}))}))},Oe=function(e,t,n){var r=e.dom,o=r.getRoot(),i=n.pattern,a=n.position.element,u=n.position.offset;return ce(a,u-n.pattern.end.length,t).bind((function(s){var c=he(o,s.element,s.offset,a,u);if(oe(i))return g.some({matches:[{pattern:i,startRng:c,endRng:c}],position:s});var l=_e(e,n.remainingPatterns,s.element,s.offset,t),f=l.getOr({matches:[],position:s}),d=f.position;return Ee(r,i,d.element,d.offset,t,l.isNone()).map((function(e){var t=function(e,t){return he(e,t.startContainer,t.startOffset,t.endContainer,t.endOffset)}(o,e);return{matches:f.matches.concat([{pattern:i,startRng:t,endRng:c}]),position:ae(e.startContainer,e.startOffset)}}))}))},_e=function(e,t,n,r,o){var i=e.dom;return se(n,r,i.getRoot()).bind((function(a){var u=i.createRng();u.setStart(o,0),u.setEnd(n,r);for(var s,c,l=u.toString(),f=0;f<t.length;f++){var d=t[f];if(s=l,c=d.end,function(e,t,n){return""===t||!(e.length<t.length)&&e.substr(n,n+t.length)===t}(s,c,s.length-c.length)){var p=t.slice();p.splice(f,1);var m=Oe(e,o,{pattern:d,remainingPatterns:p,position:a});if(m.isSome())return m}}return g.none()}))},Ae=function(e,t,n){e.selection.setRng(n),"inline-format"===t.type?E(t.format,(function(t){e.formatter.apply(t)})):e.execCommand(t.cmd,!1,t.value)},De=function(e,t){var n,o,i=(n="mce_textpattern",o=(new Date).getTime(),n+"_"+Math.floor(1e9*Math.random())+ ++xe+String(o)),a=_(t,(function(t,n){var o=Se(e,i+"_end"+t.length,n.endRng);return t.concat([r(r({},n),{endMarker:o})])}),[]);return _(a,(function(t,n){var o=a.length-t.length-1,u=oe(n.pattern)?n.endMarker:Se(e,i+"_start"+o,n.startRng);return t.concat([r(r({},n),{startMarker:u})])}),[])},Ne=function(e,t,n){var r=e.selection.getRng();return!1===r.collapsed?[]:ie(e,r).bind((function(o){var i=r.startOffset-(n?1:0);return _e(e,t,r.startContainer,i,o)})).fold((function(){return[]}),(function(e){return e.matches}))},Me=function(e,t){if(0!==t.length){var n=e.dom,r=e.selection.getBookmark(),o=De(n,t);E(o,(function(t){var r=n.getParent(t.startMarker.start,n.isBlock),o=function(e){return e===r};oe(t.pattern)?function(e,t,n,r){var o=ke(e.dom,n);ne(e.dom,o,r),Ae(e,t,o)}(e,t.pattern,t.endMarker,o):function(e,t,n,r,o){var i=e.dom,a=ke(i,r),u=ke(i,n);ne(i,u,o),ne(i,a,o);var s={prefix:n.prefix,start:n.end,end:r.start},c=ke(i,s);Ae(e,t,c)}(e,t.pattern,t.startMarker,t.endMarker,o),Te(n,t.endMarker,o),Te(n,t.startMarker,o)})),e.selection.moveToBookmark(r)}},Re=function(e,t,n){for(var r=0;r<e.length;r++)if(n(e[r],t))return!0},ze=function(e,t){if(!e.selection.isCollapsed())return!1;var n=Ne(e,t.inlinePatterns,!1),r=function(e,t){var n=e.dom,r=e.selection.getRng();return ie(e,r).filter((function(t){var r=G(e),o=""===r&&n.is(t,"body")||n.is(t,r);return null!==t&&o})).bind((function(e){var r=e.textContent;return ye(t,r).map((function(t){return Q.trim(r).length===t.start.length?[]:[{pattern:t,range:he(n.getRoot(),e,0,e,0)}]}))})).getOr([])}(e,t.blockPatterns);return(r.length>0||n.length>0)&&(e.undoManager.add(),e.undoManager.extra((function(){e.execCommand("mceInsertNewLine")}),(function(){e.insertContent("\ufeff"),Me(e,n),we(e,r);var t=e.selection.getRng(),o=se(t.startContainer,t.startOffset,e.dom.getRoot());e.execCommand("mceInsertNewLine"),o.each((function(t){"\ufeff"===t.element.data.charAt(t.offset-1)&&(t.element.deleteData(t.offset-1,1),te(e.dom,t.element.parentNode,(function(t){return t===e.dom.getRoot()})))}))})),!0)},Ie=function(e,t){var n=Ne(e,t.inlinePatterns,!0);n.length>0&&e.undoManager.transact((function(){Me(e,n)}))},Be=function(e,t){return Re(e,t,(function(e,t){return e.charCodeAt(0)===t.charCode}))},Pe=function(e,t){return Re(e,t,(function(e,t){return e===t.keyCode&&!1===J.modifierPressed(t)}))},Le={setup:function(e,t){var n=[",",".",";",":","!","?"],r=[32];e.on("keydown",(function(n){13!==n.keyCode||J.modifierPressed(n)||ze(e,t.get())&&n.preventDefault()}),!0),e.on("keyup",(function(n){Pe(r,n)&&Ie(e,t.get())})),e.on("keypress",(function(r){Be(n,r)&&K.setEditorTimeout(e,(function(){Ie(e,t.get())}))}))}};n.add("textpattern",(function(e){var n=t(X(e.settings));return Le.setup(e,n),$.get(n)}))}(window)},function(e,t){!function(e){"use strict";var t,n,r,o,i,a=tinymce.util.Tools.resolve("tinymce.PluginManager"),u=tinymce.util.Tools.resolve("tinymce.util.Tools"),s=function(e,t){var n,r=e.dom,o=e.selection.getSelectedBlocks();o.length&&(n=r.getAttrib(o[0],"dir"),u.each(o,(function(e){r.getParent(e.parentNode,'*[dir="'+t+'"]',r.getRoot())||r.setAttrib(e,"dir",n!==t?t:null)})),e.nodeChanged())},c={register:function(e){e.addCommand("mceDirectionLTR",(function(){s(e,"ltr")})),e.addCommand("mceDirectionRTL",(function(){s(e,"rtl")}))}},l=function(){},f=function(e){return function(){return e}},d=f(!1),p=f(!0),m=function(){return h},h=(t=function(e){return e.isNone()},o={fold:function(e,t){return e()},is:d,isSome:d,isNone:p,getOr:r=function(e){return e},getOrThunk:n=function(e){return e()},getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:f(null),getOrUndefined:f(void 0),or:r,orThunk:n,map:m,each:l,bind:m,exists:d,forall:p,filter:m,equals:t,equals_:t,toArray:function(){return[]},toString:f("none()")},Object.freeze&&Object.freeze(o),o),g=function(e){var t=f(e),n=function(){return o},r=function(t){return t(e)},o={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:p,isNone:d,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return g(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:h},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(d,(function(t){return n(e,t)}))}};return o},v=function(e){return null==e?h:g(e)},b=function(e){if(null==e)throw new Error("Node cannot be null or undefined");return{dom:f(e)}},y={fromHtml:function(t,n){var r=(n||e.document).createElement("div");if(r.innerHTML=t,!r.hasChildNodes()||r.childNodes.length>1)throw e.console.error("HTML does not have a single root node",t),new Error("HTML must have a single root node");return b(r.childNodes[0])},fromTag:function(t,n){var r=(n||e.document).createElement(t);return b(r)},fromText:function(t,n){var r=(n||e.document).createTextNode(t);return b(r)},fromDom:b,fromPoint:function(e,t,n){var r=e.dom();return v(r.elementFromPoint(t,n)).map(b)}},w=function(e){return function(t){return function(e){if(null===e)return"null";var t=typeof e;return"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t}(t)===e}}("function"),x=Array.prototype.slice,C=(w(Array.from)&&Array.from,e.Node.ATTRIBUTE_NODE,e.Node.CDATA_SECTION_NODE,e.Node.COMMENT_NODE,e.Node.DOCUMENT_NODE,e.Node.DOCUMENT_TYPE_NODE,e.Node.DOCUMENT_FRAGMENT_NODE,e.Node.ELEMENT_NODE,e.Node.TEXT_NODE),k=(e.Node.PROCESSING_INSTRUCTION_NODE,e.Node.ENTITY_REFERENCE_NODE,e.Node.ENTITY_NODE,e.Node.NOTATION_NODE,void 0!==e.window?e.window:Function("return this;")(),i=C,function(e){return function(e){return e.dom().nodeType}(e)===i}),S=function(t,n){var r=t.dom(),o=e.window.getComputedStyle(r).getPropertyValue(n),i=""!==o||function(e){var t=k(e)?e.dom().parentNode:e.dom();return null!=t&&t.ownerDocument.body.contains(t)}(t)?o:T(r,n);return null===i?void 0:i},T=function(e,t){return function(e){return void 0!==e.style&&w(e.style.getPropertyValue)}(e)?e.style.getPropertyValue(t):""},E=function(e,t){return function(n){var r=function(e){var r=y.fromDom(e.element);n.setActive(function(e){return"rtl"===S(e,"direction")?"rtl":"ltr"}(r)===t)};return e.on("NodeChange",r),function(){return e.off("NodeChange",r)}}},O={register:function(e){e.ui.registry.addToggleButton("ltr",{tooltip:"Left to right",icon:"ltr",onAction:function(){return e.execCommand("mceDirectionLTR")},onSetup:E(e,"ltr")}),e.ui.registry.addToggleButton("rtl",{tooltip:"Right to left",icon:"rtl",onAction:function(){return e.execCommand("mceDirectionRTL")},onSetup:E(e,"rtl")})}};a.add("directionality",(function(e){c.register(e),O.register(e)}))}(window)},function(e,t,n){"use strict";var r=n(0),o=n(17),i=n(67),a=n(23);function u(e){var t=new i(e),n=o(i.prototype.request,t);return r.extend(n,i.prototype,t),r.extend(n,t),n}var s=u(n(20));s.Axios=i,s.create=function(e){return u(a(s.defaults,e))},s.Cancel=n(24),s.CancelToken=n(79),s.isCancel=n(19),s.all=function(e){return Promise.all(e)},s.spread=n(80),e.exports=s,e.exports.default=s},function(e,t){e.exports=function(e){return null!=e&&null!=e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}},function(e,t,n){"use strict";var r=n(0),o=n(18),i=n(68),a=n(69),u=n(23);function s(e){this.defaults=e,this.interceptors={request:new i,response:new i}}s.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=u(this.defaults,e)).method=e.method?e.method.toLowerCase():"get";var t=[a,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)n=n.then(t.shift(),t.shift());return n},s.prototype.getUri=function(e){return e=u(this.defaults,e),o(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){s.prototype[e]=function(t,n){return this.request(r.merge(n||{},{method:e,url:t}))}})),r.forEach(["post","put","patch"],(function(e){s.prototype[e]=function(t,n,o){return this.request(r.merge(o||{},{method:e,url:t,data:n}))}})),e.exports=s},function(e,t,n){"use strict";var r=n(0);function o(){this.handlers=[]}o.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=o},function(e,t,n){"use strict";var r=n(0),o=n(70),i=n(19),a=n(20),u=n(77),s=n(78);function c(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return c(e),e.baseURL&&!u(e.url)&&(e.url=s(e.baseURL,e.url)),e.headers=e.headers||{},e.data=o(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||a.adapter)(e).then((function(t){return c(e),t.data=o(t.data,t.headers,e.transformResponse),t}),(function(t){return i(t)||(c(e),t&&t.response&&(t.response.data=o(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},function(e,t,n){"use strict";var r=n(0);e.exports=function(e,t,n){return r.forEach(n,(function(n){e=n(e,t)})),e}},function(e,t,n){"use strict";var r=n(0);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},function(e,t,n){"use strict";var r=n(22);e.exports=function(e,t,n){var o=n.config.validateStatus;!o||o(n.status)?e(n):t(r("Request failed with status code "+n.status,n.config,null,n.request,n))}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,o){return e.config=t,n&&(e.code=n),e.request=r,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},function(e,t,n){"use strict";var r=n(0),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,i,a={};return e?(r.forEach(e.split("\n"),(function(e){if(i=e.indexOf(":"),t=r.trim(e.substr(0,i)).toLowerCase(),n=r.trim(e.substr(i+1)),t){if(a[t]&&o.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([n]):a[t]?a[t]+", "+n:n}})),a):a}},function(e,t,n){"use strict";var r=n(0);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function o(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=o(window.location.href),function(t){var n=r.isString(t)?o(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},function(e,t,n){"use strict";var r=n(0);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,o,i,a){var u=[];u.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&u.push("expires="+new Date(n).toGMTString()),r.isString(o)&&u.push("path="+o),r.isString(i)&&u.push("domain="+i),!0===a&&u.push("secure"),document.cookie=u.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,n){"use strict";var r=n(24);function o(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var e;return{token:new o((function(t){e=t})),cancel:e}},e.exports=o},function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t){!function(e){"use strict";var t,n,r,o,i=tinymce.util.Tools.resolve("tinymce.PluginManager"),a=0,u=function(e,t,n){e.plugins.table?e.plugins.table.insertTable(t,n):function(e,t,n){e.undoManager.transact((function(){var r,o;e.insertContent(function(e,t){var n,r,o;for(o='<table data-mce-id="mce" style="width: 100%">',o+="<tbody>",r=0;r<t;r++){for(o+="<tr>",n=0;n<e;n++)o+="<td><br></td>";o+="</tr>"}return o+="</tbody>",o+="</table>"}(t,n)),(r=function(e){return e.dom.select("*[data-mce-id]")[0]}(e)).removeAttribute("data-mce-id"),o=e.dom.select("td,th",r),e.selection.setCursorLocation(o[0],0)}))}(e,t,n)},s=function(e,t,n){var r,o,i,u;o=(r=e.editorUpload.blobCache).create((i="mceu",u=(new Date).getTime(),i+"_"+Math.floor(1e9*Math.random())+ ++a+String(u)),n,t),r.add(o),e.insertContent(e.dom.createHTML("img",{src:o.blobUri()}))},c=tinymce.util.Tools.resolve("tinymce.util.Promise"),l=function(t){return new c((function(n){var r=new e.FileReader;r.onloadend=function(){n(r.result.split(",")[1])},r.readAsDataURL(t)}))},f=tinymce.util.Tools.resolve("tinymce.Env"),d=tinymce.util.Tools.resolve("tinymce.util.Delay"),p=function(t){return new c((function(n){var r=e.document.createElement("input");r.type="file",r.style.position="fixed",r.style.left="0",r.style.top="0",r.style.opacity="0.001",e.document.body.appendChild(r);r.addEventListener("change",(function(e){n(Array.prototype.slice.call(e.target.files))}));var o=function(e){var i=function(){n([]),r.parentNode.removeChild(r)};f.os.isAndroid()&&"remove"!==e.type?d.setEditorTimeout(t,i,0):i(),t.off("focusin remove",o)};t.on("focusin remove",o),r.click()}))},m={setupButtons:function(e){e.ui.registry.addButton("quickimage",{icon:"image",tooltip:"Insert image",onAction:function(){p(e).then((function(t){if(t.length>0){var n=t[0];l(n).then((function(t){s(e,t,n)}))}}))}}),e.ui.registry.addButton("quicktable",{icon:"table",tooltip:"Insert table",onAction:function(){u(e,2,2)}})}},h=function(){},g=function(e){return function(){return e}},v=g(!1),b=g(!0),y=function(){return w},w=(t=function(e){return e.isNone()},o={fold:function(e,t){return e()},is:v,isSome:v,isNone:b,getOr:r=function(e){return e},getOrThunk:n=function(e){return e()},getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:g(null),getOrUndefined:g(void 0),or:r,orThunk:n,map:y,each:h,bind:y,exists:v,forall:b,filter:y,equals:t,equals_:t,toArray:function(){return[]},toString:g("none()")},Object.freeze&&Object.freeze(o),o),x=function(e){var t=g(e),n=function(){return o},r=function(t){return t(e)},o={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:b,isNone:v,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return x(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:w},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(v,(function(t){return n(e,t)}))}};return o},C={some:x,none:y,from:function(e){return null==e?w:x(e)}},k=function(e){if(null==e)throw new Error("Node cannot be null or undefined");return{dom:g(e)}},S={fromHtml:function(t,n){var r=(n||e.document).createElement("div");if(r.innerHTML=t,!r.hasChildNodes()||r.childNodes.length>1)throw e.console.error("HTML does not have a single root node",t),new Error("HTML must have a single root node");return k(r.childNodes[0])},fromTag:function(t,n){var r=(n||e.document).createElement(t);return k(r)},fromText:function(t,n){var r=(n||e.document).createTextNode(t);return k(r)},fromDom:k,fromPoint:function(e,t,n){var r=e.dom();return C.from(r.elementFromPoint(t,n)).map(k)}},T=(e.Node.ATTRIBUTE_NODE,e.Node.CDATA_SECTION_NODE,e.Node.COMMENT_NODE,e.Node.DOCUMENT_NODE,e.Node.DOCUMENT_TYPE_NODE,e.Node.DOCUMENT_FRAGMENT_NODE,e.Node.ELEMENT_NODE),E=(e.Node.TEXT_NODE,e.Node.PROCESSING_INSTRUCTION_NODE,e.Node.ENTITY_REFERENCE_NODE,e.Node.ENTITY_NODE,e.Node.NOTATION_NODE,void 0!==e.window?e.window:Function("return this;")(),function(e){return function(t){return function(e){if(null===e)return"null";var t=typeof e;return"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t}(t)===e}}),O=E("string"),_=E("object"),A=E("array"),D=E("boolean"),N=E("undefined"),M=E("function"),R=Array.prototype.slice;M(Array.from)&&Array.from;function z(e,t,n,r,o){return e(n,r)?C.some(n):M(o)&&o(n)?C.none():t(n,r,o)}var I,B=function(e,t,n){return 0!=(e.compareDocumentPosition(t)&n)},P=function(t,n){return B(t,n,e.Node.DOCUMENT_POSITION_CONTAINED_BY)},L=function(e){var t=e,n=function(){return t};return{get:n,set:function(e){t=e},clone:function(){return L(n())}}},F=function(){return H(0,0)},H=function(e,t){return{major:e,minor:t}},j={nu:H,detect:function(e,t){var n=String(t).toLowerCase();return 0===e.length?F():function(e,t){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t))return r}}(e,t);if(!n)return{major:0,minor:0};var r=function(e){return Number(t.replace(n,"$"+e))};return H(r(1),r(2))}(e,n)},unknown:F},V=function(e,t){return function(){return t===e}},U=function(e){var t=e.current;return{current:t,version:e.version,isEdge:V("Edge",t),isChrome:V("Chrome",t),isIE:V("IE",t),isOpera:V("Opera",t),isFirefox:V("Firefox",t),isSafari:V("Safari",t)}},$={unknown:function(){return U({current:void 0,version:j.unknown()})},nu:U,edge:g("Edge"),chrome:g("Chrome"),ie:g("IE"),opera:g("Opera"),firefox:g("Firefox"),safari:g("Safari")},q=function(e,t){return function(){return t===e}},W=function(e){var t=e.current;return{current:t,version:e.version,isWindows:q("Windows",t),isiOS:q("iOS",t),isAndroid:q("Android",t),isOSX:q("OSX",t),isLinux:q("Linux",t),isSolaris:q("Solaris",t),isFreeBSD:q("FreeBSD",t)}},Y={unknown:function(){return W({current:void 0,version:j.unknown()})},nu:W,windows:g("Windows"),ios:g("iOS"),android:g("Android"),linux:g("Linux"),osx:g("OSX"),solaris:g("Solaris"),freebsd:g("FreeBSD")},X=function(e,t){var n=String(t).toLowerCase();return function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];if(t(o,n))return C.some(o)}return C.none()}(e,(function(e){return e.search(n)}))},G=function(e,t){return X(e,t).map((function(e){var n=j.detect(e.versionRegexes,t);return{current:e.name,version:n}}))},K=function(e,t){return X(e,t).map((function(e){var n=j.detect(e.versionRegexes,t);return{current:e.name,version:n}}))},J=function(e,t){return-1!==e.indexOf(t)},Q=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Z=function(e){return function(t){return J(t,e)}},ee=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return J(e,"edge/")&&J(e,"chrome")&&J(e,"safari")&&J(e,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Q],search:function(e){return J(e,"chrome")&&!J(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return J(e,"msie")||J(e,"trident")}},{name:"Opera",versionRegexes:[Q,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Z("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Z("firefox")},{name:"Safari",versionRegexes:[Q,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(J(e,"safari")||J(e,"mobile/"))&&J(e,"applewebkit")}}],te=[{name:"Windows",search:Z("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return J(e,"iphone")||J(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Z("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Z("os x"),versionRegexes:[/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Z("linux"),versionRegexes:[]},{name:"Solaris",search:Z("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Z("freebsd"),versionRegexes:[]}],ne={browsers:g(ee),oses:g(te)},re=function(e,t){var n=ne.browsers(),r=ne.oses(),o=G(n,e).fold($.unknown,$.nu),i=K(r,e).fold(Y.unknown,Y.nu),a=function(e,t,n,r){var o=e.isiOS()&&!0===/ipad/i.test(n),i=e.isiOS()&&!o,a=e.isiOS()||e.isAndroid(),u=a||r("(pointer:coarse)"),s=o||!i&&a&&r("(min-device-width:768px)"),c=i||a&&!s,l=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n),f=!c&&!s&&!l;return{isiPad:g(o),isiPhone:g(i),isTablet:g(s),isPhone:g(c),isTouch:g(u),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:g(l),isDesktop:g(f)}}(i,o,e,t);return{browser:o,os:i,deviceType:a}},oe=L(re(e.navigator.userAgent,(function(t){return e.window.matchMedia(t).matches}))),ie=T,ae=function(e,t){var n=e.dom();if(n.nodeType!==ie)return!1;var r=n;if(void 0!==r.matches)return r.matches(t);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(t);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(t);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},ue=(oe.get().browser.isIE(),function(e,t,n){for(var r=e.dom(),o=M(n)?n:g(!1);r.parentNode;){r=r.parentNode;var i=S.fromDom(r);if(t(i))return C.some(i);if(o(i))break}return C.none()}),se=function(e,t,n){return ue(e,(function(e){return ae(e,t)}),n)},ce={getToolbarItemsOr:(I=O,function(e,t,n){return function(e,t){if(t(e))return!0;throw new Error("Default value doesn't match requested type.")}(n,I),function(e,t){if(A(e)||_(e))throw new Error("expected a string but found: "+e);return N(e)?t:D(e)?!1===e?"":t:e}(e.getParam(t,n),n)})},le=function(e){return ce.getToolbarItemsOr(e,"quickbars_selection_toolbar","bold italic | quicklink h2 h3 blockquote")},fe=function(e){return ce.getToolbarItemsOr(e,"quickbars_insert_toolbar","quickimage quicktable")},de={addToEditor:function(e){var t=fe(e);t.trim().length>0&&e.ui.registry.addContextToolbar("quickblock",{predicate:function(t){var n=S.fromDom(t),r=e.schema.getTextBlockElements(),o=function(t){return t.dom()===e.getBody()};return function(e,t,n){return z(ae,se,e,t,n)}(n,"table",o).fold((function(){return function(e,t,n){return z((function(e,t){return t(e)}),ue,e,t,n)}(n,(function(t){return t.dom().nodeName.toLowerCase()in r&&e.dom.isEmpty(t.dom())}),o).isSome()}),(function(){return!1}))},items:t,position:"line",scope:"editor"})}},pe={addToEditor:function(e){e.ui.registry.addContextToolbar("imageselection",{predicate:function(e){return"IMG"===e.nodeName||"FIGURE"===e.nodeName&&/image/i.test(e.className)},items:"alignleft aligncenter alignright",position:"node"});var t=le(e);t.trim().length>0&&e.ui.registry.addContextToolbar("textselection",{predicate:function(t){return!e.selection.isCollapsed()},items:t,position:"selection"})}};i.add("quickbars",(function(e){m.setupButtons(e),de.addToEditor(e),pe.addToEditor(e)}))}(window)},function(e,t){tinymce.PluginManager.add("placeholder",(function(e,t){var n;e.on("init",(function(t){var r,o;(n=e.settings.inline?e.getElement():e.contentAreaContainer).classList.add("plugin-placeholder"),null===n.getAttribute("placeholder")&&n.setAttribute("placeholder",e.settings.placeholder||e.getElement().getAttribute("placeholder")),null===document.getElementById("plugin-placeholder")&&(r=document.head||document.getElementsByTagName("head")[0],(o=document.createElement("style")).id="plugin-placeholder",o.type="text/css",o.innerHTML="             .plugin-placeholder:before {                 display: none;                 position: absolute;                 content: attr(placeholder);             }             .mce-panel.plugin-placeholder:before{                 margin-left:8px;             }             .plugin-placeholder iframe { z-index: 2; }             .plugin-placeholder.empty:before{                 display:block;             }",r.appendChild(o)),n.addEventListener("click",(function(){e.execCommand("mceFocus",!1,n)}))})),e.on("selectionchange init",(function(t){""==e.getContent()?n.classList.add("empty"):n.classList.remove("empty")}))}))},function(e,t,n){"use strict";n.r(t);var r=n(3),o=n.n(r),i=n(25),a=n.n(i),u=(n(84),n(26)),s=n.n(u);n(87);window.Vue=n(9);var c=o.a.create(o.a.defaults.headers.common={"X-Requested-With":"XMLHttpRequest","X-CSRF-TOKEN":window.app.csrfToken,"Content-Type":"multipart/form-data"});window.fm=new Vue({el:"#filemanager",data:function(){return{errors:[],saving:0,loading:!1,savingEdit:!1,showOverlay:!1,paths:[{name:"uploads",path:"uploads"}],path:"uploads",standaloneMode:!0,isBlockEditor:!1,backgroundImage:!1,inlineImage:!1,imageId:"",selectionMode:!0,multiple:!0,fileType:"all",callback:!1,inputId:"",previewId:"",sizeOptions:[],showSizeChooser:!1,folderModal:!1,editImageModal:!1,uploadModal:!1,showFileInfoPanel:!1,folderName:"",selectedFile:{},items:{files:[]},uploadPercent:0,baseUrl:"",dropzoneOptions:{url:"/admin/filemanager/upload",maxFilesize:10,headers:{"X-CSRF-TOKEN":window.app.csrfToken},paramName:function(e){return"file[]"},dictDefaultMessage:"Upload Files Here",includeStyling:!1,previewsContainer:!1,thumbnailWidth:250,thumbnailHeight:140,uploadMultiple:!0,parallelUploads:20},imgSrc:"",cropImg:"",editImageData:null,currentEditImage:""}},components:{vueDropzone:a.a,VueCropper:s.a},filters:{itemName:function(e){var t=e.split("/");return t[t.length-1]}},created:function(){},computed:{selectedFiles:function(){return this.items.files.filter((function(e){return e.selected}))}},methods:{boot:function(){var e=this;this.items={folders:[],files:[]},c.get("/admin/filemanager?file_type="+this.fileType).then((function(t){e.items=t.data.fileData.items})).catch((function(t){e.log(t)}))},gotoPath:function(e){var t=this;this.path=e,this.generatePathLinks(e),this.closeFileInfoPanel(),c.get("/admin/filemanager?path="+e+"&file_type="+this.fileType).then((function(e){t.items=e.data.fileData.items})).catch((function(e){t.log(e)}))},generatePathLinks:function(e){var t=e.split("/"),n=[],r="",o="";t.forEach((function(e,t){t>0&&(o="/");var i={name:e,path:r+=o+e};n.push(i)})),this.paths=n},showCreateFolderModal:function(){this.folderModal=!0},showUploadModal:function(){},closeUploadFolderModal:function(){this.folderModal=!1,this.folderName=""},closeEditImageModal:function(){this.editImageModal=!1,this.showOverlay=!1},createFolder:function(){var e=this;if(this.folderName.length>2){var t=new FormData;t.append("folder_name",this.folderName),c.post("/admin/filemanager/folder?path="+this.path,t).then((function(t){e.items.folders.unshift(e.path+"/"+e.folderName),e.folderName="",e.folderModal=!1})).catch((function(t){e.log(t)}))}},deleteFolder:function(e){var t=this,n=new FormData;n.append("folder_name",e),n.append("_method","delete"),c.post("/admin/filemanager/folder?path="+this.path,n).then((function(n){t.items.folders.splice(t.items.folders.indexOf(e),1)})).catch((function(e){t.log(e)}))},getUploadParams:function(){return{path:this.path}},dzUploadProgress:function(e,t){this.uploadPercent=t},dzSendingFiles:function(){},dzSending:function(e,t,n){n.append("path",this.path)},dzFileAdded:function(){},dzSuccess:function(e,t){var n=this;t.files.forEach((function(e){n.items.files.push(e)})),this.uploadPercent=0},dzError:function(e,t){this.snackbar("error",t.message),this.uploadPercent=0},deleteFile:function(e){var t=this,n=new FormData;n.append("path",e.path),n.append("_method","delete"),c.post("/admin/filemanager/file",n).then((function(n){t.items.files.splice(t.items.files.indexOf(e),1)})).catch((function(e){t.log(e)}))},showEditImage:function(e,t){var n=document.createElement("canvas"),r=n.getContext("2d"),o=document.getElementById("image-"+t);n.width=o.width,n.height=o.height,r.drawImage(o,0,0);r.getImageData(0,0,o.width,o.height);var i=document.getElementById("image-"+t);this.imgSrc=i.getAttribute("src"),this.editImageModal=!0,this.showOverlay=!0,this.currentEditImage=e},selectFile:function(e){if(this.callback&&(e.image?this.chooseSize(e):this.useFile("/storage/"+e.path)),this.selectionMode&&!this.callback&&(e.selected=!e.selected,!this.multiple&&this.selectedFiles.length>1&&(e.selected=!e.selected,this.showError("You can only select one file."))),!this.standaloneMode&&this.selectionMode&&this.inputId.length>0){var t=document.getElementById(this.inputId),n=document.getElementById(this.previewId);if(this.multiple){var r=this.getId(),o=document.createElement("input");if(o.setAttribute("type","hidden"),o.setAttribute("name","gallery_images[]"),o.setAttribute("data-gallery-image-id",r),o.value="/storage/"+e.path,t.appendChild(o),"image"===this.fileType){var i=document.createElement("div");i.setAttribute("class","gal-img-item"),i.setAttribute("data-gallery-image-id",r);var a=document.createElement("a");a.setAttribute("data-gallery-image-id",r),a.setAttribute("class","clear-lfm-gallery-image"),a.setAttribute("href","#");var u=document.createTextNode("×");a.appendChild(u);var s=document.createElement("img");s.setAttribute("class","lfm-preview-image"),s.setAttribute("data-gallery-image-id",r),s.setAttribute("src","/storage/"+e.path),i.appendChild(s),i.appendChild(a),n.appendChild(i)}}else{if(t.value="/storage/"+e.path,"image"===this.fileType){n.innerHTML="";var c=document.createElement("img");c.setAttribute("class","lfm-preview-image"),c.setAttribute("src","/storage/"+e.path),n.appendChild(c),n.innerHTML=n.innerHTML+'<a class="clear-lfm-image" data-preview-id="'+this.previewId+'" data-input-id="'+this.inputId+'" href="/">&times;</a>'}this.closeFileManager()}}this.standaloneMode&&(this.baseUrl=window.location.protocol+"//"+window.location.hostname,this.selectedFile=e,this.openFileInfoPanel())},getId:function(){return"_"+Math.random().toString(36).substr(2,9)},openFileInfoPanel:function(){this.showFileInfoPanel=!0},closeFileInfoPanel:function(){this.selectedFile={},this.showFileInfoPanel=!1},chooseSize:function(e){console.log(e),this.sizeOptions=e.sizes,this.showSizeChooser=!0},closeSizeChooser:function(){this.showSizeChooser=!1,this.sizeOptions=[]},crop:function(){},cropImage:function(){this.cropImg=this.$refs.cropper.getCroppedCanvas().toDataURL()},flipX:function(){var e=this.$refs.flipX,t=e.getAttribute("data-scale");t=t?-t:-1,this.$refs.cropper.scaleX(t),e.setAttribute("data-scale",t)},flipY:function(){var e=this.$refs.flipY,t=e.getAttribute("data-scale");t=t?-t:-1,this.$refs.cropper.scaleY(t),e.setAttribute("data-scale",t)},getCropBoxData:function(){this.editImageData=JSON.stringify(this.$refs.cropper.getCropBoxData(),null,4)},getData:function(){this.editImageData=JSON.stringify(this.$refs.cropper.getData(),null,4),console.log(this.editImageData)},reset:function(){this.$refs.cropper.reset()},rotate:function(e){this.$refs.cropper.rotate(e)},setCropBoxData:function(){this.editImageData&&this.$refs.cropper.setCropBoxData(JSON.parse(this.editImageData))},setData:function(){this.editImageData&&this.$refs.cropper.setData(JSON.parse(this.editImageData))},zoom:function(e){this.$refs.cropper.relativeZoom(e)},savedEditedImage:function(){var e=this,t=this.$refs.cropper.getCroppedCanvas().toDataURL(),n=new FormData;n.append("image",t),n.append("current_image",this.currentEditImage.info.basename),n.append("path",this.path),this.savingEdit=!0,c.post("/admin/filemanager/edit-image",n).then((function(t){if(e.savingEdit=!1,t.data.success){var n=e.items.files.indexOf(e.currentEditImage);e.items.files[n]=t.data.file,e.editImageModal=!1,e.showOverlay=!1}else e.snackbar("error",t.data.message)})).catch((function(t){e.log(t)}))},handleFileUpload:function(e){},useFile:function(e){this.isBlockEditor?this.backgroundImage?window.postMessage({blockAction:!0,content:e}):this.inlineImage:window.postMessage({mceAction:"insert",content:e}),this.showSizeChooser=!1,this.sizeOptions=[],this.closeFileManager()},useChosenFiles:function(){this.closeFileManager()},showFileManager:function(){document.getElementById("filemanager").classList.add("show")},closeFileManager:function(){this.closeFileInfoPanel(),document.getElementById("filemanager").classList.remove("show")},snackbar:function(e,t){var n=document.getElementById("snackbar");n.innerHTML=t,n.className="show "+e,setTimeout((function(){n.className=n.className.replace("show "+e,"")}),4e3)},log:function(e){console.log(e)},showError:function(e){var t=this;this.errors.push({message:e}),setTimeout((function(){t.errors=[]}),4e3)}},beforeMount:function(){},mounted:function(){}})},function(e,t,n){var r=n(85);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(11)(r,o);r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(10)(!1)).push([e.i,"/*\n * The MIT License\n * Copyright (c) 2012 Matias Meno <m@tias.me>\n */\n@-webkit-keyframes passing-through {\n  0% {\n    opacity: 0;\n    -webkit-transform: translateY(40px);\n    transform: translateY(40px); }\n  30%, 70% {\n    opacity: 1;\n    -webkit-transform: translateY(0px);\n    transform: translateY(0px); }\n  100% {\n    opacity: 0;\n    -webkit-transform: translateY(-40px);\n    transform: translateY(-40px); } }\n@keyframes passing-through {\n  0% {\n    opacity: 0;\n    -webkit-transform: translateY(40px);\n    transform: translateY(40px); }\n  30%, 70% {\n    opacity: 1;\n    -webkit-transform: translateY(0px);\n    transform: translateY(0px); }\n  100% {\n    opacity: 0;\n    -webkit-transform: translateY(-40px);\n    transform: translateY(-40px); } }\n@-webkit-keyframes slide-in {\n  0% {\n    opacity: 0;\n    -webkit-transform: translateY(40px);\n    transform: translateY(40px); }\n  30% {\n    opacity: 1;\n    -webkit-transform: translateY(0px);\n    transform: translateY(0px); } }\n@keyframes slide-in {\n  0% {\n    opacity: 0;\n    -webkit-transform: translateY(40px);\n    transform: translateY(40px); }\n  30% {\n    opacity: 1;\n    -webkit-transform: translateY(0px);\n    transform: translateY(0px); } }\n@-webkit-keyframes pulse {\n  0% {\n    -webkit-transform: scale(1);\n    transform: scale(1); }\n  10% {\n    -webkit-transform: scale(1.1);\n    transform: scale(1.1); }\n  20% {\n    -webkit-transform: scale(1);\n    transform: scale(1); } }\n@keyframes pulse {\n  0% {\n    -webkit-transform: scale(1);\n    transform: scale(1); }\n  10% {\n    -webkit-transform: scale(1.1);\n    transform: scale(1.1); }\n  20% {\n    -webkit-transform: scale(1);\n    transform: scale(1); } }\n.dropzone, .dropzone * {\n  box-sizing: border-box; }\n\n.dropzone {\n  min-height: 150px;\n  border: 2px solid rgba(0, 0, 0, 0.3);\n  background: white;\n  padding: 20px 20px; }\n  .dropzone.dz-clickable {\n    cursor: pointer; }\n    .dropzone.dz-clickable * {\n      cursor: default; }\n    .dropzone.dz-clickable .dz-message, .dropzone.dz-clickable .dz-message * {\n      cursor: pointer; }\n  .dropzone.dz-started .dz-message {\n    display: none; }\n  .dropzone.dz-drag-hover {\n    border-style: solid; }\n    .dropzone.dz-drag-hover .dz-message {\n      opacity: 0.5; }\n  .dropzone .dz-message {\n    text-align: center;\n    margin: 2em 0; }\n  .dropzone .dz-preview {\n    position: relative;\n    display: inline-block;\n    vertical-align: top;\n    margin: 16px;\n    min-height: 100px; }\n    .dropzone .dz-preview:hover {\n      z-index: 1000; }\n      .dropzone .dz-preview:hover .dz-details {\n        opacity: 1; }\n    .dropzone .dz-preview.dz-file-preview .dz-image {\n      border-radius: 20px;\n      background: #999;\n      background: -webkit-gradient(linear, left top, left bottom, from(#eee), to(#ddd));\n      background: linear-gradient(to bottom, #eee, #ddd); }\n    .dropzone .dz-preview.dz-file-preview .dz-details {\n      opacity: 1; }\n    .dropzone .dz-preview.dz-image-preview {\n      background: white; }\n      .dropzone .dz-preview.dz-image-preview .dz-details {\n        -webkit-transition: opacity 0.2s linear;\n        transition: opacity 0.2s linear; }\n    .dropzone .dz-preview .dz-remove {\n      font-size: 14px;\n      text-align: center;\n      display: block;\n      cursor: pointer;\n      border: none; }\n      .dropzone .dz-preview .dz-remove:hover {\n        text-decoration: underline; }\n    .dropzone .dz-preview:hover .dz-details {\n      opacity: 1; }\n    .dropzone .dz-preview .dz-details {\n      z-index: 20;\n      position: absolute;\n      top: 0;\n      left: 0;\n      opacity: 0;\n      font-size: 13px;\n      min-width: 100%;\n      max-width: 100%;\n      padding: 2em 1em;\n      text-align: center;\n      color: rgba(0, 0, 0, 0.9);\n      line-height: 150%; }\n      .dropzone .dz-preview .dz-details .dz-size {\n        margin-bottom: 1em;\n        font-size: 16px; }\n      .dropzone .dz-preview .dz-details .dz-filename {\n        white-space: nowrap; }\n        .dropzone .dz-preview .dz-details .dz-filename:hover span {\n          border: 1px solid rgba(200, 200, 200, 0.8);\n          background-color: rgba(255, 255, 255, 0.8); }\n        .dropzone .dz-preview .dz-details .dz-filename:not(:hover) {\n          overflow: hidden;\n          text-overflow: ellipsis; }\n          .dropzone .dz-preview .dz-details .dz-filename:not(:hover) span {\n            border: 1px solid transparent; }\n      .dropzone .dz-preview .dz-details .dz-filename span, .dropzone .dz-preview .dz-details .dz-size span {\n        background-color: rgba(255, 255, 255, 0.4);\n        padding: 0 0.4em;\n        border-radius: 3px; }\n    .dropzone .dz-preview:hover .dz-image img {\n      -webkit-transform: scale(1.05, 1.05);\n      transform: scale(1.05, 1.05);\n      -webkit-filter: blur(8px);\n      filter: blur(8px); }\n    .dropzone .dz-preview .dz-image {\n      border-radius: 20px;\n      overflow: hidden;\n      width: 120px;\n      height: 120px;\n      position: relative;\n      display: block;\n      z-index: 10; }\n      .dropzone .dz-preview .dz-image img {\n        display: block; }\n    .dropzone .dz-preview.dz-success .dz-success-mark {\n      -webkit-animation: passing-through 3s cubic-bezier(0.77, 0, 0.175, 1);\n      animation: passing-through 3s cubic-bezier(0.77, 0, 0.175, 1); }\n    .dropzone .dz-preview.dz-error .dz-error-mark {\n      opacity: 1;\n      -webkit-animation: slide-in 3s cubic-bezier(0.77, 0, 0.175, 1);\n      animation: slide-in 3s cubic-bezier(0.77, 0, 0.175, 1); }\n    .dropzone .dz-preview .dz-success-mark, .dropzone .dz-preview .dz-error-mark {\n      pointer-events: none;\n      opacity: 0;\n      z-index: 500;\n      position: absolute;\n      display: block;\n      top: 50%;\n      left: 50%;\n      margin-left: -27px;\n      margin-top: -27px; }\n      .dropzone .dz-preview .dz-success-mark svg, .dropzone .dz-preview .dz-error-mark svg {\n        display: block;\n        width: 54px;\n        height: 54px; }\n    .dropzone .dz-preview.dz-processing .dz-progress {\n      opacity: 1;\n      -webkit-transition: all 0.2s linear;\n      transition: all 0.2s linear; }\n    .dropzone .dz-preview.dz-complete .dz-progress {\n      opacity: 0;\n      -webkit-transition: opacity 0.4s ease-in;\n      transition: opacity 0.4s ease-in; }\n    .dropzone .dz-preview:not(.dz-processing) .dz-progress {\n      -webkit-animation: pulse 6s ease infinite;\n      animation: pulse 6s ease infinite; }\n    .dropzone .dz-preview .dz-progress {\n      opacity: 1;\n      z-index: 1000;\n      pointer-events: none;\n      position: absolute;\n      height: 16px;\n      left: 50%;\n      top: 50%;\n      margin-top: -8px;\n      width: 80px;\n      margin-left: -40px;\n      background: rgba(255, 255, 255, 0.9);\n      -webkit-transform: scale(1);\n      border-radius: 8px;\n      overflow: hidden; }\n      .dropzone .dz-preview .dz-progress .dz-upload {\n        background: #333;\n        background: -webkit-gradient(linear, left top, left bottom, from(#666), to(#444));\n        background: linear-gradient(to bottom, #666, #444);\n        position: absolute;\n        top: 0;\n        left: 0;\n        bottom: 0;\n        width: 0;\n        -webkit-transition: width 300ms ease-in-out;\n        transition: width 300ms ease-in-out; }\n    .dropzone .dz-preview.dz-error .dz-error-message {\n      display: block; }\n    .dropzone .dz-preview.dz-error:hover .dz-error-message {\n      opacity: 1;\n      pointer-events: auto; }\n    .dropzone .dz-preview .dz-error-message {\n      pointer-events: none;\n      z-index: 1000;\n      position: absolute;\n      display: block;\n      display: none;\n      opacity: 0;\n      -webkit-transition: opacity 0.3s ease;\n      transition: opacity 0.3s ease;\n      border-radius: 8px;\n      font-size: 13px;\n      top: 130px;\n      left: -10px;\n      width: 140px;\n      background: #be2626;\n      background: -webkit-gradient(linear, left top, left bottom, from(#be2626), to(#a92222));\n      background: linear-gradient(to bottom, #be2626, #a92222);\n      padding: 0.5em 1.2em;\n      color: white; }\n      .dropzone .dz-preview .dz-error-message:after {\n        content: '';\n        position: absolute;\n        top: -6px;\n        left: 64px;\n        width: 0;\n        height: 0;\n        border-left: 6px solid transparent;\n        border-right: 6px solid transparent;\n        border-bottom: 6px solid #be2626; }\n.vue-dropzone{border:2px solid #e5e5e5;font-family:Arial,sans-serif;letter-spacing:.2px;color:#777;-webkit-transition:.2s linear;transition:.2s linear}.vue-dropzone:hover{background-color:#f6f6f6}.vue-dropzone>i{color:#ccc}.vue-dropzone>.dz-preview .dz-image{border-radius:0;width:100%;height:100%}.vue-dropzone>.dz-preview .dz-image img:not([src]){width:200px;height:200px}.vue-dropzone>.dz-preview .dz-image:hover img{-webkit-transform:none;transform:none;-webkit-filter:none}.vue-dropzone>.dz-preview .dz-details{bottom:0;top:0;color:#fff;background-color:rgba(33,150,243,.8);-webkit-transition:opacity .2s linear;transition:opacity .2s linear;text-align:left}.vue-dropzone>.dz-preview .dz-details .dz-filename{overflow:hidden}.vue-dropzone>.dz-preview .dz-details .dz-filename span,.vue-dropzone>.dz-preview .dz-details .dz-size span{background-color:transparent}.vue-dropzone>.dz-preview .dz-details .dz-filename:not(:hover) span{border:none}.vue-dropzone>.dz-preview .dz-details .dz-filename:hover span{background-color:transparent;border:none}.vue-dropzone>.dz-preview .dz-progress .dz-upload{background:#ccc}.vue-dropzone>.dz-preview .dz-remove{position:absolute;z-index:30;color:#fff;margin-left:15px;padding:10px;top:inherit;bottom:15px;border:2px #fff solid;text-decoration:none;text-transform:uppercase;font-size:.8rem;font-weight:800;letter-spacing:1.1px;opacity:0}.vue-dropzone>.dz-preview:hover .dz-remove{opacity:1}.vue-dropzone>.dz-preview .dz-error-mark,.vue-dropzone>.dz-preview .dz-success-mark{margin-left:auto;margin-top:auto;width:100%;top:35%;left:0}.vue-dropzone>.dz-preview .dz-error-mark svg,.vue-dropzone>.dz-preview .dz-success-mark svg{margin-left:auto;margin-right:auto}.vue-dropzone>.dz-preview .dz-error-message{margin-left:auto;margin-right:auto;left:0;width:100%;text-align:center}.vue-dropzone>.dz-preview .dz-error-message:after{display:none}",""])},function(e,t,n){e.exports=function(){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?r(o,!0).forEach((function(t){n(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):r(o).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function i(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var a="undefined"!=typeof window&&void 0!==window.document,u=a?window:{},s=!!a&&"ontouchstart"in u.document.documentElement,c=!!a&&"PointerEvent"in u,l="".concat("cropper","-crop"),f="".concat("cropper","-disabled"),d="".concat("cropper","-hidden"),p="".concat("cropper","-hide"),m="".concat("cropper","-invisible"),h="".concat("cropper","-modal"),g="".concat("cropper","-move"),v="".concat("cropper","Action"),b="".concat("cropper","Preview"),y=s?"touchstart":"mousedown",w=s?"touchmove":"mousemove",x=s?"touchend touchcancel":"mouseup",C=c?"pointerdown":y,k=c?"pointermove":w,S=c?"pointerup pointercancel":x,T=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,E=/^data:/,O=/^data:image\/jpeg;base64,/,_=/^img|canvas$/i,A={viewMode:0,dragMode:"crop",initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},D=Number.isNaN||u.isNaN;function N(e){return"number"==typeof e&&!D(e)}var M=function(e){return e>0&&e<1/0};function R(e){return void 0===e}function z(t){return"object"===e(t)&&null!==t}var I=Object.prototype.hasOwnProperty;function B(e){if(!z(e))return!1;try{var t=e.constructor,n=t.prototype;return t&&n&&I.call(n,"isPrototypeOf")}catch(e){return!1}}function P(e){return"function"==typeof e}var L=Array.prototype.slice;function F(e){return Array.from?Array.from(e):L.call(e)}function H(e,t){return e&&P(t)&&(Array.isArray(e)||N(e.length)?F(e).forEach((function(n,r){t.call(e,n,r,e)})):z(e)&&Object.keys(e).forEach((function(n){t.call(e,e[n],n,e)}))),e}var j=Object.assign||function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return z(e)&&n.length>0&&n.forEach((function(t){z(t)&&Object.keys(t).forEach((function(n){e[n]=t[n]}))})),e},V=/\.\d*(?:0|9){12}\d*$/;function U(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e11;return V.test(e)?Math.round(e*t)/t:e}var $=/^width|height|left|top|marginLeft|marginTop$/;function q(e,t){var n=e.style;H(t,(function(e,t){$.test(t)&&N(e)&&(e="".concat(e,"px")),n[t]=e}))}function W(e,t){if(t)if(N(e.length))H(e,(function(e){W(e,t)}));else if(e.classList)e.classList.add(t);else{var n=e.className.trim();n?n.indexOf(t)<0&&(e.className="".concat(n," ").concat(t)):e.className=t}}function Y(e,t){t&&(N(e.length)?H(e,(function(e){Y(e,t)})):e.classList?e.classList.remove(t):e.className.indexOf(t)>=0&&(e.className=e.className.replace(t,"")))}function X(e,t,n){t&&(N(e.length)?H(e,(function(e){X(e,t,n)})):n?W(e,t):Y(e,t))}var G=/([a-z\d])([A-Z])/g;function K(e){return e.replace(G,"$1-$2").toLowerCase()}function J(e,t){return z(e[t])?e[t]:e.dataset?e.dataset[t]:e.getAttribute("data-".concat(K(t)))}function Q(e,t,n){z(n)?e[t]=n:e.dataset?e.dataset[t]=n:e.setAttribute("data-".concat(K(t)),n)}var Z=/\s\s*/,ee=function(){var e=!1;if(a){var t=!1,n=function(){},r=Object.defineProperty({},"once",{get:function(){return e=!0,t},set:function(e){t=e}});u.addEventListener("test",n,r),u.removeEventListener("test",n,r)}return e}();function te(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=n;t.trim().split(Z).forEach((function(t){if(!ee){var i=e.listeners;i&&i[t]&&i[t][n]&&(o=i[t][n],delete i[t][n],0===Object.keys(i[t]).length&&delete i[t],0===Object.keys(i).length&&delete e.listeners)}e.removeEventListener(t,o,r)}))}function ne(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=n;t.trim().split(Z).forEach((function(t){if(r.once&&!ee){var i=e.listeners,a=void 0===i?{}:i;o=function(){delete a[t][n],e.removeEventListener(t,o,r);for(var i=arguments.length,u=new Array(i),s=0;s<i;s++)u[s]=arguments[s];n.apply(e,u)},a[t]||(a[t]={}),a[t][n]&&e.removeEventListener(t,a[t][n],r),a[t][n]=o,e.listeners=a}e.addEventListener(t,o,r)}))}function re(e,t,n){var r;return P(Event)&&P(CustomEvent)?r=new CustomEvent(t,{detail:n,bubbles:!0,cancelable:!0}):(r=document.createEvent("CustomEvent")).initCustomEvent(t,!0,!0,n),e.dispatchEvent(r)}function oe(e){var t=e.getBoundingClientRect();return{left:t.left+(window.pageXOffset-document.documentElement.clientLeft),top:t.top+(window.pageYOffset-document.documentElement.clientTop)}}var ie=u.location,ae=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function ue(e){var t=e.match(ae);return null!==t&&(t[1]!==ie.protocol||t[2]!==ie.hostname||t[3]!==ie.port)}function se(e){var t="timestamp=".concat((new Date).getTime());return e+(-1===e.indexOf("?")?"?":"&")+t}function ce(e){var t=e.rotate,n=e.scaleX,r=e.scaleY,o=e.translateX,i=e.translateY,a=[];N(o)&&0!==o&&a.push("translateX(".concat(o,"px)")),N(i)&&0!==i&&a.push("translateY(".concat(i,"px)")),N(t)&&0!==t&&a.push("rotate(".concat(t,"deg)")),N(n)&&1!==n&&a.push("scaleX(".concat(n,")")),N(r)&&1!==r&&a.push("scaleY(".concat(r,")"));var u=a.length?a.join(" "):"none";return{WebkitTransform:u,msTransform:u,transform:u}}function le(e,t){var n=e.pageX,r=e.pageY,i={endX:n,endY:r};return t?i:o({startX:n,startY:r},i)}function fe(e){var t=e.aspectRatio,n=e.height,r=e.width,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"contain",i=M(r),a=M(n);if(i&&a){var u=n*t;"contain"===o&&u>r||"cover"===o&&u<r?n=r/t:r=n*t}else i?n=r/t:a&&(r=n*t);return{width:r,height:n}}function de(e,t,n,r){var o=t.aspectRatio,a=t.naturalWidth,u=t.naturalHeight,s=t.rotate,c=void 0===s?0:s,l=t.scaleX,f=void 0===l?1:l,d=t.scaleY,p=void 0===d?1:d,m=n.aspectRatio,h=n.naturalWidth,g=n.naturalHeight,v=r.fillColor,b=void 0===v?"transparent":v,y=r.imageSmoothingEnabled,w=void 0===y||y,x=r.imageSmoothingQuality,C=void 0===x?"low":x,k=r.maxWidth,S=void 0===k?1/0:k,T=r.maxHeight,E=void 0===T?1/0:T,O=r.minWidth,_=void 0===O?0:O,A=r.minHeight,D=void 0===A?0:A,N=document.createElement("canvas"),M=N.getContext("2d"),R=fe({aspectRatio:m,width:S,height:E}),z=fe({aspectRatio:m,width:_,height:D},"cover"),I=Math.min(R.width,Math.max(z.width,h)),B=Math.min(R.height,Math.max(z.height,g)),P=fe({aspectRatio:o,width:S,height:E}),L=fe({aspectRatio:o,width:_,height:D},"cover"),F=Math.min(P.width,Math.max(L.width,a)),H=Math.min(P.height,Math.max(L.height,u)),j=[-F/2,-H/2,F,H];return N.width=U(I),N.height=U(B),M.fillStyle=b,M.fillRect(0,0,I,B),M.save(),M.translate(I/2,B/2),M.rotate(c*Math.PI/180),M.scale(f,p),M.imageSmoothingEnabled=w,M.imageSmoothingQuality=C,M.drawImage.apply(M,[e].concat(i(j.map((function(e){return Math.floor(U(e))}))))),M.restore(),N}var pe=String.fromCharCode,me=/^data:.*,/;function he(e){var t,n=new DataView(e);try{var r,o,i;if(255===n.getUint8(0)&&216===n.getUint8(1))for(var a=n.byteLength,u=2;u+1<a;){if(255===n.getUint8(u)&&225===n.getUint8(u+1)){o=u;break}u+=1}if(o){var s=o+10;if("Exif"===function(e,t,n){var r="";n+=t;for(var o=t;o<n;o+=1)r+=pe(e.getUint8(o));return r}(n,o+4,4)){var c=n.getUint16(s);if(((r=18761===c)||19789===c)&&42===n.getUint16(s+2,r)){var l=n.getUint32(s+4,r);l>=8&&(i=s+l)}}}if(i){var f,d,p=n.getUint16(i,r);for(d=0;d<p;d+=1)if(f=i+12*d+2,274===n.getUint16(f,r)){f+=8,t=n.getUint16(f,r),n.setUint16(f,1,r);break}}}catch(e){t=1}return t}var ge={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var e=this.element,t=this.options,n=this.container,r=this.cropper;W(r,d),Y(e,d);var o={width:Math.max(n.offsetWidth,Number(t.minContainerWidth)||200),height:Math.max(n.offsetHeight,Number(t.minContainerHeight)||100)};this.containerData=o,q(r,{width:o.width,height:o.height}),W(e,d),Y(r,d)},initCanvas:function(){var e=this.containerData,t=this.imageData,n=this.options.viewMode,r=Math.abs(t.rotate)%180==90,o=r?t.naturalHeight:t.naturalWidth,i=r?t.naturalWidth:t.naturalHeight,a=o/i,u=e.width,s=e.height;e.height*a>e.width?3===n?u=e.height*a:s=e.width/a:3===n?s=e.width/a:u=e.height*a;var c={aspectRatio:a,naturalWidth:o,naturalHeight:i,width:u,height:s};c.left=(e.width-u)/2,c.top=(e.height-s)/2,c.oldLeft=c.left,c.oldTop=c.top,this.canvasData=c,this.limited=1===n||2===n,this.limitCanvas(!0,!0),this.initialImageData=j({},t),this.initialCanvasData=j({},c)},limitCanvas:function(e,t){var n=this.options,r=this.containerData,o=this.canvasData,i=this.cropBoxData,a=n.viewMode,u=o.aspectRatio,s=this.cropped&&i;if(e){var c=Number(n.minCanvasWidth)||0,l=Number(n.minCanvasHeight)||0;a>1?(c=Math.max(c,r.width),l=Math.max(l,r.height),3===a&&(l*u>c?c=l*u:l=c/u)):a>0&&(c?c=Math.max(c,s?i.width:0):l?l=Math.max(l,s?i.height:0):s&&(c=i.width,(l=i.height)*u>c?c=l*u:l=c/u));var f=fe({aspectRatio:u,width:c,height:l});c=f.width,l=f.height,o.minWidth=c,o.minHeight=l,o.maxWidth=1/0,o.maxHeight=1/0}if(t)if(a>(s?0:1)){var d=r.width-o.width,p=r.height-o.height;o.minLeft=Math.min(0,d),o.minTop=Math.min(0,p),o.maxLeft=Math.max(0,d),o.maxTop=Math.max(0,p),s&&this.limited&&(o.minLeft=Math.min(i.left,i.left+(i.width-o.width)),o.minTop=Math.min(i.top,i.top+(i.height-o.height)),o.maxLeft=i.left,o.maxTop=i.top,2===a&&(o.width>=r.width&&(o.minLeft=Math.min(0,d),o.maxLeft=Math.max(0,d)),o.height>=r.height&&(o.minTop=Math.min(0,p),o.maxTop=Math.max(0,p))))}else o.minLeft=-o.width,o.minTop=-o.height,o.maxLeft=r.width,o.maxTop=r.height},renderCanvas:function(e,t){var n=this.canvasData,r=this.imageData;if(t){var o=function(e){var t=e.width,n=e.height,r=e.degree;if(90==(r=Math.abs(r)%180))return{width:n,height:t};var o=r%90*Math.PI/180,i=Math.sin(o),a=Math.cos(o),u=t*a+n*i,s=t*i+n*a;return r>90?{width:s,height:u}:{width:u,height:s}}({width:r.naturalWidth*Math.abs(r.scaleX||1),height:r.naturalHeight*Math.abs(r.scaleY||1),degree:r.rotate||0}),i=o.width,a=o.height,u=n.width*(i/n.naturalWidth),s=n.height*(a/n.naturalHeight);n.left-=(u-n.width)/2,n.top-=(s-n.height)/2,n.width=u,n.height=s,n.aspectRatio=i/a,n.naturalWidth=i,n.naturalHeight=a,this.limitCanvas(!0,!1)}(n.width>n.maxWidth||n.width<n.minWidth)&&(n.left=n.oldLeft),(n.height>n.maxHeight||n.height<n.minHeight)&&(n.top=n.oldTop),n.width=Math.min(Math.max(n.width,n.minWidth),n.maxWidth),n.height=Math.min(Math.max(n.height,n.minHeight),n.maxHeight),this.limitCanvas(!1,!0),n.left=Math.min(Math.max(n.left,n.minLeft),n.maxLeft),n.top=Math.min(Math.max(n.top,n.minTop),n.maxTop),n.oldLeft=n.left,n.oldTop=n.top,q(this.canvas,j({width:n.width,height:n.height},ce({translateX:n.left,translateY:n.top}))),this.renderImage(e),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(e){var t=this.canvasData,n=this.imageData,r=n.naturalWidth*(t.width/t.naturalWidth),o=n.naturalHeight*(t.height/t.naturalHeight);j(n,{width:r,height:o,left:(t.width-r)/2,top:(t.height-o)/2}),q(this.image,j({width:n.width,height:n.height},ce(j({translateX:n.left,translateY:n.top},n)))),e&&this.output()},initCropBox:function(){var e=this.options,t=this.canvasData,n=e.aspectRatio||e.initialAspectRatio,r=Number(e.autoCropArea)||.8,o={width:t.width,height:t.height};n&&(t.height*n>t.width?o.height=o.width/n:o.width=o.height*n),this.cropBoxData=o,this.limitCropBox(!0,!0),o.width=Math.min(Math.max(o.width,o.minWidth),o.maxWidth),o.height=Math.min(Math.max(o.height,o.minHeight),o.maxHeight),o.width=Math.max(o.minWidth,o.width*r),o.height=Math.max(o.minHeight,o.height*r),o.left=t.left+(t.width-o.width)/2,o.top=t.top+(t.height-o.height)/2,o.oldLeft=o.left,o.oldTop=o.top,this.initialCropBoxData=j({},o)},limitCropBox:function(e,t){var n=this.options,r=this.containerData,o=this.canvasData,i=this.cropBoxData,a=this.limited,u=n.aspectRatio;if(e){var s=Number(n.minCropBoxWidth)||0,c=Number(n.minCropBoxHeight)||0,l=a?Math.min(r.width,o.width,o.width+o.left,r.width-o.left):r.width,f=a?Math.min(r.height,o.height,o.height+o.top,r.height-o.top):r.height;s=Math.min(s,r.width),c=Math.min(c,r.height),u&&(s&&c?c*u>s?c=s/u:s=c*u:s?c=s/u:c&&(s=c*u),f*u>l?f=l/u:l=f*u),i.minWidth=Math.min(s,l),i.minHeight=Math.min(c,f),i.maxWidth=l,i.maxHeight=f}t&&(a?(i.minLeft=Math.max(0,o.left),i.minTop=Math.max(0,o.top),i.maxLeft=Math.min(r.width,o.left+o.width)-i.width,i.maxTop=Math.min(r.height,o.top+o.height)-i.height):(i.minLeft=0,i.minTop=0,i.maxLeft=r.width-i.width,i.maxTop=r.height-i.height))},renderCropBox:function(){var e=this.options,t=this.containerData,n=this.cropBoxData;(n.width>n.maxWidth||n.width<n.minWidth)&&(n.left=n.oldLeft),(n.height>n.maxHeight||n.height<n.minHeight)&&(n.top=n.oldTop),n.width=Math.min(Math.max(n.width,n.minWidth),n.maxWidth),n.height=Math.min(Math.max(n.height,n.minHeight),n.maxHeight),this.limitCropBox(!1,!0),n.left=Math.min(Math.max(n.left,n.minLeft),n.maxLeft),n.top=Math.min(Math.max(n.top,n.minTop),n.maxTop),n.oldLeft=n.left,n.oldTop=n.top,e.movable&&e.cropBoxMovable&&Q(this.face,v,n.width>=t.width&&n.height>=t.height?"move":"all"),q(this.cropBox,j({width:n.width,height:n.height},ce({translateX:n.left,translateY:n.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),re(this.element,"crop",this.getData())}},ve={initPreview:function(){var e=this.element,t=this.crossOrigin,n=this.options.preview,r=t?this.crossOriginUrl:this.url,o=e.alt||"The image to preview",i=document.createElement("img");if(t&&(i.crossOrigin=t),i.src=r,i.alt=o,this.viewBox.appendChild(i),this.viewBoxImage=i,n){var a=n;"string"==typeof n?a=e.ownerDocument.querySelectorAll(n):n.querySelector&&(a=[n]),this.previews=a,H(a,(function(e){var n=document.createElement("img");Q(e,b,{width:e.offsetWidth,height:e.offsetHeight,html:e.innerHTML}),t&&(n.crossOrigin=t),n.src=r,n.alt=o,n.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',e.innerHTML="",e.appendChild(n)}))}},resetPreview:function(){H(this.previews,(function(e){var t=J(e,b);q(e,{width:t.width,height:t.height}),e.innerHTML=t.html,function(e,t){if(z(e[t]))try{delete e[t]}catch(n){e[t]=void 0}else if(e.dataset)try{delete e.dataset[t]}catch(n){e.dataset[t]=void 0}else e.removeAttribute("data-".concat(K(t)))}(e,b)}))},preview:function(){var e=this.imageData,t=this.canvasData,n=this.cropBoxData,r=n.width,o=n.height,i=e.width,a=e.height,u=n.left-t.left-e.left,s=n.top-t.top-e.top;this.cropped&&!this.disabled&&(q(this.viewBoxImage,j({width:i,height:a},ce(j({translateX:-u,translateY:-s},e)))),H(this.previews,(function(t){var n=J(t,b),c=n.width,l=n.height,f=c,d=l,p=1;r&&(d=o*(p=c/r)),o&&d>l&&(f=r*(p=l/o),d=l),q(t,{width:f,height:d}),q(t.getElementsByTagName("img")[0],j({width:i*p,height:a*p},ce(j({translateX:-u*p,translateY:-s*p},e))))})))}},be={bind:function(){var e=this.element,t=this.options,n=this.cropper;P(t.cropstart)&&ne(e,"cropstart",t.cropstart),P(t.cropmove)&&ne(e,"cropmove",t.cropmove),P(t.cropend)&&ne(e,"cropend",t.cropend),P(t.crop)&&ne(e,"crop",t.crop),P(t.zoom)&&ne(e,"zoom",t.zoom),ne(n,C,this.onCropStart=this.cropStart.bind(this)),t.zoomable&&t.zoomOnWheel&&ne(n,"wheel",this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),t.toggleDragModeOnDblclick&&ne(n,"dblclick",this.onDblclick=this.dblclick.bind(this)),ne(e.ownerDocument,k,this.onCropMove=this.cropMove.bind(this)),ne(e.ownerDocument,S,this.onCropEnd=this.cropEnd.bind(this)),t.responsive&&ne(window,"resize",this.onResize=this.resize.bind(this))},unbind:function(){var e=this.element,t=this.options,n=this.cropper;P(t.cropstart)&&te(e,"cropstart",t.cropstart),P(t.cropmove)&&te(e,"cropmove",t.cropmove),P(t.cropend)&&te(e,"cropend",t.cropend),P(t.crop)&&te(e,"crop",t.crop),P(t.zoom)&&te(e,"zoom",t.zoom),te(n,C,this.onCropStart),t.zoomable&&t.zoomOnWheel&&te(n,"wheel",this.onWheel,{passive:!1,capture:!0}),t.toggleDragModeOnDblclick&&te(n,"dblclick",this.onDblclick),te(e.ownerDocument,k,this.onCropMove),te(e.ownerDocument,S,this.onCropEnd),t.responsive&&te(window,"resize",this.onResize)}},ye={resize:function(){var e=this.options,t=this.container,n=this.containerData,r=Number(e.minContainerWidth)||200,o=Number(e.minContainerHeight)||100;if(!(this.disabled||n.width<=r||n.height<=o)){var i,a,u=t.offsetWidth/n.width;1===u&&t.offsetHeight===n.height||(e.restore&&(i=this.getCanvasData(),a=this.getCropBoxData()),this.render(),e.restore&&(this.setCanvasData(H(i,(function(e,t){i[t]=e*u}))),this.setCropBoxData(H(a,(function(e,t){a[t]=e*u})))))}},dblclick:function(){var e,t;this.disabled||"none"===this.options.dragMode||this.setDragMode((e=this.dragBox,t=l,(e.classList?e.classList.contains(t):e.className.indexOf(t)>-1)?"move":"crop"))},wheel:function(e){var t=this,n=Number(this.options.wheelZoomRatio)||.1,r=1;this.disabled||(e.preventDefault(),this.wheeling||(this.wheeling=!0,setTimeout((function(){t.wheeling=!1}),50),e.deltaY?r=e.deltaY>0?1:-1:e.wheelDelta?r=-e.wheelDelta/120:e.detail&&(r=e.detail>0?1:-1),this.zoom(-r*n,e)))},cropStart:function(e){var t=e.buttons,n=e.button;if(!(this.disabled||("mousedown"===e.type||"pointerdown"===e.type&&"mouse"===e.pointerType)&&(N(t)&&1!==t||N(n)&&0!==n||e.ctrlKey))){var r,o=this.options,i=this.pointers;e.changedTouches?H(e.changedTouches,(function(e){i[e.identifier]=le(e)})):i[e.pointerId||0]=le(e),r=Object.keys(i).length>1&&o.zoomable&&o.zoomOnTouch?"zoom":J(e.target,v),T.test(r)&&!1!==re(this.element,"cropstart",{originalEvent:e,action:r})&&(e.preventDefault(),this.action=r,this.cropping=!1,"crop"===r&&(this.cropping=!0,W(this.dragBox,h)))}},cropMove:function(e){var t=this.action;if(!this.disabled&&t){var n=this.pointers;e.preventDefault(),!1!==re(this.element,"cropmove",{originalEvent:e,action:t})&&(e.changedTouches?H(e.changedTouches,(function(e){j(n[e.identifier]||{},le(e,!0))})):j(n[e.pointerId||0]||{},le(e,!0)),this.change(e))}},cropEnd:function(e){if(!this.disabled){var t=this.action,n=this.pointers;e.changedTouches?H(e.changedTouches,(function(e){delete n[e.identifier]})):delete n[e.pointerId||0],t&&(e.preventDefault(),Object.keys(n).length||(this.action=""),this.cropping&&(this.cropping=!1,X(this.dragBox,h,this.cropped&&this.options.modal)),re(this.element,"cropend",{originalEvent:e,action:t}))}}},we={change:function(e){var t,n=this.options,r=this.canvasData,i=this.containerData,a=this.cropBoxData,u=this.pointers,s=this.action,c=n.aspectRatio,l=a.left,f=a.top,p=a.width,m=a.height,h=l+p,g=f+m,v=0,b=0,y=i.width,w=i.height,x=!0;!c&&e.shiftKey&&(c=p&&m?p/m:1),this.limited&&(v=a.minLeft,b=a.minTop,y=v+Math.min(i.width,r.width,r.left+r.width),w=b+Math.min(i.height,r.height,r.top+r.height));var C=u[Object.keys(u)[0]],k={x:C.endX-C.startX,y:C.endY-C.startY},S=function(e){switch(e){case"e":h+k.x>y&&(k.x=y-h);break;case"w":l+k.x<v&&(k.x=v-l);break;case"n":f+k.y<b&&(k.y=b-f);break;case"s":g+k.y>w&&(k.y=w-g)}};switch(s){case"all":l+=k.x,f+=k.y;break;case"e":if(k.x>=0&&(h>=y||c&&(f<=b||g>=w))){x=!1;break}S("e"),(p+=k.x)<0&&(s="w",l-=p=-p),c&&(m=p/c,f+=(a.height-m)/2);break;case"n":if(k.y<=0&&(f<=b||c&&(l<=v||h>=y))){x=!1;break}S("n"),m-=k.y,f+=k.y,m<0&&(s="s",f-=m=-m),c&&(p=m*c,l+=(a.width-p)/2);break;case"w":if(k.x<=0&&(l<=v||c&&(f<=b||g>=w))){x=!1;break}S("w"),p-=k.x,l+=k.x,p<0&&(s="e",l-=p=-p),c&&(m=p/c,f+=(a.height-m)/2);break;case"s":if(k.y>=0&&(g>=w||c&&(l<=v||h>=y))){x=!1;break}S("s"),(m+=k.y)<0&&(s="n",f-=m=-m),c&&(p=m*c,l+=(a.width-p)/2);break;case"ne":if(c){if(k.y<=0&&(f<=b||h>=y)){x=!1;break}S("n"),m-=k.y,f+=k.y,p=m*c}else S("n"),S("e"),k.x>=0?h<y?p+=k.x:k.y<=0&&f<=b&&(x=!1):p+=k.x,k.y<=0?f>b&&(m-=k.y,f+=k.y):(m-=k.y,f+=k.y);p<0&&m<0?(s="sw",f-=m=-m,l-=p=-p):p<0?(s="nw",l-=p=-p):m<0&&(s="se",f-=m=-m);break;case"nw":if(c){if(k.y<=0&&(f<=b||l<=v)){x=!1;break}S("n"),m-=k.y,f+=k.y,p=m*c,l+=a.width-p}else S("n"),S("w"),k.x<=0?l>v?(p-=k.x,l+=k.x):k.y<=0&&f<=b&&(x=!1):(p-=k.x,l+=k.x),k.y<=0?f>b&&(m-=k.y,f+=k.y):(m-=k.y,f+=k.y);p<0&&m<0?(s="se",f-=m=-m,l-=p=-p):p<0?(s="ne",l-=p=-p):m<0&&(s="sw",f-=m=-m);break;case"sw":if(c){if(k.x<=0&&(l<=v||g>=w)){x=!1;break}S("w"),p-=k.x,l+=k.x,m=p/c}else S("s"),S("w"),k.x<=0?l>v?(p-=k.x,l+=k.x):k.y>=0&&g>=w&&(x=!1):(p-=k.x,l+=k.x),k.y>=0?g<w&&(m+=k.y):m+=k.y;p<0&&m<0?(s="ne",f-=m=-m,l-=p=-p):p<0?(s="se",l-=p=-p):m<0&&(s="nw",f-=m=-m);break;case"se":if(c){if(k.x>=0&&(h>=y||g>=w)){x=!1;break}S("e"),m=(p+=k.x)/c}else S("s"),S("e"),k.x>=0?h<y?p+=k.x:k.y>=0&&g>=w&&(x=!1):p+=k.x,k.y>=0?g<w&&(m+=k.y):m+=k.y;p<0&&m<0?(s="nw",f-=m=-m,l-=p=-p):p<0?(s="sw",l-=p=-p):m<0&&(s="ne",f-=m=-m);break;case"move":this.move(k.x,k.y),x=!1;break;case"zoom":this.zoom(function(e){var t=o({},e),n=[];return H(e,(function(e,r){delete t[r],H(t,(function(t){var r=Math.abs(e.startX-t.startX),o=Math.abs(e.startY-t.startY),i=Math.abs(e.endX-t.endX),a=Math.abs(e.endY-t.endY),u=Math.sqrt(r*r+o*o),s=(Math.sqrt(i*i+a*a)-u)/u;n.push(s)}))})),n.sort((function(e,t){return Math.abs(e)<Math.abs(t)})),n[0]}(u),e),x=!1;break;case"crop":if(!k.x||!k.y){x=!1;break}t=oe(this.cropper),l=C.startX-t.left,f=C.startY-t.top,p=a.minWidth,m=a.minHeight,k.x>0?s=k.y>0?"se":"ne":k.x<0&&(l-=p,s=k.y>0?"sw":"nw"),k.y<0&&(f-=m),this.cropped||(Y(this.cropBox,d),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0))}x&&(a.width=p,a.height=m,a.left=l,a.top=f,this.action=s,this.renderCropBox()),H(u,(function(e){e.startX=e.endX,e.startY=e.endY}))}},xe={crop:function(){return!this.ready||this.cropped||this.disabled||(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&W(this.dragBox,h),Y(this.cropBox,d),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=j({},this.initialImageData),this.canvasData=j({},this.initialCanvasData),this.cropBoxData=j({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(j(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),Y(this.dragBox,h),W(this.cropBox,d)),this},replace:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!this.disabled&&e&&(this.isImg&&(this.element.src=e),t?(this.url=e,this.image.src=e,this.ready&&(this.viewBoxImage.src=e,H(this.previews,(function(t){t.getElementsByTagName("img")[0].src=e})))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(e))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,Y(this.cropper,f)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,W(this.cropper,f)),this},destroy:function(){var e=this.element;return e.cropper?(e.cropper=void 0,this.isImg&&this.replaced&&(e.src=this.originalUrl),this.uncreate(),this):this},move:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=this.canvasData,r=n.left,o=n.top;return this.moveTo(R(e)?e:r+Number(e),R(t)?t:o+Number(t))},moveTo:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=this.canvasData,r=!1;return e=Number(e),t=Number(t),this.ready&&!this.disabled&&this.options.movable&&(N(e)&&(n.left=e,r=!0),N(t)&&(n.top=t,r=!0),r&&this.renderCanvas(!0)),this},zoom:function(e,t){var n=this.canvasData;return e=(e=Number(e))<0?1/(1-e):1+e,this.zoomTo(n.width*e/n.naturalWidth,null,t)},zoomTo:function(e,t,n){var r=this.options,o=this.canvasData,i=o.width,a=o.height,u=o.naturalWidth,s=o.naturalHeight;if((e=Number(e))>=0&&this.ready&&!this.disabled&&r.zoomable){var c=u*e,l=s*e;if(!1===re(this.element,"zoom",{ratio:e,oldRatio:i/u,originalEvent:n}))return this;if(n){var f=this.pointers,d=oe(this.cropper),p=f&&Object.keys(f).length?function(e){var t=0,n=0,r=0;return H(e,(function(e){var o=e.startX,i=e.startY;t+=o,n+=i,r+=1})),{pageX:t/=r,pageY:n/=r}}(f):{pageX:n.pageX,pageY:n.pageY};o.left-=(c-i)*((p.pageX-d.left-o.left)/i),o.top-=(l-a)*((p.pageY-d.top-o.top)/a)}else B(t)&&N(t.x)&&N(t.y)?(o.left-=(c-i)*((t.x-o.left)/i),o.top-=(l-a)*((t.y-o.top)/a)):(o.left-=(c-i)/2,o.top-=(l-a)/2);o.width=c,o.height=l,this.renderCanvas(!0)}return this},rotate:function(e){return this.rotateTo((this.imageData.rotate||0)+Number(e))},rotateTo:function(e){return N(e=Number(e))&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=e%360,this.renderCanvas(!0,!0)),this},scaleX:function(e){var t=this.imageData.scaleY;return this.scale(e,N(t)?t:1)},scaleY:function(e){var t=this.imageData.scaleX;return this.scale(N(t)?t:1,e)},scale:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=this.imageData,r=!1;return e=Number(e),t=Number(t),this.ready&&!this.disabled&&this.options.scalable&&(N(e)&&(n.scaleX=e,r=!0),N(t)&&(n.scaleY=t,r=!0),r&&this.renderCanvas(!0,!0)),this},getData:function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.options,r=this.imageData,o=this.canvasData,i=this.cropBoxData;if(this.ready&&this.cropped){e={x:i.left-o.left,y:i.top-o.top,width:i.width,height:i.height};var a=r.width/r.naturalWidth;if(H(e,(function(t,n){e[n]=t/a})),t){var u=Math.round(e.y+e.height),s=Math.round(e.x+e.width);e.x=Math.round(e.x),e.y=Math.round(e.y),e.width=s-e.x,e.height=u-e.y}}else e={x:0,y:0,width:0,height:0};return n.rotatable&&(e.rotate=r.rotate||0),n.scalable&&(e.scaleX=r.scaleX||1,e.scaleY=r.scaleY||1),e},setData:function(e){var t=this.options,n=this.imageData,r=this.canvasData,o={};if(this.ready&&!this.disabled&&B(e)){var i=!1;t.rotatable&&N(e.rotate)&&e.rotate!==n.rotate&&(n.rotate=e.rotate,i=!0),t.scalable&&(N(e.scaleX)&&e.scaleX!==n.scaleX&&(n.scaleX=e.scaleX,i=!0),N(e.scaleY)&&e.scaleY!==n.scaleY&&(n.scaleY=e.scaleY,i=!0)),i&&this.renderCanvas(!0,!0);var a=n.width/n.naturalWidth;N(e.x)&&(o.left=e.x*a+r.left),N(e.y)&&(o.top=e.y*a+r.top),N(e.width)&&(o.width=e.width*a),N(e.height)&&(o.height=e.height*a),this.setCropBoxData(o)}return this},getContainerData:function(){return this.ready?j({},this.containerData):{}},getImageData:function(){return this.sized?j({},this.imageData):{}},getCanvasData:function(){var e=this.canvasData,t={};return this.ready&&H(["left","top","width","height","naturalWidth","naturalHeight"],(function(n){t[n]=e[n]})),t},setCanvasData:function(e){var t=this.canvasData,n=t.aspectRatio;return this.ready&&!this.disabled&&B(e)&&(N(e.left)&&(t.left=e.left),N(e.top)&&(t.top=e.top),N(e.width)?(t.width=e.width,t.height=e.width/n):N(e.height)&&(t.height=e.height,t.width=e.height*n),this.renderCanvas(!0)),this},getCropBoxData:function(){var e,t=this.cropBoxData;return this.ready&&this.cropped&&(e={left:t.left,top:t.top,width:t.width,height:t.height}),e||{}},setCropBoxData:function(e){var t,n,r=this.cropBoxData,o=this.options.aspectRatio;return this.ready&&this.cropped&&!this.disabled&&B(e)&&(N(e.left)&&(r.left=e.left),N(e.top)&&(r.top=e.top),N(e.width)&&e.width!==r.width&&(t=!0,r.width=e.width),N(e.height)&&e.height!==r.height&&(n=!0,r.height=e.height),o&&(t?r.height=r.width/o:n&&(r.width=r.height*o)),this.renderCropBox()),this},getCroppedCanvas:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var t=this.canvasData,n=de(this.image,this.imageData,t,e);if(!this.cropped)return n;var r=this.getData(),o=r.x,a=r.y,u=r.width,s=r.height,c=n.width/Math.floor(t.naturalWidth);1!==c&&(o*=c,a*=c,u*=c,s*=c);var l=u/s,f=fe({aspectRatio:l,width:e.maxWidth||1/0,height:e.maxHeight||1/0}),d=fe({aspectRatio:l,width:e.minWidth||0,height:e.minHeight||0},"cover"),p=fe({aspectRatio:l,width:e.width||(1!==c?n.width:u),height:e.height||(1!==c?n.height:s)}),m=p.width,h=p.height;m=Math.min(f.width,Math.max(d.width,m)),h=Math.min(f.height,Math.max(d.height,h));var g=document.createElement("canvas"),v=g.getContext("2d");g.width=U(m),g.height=U(h),v.fillStyle=e.fillColor||"transparent",v.fillRect(0,0,m,h);var b=e.imageSmoothingEnabled,y=void 0===b||b,w=e.imageSmoothingQuality;v.imageSmoothingEnabled=y,w&&(v.imageSmoothingQuality=w);var x,C,k,S,T,E,O=n.width,_=n.height,A=o,D=a;A<=-u||A>O?(A=0,x=0,k=0,T=0):A<=0?(k=-A,A=0,T=x=Math.min(O,u+A)):A<=O&&(k=0,T=x=Math.min(u,O-A)),x<=0||D<=-s||D>_?(D=0,C=0,S=0,E=0):D<=0?(S=-D,D=0,E=C=Math.min(_,s+D)):D<=_&&(S=0,E=C=Math.min(s,_-D));var N=[A,D,x,C];if(T>0&&E>0){var M=m/u;N.push(k*M,S*M,T*M,E*M)}return v.drawImage.apply(v,[n].concat(i(N.map((function(e){return Math.floor(U(e))}))))),g},setAspectRatio:function(e){var t=this.options;return this.disabled||R(e)||(t.aspectRatio=Math.max(0,e)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(e){var t=this.options,n=this.dragBox,r=this.face;if(this.ready&&!this.disabled){var o="crop"===e,i=t.movable&&"move"===e;e=o||i?e:"none",t.dragMode=e,Q(n,v,e),X(n,l,o),X(n,g,i),t.cropBoxMovable||(Q(r,v,e),X(r,l,o),X(r,g,i))}return this}},Ce=u.Cropper,ke=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!t||!_.test(t.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=t,this.options=j({},A,B(n)&&n),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}var n,r,o;return n=e,o=[{key:"noConflict",value:function(){return window.Cropper=Ce,e}},{key:"setDefaults",value:function(e){j(A,B(e)&&e)}}],(r=[{key:"init",value:function(){var e,t=this.element,n=t.tagName.toLowerCase();if(!t.cropper){if(t.cropper=this,"img"===n){if(this.isImg=!0,e=t.getAttribute("src")||"",this.originalUrl=e,!e)return;e=t.src}else"canvas"===n&&window.HTMLCanvasElement&&(e=t.toDataURL());this.load(e)}}},{key:"load",value:function(e){var t=this;if(e){this.url=e,this.imageData={};var n=this.element,r=this.options;if(r.rotatable||r.scalable||(r.checkOrientation=!1),r.checkOrientation&&window.ArrayBuffer)if(E.test(e))O.test(e)?this.read((o=e.replace(me,""),i=atob(o),a=new ArrayBuffer(i.length),H(u=new Uint8Array(a),(function(e,t){u[t]=i.charCodeAt(t)})),a)):this.clone();else{var o,i,a,u,s=new XMLHttpRequest,c=this.clone.bind(this);this.reloading=!0,this.xhr=s,s.onabort=c,s.onerror=c,s.ontimeout=c,s.onprogress=function(){"image/jpeg"!==s.getResponseHeader("content-type")&&s.abort()},s.onload=function(){t.read(s.response)},s.onloadend=function(){t.reloading=!1,t.xhr=null},r.checkCrossOrigin&&ue(e)&&n.crossOrigin&&(e=se(e)),s.open("GET",e),s.responseType="arraybuffer",s.withCredentials="use-credentials"===n.crossOrigin,s.send()}else this.clone()}}},{key:"read",value:function(e){var t=this.options,n=this.imageData,r=he(e),o=0,i=1,a=1;if(r>1){this.url=function(e,t){for(var n=[],r=new Uint8Array(e);r.length>0;)n.push(pe.apply(null,F(r.subarray(0,8192)))),r=r.subarray(8192);return"data:".concat(t,";base64,").concat(btoa(n.join("")))}(e,"image/jpeg");var u=function(e){var t=0,n=1,r=1;switch(e){case 2:n=-1;break;case 3:t=-180;break;case 4:r=-1;break;case 5:t=90,r=-1;break;case 6:t=90;break;case 7:t=90,n=-1;break;case 8:t=-90}return{rotate:t,scaleX:n,scaleY:r}}(r);o=u.rotate,i=u.scaleX,a=u.scaleY}t.rotatable&&(n.rotate=o),t.scalable&&(n.scaleX=i,n.scaleY=a),this.clone()}},{key:"clone",value:function(){var e=this.element,t=this.url,n=e.crossOrigin,r=t;this.options.checkCrossOrigin&&ue(t)&&(n||(n="anonymous"),r=se(t)),this.crossOrigin=n,this.crossOriginUrl=r;var o=document.createElement("img");n&&(o.crossOrigin=n),o.src=r||t,o.alt=e.alt||"The image to crop",this.image=o,o.onload=this.start.bind(this),o.onerror=this.stop.bind(this),W(o,p),e.parentNode.insertBefore(o,e.nextSibling)}},{key:"start",value:function(){var e=this,t=this.image;t.onload=null,t.onerror=null,this.sizing=!0;var n=u.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(u.navigator.userAgent),r=function(t,n){j(e.imageData,{naturalWidth:t,naturalHeight:n,aspectRatio:t/n}),e.sizing=!1,e.sized=!0,e.build()};if(!t.naturalWidth||n){var o=document.createElement("img"),i=document.body||document.documentElement;this.sizingImage=o,o.onload=function(){r(o.width,o.height),n||i.removeChild(o)},o.src=t.src,n||(o.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",i.appendChild(o))}else r(t.naturalWidth,t.naturalHeight)}},{key:"stop",value:function(){var e=this.image;e.onload=null,e.onerror=null,e.parentNode.removeChild(e),this.image=null}},{key:"build",value:function(){if(this.sized&&!this.ready){var e=this.element,t=this.options,n=this.image,r=e.parentNode,o=document.createElement("div");o.innerHTML='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>';var i=o.querySelector(".".concat("cropper","-container")),a=i.querySelector(".".concat("cropper","-canvas")),u=i.querySelector(".".concat("cropper","-drag-box")),s=i.querySelector(".".concat("cropper","-crop-box")),c=s.querySelector(".".concat("cropper","-face"));this.container=r,this.cropper=i,this.canvas=a,this.dragBox=u,this.cropBox=s,this.viewBox=i.querySelector(".".concat("cropper","-view-box")),this.face=c,a.appendChild(n),W(e,d),r.insertBefore(i,e.nextSibling),this.isImg||Y(n,p),this.initPreview(),this.bind(),t.initialAspectRatio=Math.max(0,t.initialAspectRatio)||NaN,t.aspectRatio=Math.max(0,t.aspectRatio)||NaN,t.viewMode=Math.max(0,Math.min(3,Math.round(t.viewMode)))||0,W(s,d),t.guides||W(s.getElementsByClassName("".concat("cropper","-dashed")),d),t.center||W(s.getElementsByClassName("".concat("cropper","-center")),d),t.background&&W(i,"".concat("cropper","-bg")),t.highlight||W(c,m),t.cropBoxMovable&&(W(c,g),Q(c,v,"all")),t.cropBoxResizable||(W(s.getElementsByClassName("".concat("cropper","-line")),d),W(s.getElementsByClassName("".concat("cropper","-point")),d)),this.render(),this.ready=!0,this.setDragMode(t.dragMode),t.autoCrop&&this.crop(),this.setData(t.data),P(t.ready)&&ne(e,"ready",t.ready,{once:!0}),re(e,"ready")}}},{key:"unbuild",value:function(){this.ready&&(this.ready=!1,this.unbind(),this.resetPreview(),this.cropper.parentNode.removeChild(this.cropper),Y(this.element,d))}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}])&&t(n.prototype,r),o&&t(n,o),e}();return j(ke.prototype,ge,ve,be,ye,we,xe),ke}()},function(e,t,n){var r=n(88);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(11)(r,o);r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(10)(!1)).push([e.i,"/*!\n * Cropper.js v1.5.6\n * https://fengyuanchen.github.io/cropperjs\n *\n * Copyright 2015-present Chen Fengyuan\n * Released under the MIT license\n *\n * Date: 2019-10-04T04:33:44.164Z\n */\n\n.cropper-container {\n  direction: ltr;\n  font-size: 0;\n  line-height: 0;\n  position: relative;\n  -ms-touch-action: none;\n  touch-action: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n\n.cropper-container img {\n  display: block;\n  height: 100%;\n  image-orientation: 0deg;\n  max-height: none !important;\n  max-width: none !important;\n  min-height: 0 !important;\n  min-width: 0 !important;\n  width: 100%;\n}\n\n.cropper-wrap-box,\n.cropper-canvas,\n.cropper-drag-box,\n.cropper-crop-box,\n.cropper-modal {\n  bottom: 0;\n  left: 0;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.cropper-wrap-box,\n.cropper-canvas {\n  overflow: hidden;\n}\n\n.cropper-drag-box {\n  background-color: #fff;\n  opacity: 0;\n}\n\n.cropper-modal {\n  background-color: #000;\n  opacity: 0.5;\n}\n\n.cropper-view-box {\n  display: block;\n  height: 100%;\n  outline: 1px solid #39f;\n  outline-color: rgba(51, 153, 255, 0.75);\n  overflow: hidden;\n  width: 100%;\n}\n\n.cropper-dashed {\n  border: 0 dashed #eee;\n  display: block;\n  opacity: 0.5;\n  position: absolute;\n}\n\n.cropper-dashed.dashed-h {\n  border-bottom-width: 1px;\n  border-top-width: 1px;\n  height: calc(100% / 3);\n  left: 0;\n  top: calc(100% / 3);\n  width: 100%;\n}\n\n.cropper-dashed.dashed-v {\n  border-left-width: 1px;\n  border-right-width: 1px;\n  height: 100%;\n  left: calc(100% / 3);\n  top: 0;\n  width: calc(100% / 3);\n}\n\n.cropper-center {\n  display: block;\n  height: 0;\n  left: 50%;\n  opacity: 0.75;\n  position: absolute;\n  top: 50%;\n  width: 0;\n}\n\n.cropper-center::before,\n.cropper-center::after {\n  background-color: #eee;\n  content: ' ';\n  display: block;\n  position: absolute;\n}\n\n.cropper-center::before {\n  height: 1px;\n  left: -3px;\n  top: 0;\n  width: 7px;\n}\n\n.cropper-center::after {\n  height: 7px;\n  left: 0;\n  top: -3px;\n  width: 1px;\n}\n\n.cropper-face,\n.cropper-line,\n.cropper-point {\n  display: block;\n  height: 100%;\n  opacity: 0.1;\n  position: absolute;\n  width: 100%;\n}\n\n.cropper-face {\n  background-color: #fff;\n  left: 0;\n  top: 0;\n}\n\n.cropper-line {\n  background-color: #39f;\n}\n\n.cropper-line.line-e {\n  cursor: ew-resize;\n  right: -3px;\n  top: 0;\n  width: 5px;\n}\n\n.cropper-line.line-n {\n  cursor: ns-resize;\n  height: 5px;\n  left: 0;\n  top: -3px;\n}\n\n.cropper-line.line-w {\n  cursor: ew-resize;\n  left: -3px;\n  top: 0;\n  width: 5px;\n}\n\n.cropper-line.line-s {\n  bottom: -3px;\n  cursor: ns-resize;\n  height: 5px;\n  left: 0;\n}\n\n.cropper-point {\n  background-color: #39f;\n  height: 5px;\n  opacity: 0.75;\n  width: 5px;\n}\n\n.cropper-point.point-e {\n  cursor: ew-resize;\n  margin-top: -3px;\n  right: -3px;\n  top: 50%;\n}\n\n.cropper-point.point-n {\n  cursor: ns-resize;\n  left: 50%;\n  margin-left: -3px;\n  top: -3px;\n}\n\n.cropper-point.point-w {\n  cursor: ew-resize;\n  left: -3px;\n  margin-top: -3px;\n  top: 50%;\n}\n\n.cropper-point.point-s {\n  bottom: -3px;\n  cursor: s-resize;\n  left: 50%;\n  margin-left: -3px;\n}\n\n.cropper-point.point-ne {\n  cursor: nesw-resize;\n  right: -3px;\n  top: -3px;\n}\n\n.cropper-point.point-nw {\n  cursor: nwse-resize;\n  left: -3px;\n  top: -3px;\n}\n\n.cropper-point.point-sw {\n  bottom: -3px;\n  cursor: nesw-resize;\n  left: -3px;\n}\n\n.cropper-point.point-se {\n  bottom: -3px;\n  cursor: nwse-resize;\n  height: 20px;\n  opacity: 1;\n  right: -3px;\n  width: 20px;\n}\n\n@media (min-width: 768px) {\n  .cropper-point.point-se {\n    height: 15px;\n    width: 15px;\n  }\n}\n\n@media (min-width: 992px) {\n  .cropper-point.point-se {\n    height: 10px;\n    width: 10px;\n  }\n}\n\n@media (min-width: 1200px) {\n  .cropper-point.point-se {\n    height: 5px;\n    opacity: 0.75;\n    width: 5px;\n  }\n}\n\n.cropper-point.point-se::before {\n  background-color: #39f;\n  bottom: -50%;\n  content: ' ';\n  display: block;\n  height: 200%;\n  opacity: 0;\n  position: absolute;\n  right: -50%;\n  width: 200%;\n}\n\n.cropper-invisible {\n  opacity: 0;\n}\n\n.cropper-bg {\n  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAAA3NCSVQICAjb4U/gAAAABlBMVEXMzMz////TjRV2AAAACXBIWXMAAArrAAAK6wGCiw1aAAAAHHRFWHRTb2Z0d2FyZQBBZG9iZSBGaXJld29ya3MgQ1M26LyyjAAAABFJREFUCJlj+M/AgBVhF/0PAH6/D/HkDxOGAAAAAElFTkSuQmCC');\n}\n\n.cropper-hide {\n  display: block;\n  height: 0;\n  position: absolute;\n  width: 0;\n}\n\n.cropper-hidden {\n  display: none !important;\n}\n\n.cropper-move {\n  cursor: move;\n}\n\n.cropper-crop {\n  cursor: crosshair;\n}\n\n.cropper-disabled .cropper-drag-box,\n.cropper-disabled .cropper-face,\n.cropper-disabled .cropper-line,\n.cropper-disabled .cropper-point {\n  cursor: not-allowed;\n}\n",""])},,,,,function(e,t,n){"use strict";n.r(t);var r=n(2),o=(n(32),n(4)),i=n.n(o);(function(){var e,t,n,r,o,i,a,u,s,c,l,f,d,p,m,h,g,v,b,y,w,x,C,k,S,T,E,O,_,A,D,N,M,R,z,I,B,P,L,F,H,j,V,U,$,q,W,Y,X=[].slice,G={}.hasOwnProperty,K=function(e,t){for(var n in t)G.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},J=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};for(w={catchupTime:100,initialRate:.03,minTime:250,ghostTime:100,maxProgressPerFrame:20,easeFactor:1.25,startOnPageLoad:!0,restartOnPushState:!0,restartOnRequestAfter:500,target:"body",elements:{checkInterval:100,selectors:["body"]},eventLag:{minSamples:10,sampleCount:3,lagThreshold:3},ajax:{trackMethods:["GET"],trackWebSockets:!1,ignoreURLs:[]}},_=function(){var e;return null!=(e="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance.now():void 0)?e:+new Date},D=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,y=window.cancelAnimationFrame||window.mozCancelAnimationFrame,null==D&&(D=function(e){return setTimeout(e,50)},y=function(e){return clearTimeout(e)}),M=function(e){var t,n;return t=_(),(n=function(){var r;return(r=_()-t)>=33?(t=_(),e(r,(function(){return D(n)}))):setTimeout(n,33-r)})()},N=function(){var e,t,n;return n=arguments[0],t=arguments[1],e=3<=arguments.length?X.call(arguments,2):[],"function"==typeof n[t]?n[t].apply(n,e):n[t]},x=function(){var e,t,n,r,o,i,a;for(t=arguments[0],i=0,a=(r=2<=arguments.length?X.call(arguments,1):[]).length;i<a;i++)if(n=r[i])for(e in n)G.call(n,e)&&(o=n[e],null!=t[e]&&"object"==typeof t[e]&&null!=o&&"object"==typeof o?x(t[e],o):t[e]=o);return t},g=function(e){var t,n,r,o,i;for(n=t=0,o=0,i=e.length;o<i;o++)r=e[o],n+=Math.abs(r),t++;return n/t},k=function(e,t){var n,r,o;if(null==e&&(e="options"),null==t&&(t=!0),o=document.querySelector("[data-pace-"+e+"]")){if(n=o.getAttribute("data-pace-"+e),!t)return n;try{return JSON.parse(n)}catch(e){return r=e,"undefined"!=typeof console&&null!==console?console.error("Error parsing inline pace options",r):void 0}}},a=function(){function e(){}return e.prototype.on=function(e,t,n,r){var o;return null==r&&(r=!1),null==this.bindings&&(this.bindings={}),null==(o=this.bindings)[e]&&(o[e]=[]),this.bindings[e].push({handler:t,ctx:n,once:r})},e.prototype.once=function(e,t,n){return this.on(e,t,n,!0)},e.prototype.off=function(e,t){var n,r,o;if(null!=(null!=(r=this.bindings)?r[e]:void 0)){if(null==t)return delete this.bindings[e];for(n=0,o=[];n<this.bindings[e].length;)this.bindings[e][n].handler===t?o.push(this.bindings[e].splice(n,1)):o.push(n++);return o}},e.prototype.trigger=function(){var e,t,n,r,o,i,a,u,s;if(n=arguments[0],e=2<=arguments.length?X.call(arguments,1):[],null!=(a=this.bindings)?a[n]:void 0){for(o=0,s=[];o<this.bindings[n].length;)r=(u=this.bindings[n][o]).handler,t=u.ctx,i=u.once,r.apply(null!=t?t:this,e),i?s.push(this.bindings[n].splice(o,1)):s.push(o++);return s}},e}(),c=window.Pace||{},window.Pace=c,x(c,a.prototype),A=c.options=x({},w,window.paceOptions,k()),V=0,$=(W=["ajax","document","eventLag","elements"]).length;V<$;V++)!0===A[B=W[V]]&&(A[B]=w[B]);s=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return K(t,e),t}(Error),t=function(){function e(){this.progress=0}return e.prototype.getElement=function(){var e;if(null==this.el){if(!(e=document.querySelector(A.target)))throw new s;this.el=document.createElement("div"),this.el.classList.add("pace","pace-active"),document.body.classList.remove("pace-done"),document.body.classList.add("pace-running"),this.el.innerHTML='<div class="pace-progress">\n  <div class="pace-progress-inner"></div>\n</div>\n<div class="pace-activity"></div>',null!=e.firstChild?e.insertBefore(this.el,e.firstChild):e.appendChild(this.el)}return this.el},e.prototype.finish=function(){var e;return(e=this.getElement()).classList.remove("pace-active"),e.classList.add("pace-inactive"),document.body.classList.remove("pace-running"),document.body.classList.add("pace-done")},e.prototype.update=function(e){return this.progress=e,this.render()},e.prototype.destroy=function(){try{this.getElement().parentNode.removeChild(this.getElement())}catch(e){s=e}return this.el=void 0},e.prototype.render=function(){var e,t,n,r,o,i,a;if(null==document.querySelector(A.target))return!1;for(e=this.getElement(),r="translate3d("+this.progress+"%, 0, 0)",o=0,i=(a=["webkitTransform","msTransform","transform"]).length;o<i;o++)t=a[o],e.children[0].style[t]=r;return(!this.lastRenderedProgress||this.lastRenderedProgress|0!==this.progress|0)&&(e.children[0].setAttribute("data-progress-text",(0|this.progress)+"%"),this.progress>=100?n="99":(n=this.progress<10?"0":"",n+=0|this.progress),e.children[0].setAttribute("data-progress",""+n)),this.lastRenderedProgress=this.progress},e.prototype.done=function(){return this.progress>=100},e}(),u=function(){function e(){this.bindings={}}return e.prototype.trigger=function(e,t){var n,r,o,i,a;if(null!=this.bindings[e]){for(a=[],r=0,o=(i=this.bindings[e]).length;r<o;r++)n=i[r],a.push(n.call(this,t));return a}},e.prototype.on=function(e,t){var n;return null==(n=this.bindings)[e]&&(n[e]=[]),this.bindings[e].push(t)},e}(),j=window.XMLHttpRequest,H=window.XDomainRequest,F=window.WebSocket,C=function(e,t){var n,r;for(n in r=[],t.prototype)try{null==e[n]&&"function"!=typeof t[n]?"function"==typeof Object.defineProperty?r.push(Object.defineProperty(e,n,{get:function(){return t.prototype[n]},configurable:!0,enumerable:!0})):r.push(e[n]=t.prototype[n]):r.push(void 0)}catch(e){e}return r},E=[],c.ignore=function(){var e,t,n;return t=arguments[0],e=2<=arguments.length?X.call(arguments,1):[],E.unshift("ignore"),n=t.apply(null,e),E.shift(),n},c.track=function(){var e,t,n;return t=arguments[0],e=2<=arguments.length?X.call(arguments,1):[],E.unshift("track"),n=t.apply(null,e),E.shift(),n},I=function(e){var t;if(null==e&&(e="GET"),"track"===E[0])return"force";if(!E.length&&A.ajax){if("socket"===e&&A.ajax.trackWebSockets)return!0;if(t=e.toUpperCase(),J.call(A.ajax.trackMethods,t)>=0)return!0}return!1},l=function(e){function t(){var e,n=this;t.__super__.constructor.apply(this,arguments),e=function(e){var t;return t=e.open,e.open=function(r,o,i){return I(r)&&n.trigger("request",{type:r,url:o,request:e}),t.apply(e,arguments)}},window.XMLHttpRequest=function(t){var n;return n=new j(t),e(n),n};try{C(window.XMLHttpRequest,j)}catch(e){}if(null!=H){window.XDomainRequest=function(){var t;return t=new H,e(t),t};try{C(window.XDomainRequest,H)}catch(e){}}if(null!=F&&A.ajax.trackWebSockets){window.WebSocket=function(e,t){var r;return r=null!=t?new F(e,t):new F(e),I("socket")&&n.trigger("request",{type:"socket",url:e,protocols:t,request:r}),r};try{C(window.WebSocket,F)}catch(e){}}}return K(t,e),t}(u),U=null,z=function(e){var t,n,r,o;for(n=0,r=(o=A.ajax.ignoreURLs).length;n<r;n++)if("string"==typeof(t=o[n])){if(-1!==e.indexOf(t))return!0}else if(t.test(e))return!0;return!1},(S=function(){return null==U&&(U=new l),U})().on("request",(function(t){var n,r,o,i,a;if(i=t.type,o=t.request,a=t.url,!z(a))return c.running||!1===A.restartOnRequestAfter&&"force"!==I(i)?void 0:(r=arguments,"boolean"==typeof(n=A.restartOnRequestAfter||0)&&(n=0),setTimeout((function(){var t,n,a,u,s;if("socket"===i?o.readyState<2:0<(a=o.readyState)&&a<4){for(c.restart(),s=[],t=0,n=(u=c.sources).length;t<n;t++){if((B=u[t])instanceof e){B.watch.apply(B,r);break}s.push(void 0)}return s}}),n))})),e=function(){function e(){var e=this;this.elements=[],S().on("request",(function(){return e.watch.apply(e,arguments)}))}return e.prototype.watch=function(e){var t,n,r,o;if(r=e.type,t=e.request,o=e.url,!z(o))return n="socket"===r?new p(t):new m(t),this.elements.push(n)},e}(),m=function(e){var t,n,r,o,i,a=this;if(this.progress=0,null!=window.ProgressEvent)for(e.addEventListener("progress",(function(e){return e.lengthComputable?a.progress=100*e.loaded/e.total:a.progress=a.progress+(100-a.progress)/2}),!1),n=0,r=(i=["load","abort","timeout","error"]).length;n<r;n++)t=i[n],e.addEventListener(t,(function(){return a.progress=100}),!1);else o=e.onreadystatechange,e.onreadystatechange=function(){var t;return 0===(t=e.readyState)||4===t?a.progress=100:3===e.readyState&&(a.progress=50),"function"==typeof o?o.apply(null,arguments):void 0}},p=function(e){var t,n,r,o,i=this;for(this.progress=0,n=0,r=(o=["error","open"]).length;n<r;n++)t=o[n],e.addEventListener(t,(function(){return i.progress=100}),!1)},r=function(e){var t,n,r,i;for(null==e&&(e={}),this.elements=[],null==e.selectors&&(e.selectors=[]),n=0,r=(i=e.selectors).length;n<r;n++)t=i[n],this.elements.push(new o(t))},o=function(){function e(e){this.selector=e,this.progress=0,this.check()}return e.prototype.check=function(){var e=this;return document.querySelector(this.selector)?this.done():setTimeout((function(){return e.check()}),A.elements.checkInterval)},e.prototype.done=function(){return this.progress=100},e}(),n=function(){function e(){var e,t,n=this;this.progress=null!=(t=this.states[document.readyState])?t:100,e=document.onreadystatechange,document.onreadystatechange=function(){return null!=n.states[document.readyState]&&(n.progress=n.states[document.readyState]),"function"==typeof e?e.apply(null,arguments):void 0}}return e.prototype.states={loading:0,interactive:50,complete:100},e}(),i=function(){var e,t,n,r,o,i=this;this.progress=0,e=0,o=[],r=0,n=_(),t=setInterval((function(){var a;return a=_()-n-50,n=_(),o.push(a),o.length>A.eventLag.sampleCount&&o.shift(),e=g(o),++r>=A.eventLag.minSamples&&e<A.eventLag.lagThreshold?(i.progress=100,clearInterval(t)):i.progress=3/(e+3)*100}),50)},d=function(){function e(e){this.source=e,this.last=this.sinceLastUpdate=0,this.rate=A.initialRate,this.catchup=0,this.progress=this.lastProgress=0,null!=this.source&&(this.progress=N(this.source,"progress"))}return e.prototype.tick=function(e,t){var n;return null==t&&(t=N(this.source,"progress")),t>=100&&(this.done=!0),t===this.last?this.sinceLastUpdate+=e:(this.sinceLastUpdate&&(this.rate=(t-this.last)/this.sinceLastUpdate),this.catchup=(t-this.progress)/A.catchupTime,this.sinceLastUpdate=0,this.last=t),t>this.progress&&(this.progress+=this.catchup*e),n=1-Math.pow(this.progress/100,A.easeFactor),this.progress+=n*this.rate*e,this.progress=Math.min(this.lastProgress+A.maxProgressPerFrame,this.progress),this.progress=Math.max(0,this.progress),this.progress=Math.min(100,this.progress),this.lastProgress=this.progress,this.progress},e}(),P=null,R=null,v=null,L=null,h=null,b=null,c.running=!1,T=function(){if(A.restartOnPushState)return c.restart()},null!=window.history.pushState&&(q=window.history.pushState,window.history.pushState=function(){return T(),q.apply(window.history,arguments)}),null!=window.history.replaceState&&(Y=window.history.replaceState,window.history.replaceState=function(){return T(),Y.apply(window.history,arguments)}),f={ajax:e,elements:r,document:n,eventLag:i},(O=function(){var e,n,r,o,i,a,u,s;for(c.sources=P=[],n=0,o=(a=["ajax","elements","document","eventLag"]).length;n<o;n++)!1!==A[e=a[n]]&&P.push(new f[e](A[e]));for(r=0,i=(s=null!=(u=A.extraSources)?u:[]).length;r<i;r++)B=s[r],P.push(new B(A));return c.bar=v=new t,R=[],L=new d})(),c.stop=function(){return c.trigger("stop"),c.running=!1,v.destroy(),b=!0,null!=h&&("function"==typeof y&&y(h),h=null),O()},c.restart=function(){return c.trigger("restart"),c.stop(),c.start()},c.go=function(){var e;return c.running=!0,v.render(),e=_(),b=!1,h=M((function(t,n){var r,o,i,a,u,s,l,f,p,m,h,g,y,w,x;for(100-v.progress,o=m=0,i=!0,s=h=0,y=P.length;h<y;s=++h)for(B=P[s],p=null!=R[s]?R[s]:R[s]=[],l=g=0,w=(u=null!=(x=B.elements)?x:[B]).length;g<w;l=++g)a=u[l],i&=(f=null!=p[l]?p[l]:p[l]=new d(a)).done,f.done||(o++,m+=f.tick(t));return r=m/o,v.update(L.tick(t,r)),v.done()||i||b?(v.update(100),c.trigger("done"),setTimeout((function(){return v.finish(),c.running=!1,c.trigger("hide")}),Math.max(A.ghostTime,Math.max(A.minTime-(_()-e),0)))):n()}))},c.start=function(e){x(A,e),c.running=!0;try{v.render()}catch(e){s=e}return document.querySelector(".pace")?(c.trigger("start"),c.go()):setTimeout(c.start,50)}}).call(void 0);var a=Pace,u=(n(33),n(5)),s=n.n(u),c=(n(36),n(38),n(40),n(41),n(14),n(15),n(42),n(43),n(44),n(45),n(46),n(16),n(47),n(48),n(49),n(50),n(51),n(52),n(53),n(54),n(55),n(56),n(57),n(58),n(59),n(60),n(61),n(62),n(63),n(64),n(3)),l=n.n(c),f=n(8),d=n.n(f),p=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],m=function(e){return-1!==p.indexOf(e)},h=function(e,t,n){var r=t.$props.value?t.$props.value:"",o=t.$props.initialValue?t.$props.initialValue:"";n.setContent(r||o),t.$listeners.input&&function(e,t){var n,r=e.$props.modelEvents?e.$props.modelEvents:null,o=Array.isArray(r)?r.join(" "):r;e.$watch("value",(function(e,r){t&&"string"==typeof e&&e!==n&&e!==r&&(t.setContent(e),n=e)})),t.on(o||"change keyup undo redo",(function(){n=t.getContent(),e.$emit("input",n)}))}(t,n),function(e,t,n){Object.keys(t).filter(m).forEach((function(r){var o=t[r];"function"==typeof o&&("onInit"===r?o(e,n):n.on(r.substring(2),(function(e){return o(e,n)})))}))}(e,t.$listeners,n)},g=0,v=function(e){var t=Date.now();return e+"_"+Math.floor(1e9*Math.random())+ ++g+String(t)},b=function(e){return void 0===e||""===e?[]:Array.isArray(e)?e:e.split(" ")},y=n(6),w={apiKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],value:String,disabled:Boolean},x=function(){return(x=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},C={listeners:[],scriptId:v("tiny-script"),scriptLoaded:!1},k=function(e){return function(){var t,n,r,o=x({},e.$props.init,{readonly:e.$props.disabled,selector:"#"+e.elementId,plugins:(t=e.$props.init&&e.$props.init.plugins,n=e.$props.plugins,b(t).concat(b(n))),toolbar:e.$props.toolbar||e.$props.init&&e.$props.init.toolbar,inline:e.inlineEditor,setup:function(t){e.editor=t,t.on("init",(function(n){return h(n,e,t)})),e.$props.init&&"function"==typeof e.$props.init.setup&&e.$props.init.setup(t)}});null!==(r=e.element)&&"textarea"===r.tagName.toLowerCase()&&(e.element.style.visibility=""),Object(y.a)().init(o)}},S={props:w,created:function(){this.elementId=this.$props.id||v("tiny-vue"),this.inlineEditor=this.$props.init&&this.$props.init.inline||this.$props.inline},watch:{disabled:function(){this.editor.setMode(this.disabled?"readonly":"design")}},mounted:function(){if(this.element=this.$el,null!==Object(y.a)())k(this)();else if(this.element&&this.element.ownerDocument){var e=this.element.ownerDocument,t=this.$props.cloudChannel?this.$props.cloudChannel:"5",n=this.$props.apiKey?this.$props.apiKey:"no-api-key";!function(e,t,n,r){e.scriptLoaded?r():(e.listeners.push(r),t.getElementById(e.scriptId)||function(e,t,n,r){var o=t.createElement("script");o.referrerPolicy="origin",o.type="application/javascript",o.id=e,o.addEventListener("load",r),o.src=n,t.head&&t.head.appendChild(o)}(e.scriptId,t,n,(function(){e.listeners.forEach((function(e){return e()})),e.scriptLoaded=!0})))}(C,e,"https://cdn.tiny.cloud/1/"+n+"/tinymce/"+t+"/tinymce.min.js",k(this))}},beforeDestroy:function(){null!==Object(y.a)()&&Object(y.a)().remove(this.editor)},render:function(e){return this.inlineEditor?function(e,t,n){return e(n||"div",{attrs:{id:t}})}(e,this.elementId,this.$props.tagName):function(e,t){return e("textarea",{attrs:{id:t},style:{visibility:"hidden"}})}(e,this.elementId)}},T=(n(81),n(82),n(7)),E=n(12),O=n(9),_=n(31);a.start();var A=l.a.create(l.a.defaults.headers.common={"X-Requested-With":"XMLHttpRequest","X-CSRF-TOKEN":app.csrfToken,"Content-Type":"multipart/form-data"}),D=[],N=E(".media-drop-zone"),M=[{label:"Text",type:"text"},{label:"Number",type:"number"},{label:"Decimal",type:"decimal"},{label:"Checkbox",type:"checkbox"},{label:"Radio",type:"radio"},{label:"Multi-line Text",type:"textarea"},{label:"Email",type:"email"},{label:"Date",type:"date"},{label:"Dropdown",type:"select"},{label:"File",type:"file"},{label:"Image",type:"image"},{label:"Rich Text Editor",type:"editor"}];if(document.querySelector(".editor")){var R={path_absolute:"/",selector:".editor",height:600,width:"100%",plugins:["advlist autolink lists link image imagetools charmap print preview hr anchor pagebreak","searchreplace wordcount visualblocks visualchars code fullscreen","insertdatetime media nonbreaking save table directionality","template paste textpattern"],toolbar:"insertfile undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image media",relative_urls:!1,mobile:{theme:"mobile",plugins:["lists","autolink","image","link"],toolbar:["undo","bold","billist","link","italic","styleselect","image"]},file_picker_callback:function(e,t,n){var r="image"===n.filetype?"image":"file";$(r),window.addEventListener("message",(function(t){if("insert"===t.data.mceAction){var n=t.data.content.split("/").pop(),o="image"===r?{alt:""}:{text:n};e(t.data.content,o)}}))},body_id:"block-editor",content_css:editorCss};s.a.init(R)}function z(e){if(E("#preview").hide(),e.files&&e.files[0]){var t=new FileReader;t.onload=function(e){E("#preview").attr("src",e.target.result),E("#preview").show(),uploadProductFile()},t.readAsDataURL(e.files[0])}}var I=function(){return"_"+Math.random().toString(36).substr(2,9)};function B(e,t){var n,o=I(),i='<li id="'+o+'" data-row-id="'+o+'">';switch(i+='<div class="field-type-row" data-row-id="'+o+'">',e){case"text":i+='<div class="field-row">',i+='<div class="field-sort"><i class="far fa-sort"></i></div><div class="field-type-title">Text</div><div class="field-row-options"><a class="collapse-field-row" href="/" data-row-id="'+o+'"><i class="fas fa-angle-down"></i></a> <a class="remove-field-row" data-repeater="'+t+'" data-row-id="'+o+'" href="/">&times;</a></div>',i+="</div>",i+='<div id="field-group-'+o+'" class="field-group" data-row-id="'+o+'">',i+='<div class="field-row">',i+='<div class="label-col">Field Label</div>',i+='<div class="field-col"><input id="label-'+o+'" class="field-label" type="text" name="field_label['+o+']" required><input type="hidden" name="field_type['+o+']" value="text"></div>',i+="</div>",i+='<div class="field-row">',i+='<div class="label-col">Field Name</div>',i+='<div class="field-col"><input id="name-'+o+'" type="text" name="field_name['+o+']" required></div>',i+="</div>",i+='<div class="field-row">',i+='<div class="label-col">Required</div>',i+='<div class="field-col"><label><input type="radio" name="field_required['+o+']" value="1"> Yes</label> <label><input type="radio" name="field_required['+o+']" checked value="0"> No</label></div>',i+="</div>",i+="</div>";break;case"email":i+='<div class="field-row">',i+='<div class="field-sort"><i class="far fa-sort"></i></div><div class="field-type-title">Email</div><div class="field-row-options"><a class="collapse-field-row" href="/" data-row-id="'+o+'"><i class="fas fa-angle-down"></i></a> <a class="remove-field-row" data-repeater="'+t+'" data-row-id="'+o+'" href="/">&times;</a></div>',i+="</div>",i+='<div id="field-group-'+o+'" class="field-group" data-row-id="'+o+'">',i+='<div class="field-row">',i+='<div class="label-col">Field Label</div>',i+='<div class="field-col"><input id="label-'+o+'" class="field-label" type="text" name="field_label['+o+']" required><input type="hidden" name="field_type['+o+']" value="email"></div>',i+="</div>",i+='<div class="field-row">',i+='<div class="label-col">Field Name</div>',i+='<div class="field-col"><input id="name-'+o+'" type="text" name="field_name['+o+']" required></div>',i+="</div>",i+='<div class="field-row">',i+='<div class="label-col">Required</div>',i+='<div class="field-col"><label><input type="radio" name="field_required['+o+']" value="1"> Yes</label> <label><input type="radio" name="field_required['+o+']" checked value="0"> No</label></div>',i+="</div>",i+="</div>";break;case"number":i+='<div class="field-row">',i+='<div class="field-sort"><i class="far fa-sort"></i></div><div class="field-type-title">Number</div><div class="field-row-options"><a class="collapse-field-row" href="/" data-row-id="'+o+'"><i class="fas fa-angle-down"></i></a> <a class="remove-field-row" data-repeater="'+t+'" data-row-id="'+o+'" href="/">&times;</a></div>',i+="</div>",i+='<div id="field-group-'+o+'" class="field-group" data-row-id="'+o+'">',i+='<div class="field-row">',i+='<div class="label-col">Field Label</div>',i+='<div class="field-col"><input id="label-'+o+'" class="field-label" type="text" name="field_label['+o+']" required><input type="hidden" name="field_type['+o+']" value="number"></div>',i+="</div>",i+='<div class="field-row">',i+='<div class="label-col">Field Name</div>',i+='<div class="field-col"><input id="name-'+o+'" type="text" name="field_name['+o+']" required></div>',i+="</div>",i+='<div class="field-row">',i+='<div class="label-col">Required</div>',i+='<div class="field-col"><label><input type="radio" name="field_required['+o+']" value="1"> Yes</label> <label><input type="radio" name="field_required['+o+']" checked value="0"> No</label></div>',i+="</div>",i+="</div>";break;case"decimal":i+='<div class="field-row">',i+='<div class="field-sort"><i class="far fa-sort"></i></div><div class="field-type-title">Decimal</div><div class="field-row-options"><a class="collapse-field-row" href="/" data-row-id="'+o+'"><i class="fas fa-angle-down"></i></a> <a class="remove-field-row" data-repeater="'+t+'" data-row-id="'+o+'" href="/">&times;</a></div>',i+="</div>",i+='<div id="field-group-'+o+'" class="field-group" data-row-id="'+o+'">',i+='<div class="field-row">',i+='<div class="label-col">Field Label</div>',i+='<div class="field-col"><input id="label-'+o+'" class="field-label" type="text" name="field_label['+o+']" required><input type="hidden" name="field_type['+o+']" value="number"></div>',i+="</div>",i+='<div class="field-row">',i+='<div class="label-col">Field Name</div>',i+='<div class="field-col"><input id="name-'+o+'" type="text" name="field_name['+o+']" required></div>',i+="</div>",i+='<div class="field-row">',i+='<div class="label-col">Required</div>',i+='<div class="field-col"><label><input type="radio" name="field_required['+o+']" value="1"> Yes</label> <label><input type="radio" name="field_required['+o+']" checked value="0"> No</label></div>',i+="</div>",i+="</div>";break;case"textarea":i+='<div class="field-row">',i+='<div class="field-sort"><i class="far fa-sort"></i></div><div class="field-type-title">Multi-line Text</div><div class="field-row-options"><a class="collapse-field-row" href="/" data-row-id="'+o+'"><i class="fas fa-angle-down"></i></a> <a class="remove-field-row" data-repeater="'+t+'" data-row-id="'+o+'" href="/">&times;</a></div>',i+="</div>",i+='<div id="field-group-'+o+'" class="field-group" data-row-id="'+o+'">',i+='<div class="field-row">',i+='<div class="label-col">Field Label</div>',i+='<div class="field-col"><input id="label-'+o+'" class="field-label" type="text" name="field_label['+o+']" required><input type="hidden" name="field_type['+o+']" value="textarea"></div>',i+="</div>",i+='<div class="field-row">',i+='<div class="label-col">Field Name</div>',i+='<div class="field-col"><input id="name-'+o+'" type="text" name="field_name['+o+']" required></div>',i+="</div>",i+='<div class="field-row">',i+='<div class="label-col">Required</div>',i+='<div class="field-col"><label><input type="radio" name="field_required['+o+']" value="1"> Yes</label> <label><input type="radio" name="field_required['+o+']" checked value="0"> No</label></div>',i+="</div>",i+="</div>";break;case"date":i+='<div class="field-row">',i+='<div class="field-sort"><i class="far fa-sort"></i></div><div class="field-type-title">Date</div><div class="field-row-options"><a class="collapse-field-row" href="/" data-row-id="'+o+'"><i class="fas fa-angle-down"></i></a> <a class="remove-field-row" data-repeater="'+t+'" data-row-id="'+o+'" href="/">&times;</a></div>',i+="</div>",i+='<div id="field-group-'+o+'" class="field-group" data-row-id="'+o+'">',i+='<div class="field-row">',i+='<div class="label-col">Field Label</div>',i+='<div class="field-col"><input id="label-'+o+'" class="field-label" type="text" name="field_label['+o+']" required><input type="hidden" name="field_type['+o+']" value="date"></div>',i+="</div>",i+='<div class="field-row">',i+='<div class="label-col">Field Name</div>',i+='<div class="field-col"><input id="name-'+o+'" type="text" name="field_name['+o+']" required></div>',i+="</div>",i+='<div class="field-row">',i+='<div class="label-col">Required</div>',i+='<div class="field-col"><label><input type="radio" name="field_required['+o+']" value="1"> Yes</label> <label><input type="radio" name="field_required['+o+']" checked value="0"> No</label></div>',i+="</div>",i+="</div>";break;case"file":i+='<div class="field-row">',i+='<div class="field-sort"><i class="far fa-sort"></i></div><div class="field-type-title">File Upload</div><div class="field-row-options"><a class="collapse-field-row" href="/" data-row-id="'+o+'"><i class="fas fa-angle-down"></i></a> <a class="remove-field-row" data-repeater="'+t+'" data-row-id="'+o+'" href="/">&times;</a></div>',i+="</div>",i+='<div id="field-group-'+o+'" class="field-group" data-row-id="'+o+'">',i+='<div class="field-row">',i+='<div class="label-col">Field Label</div>',i+='<div class="field-col"><input id="label-'+o+'" class="field-label" type="text" name="field_label['+o+']" required><input type="hidden" name="field_type['+o+']" value="file"></div>',i+="</div>",i+='<div class="field-row">',i+='<div class="label-col">Field Name</div>',i+='<div class="field-col"><input id="name-'+o+'" type="text" name="field_name['+o+']" required></div>',i+="</div>",i+='<div class="field-row">',i+='<div class="label-col">Multiple Files</div>',i+='<div class="field-col"><label><input type="radio" name="field_multiple['+o+']"value="1"> Yes</label> <label><input type="radio" name="field_multiple['+o+']" checked value="0"> No</label></div>',i+="</div>",i+='<div class="field-row">',i+='<div class="label-col">Allowed Files Types</div>',i+='<div class="field-col"><label><input type="text" name="field_filetypes['+o+']" value="*"></div>',i+="</div>",i+='<div class="field-row">',i+='<div class="label-col">Required</div>',i+='<div class="field-col"><label><input type="radio" name="field_required['+o+']" value="1"> Yes</label> <label><input type="radio" name="field_required['+o+']" checked value="0"> No</label></div>',i+="</div>",i+="</div>";break;case"image":i+='<div class="field-row">',i+='<div class="field-sort"><i class="far fa-sort"></i></div><div class="field-type-title">Image Upload</div><div class="field-row-options"><a class="collapse-field-row" href="/" data-row-id="'+o+'"><i class="fas fa-angle-down"></i></a> <a class="remove-field-row" data-repeater="'+t+'" data-row-id="'+o+'" href="/">&times;</a></div>',i+="</div>",i+='<div id="field-group-'+o+'" class="field-group" data-row-id="'+o+'">',i+='<div class="field-row">',i+='<div class="label-col">Field Label</div>',i+='<div class="field-col"><input id="label-'+o+'" class="field-label" type="text" name="field_label['+o+']" required><input type="hidden" name="field_type['+o+']" value="image"></div>',i+="</div>",i+='<div class="field-row">',i+='<div class="label-col">Field Name</div>',i+='<div class="field-col"><input id="name-'+o+'" type="text" name="field_name['+o+']" required></div>',i+="</div>",i+='<div class="field-row">',i+='<div class="label-col">Multiple Files</div>',i+='<div class="field-col"><label><input type="radio" name="field_multiple['+o+']" value="1"> Yes</label> <label><input type="radio" name="field_multiple['+o+']" checked value="0"> No</label></div>',i+="</div>",i+='<div class="field-row">',i+='<div class="label-col">Allowed Image Types</div>',i+='<div class="field-col"><label><input type="text" name="field_filetypes['+o+']" value="*"></div>',i+="</div>",i+='<div class="field-row">',i+='<div class="label-col">Required</div>',i+='<div class="field-col"><label><input type="radio" name="field_required['+o+']" value="1"> Yes</label> <label><input type="radio" name="field_required['+o+']" checked value="0"> No</label></div>',i+="</div>",i+="</div>";break;case"checkbox":i+='<div class="field-row">',i+='<div class="field-sort"><i class="far fa-sort"></i></div><div class="field-type-title">Checkboxes</div><div class="field-row-options"><a class="collapse-field-row" href="/" data-row-id="'+o+'"><i class="fas fa-angle-down"></i></a> <a class="remove-field-row" data-repeater="'+t+'" data-row-id="'+o+'" href="/">&times;</a></div>',i+="</div>",i+='<div id="field-group-'+o+'" class="field-group" data-row-id="'+o+'">',i+='<div class="field-row">',i+='<div class="label-col">Field Label</div>',i+='<div class="field-col"><input id="label-'+o+'" class="field-label" type="text" name="field_label['+o+']" required><input type="hidden" name="field_type['+o+']" value="checkbox"></div>',i+="</div>",i+='<div class="field-row">',i+='<div class="label-col">Field Name</div>',i+='<div class="field-col"><input id="name-'+o+'" type="text" name="field_name['+o+']" required></div>',i+="</div>",i+='<div class="field-row">',i+='<div class="label-col">Checkboxes</div>',i+='<div class="field-col"><textarea name="field_options['+o+']" placeholder="Label:value"></textarea><span class="notes">Enter each checkbox setup on a new line. Example:<br>Label:value<br>Label:value</span></div>',i+="</div>",i+='<div class="field-row">',i+='<div class="label-col">Required</div>',i+='<div class="field-col"><label><input type="radio" name="field_required['+o+']" value="1"> Yes</label> <label><input type="radio" name="field_required['+o+']" checked value="0"> No</label></div>',i+="</div>",i+="</div>";break;case"radio":i+='<div class="field-row">',i+='<div class="field-sort"><i class="far fa-sort"></i></div><div class="field-type-title">Radios</div><div class="field-row-options"><a class="collapse-field-row" href="/" data-row-id="'+o+'"><i class="fas fa-angle-down"></i></a> <a class="remove-field-row" data-repeater="'+t+'" data-row-id="'+o+'" href="/">&times;</a></div>',i+="</div>",i+='<div id="field-group-'+o+'" class="field-group" data-row-id="'+o+'">',i+='<div class="field-row">',i+='<div class="label-col">Field Label</div>',i+='<div class="field-col"><input id="label-'+o+'" class="field-label" type="text" name="field_label['+o+']" required><input type="hidden" name="field_type['+o+']" value="radio"></div>',i+="</div>",i+='<div class="field-row">',i+='<div class="label-col">Field Name</div>',i+='<div class="field-col"><input id="name-'+o+'" type="text" name="field_name['+o+']" required></div>',i+="</div>",i+='<div class="field-row">',i+='<div class="label-col">Radios</div>',i+='<div class="field-col"><textarea name="field_options['+o+']" placeholder="Label:value"></textarea><span class="notes">Enter each radio setup on a new line. Example:<br>Label:value<br>Label:value</span></div>',i+="</div>",i+='<div class="field-row">',i+='<div class="label-col">Required</div>',i+='<div class="field-col"><label><input type="radio" name="field_required['+o+']" value="1"> Yes</label> <label><input type="radio" name="field_required['+o+']" checked value="0"> No</label></div>',i+="</div>",i+="</div>";break;case"select":i+='<div class="field-row">',i+='<div class="field-sort"><i class="far fa-sort"></i></div><div class="field-type-title">Dropdown</div><div class="field-row-options"><a class="collapse-field-row" href="/" data-row-id="'+o+'"><i class="fas fa-angle-down"></i></a> <a class="remove-field-row" data-repeater="'+t+'" data-row-id="'+o+'" href="/">&times;</a></div>',i+="</div>",i+='<div id="field-group-'+o+'" class="field-group" data-row-id="'+o+'">',i+='<div class="field-row">',i+='<div class="label-col">Field Label</div>',i+='<div class="field-col"><input id="label-'+o+'" class="field-label" type="text" name="field_label['+o+']" required><input type="hidden" name="field_type['+o+']" value="select"></div>',i+="</div>",i+='<div class="field-row">',i+='<div class="label-col">Field Name</div>',i+='<div class="field-col"><input id="name-'+o+'" type="text" name="field_name['+o+']" required></div>',i+="</div>",i+='<div class="field-row">',i+='<div class="label-col">Options</div>',i+='<div class="field-col"><textarea name="field_options['+o+']" placeholder="Label:value"></textarea><span class="notes">Enter each option setup on a new line. Example:<br>Label:value<br>Label:value</span></div>',i+="</div>",i+='<div class="field-row">',i+='<div class="label-col">Empty First Option?</div>',i+='<div class="field-col"><label><input type="radio" name="field_firstoption['+o+']" value="1"> Yes</label> <label><input type="radio" name="field_firstoption['+o+']" checked value="0"> No</label></div>',i+="</div>",i+='<div class="field-row">',i+='<div class="label-col">Select Multiple</div>',i+='<div class="field-col"><label><input type="radio" name="field_select_multiple['+o+']" value="1"> Yes</label> <label><input type="radio" name="field_select_multiple['+o+']" checked value="0"> No</label></div>',i+="</div>",i+='<div class="field-row">',i+='<div class="label-col">Required</div>',i+='<div class="field-col"><label><input type="radio" name="field_required['+o+']" value="1"> Yes</label> <label><input type="radio" name="field_required['+o+']" checked value="0"> No</label></div>',i+="</div>",i+="</div>";break;case"editor":i+='<div class="field-row">',i+='<div class="field-sort"><i class="far fa-sort"></i></div><div class="field-type-title">Rich Text Editor</div><div class="field-row-options"><a class="collapse-field-row" href="/" data-row-id="'+o+'"><i class="fas fa-angle-down"></i></a> <a class="remove-field-row" data-repeater="'+t+'" data-row-id="'+o+'" href="/">&times;</a></div>',i+="</div>",i+='<div id="field-group-'+o+'" class="field-group" data-row-id="'+o+'">',i+='<div class="field-row">',i+='<div class="label-col">Field Label</div>',i+='<div class="field-col"><input id="label-'+o+'" class="field-label" type="text" name="field_label['+o+']" required><input type="hidden" name="field_type['+o+']" value="editor"></div>',i+="</div>",i+='<div class="field-row">',i+='<div class="label-col">Field Name</div>',i+='<div class="field-col"><input id="name-'+o+'" type="text" name="field_name['+o+']" required></div>',i+="</div>";break;case"repeater":i+='<div class="field-row">',i+='<div class="field-sort"><i class="far fa-sort"></i></div><div class="field-type-title">Repeater</div><div class="field-row-options"><a class="collapse-field-row" href="/" data-row-id="'+o+'"><i class="fas fa-angle-down"></i></a> <a class="remove-field-row" data-repeater="'+t+'" data-row-id="'+o+'" href="/">&times;</a></div>',i+="</div>",i+='<div id="field-group-'+o+'" class="field-group" data-row-id="'+o+'">',i+='<div class="field-row">',i+='<div class="label-col">Field Label</div>',i+='<div class="field-col"><input id="label-'+o+'" class="field-label" type="text" name="field_label['+o+']" required><input type="hidden" name="field_type['+o+']" value="repeater"></div>',i+="</div>",i+='<div class="field-row">',i+='<div class="label-col">Field Name</div>',i+='<div class="field-col"><input id="name-'+o+'" type="text" name="field_name['+o+']" required></div>',i+="</div>",i+='<div class="field-row">',i+='<div class="label-col full">Repeater Fields <div class="choose-repeater-fields">'+function(e){var t='<div class="fields-drop-down">';return t+='<span>Add Field <i class="fas fa-plus"></i></span>',t+="<ul>",M.forEach((function(n){t+='<li data-type="'+n.type+'" data-id="'+e+'">'+n.label+"</li>"})),t+="</ul>",t+="</div>"}(o)+"</div></div>",i+='<div class="field-col full has-repeater">',i+='<ul class="repeater-fields-list" id="repeater-fields'+o+'">',i+="</ul>",i+="</div>",i+="</div>"}t&&(i+='<input type="hidden" name="field_repeater['+o+']" value="'+t+'" >'),i+="</div>",i+="</li>",t?(E("#repeater-fields"+t).append(i),n=document.querySelector(".repeater-fields-list"),r.default.create(n,{handle:".field-sort",easing:"cubic-bezier(1, 0, 0, 1)",animation:150,onEnd:function(e){updateGroupFieldsSort()},onAdd:function(e){},onStart:function(e){e.oldIndex}})):E(".fields-list").append(i)}function P(){var e=document.getElementById("group-fields"),t=new FormData(e),n=E("#group-id").val();A.post("/admin/custom-fields/group/"+n+"/fields/sort",t).then((function(e){})).catch((function(e){console.log("sort error")}))}function L(){var e=E(".menu-items-drop").sortableListsToJson(),t=E("#menu-id").val(),n=[];e.forEach((function(e){n.push(E.param(e))}));var r={menu_id:t,items:e};A.post("/admin/menu-items",r).then((function(e){})).catch((function(e){console.log("check error")}))}function F(e,t){var n=document.getElementById("snackbar");n.innerHTML=t,n.className="show "+e,setTimeout((function(){n.className=n.className.replace("show "+e,"")}),3e3)}E.fn.sortableListsToJson=function(){var e=[];return E(this).children("li").each((function(){var t=E(this),n=t.data();e.push(n);var r=t.children("ul,ol").sortableListsToJson();r.length>0?n.children=r:delete n.children})),e};var H=window.innerWidth;function j(){H=window.innerWidth}function V(){E(".nested").each((function(e,t){r.default.create(t,{easing:"cubic-bezier(1, 0, 0, 1)",animation:150,ghostClass:"yellow-background-class",group:"shared",onEnd:function(e){},onAdd:function(e){},onStart:function(e){e.oldIndex},fallbackOnBody:!0,swapThreshold:.65})}))}function U(e,t,n,r){fm.standaloneMode=!1,fm.selectionMode=!0,fm.multiple=r,fm.inputId=e,fm.previewId=t,fm.fileType=n,fm.callback=!1,fm.boot(),fm.showFileManager()}function $(e){fm.fileType=e,fm.standaloneMode=!1,fm.selectionMode=!0,fm.callback=!0,fm.multiple=!1,fm.boot(),fm.showFileManager()}window.addEventListener("DOMContentLoaded",(function(e){document.querySelector(".dashboard");E(".lfm-featured-image").click((function(e){e.preventDefault();U("featured-image","featured-image-preview","image",!1)})),E(".lfm-gallery-image").click((function(e){e.preventDefault();U("gallery-image","gallery-image-preview","image",!0)})),E(".lfm-social-image").click((function(e){e.preventDefault();U("social-image","social-image-preview","image",!1)})),E(".lfm-avatar").click((function(e){e.preventDefault();U(E(this).attr("data-input"),E(this).attr("data-preview"),"image",!1)}));var t=document.querySelectorAll("[data-fm-backup]");t&&t.forEach((function(e){var t=document.getElementById("object-id").value,n=document.getElementById("object-type").value;setTimeout((function(){setInterval((function(){var e=s.a.get("content").getContent(),r=new FormData;r.append("content",e),r.append("object_id",t),r.append("object_type",n),A.post("/admin/object-backup",r).then((function(e){var t=e.data.backup;if(e.data.created){var n='<li><a href="#" data-backup-id="'+t.id+'" role="button">Backup - '+t.updated_at+"</a></li>";E(".restore-content-list").prepend(n)}})).catch((function(e){console.log("backup error"),console.log(e)}))}),15e3)}),2e3)})),setInterval((function(){var e=new FormData;e.append("beep","bop"),A.post("/admin/heartbeat",e).then((function(e){})).catch((function(e){console.log("--Heartbeat error--"),console.log(e),419===e.response.status&&E(".expired-csrf-modal").show()}))}),15e3),E(".close-csrf-modal-action").click((function(e){e.preventDefault(),E(".expired-csrf-modal").hide()})),E(".restore-content-btn").click((function(e){e.preventDefault(),E(".restore-content-modal").toggle()})),E(".restore-content-list").on("click","a",(function(e){e.preventDefault();var t=E(this).attr("data-backup-id");A.get("/admin/object-backup/"+t).then((function(e){var t=e.data.backup;s.a.get("content").setContent(t.content),E(".restore-content-modal").hide()})).catch((function(e){console.log("backup error")}))})),E(".product-attr").change((function(){var e=E(this).attr("data-id"),t=(E("#attr-label-"+e+" span").html(),document.querySelectorAll(".attr-value-"+e));E(this).is(":checked")&&t.forEach((function(e){e.checked=!0})),E(this).is(":checked")?(E("#attr-values-"+e).addClass("open"),function(e){var t=E(e).attr("data-id"),n=E("#attr-label-"+t+" span").html(),r=document.querySelectorAll(".attr-value-"+t),o=[];r.forEach((function(e){o.push(e.value)})),E(".variation-options").each((function(e,r){var i=E(this).attr("data-variation-options-id"),a=E(this).find('[data-select-id="'+t+'"]'),u='<div id="product-variation-dropdown-'+t+'" class="product-variation-dropdown">';u+='<label for="var-select-'+t+i+'">'+n+"</label>",u+='<div class="select-wrapper">',u+='<select data-select-id="'+t+'" name="attributes['+i+"]["+n+']">',o.forEach((function(e){u+='<option value="'+e+'">'+e+"</option>"})),u+="</select>",u+="</div>",u+="</div>",a.length||E(this).find(".inner").prepend(u)}))}(this)):(E("#attr-values-"+e).removeClass("open"),function(e){var t=E(e).attr("data-id");E('[data-select-id="'+t+'"]').parent().parent().remove()}(this))})),E(".attr-value").change((function(){var e=E(this).attr("data-id"),t=(this.value,document.querySelectorAll(".attr-value-"+e));E(this).is(":checked")?function(e){var t=E(e).attr("data-id"),n=E('[data-select-id="'+t+'"]');n.each((function(t){var r=!1;if(Array.prototype.forEach.call(n[t].options,(function(o,i){n[t].options[i].value===e.value&&(r=!0)})),!r){var o=document.createElement("option");o.text=e.value,o.value=e.value,n[t].add(o)}}))}(this):function(e){var t=E(e).attr("data-id"),n=E('[data-select-id="'+t+'"]');n.each((function(t){Array.prototype.forEach.call(n[t].options,(function(r,o){n[t].options[o].value===e.value&&n[t].options[o].remove(),0===n[t].options.length&&E(n[t]).parent().parent().remove()}))}))}(this);var n=!1;t.forEach((function(e){e.checked&&(n=!0)}));var r=document.getElementById("product-attr-"+e);r.checked=!!n})),E(".add-variation-btn").click((function(e){e.preventDefault();var t=I(),n="",r=!1;if(D=[],document.querySelectorAll(".product-attr").forEach((function(e){e.checked&&(r=!0)})),!r)return F("warning","Please choose at least one product attribute."),!1;E(".product-attr").each((function(e,t){var n=E(this).attr("data-id"),r=E("#attr-label-"+n+" span").html(),o=document.querySelectorAll(".attr-value-"+n),i=[];o.forEach((function(e){e.checked&&i.push(e.value)}));var a={id:n,label:r,options:i};D.push(a)})),n+='<div class="variation-item" data-variation-id="'+t+'" data-id="'+t+'">',n+='<a href="#" class="delete-variation-btn" data-id="'+t+'">&times;</a>',n+='<div class="variation-options" data-variation-options-id="'+t+'">',n+='<div class="inner">',D.forEach((function(e){n+='<div id="product-variation-dropdown-'+e.id+'" class="product-variation-dropdown">',n+='<label for="var-select-'+e.id+t+'">'+e.label+"</label>",n+='<input type="hidden" name="variation_attributes['+t+"]["+e.id+'][attribute_id]" value="'+e.id+'">',n+='<input type="hidden" name="variation_attributes['+t+"]["+e.id+'][attribute]" value="'+e.label+'">',n+='<div class="select-wrapper">',n+='<select id="var-select-'+e.id+t+'" data-select-id="'+e.id+'" name="variation_attributes['+t+"]["+e.id+'][value]">',e.options.forEach((function(e){n+='<option value="'+e+'">'+e+"</option>"})),n+="</select>",n+="</div>",n+="</div>"})),n+='<div class="variation-collapse">',n+='<a href="#variation-fields'+t+'" class="variation-collapse-btn open" data-variation-collapse-id="'+t+'"><i class="fal fa-angle-right"></i></a>',n+="</div>",n+="</div>",n+="</div>",n+='<div id="variation-fields-'+t+'" class="variation-fields open">',n+='<div class="form-row">',n+='<label class="label-col" for="image'+t+'">Image</label>',n+='<div class="input-col row">',n+='<div class="input-group">',n+='<span class="input-group-btn">',n+='<a class="lfm-image" data-lfm data-input="lfm-'+t+'" data-preview="lfm-preview-'+t+'">',n+='<i class="fas fa-image"></i> Choose Image',n+="</a>",n+="</span>",n+='<input id="lfm-'+t+'" class="file-list-input" data-lfm-input value="" type="text" name="variations['+t+'][image]">',n+="</div>",n+='<div id="lfm-preview-'+t+'" data-lfm-holder class="lfm-image-preview">',n+="</div>",n+="</div>",n+="</div>",n+='<div class="form-row">',n+='<label class="label-col" for="desc'+t+'">Description</label>',n+='<div class="input-col">',n+='<textarea id="desc'+t+'" class="smaller" name="variations['+t+'][desc]" value=""></textarea>',n+="</div>",n+="</div>",n+='<div class="form-row">',n+='<label class="label-col" for="price'+t+'">Price</label>',n+='<div class="input-col">',n+='<input type="number" id="price'+t+'" name="variations['+t+'][price]" value="" step="0.01">',n+="</div>",n+="</div>",n+='<div class="form-row">',n+='<label class="label-col" for="sale-price'+t+'">Sale Price</label>',n+='<div class="input-col">',n+='<input type="number" id="sale-price'+t+'" name="variations['+t+'][sale_price]" value="" step="0.01">',n+="</div>",n+="</div>",n+='<div class="form-row">',n+='<label class="label-col" for="sku'+t+'">SKU</label>',n+='<div class="input-col">',n+='<input type="text" id="sku'+t+'" name="variations['+t+'][sku]" value="">',n+="</div>",n+="</div>",n+='<div class="form-row">',n+='<label class="label-col" for="mfg-part-number'+t+'">MFG Part Number</label>',n+='<div class="input-col">',n+='<input type="text" id="mfg-part-number'+t+'" name="variations['+t+'][mfg_part_number]" value="">',n+="</div>",n+="</div>",n+='<div class="form-row">',n+='<label class="label-col" for="stock'+t+'">Stock</label>',n+='<div class="input-col">',n+='<input type="number" id="stock'+t+'" name="variations['+t+'][stock]" value="">',n+="</div>",n+="</div>",n+="</div>",n+="</div>",E(".variations-list").append(n)})),E(".variations-list").on("click",".variation-collapse-btn",(function(e){e.preventDefault();var t=E(this).attr("data-variation-collapse-id");E(this).hasClass("open")?(E(this).removeClass("open"),E("#variation-fields-"+t).removeClass("open")):(E(this).addClass("open"),E("#variation-fields-"+t).addClass("open"))})),E(".variations-list").on("click",".delete-variation-btn",(function(e){e.preventDefault();var t=E(this).attr("data-id");i.a.fire({title:"Delete",text:"Are you sure you want to delete this?",type:"warning",showCancelButton:!0,confirmButtonColor:"#333",cancelButtonColor:"#ccc",confirmButtonText:"Yes, delete!"}).then((function(e){if("cancel"!==e.dismiss){var n=new FormData;n.append("_method","delete"),n.append("id",t),A.post("/admin/product-variation-delete",n).then((function(e){E('[data-variation-id="'+t+'"]').remove()})).catch((function(e){console.log("delete error")}))}}))})),E(".variations-list").on("click",".choose-gallery-images",(function(e){e.preventDefault(),U("gallery-image","gallery-image-preview","image",!0)})),E(".variations-list").on("click",".choose-gallery-images",(function(e){e.preventDefault(),U("gallery-image","gallery-image-preview","image",!0)})),E("#product-shipping-rate-type").change((function(){"flat"===E(this).val()?E("#shipping-rate-row").show():(E("#shipping-rate-row").hide(),E("#shipping-rate").val(""))})),E("#product-type").change((function(){"download"===E(this).val()?(E("#product-file-row").show(),E("#product-role-row").hide()):"role"===E(this).val()?(E("#product-role-row").show(),E("#product-file-row").hide()):(E("#product-file-row").hide(),E("#product-role-row").hide())})),E("#item-file").click((function(e){e.preventDefault();U(E(this).attr("data-input"),"","file",!1)})),E("body").on("click",".lfm-image",(function(e){e.preventDefault();var t=1===parseInt(E(this).attr("data-multiple"));U(E(this).attr("data-input"),E(this).attr("data-preview"),"image",t)})),E("body").on("click",".lfm-file",(function(e){e.preventDefault();var t=1===parseInt(E(this).attr("data-multiple"));U(E(this).attr("data-input"),"","file",t)})),window.onresize=j,E(".menu-toggle").click((function(e){e.preventDefault(),E(".sidebar-nav-group").removeClass("toggled"),E("body").toggleClass("menu-open"),E("body").hasClass("menu-open")?(E(".menu-toggle i").removeClass("fa-long-arrow-right"),E(".menu-toggle i").addClass("fa-long-arrow-left")):(E(".menu-toggle i").removeClass("fa-long-arrow-left"),E(".menu-toggle i").addClass("fa-long-arrow-right")),H<951?document.cookie="menu_open=Y; expires=Thu, 18 Dec 1999 12:00:00 UTC; path=/":E("body").hasClass("menu-open")?document.cookie="menu_open=Y; expires=Thu, 18 Dec 2040 12:00:00 UTC; path=/":document.cookie="menu_open=N; expires=Thu, 18 Dec 2040 12:00:00 UTC; path=/",window.dispatchEvent(new Event("resize"))})),E(".toggle-file-manager").click((function(e){e.preventDefault(),fm.boot(),fm.standaloneMode=!0,fm.selectionMode=!1,fm.callback=!1,fm.fileType="all",fm.boot(),fm.showFileManager()})),E(".stats-view-toggle").click((function(e){e.preventDefault(),E("#view-selector-container").toggle()})),E(".menu-dropdown-toggle").click((function(){E(".sidebar-nav-group").toggleClass("toggled")})),E("#media-file").change((function(){z(this)})),E(".typeahead").on("typeahead:selected",(function(e,t){t,E(".typeahead").val(t.name)})),E(".form-fields-list").on("click","[data-conditional-toggle]",(function(){var e=E(this).attr("data-conditional-toggle");E(this).is(":checked")?E("#conditional-toggle-"+e).show():E("#conditional-toggle-"+e).hide()})),E(".form-tabs li a").click((function(e){e.preventDefault();var t=E(this).attr("href");E(this).parent().parent().find("a").removeClass("active"),E(this).addClass("active"),E(this).parent().parent().siblings(".tabs-content").find(".tab-content").removeClass("active"),E(t).addClass("active")})),E("#setting-type").change((function(){var e=E(this).val();E(".setting-type-field").hide(),"BOOL"===e&&E("#setting-type-bool").show(),"STRING"===e&&E("#setting-type-string").show()})),E('form button[type="submit"]').click((function(e){var t=!1;document.querySelectorAll("[required]").forEach((function(e){""===e.value&&(t=!0)})),t&&F("warning","Please fill in all required fields.")}));var n=document.querySelector(".fields-list"),o=document.querySelector(".form-fields-list"),a=(document.querySelector(".choose-field-list"),document.querySelector(".repeater-fields-list"));if(n)r.default.create(n,{handle:".field-sort",easing:"cubic-bezier(1, 0, 0, 1)",animation:150,group:"shared",onEnd:function(e){P()},onAdd:function(e){},onStart:function(e){e.oldIndex}});var u=document.querySelector(".repeater-fields-group");if(u&&r.default.create(u,{handle:".repeater-sort-handle",easing:"cubic-bezier(1, 0, 0, 1)",animation:150,onEnd:function(e){!function(){var e=document.getElementById("object-form");if(e){var t=new FormData(e),n=e.getAttribute("action");A.post(n,t).then((function(e){})).catch((function(e){console.log("sort error")}))}}()},onAdd:function(e){},onStart:function(e){e.oldIndex}}),E(".repeater-fields-group").on("click",".repeater-group-toggle",(function(e){e.preventDefault(),E(this).toggleClass("open"),E(this).parent().next(".repeater-fields-group-row").toggleClass("open")})),E(".repeater-fields-group").on("click",".delete-repeater-row",(function(e){e.preventDefault();var t=E(this).attr("data-repeater-row-id"),n=E(this);if(t.length){var r=new FormData;r.append("_method","delete"),A.post("/admin/custom-fields/field-group-remove/"+t,r).then((function(e){n.parent().parent().remove()})).catch((function(e){console.log("delete error")}))}else n.parent().parent().remove()})),o)r.default.create(o,{handle:".field-sort",easing:"cubic-bezier(1, 0, 0, 1)",animation:150,group:"shared",onEnd:function(e){var t,n,r;t=document.getElementById("form-fields"),n=new FormData(t),r=E("#form-id").val(),A.post("/admin/form-fields/"+r+"/sort",n).then((function(e){})).catch((function(e){console.log("sort error")}))},onAdd:function(e){},onStart:function(e){e.oldIndex}});if(a){r.default.create(a,{handle:".field-sort",easing:"cubic-bezier(1, 0, 0, 1)",animation:150,group:"shared",onEnd:function(e){P()},onAdd:function(e){},onStart:function(e){e.oldIndex}});V()}var c,l=document.querySelector(".menu-items-drag"),f=E(".current-menu-items ul");if(l)r.default.create(f,{easing:"cubic-bezier(1, 0, 0, 1)",animation:150,group:"shared",onEnd:function(e){},onAdd:function(e){},onStart:function(e){e.oldIndex}});E(".field-type").click((function(e){e.preventDefault(),B(E(this).attr("data-type"),0)})),E("body").on("click",".clear-featured-image",(function(e){e.preventDefault(),E("#featured-image").val(""),E("#featured-image-preview").html("")})),E("body").on("click",".clear-lfm-image",(function(e){e.preventDefault();var t=E(this).attr("data-input-id"),n=E(this).attr("data-preview-id");E("#"+t).val(""),E("#"+n).html("")})),E("body").on("click",".clear-lfm-gallery-image",(function(e){e.preventDefault();var t=E(this).attr("data-gallery-image-id");E('input[data-gallery-image-id="'+t+'"]').remove(),E('div[data-gallery-image-id="'+t+'"]').remove()})),E("body").on("click",".clear-social-image",(function(e){e.preventDefault(),E("#social-image").val(""),E("#social-image-preview").html("")})),E("#item-type").change((function(){var e=E(this).val();e.length&&(E(".menu-item-type").hide(),E("#item-"+e+"-group").css("display","flex"),"taxonomy_term"===e&&E("#item-taxonomy-id-group").css("display","flex"))})),E("#item-taxonomy-id").change((function(){if("taxonomy_term"===E("#item-type").val()&&""!==E(this).val()){E(this).val();var e=new FormData;e.append("id",E(this).val()),A.post("/admin/menu-items/taxonomy-terms",e).then((function(e){var t="";e.data.terms.length>0&&(e.data.terms.forEach((function(e){t+='<option value="'+e.url+'">'+e.title+"</option>"})),E("#item-taxonomy-term").attr("disabled",!1),E("#item-taxonomy-term").html(t))})).catch((function(e){console.log("delete error")}))}})),f.each((function(e,t){c=r.default.create(t,{easing:"cubic-bezier(1, 0, 0, 1)",animation:150,ghostClass:"blue-background-class",group:"shared",onEnd:function(e){L()},onAdd:function(e){},onStart:function(e){e.oldIndex},fallbackOnBody:!0,swapThreshold:.85})})),E("#add-menu-item-btn").click((function(e){e.preventDefault();var t=E("#item-type").val(),n=E("#item-name").val();if(0===n.length)return!1;var r=E("#item-target").val(),o="",i="";if(t.length&&n.length){switch(t){case"url":i=E("#item-url").val();break;case"page":i=E("#item-page").val();break;case"entry_type":i="/"+E("#item-entry-type").val();break;case"entry":var a=E("#item-entry").val().split(":");i="/"+a[0]+"/"+a[1];break;case"taxonomy":i=E("#item-taxonomy").val();break;case"taxonomy_term":i=E("#item-taxonomy-term").val();break;case"file":i=E("#item-input-file").val()}if("taxonomy_term"===t&&""===E("#item-taxonomy-term").val())return!1;o='<li data-type="'+t+'" data-target="'+r+'" data-title="'+n+'" data-url="'+i+'">'+n+'<div class="menu-url">URL: '+i+'</div><a class="remove-menu-item" href="/">&times;</a><ul class="nested"></ul></li>',E(".menu-items-drop").append(o),c.options.onEnd(this),V()}})),E(".menu-items-drop").on("click",".remove-menu-item",(function(e){e.preventDefault(),E(this).parent().remove(),L()})),E(".fields-list").on("keyup",".field-label",(function(){var e=E(this).val(),t=this.id.split("-")[1],n=_(e,{replacement:"_"});E("#name-"+t).val(n)})),E(".fields-list").on("click",".collapse-field-row",(function(e){e.preventDefault();var t=E(this).attr("data-row-id");E("#field-group-"+t).toggle(),E(this).toggleClass("close")})),E(".fields-list").on("click",".remove-field-row",(function(e){e.preventDefault();var t=E(this).attr("data-row-id"),n=E(this).attr("data-repeater"),r=new FormData;r.append("id",t),r.append("_method","delete"),r.append("repeater",n),A.post("/admin/custom-fields/field",r).then((function(e){E("#"+t).remove()})).catch((function(e){console.log("delete error")}))})),E(".form-fields-list").on("keyup",".field-label",(function(){var e=E(this).val(),t=this.id.split("-")[1],n=_(e,{replacement:"_"});E("#name-"+t).val(n)})),E(".form-fields-list").on("click",".collapse-field-row",(function(e){e.preventDefault();var t=E(this).attr("data-row-id");E("#field-group-"+t).toggle(),E(this).toggleClass("close")})),E(".form-fields-list").on("click",".remove-field-row",(function(e){e.preventDefault();var t=E(this).attr("data-row-id");if(E(this).attr("data-row-current")){var n=new FormData;n.append("id",t),n.append("_method","delete"),A.post("/admin/form/field",n).then((function(e){E("#"+t).remove()})).catch((function(e){console.log("delete error")}))}else E("#"+t).remove()})),E(".fields-list").on("click",".fields-drop-down",(function(){E(this).toggleClass("open")})),E(".main-fields-dropdown").on("click",".fields-drop-down",(function(){E(this).toggleClass("open")})),E(".main-fields-dropdown").on("click",".form-fields-drop-down",(function(){E(this).toggleClass("open")})),E(".form-field-type").click((function(e){e.preventDefault(),function(e){var t=I(),n='<li id="'+t+'" data-row-id="'+t+'">';switch(n+='<div class="field-type-row" data-row-id="'+t+'">',e){case"text":n+='<div class="field-row">',n+='<div class="field-sort"><i class="far fa-sort"></i></div><div class="field-type-title">Text</div><div class="field-row-options"><a class="collapse-field-row" href="/" data-row-id="'+t+'"><i class="fas fa-angle-down"></i></a> <a class="remove-field-row"  data-row-id="'+t+'" href="/">&times;</a></div>',n+="</div>",n+='<div id="field-group-'+t+'" class="field-group" data-row-id="'+t+'">',n+='<div class="field-row">',n+='<div class="label-col">Field Label</div>',n+='<div class="field-col"><input id="label-'+t+'" class="field-label" type="text" name="field_label['+t+']" required><input type="hidden" name="field_type['+t+']" value="text"></div>',n+="</div>",n+='<div class="field-row">',n+='<div class="label-col">Field Name</div>',n+='<div class="field-col"><input id="name-'+t+'" type="text" name="field_name['+t+']" required></div>',n+="</div>",n+='<div class="field-row">',n+='<div class="label-col">Required</div>',n+='<div class="field-col"><label><input type="radio" name="field_required['+t+']" value="1"> Yes</label> <label><input type="radio" name="field_required['+t+']" checked value="0"> No</label></div>',n+="</div>",n+="</div>";break;case"email":n+='<div class="field-row">',n+='<div class="field-sort"><i class="far fa-sort"></i></div><div class="field-type-title">Email</div><div class="field-row-options"><a class="collapse-field-row" href="/" data-row-id="'+t+'"><i class="fas fa-angle-down"></i></a> <a class="remove-field-row" data-row-id="'+t+'" href="/">&times;</a></div>',n+="</div>",n+='<div id="field-group-'+t+'" class="field-group" data-row-id="'+t+'">',n+='<div class="field-row">',n+='<div class="label-col">Field Label</div>',n+='<div class="field-col"><input id="label-'+t+'" class="field-label" type="text" name="field_label['+t+']" required><input type="hidden" name="field_type['+t+']" value="email"></div>',n+="</div>",n+='<div class="field-row">',n+='<div class="label-col">Field Name</div>',n+='<div class="field-col"><input id="name-'+t+'" type="text" name="field_name['+t+']" required></div>',n+="</div>",n+='<div class="field-row">',n+='<div class="label-col">Required</div>',n+='<div class="field-col"><label><input type="radio" name="field_required['+t+']" value="1"> Yes</label> <label><input type="radio" name="field_required['+t+']" checked value="0"> No</label></div>',n+="</div>",n+="</div>";break;case"number":n+='<div class="field-row">',n+='<div class="field-sort"><i class="far fa-sort"></i></div><div class="field-type-title">Number</div><div class="field-row-options"><a class="collapse-field-row" href="/" data-row-id="'+t+'"><i class="fas fa-angle-down"></i></a> <a class="remove-field-row" data-row-id="'+t+'" href="/">&times;</a></div>',n+="</div>",n+='<div id="field-group-'+t+'" class="field-group" data-row-id="'+t+'">',n+='<div class="field-row">',n+='<div class="label-col">Field Label</div>',n+='<div class="field-col"><input id="label-'+t+'" class="field-label" type="text" name="field_label['+t+']" required><input type="hidden" name="field_type['+t+']" value="number"></div>',n+="</div>",n+='<div class="field-row">',n+='<div class="label-col">Field Name</div>',n+='<div class="field-col"><input id="name-'+t+'" type="text" name="field_name['+t+']" required></div>',n+="</div>",n+='<div class="field-row">',n+='<div class="label-col">Required</div>',n+='<div class="field-col"><label><input type="radio" name="field_required['+t+']" value="1"> Yes</label> <label><input type="radio" name="field_required['+t+']" checked value="0"> No</label></div>',n+="</div>",n+="</div>";break;case"decimal":n+='<div class="field-row">',n+='<div class="field-sort"><i class="far fa-sort"></i></div><div class="field-type-title">Decimal</div><div class="field-row-options"><a class="collapse-field-row" href="/" data-row-id="'+t+'"><i class="fas fa-angle-down"></i></a> <a class="remove-field-row" data-row-id="'+t+'" href="/">&times;</a></div>',n+="</div>",n+='<div id="field-group-'+t+'" class="field-group" data-row-id="'+t+'">',n+='<div class="field-row">',n+='<div class="label-col">Field Label</div>',n+='<div class="field-col"><input id="label-'+t+'" class="field-label" type="text" name="field_label['+t+']" required><input type="hidden" name="field_type['+t+']" value="number"></div>',n+="</div>",n+='<div class="field-row">',n+='<div class="label-col">Field Name</div>',n+='<div class="field-col"><input id="name-'+t+'" type="text" name="field_name['+t+']" required></div>',n+="</div>",n+='<div class="field-row">',n+='<div class="label-col">Required</div>',n+='<div class="field-col"><label><input type="radio" name="field_required['+t+']" value="1"> Yes</label> <label><input type="radio" name="field_required['+t+']" checked value="0"> No</label></div>',n+="</div>",n+="</div>";break;case"textarea":n+='<div class="field-row">',n+='<div class="field-sort"><i class="far fa-sort"></i></div><div class="field-type-title">Multi-line Text</div><div class="field-row-options"><a class="collapse-field-row" href="/" data-row-id="'+t+'"><i class="fas fa-angle-down"></i></a> <a class="remove-field-row" data-row-id="'+t+'" href="/">&times;</a></div>',n+="</div>",n+='<div id="field-group-'+t+'" class="field-group" data-row-id="'+t+'">',n+='<div class="field-row">',n+='<div class="label-col">Field Label</div>',n+='<div class="field-col"><input id="label-'+t+'" class="field-label" type="text" name="field_label['+t+']" required><input type="hidden" name="field_type['+t+']" value="textarea"></div>',n+="</div>",n+='<div class="field-row">',n+='<div class="label-col">Field Name</div>',n+='<div class="field-col"><input id="name-'+t+'" type="text" name="field_name['+t+']" required></div>',n+="</div>",n+='<div class="field-row">',n+='<div class="label-col">Required</div>',n+='<div class="field-col"><label><input type="radio" name="field_required['+t+']" value="1"> Yes</label> <label><input type="radio" name="field_required['+t+']" checked value="0"> No</label></div>',n+="</div>",n+="</div>";break;case"date":n+='<div class="field-row">',n+='<div class="field-sort"><i class="far fa-sort"></i></div><div class="field-type-title">Date</div><div class="field-row-options"><a class="collapse-field-row" href="/" data-row-id="'+t+'"><i class="fas fa-angle-down"></i></a> <a class="remove-field-row" data-row-id="'+t+'" href="/">&times;</a></div>',n+="</div>",n+='<div id="field-group-'+t+'" class="field-group" data-row-id="'+t+'">',n+='<div class="field-row">',n+='<div class="label-col">Field Label</div>',n+='<div class="field-col"><input id="label-'+t+'" class="field-label" type="text" name="field_label['+t+']" required><input type="hidden" name="field_type['+t+']" value="date"></div>',n+="</div>",n+='<div class="field-row">',n+='<div class="label-col">Field Name</div>',n+='<div class="field-col"><input id="name-'+t+'" type="text" name="field_name['+t+']" required></div>',n+="</div>",n+='<div class="field-row">',n+='<div class="label-col">Required</div>',n+='<div class="field-col"><label><input type="radio" name="field_required['+t+']" value="1"> Yes</label> <label><input type="radio" name="field_required['+t+']" checked value="0"> No</label></div>',n+="</div>",n+="</div>";break;case"file":n+='<div class="field-row">',n+='<div class="field-sort"><i class="far fa-sort"></i></div><div class="field-type-title">File Upload</div><div class="field-row-options"><a class="collapse-field-row" href="/" data-row-id="'+t+'"><i class="fas fa-angle-down"></i></a> <a class="remove-field-row" data-row-id="'+t+'" href="/">&times;</a></div>',n+="</div>",n+='<div id="field-group-'+t+'" class="field-group" data-row-id="'+t+'">',n+='<div class="field-row">',n+='<div class="label-col">Field Label</div>',n+='<div class="field-col"><input id="label-'+t+'" class="field-label" type="text" name="field_label['+t+']" required><input type="hidden" name="field_type['+t+']" value="file"></div>',n+="</div>",n+='<div class="field-row">',n+='<div class="label-col">Field Name</div>',n+='<div class="field-col"><input id="name-'+t+'" type="text" name="field_name['+t+']" required></div>',n+="</div>",n+='<div class="field-row">',n+='<div class="label-col">Multiple Files</div>',n+='<div class="field-col"><label><input type="radio" name="field_multiple['+t+']"value="1"> Yes</label> <label><input type="radio" name="field_multiple['+t+']" checked value="0"> No</label></div>',n+="</div>",n+='<div class="field-row">',n+='<div class="label-col">Allowed Files Types</div>',n+='<div class="field-col"><label><input type="text" name="field_filetypes['+t+']" value="*"></div>',n+="</div>",n+='<div class="field-row">',n+='<div class="label-col">Required</div>',n+='<div class="field-col"><label><input type="radio" name="field_required['+t+']" value="1"> Yes</label> <label><input type="radio" name="field_required['+t+']" checked value="0"> No</label></div>',n+="</div>",n+="</div>";break;case"image":n+='<div class="field-row">',n+='<div class="field-sort"><i class="far fa-sort"></i></div><div class="field-type-title">Image Upload</div><div class="field-row-options"><a class="collapse-field-row" href="/" data-row-id="'+t+'"><i class="fas fa-angle-down"></i></a> <a class="remove-field-row" data-row-id="'+t+'" href="/">&times;</a></div>',n+="</div>",n+='<div id="field-group-'+t+'" class="field-group" data-row-id="'+t+'">',n+='<div class="field-row">',n+='<div class="label-col">Field Label</div>',n+='<div class="field-col"><input id="label-'+t+'" class="field-label" type="text" name="field_label['+t+']" required><input type="hidden" name="field_type['+t+']" value="image"></div>',n+="</div>",n+='<div class="field-row">',n+='<div class="label-col">Field Name</div>',n+='<div class="field-col"><input id="name-'+t+'" type="text" name="field_name['+t+']" required></div>',n+="</div>",n+='<div class="field-row">',n+='<div class="label-col">Multiple Files</div>',n+='<div class="field-col"><label><input type="radio" name="field_multiple['+t+']" value="1"> Yes</label> <label><input type="radio" name="field_multiple['+t+']" checked value="0"> No</label></div>',n+="</div>",n+='<div class="field-row">',n+='<div class="label-col">Allowed Image Types</div>',n+='<div class="field-col"><label><input type="text" name="field_filetypes['+t+']" value="*"></div>',n+="</div>",n+='<div class="field-row">',n+='<div class="label-col">Required</div>',n+='<div class="field-col"><label><input type="radio" name="field_required['+t+']" value="1"> Yes</label> <label><input type="radio" name="field_required['+t+']" checked value="0"> No</label></div>',n+="</div>",n+="</div>";break;case"checkbox":n+='<div class="field-row">',n+='<div class="field-sort"><i class="far fa-sort"></i></div><div class="field-type-title">Checkboxes</div><div class="field-row-options"><a class="collapse-field-row" href="/" data-row-id="'+t+'"><i class="fas fa-angle-down"></i></a> <a class="remove-field-row" data-row-id="'+t+'" href="/">&times;</a></div>',n+="</div>",n+='<div id="field-group-'+t+'" class="field-group" data-row-id="'+t+'">',n+='<div class="field-row">',n+='<div class="label-col">Field Label</div>',n+='<div class="field-col"><input id="label-'+t+'" class="field-label" type="text" name="field_label['+t+']" required><input type="hidden" name="field_type['+t+']" value="checkbox"></div>',n+="</div>",n+='<div class="field-row">',n+='<div class="label-col">Field Name</div>',n+='<div class="field-col"><input id="name-'+t+'" type="text" name="field_name['+t+']" required></div>',n+="</div>",n+='<div class="field-row">',n+='<div class="label-col">Checkboxes</div>',n+='<div class="field-col"><textarea name="field_options['+t+']" placeholder="Label:value"></textarea><span class="notes">Enter each checkbox setup on a new line. Example:<br>Label:value<br>Label:value</span></div>',n+="</div>",n+='<div class="field-row">',n+='<div class="label-col">Required</div>',n+='<div class="field-col"><label><input type="radio" name="field_required['+t+']" value="1"> Yes</label> <label><input type="radio" name="field_required['+t+']" checked value="0"> No</label></div>',n+="</div>",n+="</div>";break;case"radio":n+='<div class="field-row">',n+='<div class="field-sort"><i class="far fa-sort"></i></div><div class="field-type-title">Radios</div><div class="field-row-options"><a class="collapse-field-row" href="/" data-row-id="'+t+'"><i class="fas fa-angle-down"></i></a> <a class="remove-field-row" data-row-id="'+t+'" href="/">&times;</a></div>',n+="</div>",n+='<div id="field-group-'+t+'" class="field-group" data-row-id="'+t+'">',n+='<div class="field-row">',n+='<div class="label-col">Field Label</div>',n+='<div class="field-col"><input id="label-'+t+'" class="field-label" type="text" name="field_label['+t+']" required><input type="hidden" name="field_type['+t+']" value="radio"></div>',n+="</div>",n+='<div class="field-row">',n+='<div class="label-col">Field Name</div>',n+='<div class="field-col"><input id="name-'+t+'" type="text" name="field_name['+t+']" required></div>',n+="</div>",n+='<div class="field-row">',n+='<div class="label-col">Radios</div>',n+='<div class="field-col"><textarea name="field_options['+t+']" placeholder="Label:value"></textarea><span class="notes">Enter each radio setup on a new line. Example:<br>Label:value<br>Label:value</span></div>',n+="</div>",n+='<div class="field-row">',n+='<div class="label-col">Required</div>',n+='<div class="field-col"><label><input type="radio" name="field_required['+t+']" value="1"> Yes</label> <label><input type="radio" name="field_required['+t+']" checked value="0"> No</label></div>',n+="</div>",n+="</div>";break;case"select":n+='<div class="field-row">',n+='<div class="field-sort"><i class="far fa-sort"></i></div><div class="field-type-title">Dropdown</div><div class="field-row-options"><a class="collapse-field-row" href="/" data-row-id="'+t+'"><i class="fas fa-angle-down"></i></a> <a class="remove-field-row" data-row-id="'+t+'" href="/">&times;</a></div>',n+="</div>",n+='<div id="field-group-'+t+'" class="field-group" data-row-id="'+t+'">',n+='<div class="field-row">',n+='<div class="label-col">Field Label</div>',n+='<div class="field-col"><input id="label-'+t+'" class="field-label" type="text" name="field_label['+t+']" required><input type="hidden" name="field_type['+t+']" value="select"></div>',n+="</div>",n+='<div class="field-row">',n+='<div class="label-col">Field Name</div>',n+='<div class="field-col"><input id="name-'+t+'" type="text" name="field_name['+t+']" required></div>',n+="</div>",n+='<div class="field-row">',n+='<div class="label-col">Options</div>',n+='<div class="field-col"><textarea name="field_options['+t+']" placeholder="Label:value"></textarea><span class="notes">Enter each option setup on a new line. Example:<br>Label:value<br>Label:value</span></div>',n+="</div>",n+='<div class="field-row">',n+='<div class="label-col">Empty First Option?</div>',n+='<div class="field-col"><label><input type="radio" name="field_firstoption['+t+']" value="1"> Yes</label> <label><input type="radio" name="field_firstoption['+t+']" checked value="0"> No</label></div>',n+="</div>",n+='<div class="field-row">',n+='<div class="label-col">Select Multiple</div>',n+='<div class="field-col">',n+='<label><input type="radio" name="field_select_multiple['+t+']" value="1"> Yes</label>',n+='<label><input type="radio" name="field_select_multiple['+t+']" checked value="0"> No</label>',n+="</div>",n+="</div>",n+='<div class="field-row">',n+='<div class="label-col">Required</div>',n+='<div class="field-col"><label><input type="radio" name="field_required['+t+']" value="1"> Yes</label> <label><input type="radio" name="field_required['+t+']" checked value="0"> No</label></div>',n+="</div>",n+="</div>"}n+="</div>",n+="</li>",E(".form-fields-list").append(n)}(E(this).attr("data-type"))})),E(".fields-list").on("click",".fields-drop-down ul li",(function(){B(E(this).attr("data-type"),E(this).attr("data-id"))}));var d=null,p=null,m=null;E(".rule-category-select").on("select2:select",(function(e){var t=e.params.data;if(t.id.length>0){if(d=t.id,E(".rule-category-type-select").select2("data",null),E(".rule-category-type-select").empty(),m=null,"entries"===t.id){E(".rule-category-type-select").prop("disabled",!1);var n=new Option("Choose entry type","",!1,!1);E(".rule-category-type-select").prepend(n).trigger("change"),A.get("/admin/custom-fields/entry-types").then((function(e){e.data.entry_types.forEach((function(e){var t=new Option(e.entry_type,e.slug,!1,!1);E(".rule-category-type-select").append(t).trigger("change")}))})).catch((function(e){console.log("entry types error")}))}if("taxonomy"===t.id){E(".rule-category-type-select").prop("disabled",!1);n=new Option("Choose taxonomy type","",!1,!1);E(".rule-category-type-select").prepend(n).trigger("change");n=new Option("All","*",!1,!1);E(".rule-category-type-select").append(n).trigger("change"),A.get("/admin/custom-fields/taxonomy-types").then((function(e){e.data.taxonomy_types.forEach((function(e){var t=new Option(e.title,e.slug,!1,!1);E(".rule-category-type-select").append(t).trigger("change")}))})).catch((function(e){console.log("entry types error")}));n=new Option("Skip this step","",!1,!1);E(".rule-category-specific-select").empty(),E(".rule-category-specific-select").prepend(n).trigger("change"),E(".rule-category-specific-select").prop("disabled",!0)}if("pages"===t.id){E(".rule-category-type-select").prop("disabled",!0);n=new Option("Skip this step","",!1,!1);E(".rule-category-type-select").prepend(n).trigger("change"),E(".rule-category-specific-select").empty(),E(".rule-category-specific-select").prop("disabled",!1),p=null,E(".add-rule-btn").prop("disabled",!1);n=new Option("All","*",!1,!1);E(".rule-category-specific-select").prepend(n).trigger("change"),A.get("/admin/custom-fields/pages").then((function(e){e.data.pages.forEach((function(e){var t=new Option(e.title,e.title+"|"+e.id,!1,!1);E(".rule-category-specific-select").append(t).trigger("change")}))})).catch((function(e){console.log("entry types error")}))}if("products"===t.id){E(".rule-category-type-select").prop("disabled",!0);n=new Option("Skip this step","",!1,!1);E(".rule-category-type-select").prepend(n).trigger("change"),E(".rule-category-specific-select").empty(),E(".rule-category-specific-select").prop("disabled",!1),p=null,E(".add-rule-btn").prop("disabled",!1);n=new Option("All","*",!1,!1);E(".rule-category-specific-select").prepend(n).trigger("change")}t.id}else d=null,E(".add-rule-btn").prop("disabled",!0),E(".rule-category-type-select").prop("disabled",!0)})),E(".rule-category-type-select").on("select2:select",(function(e){var t=e.params.data;if(t.id.length>0){p=t.id,E(".add-rule-btn").prop("disabled",!1),E(".rule-category-specific-select").select2("data",null),E(".rule-category-specific-select").empty(),E(".rule-category-specific-select").prop("disabled",!1);var n=new Option("All","*",!1,!1);if(E(".rule-category-specific-select").prepend(n).trigger("change"),"entries"===d&&A.get("/admin/custom-fields/entry-type?entry_type="+p).then((function(e){e.data.entry_types.forEach((function(e){var t=new Option(e.title,e.title+"|"+e.id,!1,!1);E(".rule-category-specific-select").append(t).trigger("change")}))})).catch((function(e){console.log("entry types error")})),"taxonomy"===d){n=new Option("Skip this step","",!1,!1);E(".rule-category-specific-select").empty(),E(".rule-category-specific-select").prepend(n).trigger("change"),E(".rule-category-specific-select").prop("disabled",!0)}}else p=null,E(".add-rule-btn").prop("disabled",!0),E(".rule-category-specific-select").prop("disabled",!0)})),E(".rule-category-specific-select").on("select2:select",(function(e){var t=e.params.data;t.id.length>0?(m=t.id,E(".add-rule-btn").prop("disabled",!1)):E(".add-rule-btn").prop("disabled",!0)})),E(".rule-category-select").select2({minimumResultsForSearch:-1,width:"100%"}),E(".rule-category-type-select").select2({width:"100%"}),E(".rule-category-specific-select").select2({width:"100%"}),E(".object-term-checkbox").change((function(){if(!E(this).is(":checked")){var e=E(this).attr("data-object-type"),t=E(this).attr("data-entry-id"),n=E(this).attr("data-taxonomy-type"),r=E(this).attr("data-term-id"),o=new FormData;o.append("object_type",e),o.append("object_id",t),o.append("taxonomy_type_id",n),o.append("term_id",r),A.post("/admin/entry/terms/remove",o).then((function(e){})).catch((function(e){console.log("error")}))}})),E(".has-dropdown > a").click((function(e){E("body").hasClass("menu-open")&&(e.preventDefault(),E(this).parent().toggleClass("open"),E(this).toggleClass("open"),E(this).siblings("ul").toggleClass("open"))})),E(".add-rule-btn").click((function(){m||(m="*");var e=m.split("|"),t="*"===e[0]?"All":e[0],n=p+": ";p||(n="");var r=E("#group-id").length?E("#group-id").val():0;if(r.length){var o=new FormData;o.append("group_id",r),o.append("rule_category",d),o.append("rule_category_type",p),o.append("rule_category_specific",m),A.post("/admin/custom-fields/group-rules",o).then((function(e){var r='<li id="ruleid-'+e.data.id+'">';r+="<div>"+d+"</div><div>"+n+t+'</div><div><a class="delete-custom-field-rule" data-id="'+e.data.id+'" href="/">&minus;</a></div>',r+="</li>",E(".rules-list").append(r)})).catch((function(e){console.log("rule error")}))}else{var i="<li>";i+="<div>"+d+"</div><div>"+n+t+'</div><div><a class="delete-custom-field-rule" data-id="" href="/">&minus;</a></div>',i+="</li>",i+='<input type="hidden" name="rules[]" value="'+(d+":"+p+":"+m)+'">',E(".rules-list").append(i)}})),E(".tabs a").click((function(e){e.preventDefault(),E(".tabs a").removeClass("active"),E(this).addClass("active");var t=E(this).attr("href");E(".tab-content").removeClass("active"),E(t).addClass("active")})),E(".rules-list").on("click",".delete-custom-field-rule",(function(e){e.preventDefault();var t=E(this).attr("data-id"),n=new FormData;n.append("_method","delete"),n.append("id",t),A.post("/admin/custom-fields/rule",n).then((function(e){E("#ruleid-"+t).remove()})).catch((function(e){console.log("Featured product error")}))})),E(".add-repeater-row-btn").click((function(e){e.preventDefault();var t=E(this).attr("data-id"),n=E("#repeater-set"+t+" > .repeater-fields-container").clone();E(n).find("input").prop("disabled",!1),E(n).find("textarea").prop("disabled",!1),E(n).find("select").prop("disabled",!1),E(n).find("radio").prop("disabled",!1),E(n).find("checkbox").prop("disabled",!1);var r=I(),o=E(n).find("input"),i=E(n).find("textarea"),a=E(n).find("select"),u=E(n).find("radio"),c=E(n).find("checkbox");E(n).find(".delete-repeater-row").attr("data-repeater-row-id",r);var l=I(),f=E(n).find("[data-lfm]"),d=E(n).find("[data-lfm-input]"),p=E(n).find("[data-lfm-holder]");o.each((function(e){var t=I(),n=E(o[e]).attr("name");E(o[e]).attr("name",n+"["+r+"]["+t+"]")})),i.each((function(e){var t=I(),n=E(i[e]).attr("name");E(i[e]).attr("name",n+"["+r+"]["+t+"]"),"editor"===E(i[e]).attr("data-type")&&E(i[e]).addClass("editor")})),a.each((function(e){var t=I(),n=E(a[e]).attr("name");E(a[e]).attr("name",n+"["+r+"]["+t+"]")}));var m=I();u.each((function(e){var t=E(u[e]).attr("name");E(u[e]).attr("name",t+"["+r+"]["+m+"]")})),c.each((function(e){var t=I(),n=E(c[e]).attr("name");E(c[e]).attr("name",n+"["+r+"]["+t+"]")})),E(f).attr("data-input","lfm-input"+l),E(f).attr("data-preview","lfm-holder"+l),E(f).attr("data-multiple","0"),E(d).attr("id","lfm-input"+l),E(p).attr("id","lfm-holder"+l),E("#repeater-fields-group"+t).append(n),s.a.remove(),setTimeout((function(){s.a.init(R)}),1e3)}));var h=document.querySelector(".to-slug"),g=document.querySelector(".slug-input");h&&h.addEventListener("keyup",(function(e){var t=e.target.value,n=_(t);g.value=n})),E(".delete-btn, .delete-object").click((function(e){e.preventDefault();var t=E(this);i.a.fire({title:"Delete",text:"Are you sure you want to delete this?",type:"warning",showCancelButton:!0,confirmButtonColor:"#333",cancelButtonColor:"#ccc",confirmButtonText:"Yes, delete!"}).then((function(e){"cancel"!==e.dismiss&&t.parent().submit()}))})),E(".delete-btn-taxonomy").click((function(e){e.preventDefault();var t=E(this);i.a.fire({title:"Delete",text:"Are you sure you want to delete this? Deleting this will orphan anything currently attached to it.",type:"warning",showCancelButton:!0,confirmButtonColor:"#333",cancelButtonColor:"#ccc",confirmButtonText:"Yes, delete!"}).then((function(e){"cancel"!==e.dismiss&&t.parent().submit()}))})),E(".destroy-btn").click((function(e){var t=E(this).attr("href");e.preventDefault(),i.a.fire({title:"Destroy",text:"Are you sure you want to permently delete this?",type:"warning",showCancelButton:!0,confirmButtonColor:"#333",cancelButtonColor:"#ccc",confirmButtonText:"Yes, destroy!"}).then((function(e){"cancel"!==e.dismiss&&(window.location.href=t)}))})),N.on("drag dragstart dragend dragover dragenter dragleave drop",(function(e){e.preventDefault(),e.stopPropagation()})).on("dragover dragenter",(function(){N.addClass("is-dragover")})).on("dragleave dragend drop",(function(){N.removeClass("is-dragover")})).on("drop",(function(e){e.originalEvent.dataTransfer.files,z(document.getElementById("media-file")),uploadProductFile()})),E(".media-list").on("click",".del-product-image",(function(e){e.preventDefault();var t=E(this).attr("data-media-id"),n=E(this);A.get("/site-admin/product-media/delete/"+t).then((function(e){n.parent().remove()})).catch((function(e){}))}));var v=document.querySelector(".add-variation-row");v&&v.addEventListener("click",(function(e){e.preventDefault(),addVarRow()})),E(".variation-rows").on("click",".del-variation",(function(e){e.preventDefault(),delVarRow(E(this))})),E(".change-editor").click((function(e){var t=this;e.preventDefault();var n=E(".change-editor"),r=E(this).attr("data-editor-type"),o=E("input:radio[name=editor_type]");i.a.fire({title:"Change Content Editor",text:"Please save your changes before changing the content editor. Formatting issues could occur when changing editor types. When going from legacy editor to block editor, blocks cannot be resolved.",type:"warning",showCancelButton:!0,confirmButtonColor:"#333",cancelButtonColor:"#ccc",confirmButtonText:"Continue"}).then((function(e){"cancel"!==e.dismiss&&(n.each((function(e,t){E(t).removeClass("active")})),E(t).addClass("active"),o.each((function(e,t){E(t).val()===r?E(t).attr("checked",!0):E(t).attr("checked",!1)})),document.getElementById("object-form").submit())}))}))}));var q=document.querySelector("#block-editor"),W={p:"p",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",div:"div",section:"section",blockquote:"blockquote",span:"span",ul:"ul",ol:"ol"};if(q){"undefined"!=typeof blocks&&blocks.forEach((function(e){O.component(e.name,{props:["block","blockIndex"],template:e.template,components:{"tinymce-editor":S,draggable:d.a},data:function(){return{bIndex:0,groupIndex:0,fieldIndex:0,valueIndex:0,tag:W}},computed:{},methods:{chooseBlockImage:function(e,t,n){this.bIndex=e,this.groupIndex=t,this.valueIndex=n,fm.fileType="image",fm.standaloneMode=!1,fm.selectionMode=!0,fm.callback=!0,fm.isBlockEditor=!0,fm.backgroundImage=!0,fm.multiple=!1,fm.boot(),fm.showFileManager(),window.addEventListener("message",this.setBlockImage,!1)},setBlockImage:function(e){e.data.hasOwnProperty("blockAction")&&e.data.blockAction&&(this.$root.currentBlocks[this.bIndex].field_groups[this.groupIndex].fields[this.valueIndex].value=e.data.content,window.removeEventListener("message",this.setBlockImage,!1))},getOption:function(e,t){var n="";return e.options.forEach((function(e){e.name===t&&(n=e.value)})),n}}})})),O.component("block-item-actions",{props:["blockItem","blockIndex"],mixins:[T.mixin],data:function(){return{showBlockItemOptions:!1}},methods:{removeBlockItem:function(){this.$root.currentBlocks[this.blockIndex].field_groups.splice(this.$root.currentBlocks[this.blockIndex].field_groups.indexOf(this.blockItem),1),0===this.$root.currentBlocks[this.blockIndex].field_groups.length&&this.$root.currentBlocks.splice(this.$root.currentBlocks[this.blockIndex],1)}},template:'<div>\n                <div class="block-item-options">\n                <div class="inner">\n                    <span v-if="$root.currentBlocks[blockIndex].field_groups.length > 1" class="block-item-drag-handle"><i class="fas fa-grip-horizontal"></i></span>\n                    <a href="#" class="block-item-options-toggle" @click.prevent="blockItem.showBlockItemOptions = !blockItem.showBlockItemOptions" role="button">\n                        <i class="fal fa-ellipsis-h-alt"></i>\n                    </a>\n                </div>\n            </div>\n            <div v-if="blockItem.showBlockItemOptions" class="block-item-options-list" v-cloak>\n                        <div v-for="option in blockItem.options">\n                            <div v-if="option.type === \'text\' " class="bi-option-item">\n                                <label><span>{{ option.label }}</span>\n                                    <div class="block-item-option-value-col">\n                                        <input type="text" v-model="option.value">\n                                    </div>\n                                </label>\n                            </div>\n                            <div v-if="option.type === \'dropdown\' " class="bi-option-item">\n                                <label><span>{{ option.label }}</span>\n                                    <div class="select-wrapper">\n                                        <select v-model="option.value">\n                                            <option value="">Choose ...</option>\n                                            <option v-for="opt in option.options" :value="opt.value">{{ opt.label }}</option>\n                                        </select>\n                                    </div>\n                                </label>\n                            </div>\n                            <div v-if="option.type === \'color\' " class="bi-option-item">\n                                <label><span>{{ option.label }}</span>\n                                    <div class="block-item-option-value-col">\n                                        <input type="color" v-model="option.value">\n                                    </div>\n                                </label>\n                            </div>\n                        </div>\n                        <div class="bi-delete-item">\n                            <a href="#" class="delete-block-item" @click.prevent="removeBlockItem(blockItem)">Delete Block Item</a>\n                        </div>\n                    </div>\n                </div>'}),O.component("child-block-chooser",{props:["field"],mixins:[T.mixin],data:function(){return{showBlockPicker:!1,blocks:blocks}},methods:{addChildBlock:function(e){console.log("Add child block"),this.showBlockPicker=!1,void 0===this.field.blocks&&(this.field.blocks=[]),this.field.blocks.push(e)}},mounted:function(){console.log("mounted child block chooser")},template:'<div>\n                <a href="#" class="child-block-chooser-toggle" @click.prevent="showBlockPicker = !showBlockPicker" role="button"><i class="fal fa-plus"></i></a>\n                <div class="child-block-chooser" v-if="showBlockPicker" v-cloak>\n                    <a href="#" class="block-append-btn" v-for="newblock in blocks" @click.prevent="addChildBlock(newblock)" :title="newblock.title" role="button">\n                        <span>{{ newblock.title }}</span> <i v-if="newblock.icon" :class="\'fal fa-\'+newblock.icon+\' fa-fw\'"></i>\n                    </a>\n                </div>\n            </div>'}),O.component("child-blocks",{props:["field"],mixins:[T.mixin],data:function(){return{loading:!1}},components:{draggable:d.a,"tinymce-editor":S},methods:{deleteBlock:function(e){this.field.blocks.splice(this.field.blocks.indexOf(e),1)}},mounted:function(){console.log("mounted child blocks",this.field)},template:'<div class="child-blocks">\n                <div v-for="(block, blockIndex) in field.blocks" class="child-block">\n                    <tinymce-editor v-if="block.contentEditable && !block.template && block.tag" v-model="block.value" :init="$root.tinyInitInlineParagraph" :tag-name="block.tag"></tinymce-editor>\n                    <tinymce-editor v-if="block.contentEditable && !block.template && !block.tag" v-model="block.value" :init="$root.tinyInitInlineFreeText"></tinymce-editor>\n                    <keep-alive>\n                        <component v-if="!block.contentEditable" :block="block" :block-index="blockIndex" v-bind:is="block.name" />\n                    </keep-alive>\n                    <a class="remove-child-block" href="#" @click.prevent="deleteBlock(block)" >&times;</a>\n                </div>\n            </div>'});new O({el:"#block-editor",mixins:[T.mixin],data:function(){return{errors:[],saving:!1,loading:!1,blocks:[],showBlockPicker:!1,currentBlocks:[],tag:W,tinyInitInlineParagraph:{skin:"oxide-dark",menubar:!1,toolbar:!1,placeholder:"Start typing ...",plugins:["quickbars","anchor","link","placeholder","paste"],quickbars_insert_toolbar:!1,hidden_input:!1,inline:!0,paste_as_text:!0,quickbars_selection_toolbar:"bold italic underline quicklink anchor forecolor"},tinyInitInlineFreeText:{skin:"oxide-dark",menubar:!1,toolbar:!1,plugins:["quickbars","anchor","link","table","lists","hr","image","imagetools","paste"],quickbars_insert_toolbar:"formatselect | bullist numlist | image table tabledelete hr",hidden_input:!1,inline:!1,contextmenu:"link imagetools table",branding:!1,paste_as_text:!0,body_id:"block-editor",content_css:editorCss,file_picker_callback:function(e,t,n){var r="image"===n.filetype?"image":"file";$(r),window.addEventListener("message",(function(t){if("insert"===t.data.mceAction){var n=t.data.content.split("/").pop(),o="image"===r?{alt:""}:{text:n};e(t.data.content,o)}}))},quickbars_selection_toolbar:"bold italic underline bullist numlist | alignleft aligncenter alignright | image quicklink anchor forecolor"},tinyInitInlineHeading:{skin:"oxide-dark",menubar:!1,toolbar:!1,plugins:["quickbars","anchor","link","paste"],quickbars_insert_toolbar:!1,inline:!0,paste_as_text:!0,quickbars_selection_toolbar:"bold italic underline quicklink anchor forecolor"},tinyInitInlineBlockquote:{skin:"oxide-dark",menubar:!1,toolbar:!1,plugins:["quickbars","placeholder","paste"],placeholder:"Quote ...",quickbars_insert_toolbar:!1,inline:!0,paste_as_text:!0,quickbars_selection_toolbar:"bold italic underline"}}},components:{draggable:d.a,"tinymce-editor":S},computed:{blockContent:function(){return JSON.stringify(this.currentBlocks)}},methods:{appendBlock:function(e,t){this.showBlockPicker=!1;var n=this.synthId(),r={};r.id=n,r.tag=!!e.tag&&e.tag,r.template=!!e.template&&e.template,r.contentEditable=!!e.contentEditable&&e.contentEditable,r.value="",r.title=e.title,r.name=e.name,r.group=!!e.group&&e.group,r.icon=!!e.icon&&e.icon,r.field_groups=[],r.options=e.options?e.options:[];var o=e.fields?JSON.parse(JSON.stringify(e.fields)):[];o.forEach((function(e){void 0===e.allow_blocks&&(e.allow_blocks=!1),void 0===e.blocks&&(e.blocks=[])}));var i={fields:o,showBlockItemOptions:!1,options:void 0!==e.group_options?e.group_options:[]};r.field_groups.push(i),this.currentBlocks.splice(t+1,0,r)},removeBlock:function(e){var t=this.currentBlocks.indexOf(e);this.currentBlocks.splice(t,1)},addBlockGroup:function(e){var t=JSON.parse(JSON.stringify(e)).field_groups[0];t.showBlockItemOptions=!1,t.options.forEach((function(e){e.value=""})),t.fields.forEach((function(e){e.value="",e.blocks=[]})),e.field_groups.push(t)},closeBlockChooser:function(){this.showBlockPicker=!1},synthId:function(){return Math.random().toString(36).substr(2,9)}},mounted:function(){this.blocks="undefined"!=typeof blocks?blocks:[],this.currentBlocks="undefined"!=typeof currentBlocks?currentBlocks:[]}})}},function(e,t){},,,function(e,t){},,function(e,t){}]);
//# sourceMappingURL=app.js.map